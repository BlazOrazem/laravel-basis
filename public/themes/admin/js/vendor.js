if(function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";var n=[],i=e.document,r=Object.getPrototypeOf,o=n.slice,a=n.concat,s=n.push,l=n.indexOf,c={},d=c.toString,u=c.hasOwnProperty,h=u.toString,f=h.call(Object),p={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},g=function(e){return null!=e&&e===e.window},v={type:!0,src:!0,nonce:!0,noModule:!0};function y(e,t,n){var r,o,a=(n=n||i).createElement("script");if(a.text=e,t)for(r in v)(o=t[r]||t.getAttribute&&t.getAttribute(r))&&a.setAttribute(r,o);n.head.appendChild(a).parentNode.removeChild(a)}function b(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?c[d.call(e)]||"object":typeof e}var w="3.4.1",x=function(e,t){return new x.fn.init(e,t)},_=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function C(e){var t=!!e&&"length"in e&&e.length,n=b(e);return!m(e)&&!g(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}x.fn=x.prototype={jquery:w,constructor:x,length:0,toArray:function(){return o.call(this)},get:function(e){return null==e?o.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=x.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return x.each(this,e)},map:function(e){return this.pushStack(x.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},x.extend=x.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)i=e[t],"__proto__"!==t&&a!==i&&(c&&i&&(x.isPlainObject(i)||(r=Array.isArray(i)))?(n=a[t],o=r&&!Array.isArray(n)?[]:r||x.isPlainObject(n)?n:{},r=!1,a[t]=x.extend(c,o,i)):void 0!==i&&(a[t]=i));return a},x.extend({expando:"jQuery"+(w+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==d.call(e)||(t=r(e))&&("function"!=typeof(n=u.call(t,"constructor")&&t.constructor)||h.call(n)!==f))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t){y(e,{nonce:t&&t.nonce})},each:function(e,t){var n,i=0;if(C(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(_,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(C(Object(e))?x.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:l.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,a=!n;r<o;r++)!t(e[r],r)!==a&&i.push(e[r]);return i},map:function(e,t,n){var i,r,o=0,s=[];if(C(e))for(i=e.length;o<i;o++)null!=(r=t(e[o],o,n))&&s.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&s.push(r);return a.apply([],s)},guid:1,support:p}),"function"==typeof Symbol&&(x.fn[Symbol.iterator]=n[Symbol.iterator]),x.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){c["[object "+t+"]"]=t.toLowerCase()});var S=function(e){var t,n,i,r,o,a,s,l,c,d,u,h,f,p,m,g,v,y,b,w="sizzle"+1*new Date,x=e.document,_=0,C=0,S=le(),k=le(),T=le(),E=le(),D=function(e,t){return e===t&&(u=!0),0},N={}.hasOwnProperty,A=[],O=A.pop,I=A.push,R=A.push,P=A.slice,M=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},j="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",B="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",$="\\["+L+"*("+B+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+B+"))|)"+L+"*\\]",F=":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+$+")*)|.*)\\)|)",H=new RegExp(L+"+","g"),z=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),W=new RegExp("^"+L+"*,"+L+"*"),U=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),q=new RegExp(L+"|>"),V=new RegExp(F),Y=new RegExp("^"+B+"$"),X={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B+"|[*])"),ATTR:new RegExp("^"+$),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+j+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},G=/HTML$/i,K=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),ne=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},ie=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,re=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){h()},ae=we(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{R.apply(A=P.call(x.childNodes),x.childNodes),A[x.childNodes.length].nodeType}catch(t){R={apply:A.length?function(e,t){I.apply(e,P.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function se(e,t,i,r){var o,s,c,d,u,p,v,y=t&&t.ownerDocument,_=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==_&&9!==_&&11!==_)return i;if(!r&&((t?t.ownerDocument||t:x)!==f&&h(t),t=t||f,m)){if(11!==_&&(u=Z.exec(e)))if(o=u[1]){if(9===_){if(!(c=t.getElementById(o)))return i;if(c.id===o)return i.push(c),i}else if(y&&(c=y.getElementById(o))&&b(t,c)&&c.id===o)return i.push(c),i}else{if(u[2])return R.apply(i,t.getElementsByTagName(e)),i;if((o=u[3])&&n.getElementsByClassName&&t.getElementsByClassName)return R.apply(i,t.getElementsByClassName(o)),i}if(n.qsa&&!E[e+" "]&&(!g||!g.test(e))&&(1!==_||"object"!==t.nodeName.toLowerCase())){if(v=e,y=t,1===_&&q.test(e)){for((d=t.getAttribute("id"))?d=d.replace(ie,re):t.setAttribute("id",d=w),s=(p=a(e)).length;s--;)p[s]="#"+d+" "+be(p[s]);v=p.join(","),y=ee.test(e)&&ve(t.parentNode)||t}try{return R.apply(i,y.querySelectorAll(v)),i}catch(t){E(e,!0)}finally{d===w&&t.removeAttribute("id")}}}return l(e.replace(z,"$1"),t,i,r)}function le(){var e=[];return function t(n,r){return e.push(n+" ")>i.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function ce(e){return e[w]=!0,e}function de(e){var t=f.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ue(e,t){for(var n=e.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=t}function he(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function fe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function me(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ge(e){return ce(function(t){return t=+t,ce(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=se.support={},o=se.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!G.test(t||n&&n.nodeName||"HTML")},h=se.setDocument=function(e){var t,r,a=e?e.ownerDocument||e:x;return a!==f&&9===a.nodeType&&a.documentElement&&(p=(f=a).documentElement,m=!o(f),x!==f&&(r=f.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",oe,!1):r.attachEvent&&r.attachEvent("onunload",oe)),n.attributes=de(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=de(function(e){return e.appendChild(f.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Q.test(f.getElementsByClassName),n.getById=de(function(e){return p.appendChild(e).id=w,!f.getElementsByName||!f.getElementsByName(w).length}),n.getById?(i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}}):(i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n,i,r,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(r=t.getElementsByName(e),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},v=[],g=[],(n.qsa=Q.test(f.querySelectorAll))&&(de(function(e){p.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+L+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+L+"*(?:value|"+j+")"),e.querySelectorAll("[id~="+w+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||g.push(".#.+[+~]")}),de(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=f.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+L+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(n.matchesSelector=Q.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&de(function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),v.push("!=",F)}),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=Q.test(p.compareDocumentPosition),b=t||Q.test(p.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},D=t?function(e,t){if(e===t)return u=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===i?e===f||e.ownerDocument===x&&b(x,e)?-1:t===f||t.ownerDocument===x&&b(x,t)?1:d?M(d,e)-M(d,t):0:4&i?-1:1)}:function(e,t){if(e===t)return u=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!r||!o)return e===f?-1:t===f?1:r?-1:o?1:d?M(d,e)-M(d,t):0;if(r===o)return he(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?he(a[i],s[i]):a[i]===x?-1:s[i]===x?1:0}),f},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f&&h(e),n.matchesSelector&&m&&!E[t+" "]&&(!v||!v.test(t))&&(!g||!g.test(t)))try{var i=y.call(e,t);if(i||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){E(t,!0)}return 0<se(t,f,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!==f&&h(e),b(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!==f&&h(e);var r=i.attrHandle[t.toLowerCase()],o=r&&N.call(i.attrHandle,t.toLowerCase())?r(e,t,!m):void 0;return void 0!==o?o:n.attributes||!m?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},se.escape=function(e){return(e+"").replace(ie,re)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,i=[],r=0,o=0;if(u=!n.detectDuplicates,d=!n.sortStable&&e.slice(0),e.sort(D),u){for(;t=e[o++];)t===e[o]&&(r=i.push(o));for(;r--;)e.splice(i[r],1)}return d=null,e},r=se.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=r(t);return n},(i=se.selectors={cacheLength:50,createPseudo:ce,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&V.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|"+L+")"+e+"("+L+"|$)"))&&S(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var r=se.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&-1<r.indexOf(n):"$="===t?n&&r.slice(-n.length)===n:"~="===t?-1<(" "+r.replace(H," ")+" ").indexOf(n):"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,d,u,h,f,p,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(g){if(o){for(;m;){for(h=t;h=h[m];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){for(b=(f=(c=(d=(u=(h=g)[w]||(h[w]={}))[h.uniqueID]||(u[h.uniqueID]={}))[e]||[])[0]===_&&c[1])&&c[2],h=f&&g.childNodes[f];h=++f&&h&&h[m]||(b=f=0)||p.pop();)if(1===h.nodeType&&++b&&h===t){d[e]=[_,f,b];break}}else if(y&&(b=f=(c=(d=(u=(h=t)[w]||(h[w]={}))[h.uniqueID]||(u[h.uniqueID]={}))[e]||[])[0]===_&&c[1]),!1===b)for(;(h=++f&&h&&h[m]||(b=f=0)||p.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++b||(y&&((d=(u=h[w]||(h[w]={}))[h.uniqueID]||(u[h.uniqueID]={}))[e]=[_,b]),h!==t)););return(b-=r)===i||b%i==0&&0<=b/i}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return r[w]?r(t):1<r.length?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?ce(function(e,n){for(var i,o=r(e,t),a=o.length;a--;)e[i=M(e,o[a])]=!(n[i]=o[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:ce(function(e){var t=[],n=[],i=s(e.replace(z,"$1"));return i[w]?ce(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:ce(function(e){return function(t){return 0<se(e,t).length}}),contains:ce(function(e){return e=e.replace(te,ne),function(t){return-1<(t.textContent||r(t)).indexOf(e)}}),lang:ce(function(e){return Y.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:me(!1),disabled:me(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return K.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ge(function(){return[0]}),last:ge(function(e,t){return[t-1]}),eq:ge(function(e,t,n){return[n<0?n+t:n]}),even:ge(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ge(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ge(function(e,t,n){for(var i=n<0?n+t:t<n?t:n;0<=--i;)e.push(i);return e}),gt:ge(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=fe(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=pe(t);function ye(){}function be(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function we(e,t,n){var i=t.dir,r=t.next,o=r||i,a=n&&"parentNode"===o,s=C++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||a)return e(t,n,r);return!1}:function(t,n,l){var c,d,u,h=[_,s];if(l){for(;t=t[i];)if((1===t.nodeType||a)&&e(t,n,l))return!0}else for(;t=t[i];)if(1===t.nodeType||a)if(d=(u=t[w]||(t[w]={}))[t.uniqueID]||(u[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[i]||t;else{if((c=d[o])&&c[0]===_&&c[1]===s)return h[2]=c[2];if((d[o]=h)[2]=e(t,n,l))return!0}return!1}}function xe(e){return 1<e.length?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function _e(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,i,r)||(a.push(o),c&&t.push(s)));return a}function Ce(e,t,n,i,r,o){return i&&!i[w]&&(i=Ce(i)),r&&!r[w]&&(r=Ce(r,o)),ce(function(o,a,s,l){var c,d,u,h=[],f=[],p=a.length,m=o||function(e,t,n){for(var i=0,r=t.length;i<r;i++)se(e,t[i],n);return n}(t||"*",s.nodeType?[s]:s,[]),g=!e||!o&&t?m:_e(m,h,e,s,l),v=n?r||(o?e:p||i)?[]:a:g;if(n&&n(g,v,s,l),i)for(c=_e(v,f),i(c,[],s,l),d=c.length;d--;)(u=c[d])&&(v[f[d]]=!(g[f[d]]=u));if(o){if(r||e){if(r){for(c=[],d=v.length;d--;)(u=v[d])&&c.push(g[d]=u);r(null,v=[],c,l)}for(d=v.length;d--;)(u=v[d])&&-1<(c=r?M(o,u):h[d])&&(o[c]=!(a[c]=u))}}else v=_e(v===a?v.splice(p,v.length):v),r?r(null,a,v,l):R.apply(a,v)})}function Se(e){for(var t,n,r,o=e.length,a=i.relative[e[0].type],s=a||i.relative[" "],l=a?1:0,d=we(function(e){return e===t},s,!0),u=we(function(e){return-1<M(t,e)},s,!0),h=[function(e,n,i){var r=!a&&(i||n!==c)||((t=n).nodeType?d(e,n,i):u(e,n,i));return t=null,r}];l<o;l++)if(n=i.relative[e[l].type])h=[we(xe(h),n)];else{if((n=i.filter[e[l].type].apply(null,e[l].matches))[w]){for(r=++l;r<o&&!i.relative[e[r].type];r++);return Ce(1<l&&xe(h),1<l&&be(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(z,"$1"),n,l<r&&Se(e.slice(l,r)),r<o&&Se(e=e.slice(r)),r<o&&be(e))}h.push(n)}return xe(h)}return ye.prototype=i.filters=i.pseudos,i.setFilters=new ye,a=se.tokenize=function(e,t){var n,r,o,a,s,l,c,d=k[e+" "];if(d)return t?0:d.slice(0);for(s=e,l=[],c=i.preFilter;s;){for(a in n&&!(r=W.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),n=!1,(r=U.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace(z," ")}),s=s.slice(n.length)),i.filter)!(r=X[a].exec(s))||c[a]&&!(r=c[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?se.error(e):k(e,l).slice(0)},s=se.compile=function(e,t){var n,r,o,s,l,d,u=[],p=[],g=T[e+" "];if(!g){for(t||(t=a(e)),n=t.length;n--;)(g=Se(t[n]))[w]?u.push(g):p.push(g);(g=T(e,(r=p,s=0<(o=u).length,l=0<r.length,d=function(e,t,n,a,d){var u,p,g,v=0,y="0",b=e&&[],w=[],x=c,C=e||l&&i.find.TAG("*",d),S=_+=null==x?1:Math.random()||.1,k=C.length;for(d&&(c=t===f||t||d);y!==k&&null!=(u=C[y]);y++){if(l&&u){for(p=0,t||u.ownerDocument===f||(h(u),n=!m);g=r[p++];)if(g(u,t||f,n)){a.push(u);break}d&&(_=S)}s&&((u=!g&&u)&&v--,e&&b.push(u))}if(v+=y,s&&y!==v){for(p=0;g=o[p++];)g(b,w,t,n);if(e){if(0<v)for(;y--;)b[y]||w[y]||(w[y]=O.call(a));w=_e(w)}R.apply(a,w),d&&!e&&0<w.length&&1<v+o.length&&se.uniqueSort(a)}return d&&(_=S,c=x),b},s?ce(d):d))).selector=e}return g},l=se.select=function(e,t,n,r){var o,l,c,d,u,h="function"==typeof e&&e,f=!r&&a(e=h.selector||e);if(n=n||[],1===f.length){if(2<(l=f[0]=f[0].slice(0)).length&&"ID"===(c=l[0]).type&&9===t.nodeType&&m&&i.relative[l[1].type]){if(!(t=(i.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return n;h&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(o=X.needsContext.test(e)?0:l.length;o--&&(c=l[o],!i.relative[d=c.type]);)if((u=i.find[d])&&(r=u(c.matches[0].replace(te,ne),ee.test(l[0].type)&&ve(t.parentNode)||t))){if(l.splice(o,1),!(e=r.length&&be(l)))return R.apply(n,r),n;break}}return(h||s(e,f))(r,t,!m,n,!t||ee.test(e)&&ve(t.parentNode)||t),n},n.sortStable=w.split("").sort(D).join("")===w,n.detectDuplicates=!!u,h(),n.sortDetached=de(function(e){return 1&e.compareDocumentPosition(f.createElement("fieldset"))}),de(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ue("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&de(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ue("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),de(function(e){return null==e.getAttribute("disabled")})||ue(j,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),se}(e);x.find=S,x.expr=S.selectors,x.expr[":"]=x.expr.pseudos,x.uniqueSort=x.unique=S.uniqueSort,x.text=S.getText,x.isXMLDoc=S.isXML,x.contains=S.contains,x.escapeSelector=S.escape;var k=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&x(e).is(n))break;i.push(e)}return i},T=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},E=x.expr.match.needsContext;function D(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function A(e,t,n){return m(t)?x.grep(e,function(e,i){return!!t.call(e,i,e)!==n}):t.nodeType?x.grep(e,function(e){return e===t!==n}):"string"!=typeof t?x.grep(e,function(e){return-1<l.call(t,e)!==n}):x.filter(t,e,n)}x.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?x.find.matchesSelector(i,e)?[i]:[]:x.find.matches(e,x.grep(t,function(e){return 1===e.nodeType}))},x.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(x(e).filter(function(){for(t=0;t<i;t++)if(x.contains(r[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)x.find(e,r[t],n);return 1<i?x.uniqueSort(n):n},filter:function(e){return this.pushStack(A(this,e||[],!1))},not:function(e){return this.pushStack(A(this,e||[],!0))},is:function(e){return!!A(this,"string"==typeof e&&E.test(e)?x(e):e||[],!1).length}});var O,I=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(x.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||O,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:I.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof x?t[0]:t,x.merge(this,x.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:i,!0)),N.test(r[1])&&x.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(o=i.getElementById(r[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(x):x.makeArray(e,this)}).prototype=x.fn,O=x(i);var R=/^(?:parents|prev(?:Until|All))/,P={children:!0,contents:!0,next:!0,prev:!0};function M(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}x.fn.extend({has:function(e){var t=x(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(x.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,r=this.length,o=[],a="string"!=typeof e&&x(e);if(!E.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&x.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?x.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?l.call(x(e),this[0]):l.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(x.uniqueSort(x.merge(this.get(),x(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),x.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return k(e,"parentNode")},parentsUntil:function(e,t,n){return k(e,"parentNode",n)},next:function(e){return M(e,"nextSibling")},prev:function(e){return M(e,"previousSibling")},nextAll:function(e){return k(e,"nextSibling")},prevAll:function(e){return k(e,"previousSibling")},nextUntil:function(e,t,n){return k(e,"nextSibling",n)},prevUntil:function(e,t,n){return k(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return void 0!==e.contentDocument?e.contentDocument:(D(e,"template")&&(e=e.content||e),x.merge([],e.childNodes))}},function(e,t){x.fn[e]=function(n,i){var r=x.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=x.filter(i,r)),1<this.length&&(P[e]||x.uniqueSort(r),R.test(e)&&r.reverse()),this.pushStack(r)}});var j=/[^\x20\t\r\n\f]+/g;function L(e){return e}function B(e){throw e}function $(e,t,n,i){var r;try{e&&m(r=e.promise)?r.call(e).done(t).fail(n):e&&m(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}x.Callbacks=function(e){var t,n;e="string"==typeof e?(t=e,n={},x.each(t.match(j)||[],function(e,t){n[t]=!0}),n):x.extend({},e);var i,r,o,a,s=[],l=[],c=-1,d=function(){for(a=a||e.once,o=i=!0;l.length;c=-1)for(r=l.shift();++c<s.length;)!1===s[c].apply(r[0],r[1])&&e.stopOnFalse&&(c=s.length,r=!1);e.memory||(r=!1),i=!1,a&&(s=r?[]:"")},u={add:function(){return s&&(r&&!i&&(c=s.length-1,l.push(r)),function t(n){x.each(n,function(n,i){m(i)?e.unique&&u.has(i)||s.push(i):i&&i.length&&"string"!==b(i)&&t(i)})}(arguments),r&&!i&&d()),this},remove:function(){return x.each(arguments,function(e,t){for(var n;-1<(n=x.inArray(t,s,n));)s.splice(n,1),n<=c&&c--}),this},has:function(e){return e?-1<x.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=l=[],s=r="",this},disabled:function(){return!s},lock:function(){return a=l=[],r||i||(s=r=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],l.push(t),i||d()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!o}};return u},x.extend({Deferred:function(t){var n=[["notify","progress",x.Callbacks("memory"),x.Callbacks("memory"),2],["resolve","done",x.Callbacks("once memory"),x.Callbacks("once memory"),0,"resolved"],["reject","fail",x.Callbacks("once memory"),x.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return x.Deferred(function(t){x.each(n,function(n,i){var r=m(e[i[4]])&&e[i[4]];o[i[1]](function(){var e=r&&r.apply(this,arguments);e&&m(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[i[0]+"With"](this,r?[e]:arguments)})}),e=null}).promise()},then:function(t,i,r){var o=0;function a(t,n,i,r){return function(){var s=this,l=arguments,c=function(){var e,c;if(!(t<o)){if((e=i.apply(s,l))===n.promise())throw new TypeError("Thenable self-resolution");c=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(c)?r?c.call(e,a(o,n,L,r),a(o,n,B,r)):(o++,c.call(e,a(o,n,L,r),a(o,n,B,r),a(o,n,L,n.notifyWith))):(i!==L&&(s=void 0,l=[e]),(r||n.resolveWith)(s,l))}},d=r?c:function(){try{c()}catch(e){x.Deferred.exceptionHook&&x.Deferred.exceptionHook(e,d.stackTrace),o<=t+1&&(i!==B&&(s=void 0,l=[e]),n.rejectWith(s,l))}};t?d():(x.Deferred.getStackHook&&(d.stackTrace=x.Deferred.getStackHook()),e.setTimeout(d))}}return x.Deferred(function(e){n[0][3].add(a(0,e,m(r)?r:L,e.notifyWith)),n[1][3].add(a(0,e,m(t)?t:L)),n[2][3].add(a(0,e,m(i)?i:B))}).promise()},promise:function(e){return null!=e?x.extend(e,r):r}},o={};return x.each(n,function(e,t){var a=t[2],s=t[5];r[t[1]]=a.add,s&&a.add(function(){i=s},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),r.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,i=Array(n),r=o.call(arguments),a=x.Deferred(),s=function(e){return function(n){i[e]=this,r[e]=1<arguments.length?o.call(arguments):n,--t||a.resolveWith(i,r)}};if(t<=1&&($(e,a.done(s(n)).resolve,a.reject,!t),"pending"===a.state()||m(r[n]&&r[n].then)))return a.then();for(;n--;)$(r[n],s(n),a.reject);return a.promise()}});var F=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;x.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&F.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},x.readyException=function(t){e.setTimeout(function(){throw t})};var H=x.Deferred();function z(){i.removeEventListener("DOMContentLoaded",z),e.removeEventListener("load",z),x.ready()}x.fn.ready=function(e){return H.then(e).catch(function(e){x.readyException(e)}),this},x.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--x.readyWait:x.isReady)||(x.isReady=!0)!==e&&0<--x.readyWait||H.resolveWith(i,[x])}}),x.ready.then=H.then,"complete"===i.readyState||"loading"!==i.readyState&&!i.documentElement.doScroll?e.setTimeout(x.ready):(i.addEventListener("DOMContentLoaded",z),e.addEventListener("load",z));var W=function(e,t,n,i,r,o,a){var s=0,l=e.length,c=null==n;if("object"===b(n))for(s in r=!0,n)W(e,t,s,n[s],!0,o,a);else if(void 0!==i&&(r=!0,m(i)||(a=!0),c&&(a?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(x(e),n)})),t))for(;s<l;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:c?t.call(e):l?t(e[0],n):o},U=/^-ms-/,q=/-([a-z])/g;function V(e,t){return t.toUpperCase()}function Y(e){return e.replace(U,"ms-").replace(q,V)}var X=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=x.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},X(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[Y(t)]=n;else for(i in t)r[Y(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][Y(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(Y):(t=Y(t))in i?[t]:t.match(j)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||x.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!x.isEmptyObject(t)}};var K=new G,J=new G,Q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Z=/[A-Z]/g;function ee(e,t,n){var i,r;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(Z,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n="true"===(r=n)||"false"!==r&&("null"===r?null:r===+r+""?+r:Q.test(r)?JSON.parse(r):r)}catch(e){}J.set(e,t,n)}else n=void 0;return n}x.extend({hasData:function(e){return J.hasData(e)||K.hasData(e)},data:function(e,t,n){return J.access(e,t,n)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,n){return K.access(e,t,n)},_removeData:function(e,t){K.remove(e,t)}}),x.fn.extend({data:function(e,t){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=J.get(o),1===o.nodeType&&!K.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&(i=Y(i.slice(5)),ee(o,i,r[i]));K.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){J.set(this,e)}):W(this,function(t){var n;if(o&&void 0===t)return void 0!==(n=J.get(o,e))?n:void 0!==(n=ee(o,e))?n:void 0;this.each(function(){J.set(this,e,t)})},null,t,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){J.remove(this,e)})}}),x.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=K.get(e,t),n&&(!i||Array.isArray(n)?i=K.access(e,t,x.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=x.queue(e,t),i=n.length,r=n.shift(),o=x._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,function(){x.dequeue(e,t)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return K.get(e,n)||K.access(e,n,{empty:x.Callbacks("once memory").add(function(){K.remove(e,[t+"queue",n])})})}}),x.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?x.queue(this[0],e):void 0===t?this:this.each(function(){var n=x.queue(this,e,t);x._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&x.dequeue(this,e)})},dequeue:function(e){return this.each(function(){x.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=x.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=K.get(o[a],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var te=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ne=new RegExp("^(?:([+-])=|)("+te+")([a-z%]*)$","i"),ie=["Top","Right","Bottom","Left"],re=i.documentElement,oe=function(e){return x.contains(e.ownerDocument,e)},ae={composed:!0};re.getRootNode&&(oe=function(e){return x.contains(e.ownerDocument,e)||e.getRootNode(ae)===e.ownerDocument});var se=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&oe(e)&&"none"===x.css(e,"display")},le=function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in r=n.apply(e,i||[]),t)e.style[o]=a[o];return r};function ce(e,t,n,i){var r,o,a=20,s=i?function(){return i.cur()}:function(){return x.css(e,t,"")},l=s(),c=n&&n[3]||(x.cssNumber[t]?"":"px"),d=e.nodeType&&(x.cssNumber[t]||"px"!==c&&+l)&&ne.exec(x.css(e,t));if(d&&d[3]!==c){for(l/=2,c=c||d[3],d=+l||1;a--;)x.style(e,t,d+c),(1-o)*(1-(o=s()/l||.5))<=0&&(a=0),d/=o;d*=2,x.style(e,t,d+c),n=n||[]}return n&&(d=+d||+l||0,r=n[1]?d+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=d,i.end=r)),r}var de={};function ue(e,t){for(var n,i,r,o,a,s,l,c=[],d=0,u=e.length;d<u;d++)(i=e[d]).style&&(n=i.style.display,t?("none"===n&&(c[d]=K.get(i,"display")||null,c[d]||(i.style.display="")),""===i.style.display&&se(i)&&(c[d]=(l=a=o=void 0,a=(r=i).ownerDocument,s=r.nodeName,(l=de[s])||(o=a.body.appendChild(a.createElement(s)),l=x.css(o,"display"),o.parentNode.removeChild(o),"none"===l&&(l="block"),de[s]=l)))):"none"!==n&&(c[d]="none",K.set(i,"display",n)));for(d=0;d<u;d++)null!=c[d]&&(e[d].style.display=c[d]);return e}x.fn.extend({show:function(){return ue(this,!0)},hide:function(){return ue(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){se(this)?x(this).show():x(this).hide()})}});var he=/^(?:checkbox|radio)$/i,fe=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,pe=/^$|^module$|\/(?:java|ecma)script/i,me={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ge(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&D(e,t)?x.merge([e],n):n}function ve(e,t){for(var n=0,i=e.length;n<i;n++)K.set(e[n],"globalEval",!t||K.get(t[n],"globalEval"))}me.optgroup=me.option,me.tbody=me.tfoot=me.colgroup=me.caption=me.thead,me.th=me.td;var ye,be,we=/<|&#?\w+;/;function xe(e,t,n,i,r){for(var o,a,s,l,c,d,u=t.createDocumentFragment(),h=[],f=0,p=e.length;f<p;f++)if((o=e[f])||0===o)if("object"===b(o))x.merge(h,o.nodeType?[o]:o);else if(we.test(o)){for(a=a||u.appendChild(t.createElement("div")),s=(fe.exec(o)||["",""])[1].toLowerCase(),l=me[s]||me._default,a.innerHTML=l[1]+x.htmlPrefilter(o)+l[2],d=l[0];d--;)a=a.lastChild;x.merge(h,a.childNodes),(a=u.firstChild).textContent=""}else h.push(t.createTextNode(o));for(u.textContent="",f=0;o=h[f++];)if(i&&-1<x.inArray(o,i))r&&r.push(o);else if(c=oe(o),a=ge(u.appendChild(o),"script"),c&&ve(a),n)for(d=0;o=a[d++];)pe.test(o.type||"")&&n.push(o);return u}ye=i.createDocumentFragment().appendChild(i.createElement("div")),(be=i.createElement("input")).setAttribute("type","radio"),be.setAttribute("checked","checked"),be.setAttribute("name","t"),ye.appendChild(be),p.checkClone=ye.cloneNode(!0).cloneNode(!0).lastChild.checked,ye.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!ye.cloneNode(!0).lastChild.defaultValue;var _e=/^key/,Ce=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Se=/^([^.]*)(?:\.(.+)|)/;function ke(){return!0}function Te(){return!1}function Ee(e,t){return e===function(){try{return i.activeElement}catch(e){}}()==("focus"===t)}function De(e,t,n,i,r,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(i=i||n,n=void 0),t)De(e,s,n,i,t[s],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Te;else if(!r)return e;return 1===o&&(a=r,(r=function(e){return x().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=x.guid++)),e.each(function(){x.event.add(this,t,r,i,n)})}function Ne(e,t,n){n?(K.set(e,t,!1),x.event.add(e,t,{namespace:!1,handler:function(e){var i,r,a=K.get(this,t);if(1&e.isTrigger&&this[t]){if(a.length)(x.event.special[t]||{}).delegateType&&e.stopPropagation();else if(a=o.call(arguments),K.set(this,t,a),i=n(this,t),this[t](),a!==(r=K.get(this,t))||i?K.set(this,t,!1):r={},a!==r)return e.stopImmediatePropagation(),e.preventDefault(),r.value}else a.length&&(K.set(this,t,{value:x.event.trigger(x.extend(a[0],x.Event.prototype),a.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===K.get(e,t)&&x.event.add(e,t,ke)}x.event={global:{},add:function(e,t,n,i,r){var o,a,s,l,c,d,u,h,f,p,m,g=K.get(e);if(g)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&x.find.matchesSelector(re,r),n.guid||(n.guid=x.guid++),(l=g.events)||(l=g.events={}),(a=g.handle)||(a=g.handle=function(t){return void 0!==x&&x.event.triggered!==t.type?x.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(j)||[""]).length;c--;)f=m=(s=Se.exec(t[c])||[])[1],p=(s[2]||"").split(".").sort(),f&&(u=x.event.special[f]||{},f=(r?u.delegateType:u.bindType)||f,u=x.event.special[f]||{},d=x.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&x.expr.match.needsContext.test(r),namespace:p.join(".")},o),(h=l[f])||((h=l[f]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,i,p,a)||e.addEventListener&&e.addEventListener(f,a)),u.add&&(u.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,d):h.push(d),x.event.global[f]=!0)},remove:function(e,t,n,i,r){var o,a,s,l,c,d,u,h,f,p,m,g=K.hasData(e)&&K.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(j)||[""]).length;c--;)if(f=m=(s=Se.exec(t[c])||[])[1],p=(s[2]||"").split(".").sort(),f){for(u=x.event.special[f]||{},h=l[f=(i?u.delegateType:u.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)d=h[o],!r&&m!==d.origType||n&&n.guid!==d.guid||s&&!s.test(d.namespace)||i&&i!==d.selector&&("**"!==i||!d.selector)||(h.splice(o,1),d.selector&&h.delegateCount--,u.remove&&u.remove.call(e,d));a&&!h.length&&(u.teardown&&!1!==u.teardown.call(e,p,g.handle)||x.removeEvent(e,f,g.handle),delete l[f])}else for(f in l)x.event.remove(e,f+t[c],n,i,!0);x.isEmptyObject(l)&&K.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,o,a,s=x.event.fix(e),l=new Array(arguments.length),c=(K.get(this,"events")||{})[s.type]||[],d=x.event.special[s.type]||{};for(l[0]=s,t=1;t<arguments.length;t++)l[t]=arguments[t];if(s.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,s)){for(a=x.event.handlers.call(this,s,c),t=0;(r=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==o.namespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(i=((x.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))&&!1===(s.result=i)&&(s.preventDefault(),s.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,i,r,o,a,s=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&1<=e.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],a={},n=0;n<l;n++)void 0===a[r=(i=t[n]).selector+" "]&&(a[r]=i.needsContext?-1<x(r,this).index(c):x.find(r,this,null,[c]).length),a[r]&&o.push(i);o.length&&s.push({elem:c,handlers:o})}return c=this,l<t.length&&s.push({elem:c,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(x.Event.prototype,e,{enumerable:!0,configurable:!0,get:m(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[x.expando]?e:new x.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return he.test(t.type)&&t.click&&D(t,"input")&&Ne(t,"click",ke),!1},trigger:function(e){var t=this||e;return he.test(t.type)&&t.click&&D(t,"input")&&Ne(t,"click"),!0},_default:function(e){var t=e.target;return he.test(t.type)&&t.click&&D(t,"input")&&K.get(t,"click")||D(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},x.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},x.Event=function(e,t){if(!(this instanceof x.Event))return new x.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ke:Te,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&x.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[x.expando]=!0},x.Event.prototype={constructor:x.Event,isDefaultPrevented:Te,isPropagationStopped:Te,isImmediatePropagationStopped:Te,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ke,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ke,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ke,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},x.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&_e.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ce.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},x.event.addProp),x.each({focus:"focusin",blur:"focusout"},function(e,t){x.event.special[e]={setup:function(){return Ne(this,e,Ee),!1},trigger:function(){return Ne(this,e),!0},delegateType:t}}),x.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){x.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=e.relatedTarget,r=e.handleObj;return i&&(i===this||x.contains(this,i))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),x.fn.extend({on:function(e,t,n,i){return De(this,e,t,n,i)},one:function(e,t,n,i){return De(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,x(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Te),this.each(function(){x.event.remove(this,e,n,t)})}});var Ae=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Oe=/<script|<style|<link/i,Ie=/checked\s*(?:[^=]|=\s*.checked.)/i,Re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Pe(e,t){return D(e,"table")&&D(11!==t.nodeType?t:t.firstChild,"tr")&&x(e).children("tbody")[0]||e}function Me(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function je(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Le(e,t){var n,i,r,o,a,s,l,c;if(1===t.nodeType){if(K.hasData(e)&&(o=K.access(e),a=K.set(t,o),c=o.events))for(r in delete a.handle,a.events={},c)for(n=0,i=c[r].length;n<i;n++)x.event.add(t,r,c[r][n]);J.hasData(e)&&(s=J.access(e),l=x.extend({},s),J.set(t,l))}}function Be(e,t,n,i){t=a.apply([],t);var r,o,s,l,c,d,u=0,h=e.length,f=h-1,g=t[0],v=m(g);if(v||1<h&&"string"==typeof g&&!p.checkClone&&Ie.test(g))return e.each(function(r){var o=e.eq(r);v&&(t[0]=g.call(this,r,o.html())),Be(o,t,n,i)});if(h&&(o=(r=xe(t,e[0].ownerDocument,!1,e,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(l=(s=x.map(ge(r,"script"),Me)).length;u<h;u++)c=r,u!==f&&(c=x.clone(c,!0,!0),l&&x.merge(s,ge(c,"script"))),n.call(e[u],c,u);if(l)for(d=s[s.length-1].ownerDocument,x.map(s,je),u=0;u<l;u++)c=s[u],pe.test(c.type||"")&&!K.access(c,"globalEval")&&x.contains(d,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?x._evalUrl&&!c.noModule&&x._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")}):y(c.textContent.replace(Re,""),c,d))}return e}function $e(e,t,n){for(var i,r=t?x.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||x.cleanData(ge(i)),i.parentNode&&(n&&oe(i)&&ve(ge(i,"script")),i.parentNode.removeChild(i));return e}x.extend({htmlPrefilter:function(e){return e.replace(Ae,"<$1></$2>")},clone:function(e,t,n){var i,r,o,a,s,l,c,d=e.cloneNode(!0),u=oe(e);if(!(p.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||x.isXMLDoc(e)))for(a=ge(d),i=0,r=(o=ge(e)).length;i<r;i++)s=o[i],"input"===(c=(l=a[i]).nodeName.toLowerCase())&&he.test(s.type)?l.checked=s.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ge(e),a=a||ge(d),i=0,r=o.length;i<r;i++)Le(o[i],a[i]);else Le(e,d);return 0<(a=ge(d,"script")).length&&ve(a,!u&&ge(e,"script")),d},cleanData:function(e){for(var t,n,i,r=x.event.special,o=0;void 0!==(n=e[o]);o++)if(X(n)){if(t=n[K.expando]){if(t.events)for(i in t.events)r[i]?x.event.remove(n,i):x.removeEvent(n,i,t.handle);n[K.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),x.fn.extend({detach:function(e){return $e(this,e,!0)},remove:function(e){return $e(this,e)},text:function(e){return W(this,function(e){return void 0===e?x.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Be(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Pe(this,e).appendChild(e)})},prepend:function(){return Be(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Pe(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Be(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Be(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(x.cleanData(ge(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return x.clone(this,e,t)})},html:function(e){return W(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Oe.test(e)&&!me[(fe.exec(e)||["",""])[1].toLowerCase()]){e=x.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(x.cleanData(ge(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Be(this,arguments,function(t){var n=this.parentNode;x.inArray(this,e)<0&&(x.cleanData(ge(this)),n&&n.replaceChild(t,this))},e)}}),x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){x.fn[e]=function(e){for(var n,i=[],r=x(e),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),x(r[a])[t](n),s.apply(i,n.get());return this.pushStack(i)}});var Fe=new RegExp("^("+te+")(?!px)[a-z%]+$","i"),He=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},ze=new RegExp(ie.join("|"),"i");function We(e,t,n){var i,r,o,a,s=e.style;return(n=n||He(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||oe(e)||(a=x.style(e,t)),!p.pixelBoxStyles()&&Fe.test(a)&&ze.test(t)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function Ue(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(d){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",d.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(c).appendChild(d);var t=e.getComputedStyle(d);r="1%"!==t.top,l=12===n(t.marginLeft),d.style.right="60%",s=36===n(t.right),o=36===n(t.width),d.style.position="absolute",a=12===n(d.offsetWidth/3),re.removeChild(c),d=null}}function n(e){return Math.round(parseFloat(e))}var r,o,a,s,l,c=i.createElement("div"),d=i.createElement("div");d.style&&(d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===d.style.backgroundClip,x.extend(p,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),a}}))}();var qe=["Webkit","Moz","ms"],Ve=i.createElement("div").style,Ye={};function Xe(e){return x.cssProps[e]||Ye[e]||(e in Ve?e:Ye[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=qe.length;n--;)if((e=qe[n]+t)in Ve)return e}(e)||e)}var Ge=/^(none|table(?!-c[ea]).+)/,Ke=/^--/,Je={position:"absolute",visibility:"hidden",display:"block"},Qe={letterSpacing:"0",fontWeight:"400"};function Ze(e,t,n){var i=ne.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function et(e,t,n,i,r,o){var a="width"===t?1:0,s=0,l=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=x.css(e,n+ie[a],!0,r)),i?("content"===n&&(l-=x.css(e,"padding"+ie[a],!0,r)),"margin"!==n&&(l-=x.css(e,"border"+ie[a]+"Width",!0,r))):(l+=x.css(e,"padding"+ie[a],!0,r),"padding"!==n?l+=x.css(e,"border"+ie[a]+"Width",!0,r):s+=x.css(e,"border"+ie[a]+"Width",!0,r));return!i&&0<=o&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-s-.5))||0),l}function tt(e,t,n){var i=He(e),r=(!p.boxSizingReliable()||n)&&"border-box"===x.css(e,"boxSizing",!1,i),o=r,a=We(e,t,i),s="offset"+t[0].toUpperCase()+t.slice(1);if(Fe.test(a)){if(!n)return a;a="auto"}return(!p.boxSizingReliable()&&r||"auto"===a||!parseFloat(a)&&"inline"===x.css(e,"display",!1,i))&&e.getClientRects().length&&(r="border-box"===x.css(e,"boxSizing",!1,i),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+et(e,t,n||(r?"border":"content"),o,i,a)+"px"}function nt(e,t,n,i,r){return new nt.prototype.init(e,t,n,i,r)}x.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=We(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=Y(t),l=Ke.test(t),c=e.style;if(l||(t=Xe(s)),a=x.cssHooks[t]||x.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:c[t];"string"==(o=typeof n)&&(r=ne.exec(n))&&r[1]&&(n=ce(e,t,r),o="number"),null!=n&&n==n&&("number"!==o||l||(n+=r&&r[3]||(x.cssNumber[s]?"":"px")),p.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,i){var r,o,a,s=Y(t);return Ke.test(t)||(t=Xe(s)),(a=x.cssHooks[t]||x.cssHooks[s])&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=We(e,t,i)),"normal"===r&&t in Qe&&(r=Qe[t]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),x.each(["height","width"],function(e,t){x.cssHooks[t]={get:function(e,n,i){if(n)return!Ge.test(x.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?tt(e,t,i):le(e,Je,function(){return tt(e,t,i)})},set:function(e,n,i){var r,o=He(e),a=!p.scrollboxSize()&&"absolute"===o.position,s=(a||i)&&"border-box"===x.css(e,"boxSizing",!1,o),l=i?et(e,t,i,s,o):0;return s&&a&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-et(e,t,"border",!1,o)-.5)),l&&(r=ne.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=x.css(e,t)),Ze(0,n,l)}}}),x.cssHooks.marginLeft=Ue(p.reliableMarginLeft,function(e,t){if(t)return(parseFloat(We(e,"marginLeft"))||e.getBoundingClientRect().left-le(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),x.each({margin:"",padding:"",border:"Width"},function(e,t){x.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+ie[i]+t]=o[i]||o[i-2]||o[0];return r}},"margin"!==e&&(x.cssHooks[e+t].set=Ze)}),x.fn.extend({css:function(e,t){return W(this,function(e,t,n){var i,r,o={},a=0;if(Array.isArray(t)){for(i=He(e),r=t.length;a<r;a++)o[t[a]]=x.css(e,t[a],!1,i);return o}return void 0!==n?x.style(e,t,n):x.css(e,t)},e,t,1<arguments.length)}}),((x.Tween=nt).prototype={constructor:nt,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||x.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(x.cssNumber[n]?"":"px")},cur:function(){var e=nt.propHooks[this.prop];return e&&e.get?e.get(this):nt.propHooks._default.get(this)},run:function(e){var t,n=nt.propHooks[this.prop];return this.options.duration?this.pos=t=x.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):nt.propHooks._default.set(this),this}}).init.prototype=nt.prototype,(nt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=x.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){x.fx.step[e.prop]?x.fx.step[e.prop](e):1!==e.elem.nodeType||!x.cssHooks[e.prop]&&null==e.elem.style[Xe(e.prop)]?e.elem[e.prop]=e.now:x.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=nt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},x.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},x.fx=nt.prototype.init,x.fx.step={};var it,rt,ot,at,st=/^(?:toggle|show|hide)$/,lt=/queueHooks$/;function ct(){rt&&(!1===i.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(ct):e.setTimeout(ct,x.fx.interval),x.fx.tick())}function dt(){return e.setTimeout(function(){it=void 0}),it=Date.now()}function ut(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=ie[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function ht(e,t,n){for(var i,r=(ft.tweeners[t]||[]).concat(ft.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,t,e))return i}function ft(e,t,n){var i,r,o=0,a=ft.prefilters.length,s=x.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=it||dt(),n=Math.max(0,c.startTime+c.duration-t),i=1-(n/c.duration||0),o=0,a=c.tweens.length;o<a;o++)c.tweens[o].run(i);return s.notifyWith(e,[c,i,n]),i<1&&a?n:(a||s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:x.extend({},t),opts:x.extend(!0,{specialEasing:{},easing:x.easing._default},n),originalProperties:t,originalOptions:n,startTime:it||dt(),duration:n.duration,tweens:[],createTween:function(t,n){var i=x.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),d=c.props;for(function(e,t){var n,i,r,o,a;for(n in e)if(r=t[i=Y(n)],o=e[n],Array.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(a=x.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=r);else t[i]=r}(d,c.opts.specialEasing);o<a;o++)if(i=ft.prefilters[o].call(c,e,d,c.opts))return m(i.stop)&&(x._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return x.map(d,ht,c),m(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),x.fx.timer(x.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}x.Animation=x.extend(ft,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ce(n.elem,e,ne.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(j);for(var n,i=0,r=e.length;i<r;i++)n=e[i],ft.tweeners[n]=ft.tweeners[n]||[],ft.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,o,a,s,l,c,d,u="width"in t||"height"in t,h=this,f={},p=e.style,m=e.nodeType&&se(e),g=K.get(e,"fxshow");for(i in n.queue||(null==(a=x._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,x.queue(e,"fx").length||a.empty.fire()})})),t)if(r=t[i],st.test(r)){if(delete t[i],o=o||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;m=!0}f[i]=g&&g[i]||x.style(e,i)}if((l=!x.isEmptyObject(t))||!x.isEmptyObject(f))for(i in u&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=g&&g.display)&&(c=K.get(e,"display")),"none"===(d=x.css(e,"display"))&&(c?d=c:(ue([e],!0),c=e.style.display||c,d=x.css(e,"display"),ue([e]))),("inline"===d||"inline-block"===d&&null!=c)&&"none"===x.css(e,"float")&&(l||(h.done(function(){p.display=c}),null==c&&(d=p.display,c="none"===d?"":d)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),l=!1,f)l||(g?"hidden"in g&&(m=g.hidden):g=K.access(e,"fxshow",{display:c}),o&&(g.hidden=!m),m&&ue([e],!0),h.done(function(){for(i in m||ue([e]),K.remove(e,"fxshow"),f)x.style(e,i,f[i])})),l=ht(m?g[i]:0,i,h),i in g||(g[i]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?ft.prefilters.unshift(e):ft.prefilters.push(e)}}),x.speed=function(e,t,n){var i=e&&"object"==typeof e?x.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return x.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in x.fx.speeds?i.duration=x.fx.speeds[i.duration]:i.duration=x.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){m(i.old)&&i.old.call(this),i.queue&&x.dequeue(this,i.queue)},i},x.fn.extend({fadeTo:function(e,t,n,i){return this.filter(se).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=x.isEmptyObject(e),o=x.speed(t,n,i),a=function(){var t=ft(this,x.extend({},e),o);(r||K.get(this,"finish"))&&t.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=x.timers,a=K.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&lt.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||x.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=K.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=x.timers,a=i?i.length:0;for(n.finish=!0,x.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),x.each(["toggle","show","hide"],function(e,t){var n=x.fn[t];x.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ut(t,!0),e,i,r)}}),x.each({slideDown:ut("show"),slideUp:ut("hide"),slideToggle:ut("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){x.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),x.timers=[],x.fx.tick=function(){var e,t=0,n=x.timers;for(it=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||x.fx.stop(),it=void 0},x.fx.timer=function(e){x.timers.push(e),x.fx.start()},x.fx.interval=13,x.fx.start=function(){rt||(rt=!0,ct())},x.fx.stop=function(){rt=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fn.delay=function(t,n){return t=x.fx&&x.fx.speeds[t]||t,n=n||"fx",this.queue(n,function(n,i){var r=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(r)}})},ot=i.createElement("input"),at=i.createElement("select").appendChild(i.createElement("option")),ot.type="checkbox",p.checkOn=""!==ot.value,p.optSelected=at.selected,(ot=i.createElement("input")).value="t",ot.type="radio",p.radioValue="t"===ot.value;var pt,mt=x.expr.attrHandle;x.fn.extend({attr:function(e,t){return W(this,x.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){x.removeAttr(this,e)})}}),x.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?x.prop(e,t,n):(1===o&&x.isXMLDoc(e)||(r=x.attrHooks[t.toLowerCase()]||(x.expr.match.bool.test(t)?pt:void 0)),void 0!==n?null===n?void x.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=x.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!p.radioValue&&"radio"===t&&D(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(j);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),pt={set:function(e,t,n){return!1===t?x.removeAttr(e,n):e.setAttribute(n,n),n}},x.each(x.expr.match.bool.source.match(/\w+/g),function(e,t){var n=mt[t]||x.find.attr;mt[t]=function(e,t,i){var r,o,a=t.toLowerCase();return i||(o=mt[a],mt[a]=r,r=null!=n(e,t,i)?a:null,mt[a]=o),r}});var gt=/^(?:input|select|textarea|button)$/i,vt=/^(?:a|area)$/i;function yt(e){return(e.match(j)||[]).join(" ")}function bt(e){return e.getAttribute&&e.getAttribute("class")||""}function wt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(j)||[]}x.fn.extend({prop:function(e,t){return W(this,x.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[x.propFix[e]||e]})}}),x.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&x.isXMLDoc(e)||(t=x.propFix[t]||t,r=x.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=x.find.attr(e,"tabindex");return t?parseInt(t,10):gt.test(e.nodeName)||vt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.optSelected||(x.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){x.propFix[this.toLowerCase()]=this}),x.fn.extend({addClass:function(e){var t,n,i,r,o,a,s,l=0;if(m(e))return this.each(function(t){x(this).addClass(e.call(this,t,bt(this)))});if((t=wt(e)).length)for(;n=this[l++];)if(r=bt(n),i=1===n.nodeType&&" "+yt(r)+" "){for(a=0;o=t[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(s=yt(i))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,i,r,o,a,s,l=0;if(m(e))return this.each(function(t){x(this).removeClass(e.call(this,t,bt(this)))});if(!arguments.length)return this.attr("class","");if((t=wt(e)).length)for(;n=this[l++];)if(r=bt(n),i=1===n.nodeType&&" "+yt(r)+" "){for(a=0;o=t[a++];)for(;-1<i.indexOf(" "+o+" ");)i=i.replace(" "+o+" "," ");r!==(s=yt(i))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,i="string"===n||Array.isArray(e);return"boolean"==typeof t&&i?t?this.addClass(e):this.removeClass(e):m(e)?this.each(function(n){x(this).toggleClass(e.call(this,n,bt(this),t),t)}):this.each(function(){var t,r,o,a;if(i)for(r=0,o=x(this),a=wt(e);t=a[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=bt(this))&&K.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":K.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&-1<(" "+yt(bt(n))+" ").indexOf(t))return!0;return!1}});var xt=/\r/g;x.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=m(e),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?e.call(this,n,x(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=x.map(r,function(e){return null==e?"":e+""})),(t=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=x.valHooks[r.type]||x.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(xt,""):null==n?"":n:void 0}}),x.extend({valHooks:{option:{get:function(e){var t=x.find.attr(e,"value");return null!=t?t:yt(x.text(e))}},select:{get:function(e){var t,n,i,r=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],l=a?o+1:r.length;for(i=o<0?l:a?o:0;i<l;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!D(n.parentNode,"optgroup"))){if(t=x(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,o=x.makeArray(t),a=r.length;a--;)((i=r[a]).selected=-1<x.inArray(x.valHooks.option.get(i),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),x.each(["radio","checkbox"],function(){x.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<x.inArray(x(e).val(),t)}},p.checkOn||(x.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),p.focusin="onfocusin"in e;var _t=/^(?:focusinfocus|focusoutblur)$/,Ct=function(e){e.stopPropagation()};x.extend(x.event,{trigger:function(t,n,r,o){var a,s,l,c,d,h,f,p,v=[r||i],y=u.call(t,"type")?t.type:t,b=u.call(t,"namespace")?t.namespace.split("."):[];if(s=p=l=r=r||i,3!==r.nodeType&&8!==r.nodeType&&!_t.test(y+x.event.triggered)&&(-1<y.indexOf(".")&&(y=(b=y.split(".")).shift(),b.sort()),d=y.indexOf(":")<0&&"on"+y,(t=t[x.expando]?t:new x.Event(y,"object"==typeof t&&t)).isTrigger=o?2:3,t.namespace=b.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:x.makeArray(n,[t]),f=x.event.special[y]||{},o||!f.trigger||!1!==f.trigger.apply(r,n))){if(!o&&!f.noBubble&&!g(r)){for(c=f.delegateType||y,_t.test(c+y)||(s=s.parentNode);s;s=s.parentNode)v.push(s),l=s;l===(r.ownerDocument||i)&&v.push(l.defaultView||l.parentWindow||e)}for(a=0;(s=v[a++])&&!t.isPropagationStopped();)p=s,t.type=1<a?c:f.bindType||y,(h=(K.get(s,"events")||{})[t.type]&&K.get(s,"handle"))&&h.apply(s,n),(h=d&&s[d])&&h.apply&&X(s)&&(t.result=h.apply(s,n),!1===t.result&&t.preventDefault());return t.type=y,o||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(v.pop(),n)||!X(r)||d&&m(r[y])&&!g(r)&&((l=r[d])&&(r[d]=null),x.event.triggered=y,t.isPropagationStopped()&&p.addEventListener(y,Ct),r[y](),t.isPropagationStopped()&&p.removeEventListener(y,Ct),x.event.triggered=void 0,l&&(r[d]=l)),t.result}},simulate:function(e,t,n){var i=x.extend(new x.Event,n,{type:e,isSimulated:!0});x.event.trigger(i,null,t)}}),x.fn.extend({trigger:function(e,t){return this.each(function(){x.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return x.event.trigger(e,t,n,!0)}}),p.focusin||x.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){x.event.simulate(t,e.target,x.event.fix(e))};x.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=K.access(i,t);r||i.addEventListener(e,n,!0),K.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=K.access(i,t)-1;r?K.access(i,t,r):(i.removeEventListener(e,n,!0),K.remove(i,t))}}});var St=e.location,kt=Date.now(),Tt=/\?/;x.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(t){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||x.error("Invalid XML: "+t),n};var Et=/\[\]$/,Dt=/\r?\n/g,Nt=/^(?:submit|button|image|reset|file)$/i,At=/^(?:input|select|textarea|keygen)/i;function Ot(e,t,n,i){var r;if(Array.isArray(t))x.each(t,function(t,r){n||Et.test(e)?i(e,r):Ot(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==b(t))i(e,t);else for(r in t)Ot(e+"["+r+"]",t[r],n,i)}x.param=function(e,t){var n,i=[],r=function(e,t){var n=m(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!x.isPlainObject(e))x.each(e,function(){r(this.name,this.value)});else for(n in e)Ot(n,e[n],t,r);return i.join("&")},x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=x.prop(this,"elements");return e?x.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!x(this).is(":disabled")&&At.test(this.nodeName)&&!Nt.test(e)&&(this.checked||!he.test(e))}).map(function(e,t){var n=x(this).val();return null==n?null:Array.isArray(n)?x.map(n,function(e){return{name:t.name,value:e.replace(Dt,"\r\n")}}):{name:t.name,value:n.replace(Dt,"\r\n")}}).get()}});var It=/%20/g,Rt=/#.*$/,Pt=/([?&])_=[^&]*/,Mt=/^(.*?):[ \t]*([^\r\n]*)$/gm,jt=/^(?:GET|HEAD)$/,Lt=/^\/\//,Bt={},$t={},Ft="*/".concat("*"),Ht=i.createElement("a");function zt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(j)||[];if(m(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Wt(e,t,n,i){var r={},o=e===$t;function a(s){var l;return r[s]=!0,x.each(e[s]||[],function(e,s){var c=s(t,n,i);return"string"!=typeof c||o||r[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),a(c),!1)}),l}return a(t.dataTypes[0])||!r["*"]&&a("*")}function Ut(e,t){var n,i,r=x.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&x.extend(!0,e,i),e}Ht.href=St.href,x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:St.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(St.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ft,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ut(Ut(e,x.ajaxSettings),t):Ut(x.ajaxSettings,e)},ajaxPrefilter:zt(Bt),ajaxTransport:zt($t),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0),n=n||{};var r,o,a,s,l,c,d,u,h,f,p=x.ajaxSetup({},n),m=p.context||p,g=p.context&&(m.nodeType||m.jquery)?x(m):x.event,v=x.Deferred(),y=x.Callbacks("once memory"),b=p.statusCode||{},w={},_={},C="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(d){if(!s)for(s={};t=Mt.exec(a);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return d?a:null},setRequestHeader:function(e,t){return null==d&&(e=_[e.toLowerCase()]=_[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==d&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(d)S.always(e[S.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||C;return r&&r.abort(t),k(0,t),this}};if(v.promise(S),p.url=((t||p.url||St.href)+"").replace(Lt,St.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(j)||[""],null==p.crossDomain){c=i.createElement("a");try{c.href=p.url,c.href=c.href,p.crossDomain=Ht.protocol+"//"+Ht.host!=c.protocol+"//"+c.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=x.param(p.data,p.traditional)),Wt(Bt,p,n,S),d)return S;for(h in(u=x.event&&p.global)&&0==x.active++&&x.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!jt.test(p.type),o=p.url.replace(Rt,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(It,"+")):(f=p.url.slice(o.length),p.data&&(p.processData||"string"==typeof p.data)&&(o+=(Tt.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(o=o.replace(Pt,"$1"),f=(Tt.test(o)?"&":"?")+"_="+kt+++f),p.url=o+f),p.ifModified&&(x.lastModified[o]&&S.setRequestHeader("If-Modified-Since",x.lastModified[o]),x.etag[o]&&S.setRequestHeader("If-None-Match",x.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&S.setRequestHeader("Content-Type",p.contentType),S.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Ft+"; q=0.01":""):p.accepts["*"]),p.headers)S.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(!1===p.beforeSend.call(m,S,p)||d))return S.abort();if(C="abort",y.add(p.complete),S.done(p.success),S.fail(p.error),r=Wt($t,p,n,S)){if(S.readyState=1,u&&g.trigger("ajaxSend",[S,p]),d)return S;p.async&&0<p.timeout&&(l=e.setTimeout(function(){S.abort("timeout")},p.timeout));try{d=!1,r.send(w,k)}catch(t){if(d)throw t;k(-1,t)}}else k(-1,"No Transport");function k(t,n,i,s){var c,h,f,w,_,C=n;d||(d=!0,l&&e.clearTimeout(l),r=void 0,a=s||"",S.readyState=0<t?4:0,c=200<=t&&t<300||304===t,i&&(w=function(e,t,n){for(var i,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}(p,S,i)),w=function(e,t,n,i){var r,o,a,s,l,c={},d=e.dataTypes.slice();if(d[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=d.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=d.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=c[l+" "+o]||c["* "+o]))for(r in c)if((s=r.split(" "))[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[r]:!0!==c[r]&&(o=s[0],d.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(p,w,S,c),c?(p.ifModified&&((_=S.getResponseHeader("Last-Modified"))&&(x.lastModified[o]=_),(_=S.getResponseHeader("etag"))&&(x.etag[o]=_)),204===t||"HEAD"===p.type?C="nocontent":304===t?C="notmodified":(C=w.state,h=w.data,c=!(f=w.error))):(f=C,!t&&C||(C="error",t<0&&(t=0))),S.status=t,S.statusText=(n||C)+"",c?v.resolveWith(m,[h,C,S]):v.rejectWith(m,[S,C,f]),S.statusCode(b),b=void 0,u&&g.trigger(c?"ajaxSuccess":"ajaxError",[S,p,c?h:f]),y.fireWith(m,[S,C]),u&&(g.trigger("ajaxComplete",[S,p]),--x.active||x.event.trigger("ajaxStop")))}return S},getJSON:function(e,t,n){return x.get(e,t,n,"json")},getScript:function(e,t){return x.get(e,void 0,t,"script")}}),x.each(["get","post"],function(e,t){x[t]=function(e,n,i,r){return m(n)&&(r=r||i,i=n,n=void 0),x.ajax(x.extend({url:e,type:t,dataType:r,data:n,success:i},x.isPlainObject(e)&&e))}}),x._evalUrl=function(e,t){return x.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){x.globalEval(e,t)}})},x.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=x(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return m(e)?this.each(function(t){x(this).wrapInner(e.call(this,t))}):this.each(function(){var t=x(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=m(e);return this.each(function(n){x(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){x(this).replaceWith(this.childNodes)}),this}}),x.expr.pseudos.hidden=function(e){return!x.expr.pseudos.visible(e)},x.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},x.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var qt={0:200,1223:204},Vt=x.ajaxSettings.xhr();p.cors=!!Vt&&"withCredentials"in Vt,p.ajax=Vt=!!Vt,x.ajaxTransport(function(t){var n,i;if(p.cors||Vt&&!t.crossDomain)return{send:function(r,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(a,r[a]);n=function(e){return function(){n&&(n=i=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(qt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),i=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&i()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(r){if(n)throw r}},abort:function(){n&&n()}}}),x.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return x.globalEval(e),e}}}),x.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),x.ajaxTransport("script",function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,o){t=x("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),i.head.appendChild(t[0])},abort:function(){n&&n()}}});var Yt,Xt=[],Gt=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Xt.pop()||x.expando+"_"+kt++;return this[e]=!0,e}}),x.ajaxPrefilter("json jsonp",function(t,n,i){var r,o,a,s=!1!==t.jsonp&&(Gt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=m(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Gt,"$1"+r):!1!==t.jsonp&&(t.url+=(Tt.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||x.error(r+" was not called"),a[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){a=arguments},i.always(function(){void 0===o?x(e).removeProp(r):e[r]=o,t[r]&&(t.jsonpCallback=n.jsonpCallback,Xt.push(r)),a&&m(o)&&o(a[0]),a=o=void 0}),"script"}),p.createHTMLDocument=((Yt=i.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Yt.childNodes.length),x.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(p.createHTMLDocument?((r=(t=i.implementation.createHTMLDocument("")).createElement("base")).href=i.location.href,t.head.appendChild(r)):t=i),a=!n&&[],(o=N.exec(e))?[t.createElement(o[1])]:(o=xe([e],t,a),a&&a.length&&x(a).remove(),x.merge([],o.childNodes)));var r,o,a},x.fn.load=function(e,t,n){var i,r,o,a=this,s=e.indexOf(" ");return-1<s&&(i=yt(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),0<a.length&&x.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(i?x("<div>").append(x.parseHTML(e)).find(i):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){x.fn[t]=function(e){return this.on(t,e)}}),x.expr.pseudos.animated=function(e){return x.grep(x.timers,function(t){return e===t.elem}).length},x.offset={setOffset:function(e,t,n){var i,r,o,a,s,l,c=x.css(e,"position"),d=x(e),u={};"static"===c&&(e.style.position="relative"),s=d.offset(),o=x.css(e,"top"),l=x.css(e,"left"),("absolute"===c||"fixed"===c)&&-1<(o+l).indexOf("auto")?(a=(i=d.position()).top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),m(t)&&(t=t.call(e,n,x.extend({},s))),null!=t.top&&(u.top=t.top-s.top+a),null!=t.left&&(u.left=t.left-s.left+r),"using"in t?t.using.call(e,u):d.css(u)}},x.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){x.offset.setOffset(this,e,t)});var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===x.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===x.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=x(e).offset()).top+=x.css(e,"borderTopWidth",!0),r.left+=x.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-x.css(i,"marginTop",!0),left:t.left-r.left-x.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===x.css(e,"position");)e=e.offsetParent;return e||re})}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;x.fn[e]=function(i){return W(this,function(e,i,r){var o;if(g(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===r)return o?o[t]:e[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r},e,i,arguments.length)}}),x.each(["top","left"],function(e,t){x.cssHooks[t]=Ue(p.pixelPosition,function(e,n){if(n)return n=We(e,t),Fe.test(n)?x(e).position()[t]+"px":n})}),x.each({Height:"height",Width:"width"},function(e,t){x.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){x.fn[i]=function(r,o){var a=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===o?"margin":"border");return W(this,function(t,n,r){var o;return g(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?x.css(t,n,s):x.style(t,n,r,s)},t,a?r:void 0,a)}})}),x.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){x.fn[t]=function(e,n){return 0<arguments.length?this.on(t,null,e,n):this.trigger(t)}}),x.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),x.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),x.proxy=function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return i=o.call(arguments,2),(r=function(){return e.apply(t||this,i.concat(o.call(arguments)))}).guid=e.guid=e.guid||x.guid++,r},x.holdReady=function(e){e?x.readyWait++:x.ready(!0)},x.isArray=Array.isArray,x.parseJSON=JSON.parse,x.nodeName=D,x.isFunction=m,x.isWindow=g,x.camelCase=Y,x.type=b,x.now=Date.now,x.isNumeric=function(e){var t=x.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return x});var Kt=e.jQuery,Jt=e.$;return x.noConflict=function(t){return e.$===x&&(e.$=Jt),t&&e.jQuery===x&&(e.jQuery=Kt),x},t||(e.jQuery=e.$=x),x}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(e){"use strict";var t=jQuery.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||t[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(),function(e){"use strict";e.fn.emulateTransitionEnd=function(t){var n=!1,i=this;e(this).one("bsTransitionEnd",function(){n=!0});return setTimeout(function(){n||e(i).trigger(e.support.transition.end)},t),this},e(function(){e.support.transition=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.VERSION="3.4.1",n.TRANSITION_DURATION=150,n.prototype.close=function(t){var i=e(this),r=i.attr("data-target");r||(r=(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]*$)/,"")),r="#"===r?[]:r;var o=e(document).find(r);function a(){o.detach().trigger("closed.bs.alert").remove()}t&&t.preventDefault(),o.length||(o=i.closest(".alert")),o.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",a).emulateTransitionEnd(n.TRANSITION_DURATION):a())};var i=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var i=e(this),r=i.data("bs.alert");r||i.data("bs.alert",r=new n(this)),"string"==typeof t&&r[t].call(i)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.bs.alert.data-api",t,n.prototype.close)}(jQuery),function(e){"use strict";var t=function(n,i){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,i),this.isLoading=!1};function n(n){return this.each(function(){var i=e(this),r=i.data("bs.button"),o="object"==typeof n&&n;r||i.data("bs.button",r=new t(this,o)),"toggle"==n?r.toggle():n&&r.setState(n)})}t.VERSION="3.4.1",t.DEFAULTS={loadingText:"loading..."},t.prototype.setState=function(t){var n="disabled",i=this.$element,r=i.is("input")?"val":"html",o=i.data();t+="Text",null==o.resetText&&i.data("resetText",i[r]()),setTimeout(e.proxy(function(){i[r](null==o[t]?this.options[t]:o[t]),"loadingText"==t?(this.isLoading=!0,i.addClass(n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n).prop(n,!1))},this),0)},t.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),e&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var i=e.fn.button;e.fn.button=n,e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=i,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var i=e(t.target).closest(".btn");n.call(i,"toggle"),e(t.target).is('input[type="radio"], input[type="checkbox"]')||(t.preventDefault(),i.is("input,button")?i.trigger("focus"):i.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),function(e){"use strict";var t=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};function n(n){return this.each(function(){var i=e(this),r=i.data("bs.carousel"),o=e.extend({},t.DEFAULTS,i.data(),"object"==typeof n&&n),a="string"==typeof n?n:o.slide;r||i.data("bs.carousel",r=new t(this,o)),"number"==typeof n?r.to(n):a?r[a]():o.interval&&r.pause().cycle()})}t.VERSION="3.4.1",t.TRANSITION_DURATION=600,t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},t.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},t.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},t.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t);if(("prev"==e&&0===n||"next"==e&&n==this.$items.length-1)&&!this.options.wrap)return t;var i=(n+("prev"==e?-1:1))%this.$items.length;return this.$items.eq(i)},t.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},t.prototype.next=function(){if(!this.sliding)return this.slide("next")},t.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},t.prototype.slide=function(n,i){var r=this.$element.find(".item.active"),o=i||this.getItemForDirection(n,r),a=this.interval,s="next"==n?"left":"right",l=this;if(o.hasClass("active"))return this.sliding=!1;var c=o[0],d=e.Event("slide.bs.carousel",{relatedTarget:c,direction:s});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=e(this.$indicators.children()[this.getItemIndex(o)]);u&&u.addClass("active")}var h=e.Event("slid.bs.carousel",{relatedTarget:c,direction:s});return e.support.transition&&this.$element.hasClass("slide")?(o.addClass(n),"object"==typeof o&&o.length&&o[0].offsetWidth,r.addClass(s),o.addClass(s),r.one("bsTransitionEnd",function(){o.removeClass([n,s].join(" ")).addClass("active"),r.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(h)},0)}).emulateTransitionEnd(t.TRANSITION_DURATION)):(r.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(h)),a&&this.cycle(),this}};var i=e.fn.carousel;e.fn.carousel=n,e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=i,this};var r=function(t){var i=e(this),r=i.attr("href");r&&(r=r.replace(/.*(?=#[^\s]+$)/,""));var o=i.attr("data-target")||r,a=e(document).find(o);if(a.hasClass("carousel")){var s=e.extend({},a.data(),i.data()),l=i.attr("data-slide-to");l&&(s.interval=!1),n.call(a,s),l&&a.data("bs.carousel").to(l),t.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),function(e){"use strict";var t=function(n,i){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,i),this.$trigger=e('[data-toggle="collapse"][href="#'+n.id+'"],[data-toggle="collapse"][data-target="#'+n.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};function n(t){var n,i=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(document).find(i)}function i(n){return this.each(function(){var i=e(this),r=i.data("bs.collapse"),o=e.extend({},t.DEFAULTS,i.data(),"object"==typeof n&&n);!r&&o.toggle&&/show|hide/.test(n)&&(o.toggle=!1),r||i.data("bs.collapse",r=new t(this,o)),"string"==typeof n&&r[n]()})}t.VERSION="3.4.1",t.TRANSITION_DURATION=350,t.DEFAULTS={toggle:!0},t.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},t.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var n,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(n=r.data("bs.collapse"))&&n.transitioning)){var o=e.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){r&&r.length&&(i.call(r,"hide"),n||r.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var l=e.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(t.TRANSITION_DURATION)[a](this.$element[0][l])}}}},t.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var n=e.Event("hide.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!e.support.transition)return r.call(this);this.$element[i](0).one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(t.TRANSITION_DURATION)}}},t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},t.prototype.getParent=function(){return e(document).find(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(t,i){var r=e(i);this.addAriaAndCollapsedClass(n(r),r)},this)).end()},t.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var r=e.fn.collapse;e.fn.collapse=i,e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=r,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var r=e(this);r.attr("data-target")||t.preventDefault();var o=n(r),a=o.data("bs.collapse")?"toggle":r.data();i.call(o,a)})}(jQuery),function(e){"use strict";var t=".dropdown-backdrop",n='[data-toggle="dropdown"]',i=function(t){e(t).on("click.bs.dropdown",this.toggle)};function r(t){var n=t.attr("data-target");n||(n=(n=t.attr("href"))&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i="#"!==n?e(document).find(n):null;return i&&i.length?i:t.parent()}function o(i){i&&3===i.which||(e(t).remove(),e(n).each(function(){var t=e(this),n=r(t),o={relatedTarget:this};n.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&e.contains(n[0],i.target)||(n.trigger(i=e.Event("hide.bs.dropdown",o)),i.isDefaultPrevented()||(t.attr("aria-expanded","false"),n.removeClass("open").trigger(e.Event("hidden.bs.dropdown",o)))))}))}i.VERSION="3.4.1",i.prototype.toggle=function(t){var n=e(this);if(!n.is(".disabled, :disabled")){var i=r(n),a=i.hasClass("open");if(o(),!a){"ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",o);var s={relatedTarget:this};if(i.trigger(t=e.Event("show.bs.dropdown",s)),t.isDefaultPrevented())return;n.trigger("focus").attr("aria-expanded","true"),i.toggleClass("open").trigger(e.Event("shown.bs.dropdown",s))}return!1}},i.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var i=e(this);if(t.preventDefault(),t.stopPropagation(),!i.is(".disabled, :disabled")){var o=r(i),a=o.hasClass("open");if(!a&&27!=t.which||a&&27==t.which)return 27==t.which&&o.find(n).trigger("focus"),i.trigger("click");var s=o.find(".dropdown-menu li:not(.disabled):visible a");if(s.length){var l=s.index(t.target);38==t.which&&l>0&&l--,40==t.which&&l<s.length-1&&l++,~l||(l=0),s.eq(l).trigger("focus")}}}};var a=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new i(this)),"string"==typeof t&&r[t].call(n)})},e.fn.dropdown.Constructor=i,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=a,this},e(document).on("click.bs.dropdown.data-api",o).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",n,i.prototype.toggle).on("keydown.bs.dropdown.data-api",n,i.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",i.prototype.keydown)}(jQuery),function(e){"use strict";var t=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.fixedContent=".navbar-fixed-top, .navbar-fixed-bottom",this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};function n(n,i){return this.each(function(){var r=e(this),o=r.data("bs.modal"),a=e.extend({},t.DEFAULTS,r.data(),"object"==typeof n&&n);o||r.data("bs.modal",o=new t(this,a)),"string"==typeof n?o[n](i):a.show&&o.show(i)})}t.VERSION="3.4.1",t.TRANSITION_DURATION=300,t.BACKDROP_TRANSITION_DURATION=150,t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},t.prototype.show=function(n){var i=this,r=e.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=e.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),r&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:n});r?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(t.TRANSITION_DURATION):i.$element.trigger("focus").trigger(o)}))},t.prototype.hide=function(n){n&&n.preventDefault(),n=e.Event("hide.bs.modal"),this.$element.trigger(n),this.isShown&&!n.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal())},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},t.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},t.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(n){var i=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&r;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+r).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!n)return;o?this.$backdrop.one("bsTransitionEnd",n).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):n()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){i.removeBackdrop(),n&&n()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):a()}else n&&n()},t.prototype.handleUpdate=function(){this.adjustDialog()},t.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},t.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},t.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";var n=this.scrollbarWidth;this.bodyIsOverflowing&&(this.$body.css("padding-right",t+n),e(this.fixedContent).each(function(t,i){var r=i.style.paddingRight,o=e(i).css("padding-right");e(i).data("padding-right",r).css("padding-right",parseFloat(o)+n+"px")}))},t.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad),e(this.fixedContent).each(function(t,n){var i=e(n).data("padding-right");e(n).removeData("padding-right"),n.style.paddingRight=i||""})},t.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var i=e.fn.modal;e.fn.modal=n,e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=i,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var i=e(this),r=i.attr("href"),o=i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,""),a=e(document).find(o),s=a.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},a.data(),i.data());i.is("a")&&t.preventDefault(),a.one("show.bs.modal",function(e){e.isDefaultPrevented()||a.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),n.call(a,s,this)})}(jQuery),function(e){"use strict";var t=["sanitize","whiteList","sanitizeFn"],n=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],i={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},r=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,o=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function a(t,i){var a=t.nodeName.toLowerCase();if(-1!==e.inArray(a,i))return-1===e.inArray(a,n)||Boolean(t.nodeValue.match(r)||t.nodeValue.match(o));for(var s=e(i).filter(function(e,t){return t instanceof RegExp}),l=0,c=s.length;l<c;l++)if(a.match(s[l]))return!0;return!1}function s(t,n,i){if(0===t.length)return t;if(i&&"function"==typeof i)return i(t);if(!document.implementation||!document.implementation.createHTMLDocument)return t;var r=document.implementation.createHTMLDocument("sanitization");r.body.innerHTML=t;for(var o=e.map(n,function(e,t){return t}),s=e(r.body).find("*"),l=0,c=s.length;l<c;l++){var d=s[l],u=d.nodeName.toLowerCase();if(-1!==e.inArray(u,o))for(var h=e.map(d.attributes,function(e){return e}),f=[].concat(n["*"]||[],n[u]||[]),p=0,m=h.length;p<m;p++)a(h[p],f)||d.removeAttribute(h[p].nodeName);else d.parentNode.removeChild(d)}return r.body.innerHTML}var l=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};l.VERSION="3.4.1",l.TRANSITION_DURATION=150,l.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0},sanitize:!0,sanitizeFn:null,whiteList:i},l.prototype.init=function(t,n,i){if(this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&e(document).find(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),o=r.length;o--;){var a=r[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},l.prototype.getDefaults=function(){return l.DEFAULTS},l.prototype.getOptions=function(n){var i=this.$element.data();for(var r in i)i.hasOwnProperty(r)&&-1!==e.inArray(r,t)&&delete i[r];return(n=e.extend({},this.getDefaults(),i,n)).delay&&"number"==typeof n.delay&&(n.delay={show:n.delay,hide:n.delay}),n.sanitize&&(n.template=s(n.template,n.whiteList,n.sanitizeFn)),n},l.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,i){n[e]!=i&&(t[e]=i)}),t},l.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusin"==t.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState)n.hoverState="in";else{if(clearTimeout(n.timeout),n.hoverState="in",!n.options.delay||!n.options.delay.show)return n.show();n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)}},l.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},l.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusout"==t.type?"focus":"hover"]=!1),!n.isInStateTrue()){if(clearTimeout(n.timeout),n.hoverState="out",!n.options.delay||!n.options.delay.hide)return n.hide();n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)}},l.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var n=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!n)return;var i=this,r=this.tip(),o=this.getUID(this.type);this.setContent(),r.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&r.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,c=s.test(a);c&&(a=a.replace(s,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?r.appendTo(e(document).find(this.options.container)):r.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var d=this.getPosition(),u=r[0].offsetWidth,h=r[0].offsetHeight;if(c){var f=a,p=this.getPosition(this.$viewport);a="bottom"==a&&d.bottom+h>p.bottom?"top":"top"==a&&d.top-h<p.top?"bottom":"right"==a&&d.right+u>p.width?"left":"left"==a&&d.left-u<p.left?"right":a,r.removeClass(f).addClass(a)}var m=this.getCalculatedOffset(a,d,u,h);this.applyPlacement(m,a);var g=function(){var e=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==e&&i.leave(i)};e.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",g).emulateTransitionEnd(l.TRANSITION_DURATION):g()}},l.prototype.applyPlacement=function(t,n){var i=this.tip(),r=i[0].offsetWidth,o=i[0].offsetHeight,a=parseInt(i.css("margin-top"),10),s=parseInt(i.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),t.top+=a,t.left+=s,e.offset.setOffset(i[0],e.extend({using:function(e){i.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),i.addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;"top"==n&&c!=o&&(t.top=t.top+o-c);var d=this.getViewportAdjustedDelta(n,t,l,c);d.left?t.left+=d.left:t.top+=d.top;var u=/top|bottom/.test(n),h=u?2*d.left-r+l:2*d.top-o+c,f=u?"offsetWidth":"offsetHeight";i.offset(t),this.replaceArrow(h,i[0][f],u)},l.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},l.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();this.options.html?(this.options.sanitize&&(t=s(t,this.options.whiteList,this.options.sanitizeFn)),e.find(".tooltip-inner").html(t)):e.find(".tooltip-inner").text(t),e.removeClass("fade in top bottom left right")},l.prototype.hide=function(t){var n=this,i=e(this.$tip),r=e.Event("hide.bs."+this.type);function o(){"in"!=n.hoverState&&i.detach(),n.$element&&n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),t&&t()}if(this.$element.trigger(r),!r.isDefaultPrevented())return i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",o).emulateTransitionEnd(l.TRANSITION_DURATION):o(),this.hoverState=null,this},l.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},l.prototype.hasContent=function(){return this.getTitle()},l.prototype.getPosition=function(t){var n=(t=t||this.$element)[0],i="BODY"==n.tagName,r=n.getBoundingClientRect();null==r.width&&(r=e.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var o=window.SVGElement&&n instanceof window.SVGElement,a=i?{top:0,left:0}:o?null:t.offset(),s={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},l=i?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},r,s,l,a)},l.prototype.getCalculatedOffset=function(e,t,n,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-n}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},l.prototype.getViewportAdjustedDelta=function(e,t,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-o-a.scroll,l=t.top+o-a.scroll+i;s<a.top?r.top=a.top-s:l>a.top+a.height&&(r.top=a.top+a.height-l)}else{var c=t.left-o,d=t.left+o+n;c<a.left?r.left=a.left-c:d>a.right&&(r.left=a.left+a.width-d)}return r},l.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},l.prototype.getUID=function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},l.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},l.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},l.prototype.enable=function(){this.enabled=!0},l.prototype.disable=function(){this.enabled=!1},l.prototype.toggleEnabled=function(){this.enabled=!this.enabled},l.prototype.toggle=function(t){var n=this;t&&((n=e(t.currentTarget).data("bs."+this.type))||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),t?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},l.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null,e.$element=null})},l.prototype.sanitizeHtml=function(e){return s(e,this.options.whiteList,this.options.sanitizeFn)};var c=e.fn.tooltip;e.fn.tooltip=function(t){return this.each(function(){var n=e(this),i=n.data("bs.tooltip"),r="object"==typeof t&&t;!i&&/destroy|hide/.test(t)||(i||n.data("bs.tooltip",i=new l(this,r)),"string"==typeof t&&i[t]())})},e.fn.tooltip.Constructor=l,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=c,this}}(jQuery),function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.4.1",t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),t.prototype.constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();if(this.options.html){var i=typeof n;this.options.sanitize&&(t=this.sanitizeHtml(t),"string"===i&&(n=this.sanitizeHtml(n))),e.find(".popover-title").html(t),e.find(".popover-content").children().detach().end()["string"===i?"html":"append"](n)}else e.find(".popover-title").text(t),e.find(".popover-content").children().detach().end().text(n);e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var i=e(this),r=i.data("bs.popover"),o="object"==typeof n&&n;!r&&/destroy|hide/.test(n)||(r||i.data("bs.popover",r=new t(this,o)),"string"==typeof n&&r[n]())})},e.fn.popover.Constructor=t,e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(jQuery),function(e){"use strict";function t(n,i){this.$body=e(document.body),this.$scrollElement=e(n).is(document.body)?e(window):e(n),this.options=e.extend({},t.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var i=e(this),r=i.data("bs.scrollspy"),o="object"==typeof n&&n;r||i.data("bs.scrollspy",r=new t(this,o)),"string"==typeof n&&r[n]()})}t.VERSION="3.4.1",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),r=t.data("target")||t.attr("href"),o=/^#./.test(r)&&e(r);return o&&o.length&&o.is(":visible")&&[[o[n]().top+i,r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=i)return a!=(e=o[o.length-1])&&this.activate(e);if(a&&t<r[0])return this.activeTarget=null,this.clear();for(e=r.length;e--;)a!=o[e]&&t>=r[e]&&(void 0===r[e+1]||t<r[e+1])&&this.activate(o[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=e(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=i,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),function(e){"use strict";var t=function(t){this.element=e(t)};function n(n){return this.each(function(){var i=e(this),r=i.data("bs.tab");r||i.data("bs.tab",r=new t(this)),"string"==typeof n&&r[n]()})}t.VERSION="3.4.1",t.TRANSITION_DURATION=150,t.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),i=t.data("target");if(i||(i=(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=n.find(".active:last a"),o=e.Event("hide.bs.tab",{relatedTarget:t[0]}),a=e.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(o),t.trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){var s=e(document).find(i);this.activate(t.closest("li"),n),this.activate(s,s.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},t.prototype.activate=function(n,i,r){var o=i.find("> .active"),a=r&&e.support.transition&&(o.length&&o.hasClass("fade")||!!i.find("> .fade").length);function s(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),n.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(n[0].offsetWidth,n.addClass("in")):n.removeClass("fade"),n.parent(".dropdown-menu").length&&n.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}o.length&&a?o.one("bsTransitionEnd",s).emulateTransitionEnd(t.TRANSITION_DURATION):s(),o.removeClass("in")};var i=e.fn.tab;e.fn.tab=n,e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=i,this};var r=function(t){t.preventDefault(),n.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(jQuery),function(e){"use strict";var t=function(n,i){this.options=e.extend({},t.DEFAULTS,i);var r=this.options.target===t.DEFAULTS.target?e(this.options.target):e(document).find(this.options.target);this.$target=r.on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(n),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};function n(n){return this.each(function(){var i=e(this),r=i.data("bs.affix"),o="object"==typeof n&&n;r||i.data("bs.affix",r=new t(this,o)),"string"==typeof n&&r[n]()})}t.VERSION="3.4.1",t.RESET="affix affix-top affix-bottom",t.DEFAULTS={offset:0,target:window},t.prototype.getState=function(e,t,n,i){var r=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return r<n&&"top";if("bottom"==this.affixed)return null!=n?!(r+this.unpin<=o.top)&&"bottom":!(r+a<=e-i)&&"bottom";var s=null==this.affixed,l=s?r:o.top;return null!=n&&r<=n?"top":null!=i&&l+(s?a:t)>=e-i&&"bottom"},t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var e=this.$target.scrollTop(),n=this.$element.offset();return this.pinnedOffset=n.top-e},t.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var n=this.$element.height(),i=this.options.offset,r=i.top,o=i.bottom,a=Math.max(e(document).height(),e(document.body).height());"object"!=typeof i&&(o=r=i),"function"==typeof r&&(r=i.top(this.$element)),"function"==typeof o&&(o=i.bottom(this.$element));var s=this.getState(a,n,r,o);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),c=e.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(t.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-n-o})}};var i=e.fn.affix;e.fn.affix=n,e.fn.affix.Constructor=t,e.fn.affix.noConflict=function(){return e.fn.affix=i,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),i=t.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),n.call(t,i)})})}(jQuery),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Vue=t()}(this,function(){"use strict";var e=Object.freeze({});function t(e){return null==e}function n(e){return null!=e}function i(e){return!0===e}function r(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e||"boolean"==typeof e}function o(e){return null!==e&&"object"==typeof e}var a=Object.prototype.toString;function s(e){return"[object Object]"===a.call(e)}function l(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function c(e){return n(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function d(e){return null==e?"":Array.isArray(e)||s(e)&&e.toString===a?JSON.stringify(e,null,2):String(e)}function u(e){var t=parseFloat(e);return isNaN(t)?e:t}function h(e,t){for(var n=Object.create(null),i=e.split(","),r=0;r<i.length;r++)n[i[r]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}var f=h("slot,component",!0),p=h("key,ref,slot,slot-scope,is");function m(e,t){if(e.length){var n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}var g=Object.prototype.hasOwnProperty;function v(e,t){return g.call(e,t)}function y(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}var b=/-(\w)/g,w=y(function(e){return e.replace(b,function(e,t){return t?t.toUpperCase():""})}),x=y(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),_=/\B([A-Z])/g,C=y(function(e){return e.replace(_,"-$1").toLowerCase()}),S=Function.prototype.bind?function(e,t){return e.bind(t)}:function(e,t){function n(n){var i=arguments.length;return i?i>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n};function k(e,t){t=t||0;for(var n=e.length-t,i=new Array(n);n--;)i[n]=e[n+t];return i}function T(e,t){for(var n in t)e[n]=t[n];return e}function E(e){for(var t={},n=0;n<e.length;n++)e[n]&&T(t,e[n]);return t}function D(e,t,n){}var N=function(e,t,n){return!1},A=function(e){return e};function O(e,t){if(e===t)return!0;var n=o(e),i=o(t);if(!n||!i)return!n&&!i&&String(e)===String(t);try{var r=Array.isArray(e),a=Array.isArray(t);if(r&&a)return e.length===t.length&&e.every(function(e,n){return O(e,t[n])});if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(r||a)return!1;var s=Object.keys(e),l=Object.keys(t);return s.length===l.length&&s.every(function(n){return O(e[n],t[n])})}catch(e){return!1}}function I(e,t){for(var n=0;n<e.length;n++)if(O(e[n],t))return n;return-1}function R(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}var P="data-server-rendered",M=["component","directive","filter"],j=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],L={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:N,isReservedAttr:N,isUnknownElement:N,getTagNamespace:D,parsePlatformTagName:A,mustUseProp:N,async:!0,_lifecycleHooks:j},B=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function $(e,t,n,i){Object.defineProperty(e,t,{value:n,enumerable:!!i,writable:!0,configurable:!0})}var F,H=new RegExp("[^"+B.source+".$_\\d]"),z="__proto__"in{},W="undefined"!=typeof window,U="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,q=U&&WXEnvironment.platform.toLowerCase(),V=W&&window.navigator.userAgent.toLowerCase(),Y=V&&/msie|trident/.test(V),X=V&&V.indexOf("msie 9.0")>0,G=V&&V.indexOf("edge/")>0,K=(V&&V.indexOf("android"),V&&/iphone|ipad|ipod|ios/.test(V)||"ios"===q),J=(V&&/chrome\/\d+/.test(V),V&&/phantomjs/.test(V),V&&V.match(/firefox\/(\d+)/)),Q={}.watch,Z=!1;if(W)try{var ee={};Object.defineProperty(ee,"passive",{get:function(){Z=!0}}),window.addEventListener("test-passive",null,ee)}catch(e){}var te=function(){return void 0===F&&(F=!W&&!U&&"undefined"!=typeof global&&global.process&&"server"===global.process.env.VUE_ENV),F},ne=W&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ie(e){return"function"==typeof e&&/native code/.test(e.toString())}var re,oe="undefined"!=typeof Symbol&&ie(Symbol)&&"undefined"!=typeof Reflect&&ie(Reflect.ownKeys);re="undefined"!=typeof Set&&ie(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var ae=D,se=0,le=function(){this.id=se++,this.subs=[]};le.prototype.addSub=function(e){this.subs.push(e)},le.prototype.removeSub=function(e){m(this.subs,e)},le.prototype.depend=function(){le.target&&le.target.addDep(this)},le.prototype.notify=function(){for(var e=this.subs.slice(),t=0,n=e.length;t<n;t++)e[t].update()},le.target=null;var ce=[];function de(e){ce.push(e),le.target=e}function ue(){ce.pop(),le.target=ce[ce.length-1]}var he=function(e,t,n,i,r,o,a,s){this.tag=e,this.data=t,this.children=n,this.text=i,this.elm=r,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},fe={child:{configurable:!0}};fe.child.get=function(){return this.componentInstance},Object.defineProperties(he.prototype,fe);var pe=function(e){void 0===e&&(e="");var t=new he;return t.text=e,t.isComment=!0,t};function me(e){return new he(void 0,void 0,void 0,String(e))}function ge(e){var t=new he(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var ve=Array.prototype,ye=Object.create(ve);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(e){var t=ve[e];$(ye,e,function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];var r,o=t.apply(this,n),a=this.__ob__;switch(e){case"push":case"unshift":r=n;break;case"splice":r=n.slice(2)}return r&&a.observeArray(r),a.dep.notify(),o})});var be=Object.getOwnPropertyNames(ye),we=!0;function xe(e){we=e}var _e=function(e){var t;this.value=e,this.dep=new le,this.vmCount=0,$(e,"__ob__",this),Array.isArray(e)?(z?(t=ye,e.__proto__=t):function(e,t,n){for(var i=0,r=n.length;i<r;i++){var o=n[i];$(e,o,t[o])}}(e,ye,be),this.observeArray(e)):this.walk(e)};function Ce(e,t){var n;if(o(e)&&!(e instanceof he))return v(e,"__ob__")&&e.__ob__ instanceof _e?n=e.__ob__:we&&!te()&&(Array.isArray(e)||s(e))&&Object.isExtensible(e)&&!e._isVue&&(n=new _e(e)),t&&n&&n.vmCount++,n}function Se(e,t,n,i,r){var o=new le,a=Object.getOwnPropertyDescriptor(e,t);if(!a||!1!==a.configurable){var s=a&&a.get,l=a&&a.set;s&&!l||2!==arguments.length||(n=e[t]);var c=!r&&Ce(n);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=s?s.call(e):n;return le.target&&(o.depend(),c&&(c.dep.depend(),Array.isArray(t)&&function e(t){for(var n=void 0,i=0,r=t.length;i<r;i++)(n=t[i])&&n.__ob__&&n.__ob__.dep.depend(),Array.isArray(n)&&e(n)}(t))),t},set:function(t){var i=s?s.call(e):n;t===i||t!=t&&i!=i||s&&!l||(l?l.call(e,t):n=t,c=!r&&Ce(t),o.notify())}})}}function ke(e,t,n){if(Array.isArray(e)&&l(t))return e.length=Math.max(e.length,t),e.splice(t,1,n),n;if(t in e&&!(t in Object.prototype))return e[t]=n,n;var i=e.__ob__;return e._isVue||i&&i.vmCount?n:i?(Se(i.value,t,n),i.dep.notify(),n):(e[t]=n,n)}function Te(e,t){if(Array.isArray(e)&&l(t))e.splice(t,1);else{var n=e.__ob__;e._isVue||n&&n.vmCount||v(e,t)&&(delete e[t],n&&n.dep.notify())}}_e.prototype.walk=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)Se(e,t[n])},_e.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)Ce(e[t])};var Ee=L.optionMergeStrategies;function De(e,t){if(!t)return e;for(var n,i,r,o=oe?Reflect.ownKeys(t):Object.keys(t),a=0;a<o.length;a++)"__ob__"!==(n=o[a])&&(i=e[n],r=t[n],v(e,n)?i!==r&&s(i)&&s(r)&&De(i,r):ke(e,n,r));return e}function Ne(e,t,n){return n?function(){var i="function"==typeof t?t.call(n,n):t,r="function"==typeof e?e.call(n,n):e;return i?De(i,r):r}:t?e?function(){return De("function"==typeof t?t.call(this,this):t,"function"==typeof e?e.call(this,this):e)}:t:e}function Ae(e,t){var n=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return n?function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(n):n}function Oe(e,t,n,i){var r=Object.create(e||null);return t?T(r,t):r}Ee.data=function(e,t,n){return n?Ne(e,t,n):t&&"function"!=typeof t?e:Ne(e,t)},j.forEach(function(e){Ee[e]=Ae}),M.forEach(function(e){Ee[e+"s"]=Oe}),Ee.watch=function(e,t,n,i){if(e===Q&&(e=void 0),t===Q&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var r={};for(var o in T(r,e),t){var a=r[o],s=t[o];a&&!Array.isArray(a)&&(a=[a]),r[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return r},Ee.props=Ee.methods=Ee.inject=Ee.computed=function(e,t,n,i){if(!e)return t;var r=Object.create(null);return T(r,e),t&&T(r,t),r},Ee.provide=Ne;var Ie=function(e,t){return void 0===t?e:t};function Re(e,t,n){if("function"==typeof t&&(t=t.options),function(e,t){var n=e.props;if(n){var i,r,o={};if(Array.isArray(n))for(i=n.length;i--;)"string"==typeof(r=n[i])&&(o[w(r)]={type:null});else if(s(n))for(var a in n)r=n[a],o[w(a)]=s(r)?r:{type:r};e.props=o}}(t),function(e,t){var n=e.inject;if(n){var i=e.inject={};if(Array.isArray(n))for(var r=0;r<n.length;r++)i[n[r]]={from:n[r]};else if(s(n))for(var o in n){var a=n[o];i[o]=s(a)?T({from:o},a):{from:a}}}}(t),function(e){var t=e.directives;if(t)for(var n in t){var i=t[n];"function"==typeof i&&(t[n]={bind:i,update:i})}}(t),!t._base&&(t.extends&&(e=Re(e,t.extends,n)),t.mixins))for(var i=0,r=t.mixins.length;i<r;i++)e=Re(e,t.mixins[i],n);var o,a={};for(o in e)l(o);for(o in t)v(e,o)||l(o);function l(i){var r=Ee[i]||Ie;a[i]=r(e[i],t[i],n,i)}return a}function Pe(e,t,n,i){if("string"==typeof n){var r=e[t];if(v(r,n))return r[n];var o=w(n);if(v(r,o))return r[o];var a=x(o);return v(r,a)?r[a]:r[n]||r[o]||r[a]}}function Me(e,t,n,i){var r=t[e],o=!v(n,e),a=n[e],s=Be(Boolean,r.type);if(s>-1)if(o&&!v(r,"default"))a=!1;else if(""===a||a===C(e)){var l=Be(String,r.type);(l<0||s<l)&&(a=!0)}if(void 0===a){a=function(e,t,n){if(v(t,"default")){var i=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n]?e._props[n]:"function"==typeof i&&"Function"!==je(t.type)?i.call(e):i}}(i,r,e);var c=we;xe(!0),Ce(a),xe(c)}return a}function je(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function Le(e,t){return je(e)===je(t)}function Be(e,t){if(!Array.isArray(t))return Le(t,e)?0:-1;for(var n=0,i=t.length;n<i;n++)if(Le(t[n],e))return n;return-1}function $e(e,t,n){de();try{if(t)for(var i=t;i=i.$parent;){var r=i.$options.errorCaptured;if(r)for(var o=0;o<r.length;o++)try{if(!1===r[o].call(i,e,t,n))return}catch(e){He(e,i,"errorCaptured hook")}}He(e,t,n)}finally{ue()}}function Fe(e,t,n,i,r){var o;try{(o=n?e.apply(t,n):e.call(t))&&!o._isVue&&c(o)&&!o._handled&&(o.catch(function(e){return $e(e,i,r+" (Promise/async)")}),o._handled=!0)}catch(e){$e(e,i,r)}return o}function He(e,t,n){if(L.errorHandler)try{return L.errorHandler.call(null,e,t,n)}catch(t){t!==e&&ze(t,null,"config.errorHandler")}ze(e,t,n)}function ze(e,t,n){if(!W&&!U||"undefined"==typeof console)throw e;console.error(e)}var We,Ue=!1,qe=[],Ve=!1;function Ye(){Ve=!1;var e=qe.slice(0);qe.length=0;for(var t=0;t<e.length;t++)e[t]()}if("undefined"!=typeof Promise&&ie(Promise)){var Xe=Promise.resolve();We=function(){Xe.then(Ye),K&&setTimeout(D)},Ue=!0}else if(Y||"undefined"==typeof MutationObserver||!ie(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())We="undefined"!=typeof setImmediate&&ie(setImmediate)?function(){setImmediate(Ye)}:function(){setTimeout(Ye,0)};else{var Ge=1,Ke=new MutationObserver(Ye),Je=document.createTextNode(String(Ge));Ke.observe(Je,{characterData:!0}),We=function(){Ge=(Ge+1)%2,Je.data=String(Ge)},Ue=!0}function Qe(e,t){var n;if(qe.push(function(){if(e)try{e.call(t)}catch(e){$e(e,t,"nextTick")}else n&&n(t)}),Ve||(Ve=!0,We()),!e&&"undefined"!=typeof Promise)return new Promise(function(e){n=e})}var Ze=new re;function et(e){!function e(t,n){var i,r,a=Array.isArray(t);if(!(!a&&!o(t)||Object.isFrozen(t)||t instanceof he)){if(t.__ob__){var s=t.__ob__.dep.id;if(n.has(s))return;n.add(s)}if(a)for(i=t.length;i--;)e(t[i],n);else for(i=(r=Object.keys(t)).length;i--;)e(t[r[i]],n)}}(e,Ze),Ze.clear()}var tt=y(function(e){var t="&"===e.charAt(0),n="~"===(e=t?e.slice(1):e).charAt(0),i="!"===(e=n?e.slice(1):e).charAt(0);return{name:e=i?e.slice(1):e,once:n,capture:i,passive:t}});function nt(e,t){function n(){var e=arguments,i=n.fns;if(!Array.isArray(i))return Fe(i,null,arguments,t,"v-on handler");for(var r=i.slice(),o=0;o<r.length;o++)Fe(r[o],null,e,t,"v-on handler")}return n.fns=e,n}function it(e,n,r,o,a,s){var l,c,d,u;for(l in e)c=e[l],d=n[l],u=tt(l),t(c)||(t(d)?(t(c.fns)&&(c=e[l]=nt(c,s)),i(u.once)&&(c=e[l]=a(u.name,c,u.capture)),r(u.name,c,u.capture,u.passive,u.params)):c!==d&&(d.fns=c,e[l]=d));for(l in n)t(e[l])&&o((u=tt(l)).name,n[l],u.capture)}function rt(e,r,o){var a;e instanceof he&&(e=e.data.hook||(e.data.hook={}));var s=e[r];function l(){o.apply(this,arguments),m(a.fns,l)}t(s)?a=nt([l]):n(s.fns)&&i(s.merged)?(a=s).fns.push(l):a=nt([s,l]),a.merged=!0,e[r]=a}function ot(e,t,i,r,o){if(n(t)){if(v(t,i))return e[i]=t[i],o||delete t[i],!0;if(v(t,r))return e[i]=t[r],o||delete t[r],!0}return!1}function at(e){return r(e)?[me(e)]:Array.isArray(e)?function e(o,a){var s,l,c,d,u=[];for(s=0;s<o.length;s++)t(l=o[s])||"boolean"==typeof l||(d=u[c=u.length-1],Array.isArray(l)?l.length>0&&(st((l=e(l,(a||"")+"_"+s))[0])&&st(d)&&(u[c]=me(d.text+l[0].text),l.shift()),u.push.apply(u,l)):r(l)?st(d)?u[c]=me(d.text+l):""!==l&&u.push(me(l)):st(l)&&st(d)?u[c]=me(d.text+l.text):(i(o._isVList)&&n(l.tag)&&t(l.key)&&n(a)&&(l.key="__vlist"+a+"_"+s+"__"),u.push(l)));return u}(e):void 0}function st(e){return n(e)&&n(e.text)&&!1===e.isComment}function lt(e,t){if(e){for(var n=Object.create(null),i=oe?Reflect.ownKeys(e):Object.keys(e),r=0;r<i.length;r++){var o=i[r];if("__ob__"!==o){for(var a=e[o].from,s=t;s;){if(s._provided&&v(s._provided,a)){n[o]=s._provided[a];break}s=s.$parent}if(!s&&"default"in e[o]){var l=e[o].default;n[o]="function"==typeof l?l.call(t):l}}}return n}}function ct(e,t){if(!e||!e.length)return{};for(var n={},i=0,r=e.length;i<r;i++){var o=e[i],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==t&&o.fnContext!==t||!a||null==a.slot)(n.default||(n.default=[])).push(o);else{var s=a.slot,l=n[s]||(n[s]=[]);"template"===o.tag?l.push.apply(l,o.children||[]):l.push(o)}}for(var c in n)n[c].every(dt)&&delete n[c];return n}function dt(e){return e.isComment&&!e.asyncFactory||" "===e.text}function ut(t,n,i){var r,o=Object.keys(n).length>0,a=t?!!t.$stable:!o,s=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(a&&i&&i!==e&&s===i.$key&&!o&&!i.$hasNormal)return i;for(var l in r={},t)t[l]&&"$"!==l[0]&&(r[l]=ht(n,l,t[l]))}else r={};for(var c in n)c in r||(r[c]=ft(n,c));return t&&Object.isExtensible(t)&&(t._normalized=r),$(r,"$stable",a),$(r,"$key",s),$(r,"$hasNormal",o),r}function ht(e,t,n){var i=function(){var e=arguments.length?n.apply(null,arguments):n({});return(e=e&&"object"==typeof e&&!Array.isArray(e)?[e]:at(e))&&(0===e.length||1===e.length&&e[0].isComment)?void 0:e};return n.proxy&&Object.defineProperty(e,t,{get:i,enumerable:!0,configurable:!0}),i}function ft(e,t){return function(){return e[t]}}function pt(e,t){var i,r,a,s,l;if(Array.isArray(e)||"string"==typeof e)for(i=new Array(e.length),r=0,a=e.length;r<a;r++)i[r]=t(e[r],r);else if("number"==typeof e)for(i=new Array(e),r=0;r<e;r++)i[r]=t(r+1,r);else if(o(e))if(oe&&e[Symbol.iterator]){i=[];for(var c=e[Symbol.iterator](),d=c.next();!d.done;)i.push(t(d.value,i.length)),d=c.next()}else for(s=Object.keys(e),i=new Array(s.length),r=0,a=s.length;r<a;r++)l=s[r],i[r]=t(e[l],l,r);return n(i)||(i=[]),i._isVList=!0,i}function mt(e,t,n,i){var r,o=this.$scopedSlots[e];o?(n=n||{},i&&(n=T(T({},i),n)),r=o(n)||t):r=this.$slots[e]||t;var a=n&&n.slot;return a?this.$createElement("template",{slot:a},r):r}function gt(e){return Pe(this.$options,"filters",e)||A}function vt(e,t){return Array.isArray(e)?-1===e.indexOf(t):e!==t}function yt(e,t,n,i,r){var o=L.keyCodes[t]||n;return r&&i&&!L.keyCodes[t]?vt(r,i):o?vt(o,e):i?C(i)!==t:void 0}function bt(e,t,n,i,r){if(n&&o(n)){var a;Array.isArray(n)&&(n=E(n));var s=function(o){if("class"===o||"style"===o||p(o))a=e;else{var s=e.attrs&&e.attrs.type;a=i||L.mustUseProp(t,s,o)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var l=w(o),c=C(o);l in a||c in a||(a[o]=n[o],r&&((e.on||(e.on={}))["update:"+o]=function(e){n[o]=e}))};for(var l in n)s(l)}return e}function wt(e,t){var n=this._staticTrees||(this._staticTrees=[]),i=n[e];return i&&!t?i:(_t(i=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),"__static__"+e,!1),i)}function xt(e,t,n){return _t(e,"__once__"+t+(n?"_"+n:""),!0),e}function _t(e,t,n){if(Array.isArray(e))for(var i=0;i<e.length;i++)e[i]&&"string"!=typeof e[i]&&Ct(e[i],t+"_"+i,n);else Ct(e,t,n)}function Ct(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function St(e,t){if(t&&s(t)){var n=e.on=e.on?T({},e.on):{};for(var i in t){var r=n[i],o=t[i];n[i]=r?[].concat(r,o):o}}return e}function kt(e,t,n,i){t=t||{$stable:!n};for(var r=0;r<e.length;r++){var o=e[r];Array.isArray(o)?kt(o,t,n):o&&(o.proxy&&(o.fn.proxy=!0),t[o.key]=o.fn)}return i&&(t.$key=i),t}function Tt(e,t){for(var n=0;n<t.length;n+=2){var i=t[n];"string"==typeof i&&i&&(e[t[n]]=t[n+1])}return e}function Et(e,t){return"string"==typeof e?t+e:e}function Dt(e){e._o=xt,e._n=u,e._s=d,e._l=pt,e._t=mt,e._q=O,e._i=I,e._m=wt,e._f=gt,e._k=yt,e._b=bt,e._v=me,e._e=pe,e._u=kt,e._g=St,e._d=Tt,e._p=Et}function Nt(t,n,r,o,a){var s,l=this,c=a.options;v(o,"_uid")?(s=Object.create(o))._original=o:(s=o,o=o._original);var d=i(c._compiled),u=!d;this.data=t,this.props=n,this.children=r,this.parent=o,this.listeners=t.on||e,this.injections=lt(c.inject,o),this.slots=function(){return l.$slots||ut(t.scopedSlots,l.$slots=ct(r,o)),l.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return ut(t.scopedSlots,this.slots())}}),d&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=ut(t.scopedSlots,this.$slots)),c._scopeId?this._c=function(e,t,n,i){var r=Bt(s,e,t,n,i,u);return r&&!Array.isArray(r)&&(r.fnScopeId=c._scopeId,r.fnContext=o),r}:this._c=function(e,t,n,i){return Bt(s,e,t,n,i,u)}}function At(e,t,n,i,r){var o=ge(e);return o.fnContext=n,o.fnOptions=i,t.slot&&((o.data||(o.data={})).slot=t.slot),o}function Ot(e,t){for(var n in t)e[w(n)]=t[n]}Dt(Nt.prototype);var It={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var i=e;It.prepatch(i,i)}else(e.componentInstance=function(e,t){var i={_isComponent:!0,_parentVnode:e,parent:Xt},r=e.data.inlineTemplate;return n(r)&&(i.render=r.render,i.staticRenderFns=r.staticRenderFns),new e.componentOptions.Ctor(i)}(e)).$mount(t?e.elm:void 0,t)},prepatch:function(t,n){var i=n.componentOptions;!function(t,n,i,r,o){var a=r.data.scopedSlots,s=t.$scopedSlots,l=!!(a&&!a.$stable||s!==e&&!s.$stable||a&&t.$scopedSlots.$key!==a.$key),c=!!(o||t.$options._renderChildren||l);if(t.$options._parentVnode=r,t.$vnode=r,t._vnode&&(t._vnode.parent=r),t.$options._renderChildren=o,t.$attrs=r.data.attrs||e,t.$listeners=i||e,n&&t.$options.props){xe(!1);for(var d=t._props,u=t.$options._propKeys||[],h=0;h<u.length;h++){var f=u[h],p=t.$options.props;d[f]=Me(f,p,n,t)}xe(!0),t.$options.propsData=n}i=i||e;var m=t.$options._parentListeners;t.$options._parentListeners=i,Yt(t,i,m),c&&(t.$slots=ct(o,r.context),t.$forceUpdate())}(n.componentInstance=t.componentInstance,i.propsData,i.listeners,n,i.children)},insert:function(e){var t,n=e.context,i=e.componentInstance;i._isMounted||(i._isMounted=!0,Qt(i,"mounted")),e.data.keepAlive&&(n._isMounted?((t=i)._inactive=!1,en.push(t)):Jt(i,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?function e(t,n){if(!(n&&(t._directInactive=!0,Kt(t))||t._inactive)){t._inactive=!0;for(var i=0;i<t.$children.length;i++)e(t.$children[i]);Qt(t,"deactivated")}}(t,!0):t.$destroy())}},Rt=Object.keys(It);function Pt(r,a,s,l,d){if(!t(r)){var u=s.$options._base;if(o(r)&&(r=u.extend(r)),"function"==typeof r){var h;if(t(r.cid)&&void 0===(r=function(e,r){if(i(e.error)&&n(e.errorComp))return e.errorComp;if(n(e.resolved))return e.resolved;var a=Ft;if(a&&n(e.owners)&&-1===e.owners.indexOf(a)&&e.owners.push(a),i(e.loading)&&n(e.loadingComp))return e.loadingComp;if(a&&!n(e.owners)){var s=e.owners=[a],l=!0,d=null,u=null;a.$on("hook:destroyed",function(){return m(s,a)});var h=function(e){for(var t=0,n=s.length;t<n;t++)s[t].$forceUpdate();e&&(s.length=0,null!==d&&(clearTimeout(d),d=null),null!==u&&(clearTimeout(u),u=null))},f=R(function(t){e.resolved=Ht(t,r),l?s.length=0:h(!0)}),p=R(function(t){n(e.errorComp)&&(e.error=!0,h(!0))}),g=e(f,p);return o(g)&&(c(g)?t(e.resolved)&&g.then(f,p):c(g.component)&&(g.component.then(f,p),n(g.error)&&(e.errorComp=Ht(g.error,r)),n(g.loading)&&(e.loadingComp=Ht(g.loading,r),0===g.delay?e.loading=!0:d=setTimeout(function(){d=null,t(e.resolved)&&t(e.error)&&(e.loading=!0,h(!1))},g.delay||200)),n(g.timeout)&&(u=setTimeout(function(){u=null,t(e.resolved)&&p(null)},g.timeout)))),l=!1,e.loading?e.loadingComp:e.resolved}}(h=r,u)))return function(e,t,n,i,r){var o=pe();return o.asyncFactory=e,o.asyncMeta={data:t,context:n,children:i,tag:r},o}(h,a,s,l,d);a=a||{},wn(r),n(a.model)&&function(e,t){var i=e.model&&e.model.prop||"value",r=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[i]=t.model.value;var o=t.on||(t.on={}),a=o[r],s=t.model.callback;n(a)?(Array.isArray(a)?-1===a.indexOf(s):a!==s)&&(o[r]=[s].concat(a)):o[r]=s}(r.options,a);var f=function(e,i,r){var o=i.options.props;if(!t(o)){var a={},s=e.attrs,l=e.props;if(n(s)||n(l))for(var c in o){var d=C(c);ot(a,l,c,d,!0)||ot(a,s,c,d,!1)}return a}}(a,r);if(i(r.options.functional))return function(t,i,r,o,a){var s=t.options,l={},c=s.props;if(n(c))for(var d in c)l[d]=Me(d,c,i||e);else n(r.attrs)&&Ot(l,r.attrs),n(r.props)&&Ot(l,r.props);var u=new Nt(r,l,a,o,t),h=s.render.call(null,u._c,u);if(h instanceof he)return At(h,r,u.parent,s);if(Array.isArray(h)){for(var f=at(h)||[],p=new Array(f.length),m=0;m<f.length;m++)p[m]=At(f[m],r,u.parent,s);return p}}(r,f,a,s,l);var p=a.on;if(a.on=a.nativeOn,i(r.options.abstract)){var g=a.slot;a={},g&&(a.slot=g)}!function(e){for(var t=e.hook||(e.hook={}),n=0;n<Rt.length;n++){var i=Rt[n],r=t[i],o=It[i];r===o||r&&r._merged||(t[i]=r?Mt(o,r):o)}}(a);var v=r.options.name||d;return new he("vue-component-"+r.cid+(v?"-"+v:""),a,void 0,void 0,void 0,s,{Ctor:r,propsData:f,listeners:p,tag:d,children:l},h)}}}function Mt(e,t){var n=function(n,i){e(n,i),t(n,i)};return n._merged=!0,n}var jt=1,Lt=2;function Bt(e,a,s,l,c,d){return(Array.isArray(s)||r(s))&&(c=l,l=s,s=void 0),i(d)&&(c=Lt),function(e,r,a,s,l){if(n(a)&&n(a.__ob__))return pe();if(n(a)&&n(a.is)&&(r=a.is),!r)return pe();var c,d,u;(Array.isArray(s)&&"function"==typeof s[0]&&((a=a||{}).scopedSlots={default:s[0]},s.length=0),l===Lt?s=at(s):l===jt&&(s=function(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}(s)),"string"==typeof r)?(d=e.$vnode&&e.$vnode.ns||L.getTagNamespace(r),c=L.isReservedTag(r)?new he(L.parsePlatformTagName(r),a,s,void 0,void 0,e):a&&a.pre||!n(u=Pe(e.$options,"components",r))?new he(r,a,s,void 0,void 0,e):Pt(u,a,e,s,r)):c=Pt(r,a,e,s);return Array.isArray(c)?c:n(c)?(n(d)&&function e(r,o,a){if(r.ns=o,"foreignObject"===r.tag&&(o=void 0,a=!0),n(r.children))for(var s=0,l=r.children.length;s<l;s++){var c=r.children[s];n(c.tag)&&(t(c.ns)||i(a)&&"svg"!==c.tag)&&e(c,o,a)}}(c,d),n(a)&&function(e){o(e.style)&&et(e.style),o(e.class)&&et(e.class)}(a),c):pe()}(e,a,s,l,c)}var $t,Ft=null;function Ht(e,t){return(e.__esModule||oe&&"Module"===e[Symbol.toStringTag])&&(e=e.default),o(e)?t.extend(e):e}function zt(e){return e.isComment&&e.asyncFactory}function Wt(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var i=e[t];if(n(i)&&(n(i.componentOptions)||zt(i)))return i}}function Ut(e,t){$t.$on(e,t)}function qt(e,t){$t.$off(e,t)}function Vt(e,t){var n=$t;return function i(){null!==t.apply(null,arguments)&&n.$off(e,i)}}function Yt(e,t,n){$t=e,it(t,n||{},Ut,qt,Vt,e),$t=void 0}var Xt=null;function Gt(e){var t=Xt;return Xt=e,function(){Xt=t}}function Kt(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function Jt(e,t){if(t){if(e._directInactive=!1,Kt(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)Jt(e.$children[n]);Qt(e,"activated")}}function Qt(e,t){de();var n=e.$options[t],i=t+" hook";if(n)for(var r=0,o=n.length;r<o;r++)Fe(n[r],e,null,e,i);e._hasHookEvent&&e.$emit("hook:"+t),ue()}var Zt=[],en=[],tn={},nn=!1,rn=!1,on=0,an=0,sn=Date.now;if(W&&!Y){var ln=window.performance;ln&&"function"==typeof ln.now&&sn()>document.createEvent("Event").timeStamp&&(sn=function(){return ln.now()})}function cn(){var e,t;for(an=sn(),rn=!0,Zt.sort(function(e,t){return e.id-t.id}),on=0;on<Zt.length;on++)(e=Zt[on]).before&&e.before(),t=e.id,tn[t]=null,e.run();var n=en.slice(),i=Zt.slice();on=Zt.length=en.length=0,tn={},nn=rn=!1,function(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,Jt(e[t],!0)}(n),function(e){for(var t=e.length;t--;){var n=e[t],i=n.vm;i._watcher===n&&i._isMounted&&!i._isDestroyed&&Qt(i,"updated")}}(i),ne&&L.devtools&&ne.emit("flush")}var dn=0,un=function(e,t,n,i,r){this.vm=e,r&&(e._watcher=this),e._watchers.push(this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++dn,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new re,this.newDepIds=new re,this.expression="","function"==typeof t?this.getter=t:(this.getter=function(e){if(!H.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}(t),this.getter||(this.getter=D)),this.value=this.lazy?void 0:this.get()};un.prototype.get=function(){var e;de(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(e){if(!this.user)throw e;$e(e,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&et(e),ue(),this.cleanupDeps()}return e},un.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},un.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},un.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(e){var t=e.id;if(null==tn[t]){if(tn[t]=!0,rn){for(var n=Zt.length-1;n>on&&Zt[n].id>e.id;)n--;Zt.splice(n+1,0,e)}else Zt.push(e);nn||(nn=!0,Qe(cn))}}(this)},un.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||o(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(e){$e(e,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},un.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},un.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},un.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||m(this.vm._watchers,this);for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1}};var hn={enumerable:!0,configurable:!0,get:D,set:D};function fn(e,t,n){hn.get=function(){return this[t][n]},hn.set=function(e){this[t][n]=e},Object.defineProperty(e,n,hn)}var pn={lazy:!0};function mn(e,t,n){var i=!te();"function"==typeof n?(hn.get=i?gn(t):vn(n),hn.set=D):(hn.get=n.get?i&&!1!==n.cache?gn(t):vn(n.get):D,hn.set=n.set||D),Object.defineProperty(e,t,hn)}function gn(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),le.target&&t.depend(),t.value}}function vn(e){return function(){return e.call(this,this)}}function yn(e,t,n,i){return s(n)&&(i=n,n=n.handler),"string"==typeof n&&(n=e[n]),e.$watch(t,n,i)}var bn=0;function wn(e){var t=e.options;if(e.super){var n=wn(e.super);if(n!==e.superOptions){e.superOptions=n;var i=function(e){var t,n=e.options,i=e.sealedOptions;for(var r in n)n[r]!==i[r]&&(t||(t={}),t[r]=n[r]);return t}(e);i&&T(e.extendOptions,i),(t=e.options=Re(n,e.extendOptions)).name&&(t.components[t.name]=e)}}return t}function xn(e){this._init(e)}function _n(e){return e&&(e.Ctor.options.name||e.tag)}function Cn(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"==typeof e?e.split(",").indexOf(t)>-1:(n=e,"[object RegExp]"===a.call(n)&&e.test(t));var n}function Sn(e,t){var n=e.cache,i=e.keys,r=e._vnode;for(var o in n){var a=n[o];if(a){var s=_n(a.componentOptions);s&&!t(s)&&kn(n,o,i,r)}}}function kn(e,t,n,i){var r=e[t];!r||i&&r.tag===i.tag||r.componentInstance.$destroy(),e[t]=null,m(n,t)}xn.prototype._init=function(t){var n=this;n._uid=bn++,n._isVue=!0,t&&t._isComponent?function(e,t){var n=e.$options=Object.create(e.constructor.options),i=t._parentVnode;n.parent=t.parent,n._parentVnode=i;var r=i.componentOptions;n.propsData=r.propsData,n._parentListeners=r.listeners,n._renderChildren=r.children,n._componentTag=r.tag,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}(n,t):n.$options=Re(wn(n.constructor),t||{},n),n._renderProxy=n,n._self=n,function(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}(n),function(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&Yt(e,t)}(n),function(t){t._vnode=null,t._staticTrees=null;var n=t.$options,i=t.$vnode=n._parentVnode,r=i&&i.context;t.$slots=ct(n._renderChildren,r),t.$scopedSlots=e,t._c=function(e,n,i,r){return Bt(t,e,n,i,r,!1)},t.$createElement=function(e,n,i,r){return Bt(t,e,n,i,r,!0)};var o=i&&i.data;Se(t,"$attrs",o&&o.attrs||e,null,!0),Se(t,"$listeners",n._parentListeners||e,null,!0)}(n),Qt(n,"beforeCreate"),function(e){var t=lt(e.$options.inject,e);t&&(xe(!1),Object.keys(t).forEach(function(n){Se(e,n,t[n])}),xe(!0))}(n),function(e){e._watchers=[];var t=e.$options;t.props&&function(e,t){var n=e.$options.propsData||{},i=e._props={},r=e.$options._propKeys=[];e.$parent&&xe(!1);var o=function(o){r.push(o);var a=Me(o,t,n,e);Se(i,o,a),o in e||fn(e,"_props",o)};for(var a in t)o(a);xe(!0)}(e,t.props),t.methods&&function(e,t){for(var n in e.$options.props,t)e[n]="function"!=typeof t[n]?D:S(t[n],e)}(e,t.methods),t.data?function(e){var t=e.$options.data;s(t=e._data="function"==typeof t?function(e,t){de();try{return e.call(t,t)}catch(e){return $e(e,t,"data()"),{}}finally{ue()}}(t,e):t||{})||(t={});for(var n,i=Object.keys(t),r=e.$options.props,o=(e.$options.methods,i.length);o--;){var a=i[o];r&&v(r,a)||36!==(n=(a+"").charCodeAt(0))&&95!==n&&fn(e,"_data",a)}Ce(t,!0)}(e):Ce(e._data={},!0),t.computed&&function(e,t){var n=e._computedWatchers=Object.create(null),i=te();for(var r in t){var o=t[r],a="function"==typeof o?o:o.get;i||(n[r]=new un(e,a||D,D,pn)),r in e||mn(e,r,o)}}(e,t.computed),t.watch&&t.watch!==Q&&function(e,t){for(var n in t){var i=t[n];if(Array.isArray(i))for(var r=0;r<i.length;r++)yn(e,n,i[r]);else yn(e,n,i)}}(e,t.watch)}(n),function(e){var t=e.$options.provide;t&&(e._provided="function"==typeof t?t.call(e):t)}(n),Qt(n,"created"),n.$options.el&&n.$mount(n.$options.el)},function(e){Object.defineProperty(e.prototype,"$data",{get:function(){return this._data}}),Object.defineProperty(e.prototype,"$props",{get:function(){return this._props}}),e.prototype.$set=ke,e.prototype.$delete=Te,e.prototype.$watch=function(e,t,n){if(s(t))return yn(this,e,t,n);(n=n||{}).user=!0;var i=new un(this,e,t,n);if(n.immediate)try{t.call(this,i.value)}catch(e){$e(e,this,'callback for immediate watcher "'+i.expression+'"')}return function(){i.teardown()}}}(xn),function(e){var t=/^hook:/;e.prototype.$on=function(e,n){var i=this;if(Array.isArray(e))for(var r=0,o=e.length;r<o;r++)i.$on(e[r],n);else(i._events[e]||(i._events[e]=[])).push(n),t.test(e)&&(i._hasHookEvent=!0);return i},e.prototype.$once=function(e,t){var n=this;function i(){n.$off(e,i),t.apply(n,arguments)}return i.fn=t,n.$on(e,i),n},e.prototype.$off=function(e,t){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(e)){for(var i=0,r=e.length;i<r;i++)n.$off(e[i],t);return n}var o,a=n._events[e];if(!a)return n;if(!t)return n._events[e]=null,n;for(var s=a.length;s--;)if((o=a[s])===t||o.fn===t){a.splice(s,1);break}return n},e.prototype.$emit=function(e){var t=this._events[e];if(t){t=t.length>1?k(t):t;for(var n=k(arguments,1),i='event handler for "'+e+'"',r=0,o=t.length;r<o;r++)Fe(t[r],this,n,this,i)}return this}}(xn),function(e){e.prototype._update=function(e,t){var n=this,i=n.$el,r=n._vnode,o=Gt(n);n._vnode=e,n.$el=r?n.__patch__(r,e):n.__patch__(n.$el,e,t,!1),o(),i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},e.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){Qt(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||m(t.$children,e),e._watcher&&e._watcher.teardown();for(var n=e._watchers.length;n--;)e._watchers[n].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),Qt(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}(xn),function(e){Dt(e.prototype),e.prototype.$nextTick=function(e){return Qe(e,this)},e.prototype._render=function(){var e,t=this,n=t.$options,i=n.render,r=n._parentVnode;r&&(t.$scopedSlots=ut(r.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=r;try{Ft=t,e=i.call(t._renderProxy,t.$createElement)}catch(n){$e(n,t,"render"),e=t._vnode}finally{Ft=null}return Array.isArray(e)&&1===e.length&&(e=e[0]),e instanceof he||(e=pe()),e.parent=r,e}}(xn);var Tn=[String,RegExp,Array],En={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Tn,exclude:Tn,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)kn(this.cache,e,this.keys)},mounted:function(){var e=this;this.$watch("include",function(t){Sn(e,function(e){return Cn(t,e)})}),this.$watch("exclude",function(t){Sn(e,function(e){return!Cn(t,e)})})},render:function(){var e=this.$slots.default,t=Wt(e),n=t&&t.componentOptions;if(n){var i=_n(n),r=this.include,o=this.exclude;if(r&&(!i||!Cn(r,i))||o&&i&&Cn(o,i))return t;var a=this.cache,s=this.keys,l=null==t.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):t.key;a[l]?(t.componentInstance=a[l].componentInstance,m(s,l),s.push(l)):(a[l]=t,s.push(l),this.max&&s.length>parseInt(this.max)&&kn(a,s[0],s,this._vnode)),t.data.keepAlive=!0}return t||e&&e[0]}}};!function(e){var t={get:function(){return L}};Object.defineProperty(e,"config",t),e.util={warn:ae,extend:T,mergeOptions:Re,defineReactive:Se},e.set=ke,e.delete=Te,e.nextTick=Qe,e.observable=function(e){return Ce(e),e},e.options=Object.create(null),M.forEach(function(t){e.options[t+"s"]=Object.create(null)}),e.options._base=e,T(e.options.components,En),function(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var n=k(arguments,1);return n.unshift(this),"function"==typeof e.install?e.install.apply(e,n):"function"==typeof e&&e.apply(null,n),t.push(e),this}}(e),function(e){e.mixin=function(e){return this.options=Re(this.options,e),this}}(e),function(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,i=n.cid,r=e._Ctor||(e._Ctor={});if(r[i])return r[i];var o=e.name||n.options.name,a=function(e){this._init(e)};return(a.prototype=Object.create(n.prototype)).constructor=a,a.cid=t++,a.options=Re(n.options,e),a.super=n,a.options.props&&function(e){var t=e.options.props;for(var n in t)fn(e.prototype,"_props",n)}(a),a.options.computed&&function(e){var t=e.options.computed;for(var n in t)mn(e.prototype,n,t[n])}(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,M.forEach(function(e){a[e]=n[e]}),o&&(a.options.components[o]=a),a.superOptions=n.options,a.extendOptions=e,a.sealedOptions=T({},a.options),r[i]=a,a}}(e),function(e){M.forEach(function(t){e[t]=function(e,n){return n?("component"===t&&s(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),"directive"===t&&"function"==typeof n&&(n={bind:n,update:n}),this.options[t+"s"][e]=n,n):this.options[t+"s"][e]}})}(e)}(xn),Object.defineProperty(xn.prototype,"$isServer",{get:te}),Object.defineProperty(xn.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(xn,"FunctionalRenderContext",{value:Nt}),xn.version="2.6.10";var Dn=h("style,class"),Nn=h("input,textarea,option,select,progress"),An=function(e,t,n){return"value"===n&&Nn(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},On=h("contenteditable,draggable,spellcheck"),In=h("events,caret,typing,plaintext-only"),Rn=function(e,t){return Bn(t)||"false"===t?"false":"contenteditable"===e&&In(t)?t:"true"},Pn=h("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Mn="http://www.w3.org/1999/xlink",jn=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},Ln=function(e){return jn(e)?e.slice(6,e.length):""},Bn=function(e){return null==e||!1===e};function $n(e,t){return{staticClass:Fn(e.staticClass,t.staticClass),class:n(e.class)?[e.class,t.class]:t.class}}function Fn(e,t){return e?t?e+" "+t:e:t||""}function Hn(e){return Array.isArray(e)?function(e){for(var t,i="",r=0,o=e.length;r<o;r++)n(t=Hn(e[r]))&&""!==t&&(i&&(i+=" "),i+=t);return i}(e):o(e)?function(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}(e):"string"==typeof e?e:""}var zn={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Wn=h("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Un=h("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),qn=function(e){return Wn(e)||Un(e)};function Vn(e){return Un(e)?"svg":"math"===e?"math":void 0}var Yn=Object.create(null),Xn=h("text,number,password,search,email,tel,url");function Gn(e){return"string"==typeof e?document.querySelector(e)||document.createElement("div"):e}var Kn=Object.freeze({createElement:function(e,t){var n=document.createElement(e);return"select"!==e?n:(t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)},createElementNS:function(e,t){return document.createElementNS(zn[e],t)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,n){e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},appendChild:function(e,t){e.appendChild(t)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},setStyleScope:function(e,t){e.setAttribute(t,"")}}),Jn={create:function(e,t){Qn(t)},update:function(e,t){e.data.ref!==t.data.ref&&(Qn(e,!0),Qn(t))},destroy:function(e){Qn(e,!0)}};function Qn(e,t){var i=e.data.ref;if(n(i)){var r=e.context,o=e.componentInstance||e.elm,a=r.$refs;t?Array.isArray(a[i])?m(a[i],o):a[i]===o&&(a[i]=void 0):e.data.refInFor?Array.isArray(a[i])?a[i].indexOf(o)<0&&a[i].push(o):a[i]=[o]:a[i]=o}}var Zn=new he("",{},[]),ei=["create","activate","update","remove","destroy"];function ti(e,r){return e.key===r.key&&(e.tag===r.tag&&e.isComment===r.isComment&&n(e.data)===n(r.data)&&function(e,t){if("input"!==e.tag)return!0;var i,r=n(i=e.data)&&n(i=i.attrs)&&i.type,o=n(i=t.data)&&n(i=i.attrs)&&i.type;return r===o||Xn(r)&&Xn(o)}(e,r)||i(e.isAsyncPlaceholder)&&e.asyncFactory===r.asyncFactory&&t(r.asyncFactory.error))}function ni(e,t,i){var r,o,a={};for(r=t;r<=i;++r)n(o=e[r].key)&&(a[o]=r);return a}var ii={create:ri,update:ri,destroy:function(e){ri(e,Zn)}};function ri(e,t){(e.data.directives||t.data.directives)&&function(e,t){var n,i,r,o=e===Zn,a=t===Zn,s=ai(e.data.directives,e.context),l=ai(t.data.directives,t.context),c=[],d=[];for(n in l)i=s[n],r=l[n],i?(r.oldValue=i.value,r.oldArg=i.arg,li(r,"update",t,e),r.def&&r.def.componentUpdated&&d.push(r)):(li(r,"bind",t,e),r.def&&r.def.inserted&&c.push(r));if(c.length){var u=function(){for(var n=0;n<c.length;n++)li(c[n],"inserted",t,e)};o?rt(t,"insert",u):u()}if(d.length&&rt(t,"postpatch",function(){for(var n=0;n<d.length;n++)li(d[n],"componentUpdated",t,e)}),!o)for(n in s)l[n]||li(s[n],"unbind",e,e,a)}(e,t)}var oi=Object.create(null);function ai(e,t){var n,i,r=Object.create(null);if(!e)return r;for(n=0;n<e.length;n++)(i=e[n]).modifiers||(i.modifiers=oi),r[si(i)]=i,i.def=Pe(t.$options,"directives",i.name);return r}function si(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function li(e,t,n,i,r){var o=e.def&&e.def[t];if(o)try{o(n.elm,e,n,i,r)}catch(i){$e(i,n.context,"directive "+e.name+" "+t+" hook")}}var ci=[Jn,ii];function di(e,i){var r=i.componentOptions;if(!(n(r)&&!1===r.Ctor.options.inheritAttrs||t(e.data.attrs)&&t(i.data.attrs))){var o,a,s=i.elm,l=e.data.attrs||{},c=i.data.attrs||{};for(o in n(c.__ob__)&&(c=i.data.attrs=T({},c)),c)a=c[o],l[o]!==a&&ui(s,o,a);for(o in(Y||G)&&c.value!==l.value&&ui(s,"value",c.value),l)t(c[o])&&(jn(o)?s.removeAttributeNS(Mn,Ln(o)):On(o)||s.removeAttribute(o))}}function ui(e,t,n){e.tagName.indexOf("-")>-1?hi(e,t,n):Pn(t)?Bn(n)?e.removeAttribute(t):(n="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,n)):On(t)?e.setAttribute(t,Rn(t,n)):jn(t)?Bn(n)?e.removeAttributeNS(Mn,Ln(t)):e.setAttributeNS(Mn,t,n):hi(e,t,n)}function hi(e,t,n){if(Bn(n))e.removeAttribute(t);else{if(Y&&!X&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==n&&!e.__ieph){var i=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",i)};e.addEventListener("input",i),e.__ieph=!0}e.setAttribute(t,n)}}var fi={create:di,update:di};function pi(e,i){var r=i.elm,o=i.data,a=e.data;if(!(t(o.staticClass)&&t(o.class)&&(t(a)||t(a.staticClass)&&t(a.class)))){var s=function(e){for(var t=e.data,i=e,r=e;n(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(t=$n(r.data,t));for(;n(i=i.parent);)i&&i.data&&(t=$n(t,i.data));return function(e,t){return n(e)||n(t)?Fn(e,Hn(t)):""}(t.staticClass,t.class)}(i),l=r._transitionClasses;n(l)&&(s=Fn(s,Hn(l))),s!==r._prevClass&&(r.setAttribute("class",s),r._prevClass=s)}}var mi,gi,vi,yi,bi,wi,xi={create:pi,update:pi},_i=/[\w).+\-_$\]]/;function Ci(e){var t,n,i,r,o,a=!1,s=!1,l=!1,c=!1,d=0,u=0,h=0,f=0;for(i=0;i<e.length;i++)if(n=t,t=e.charCodeAt(i),a)39===t&&92!==n&&(a=!1);else if(s)34===t&&92!==n&&(s=!1);else if(l)96===t&&92!==n&&(l=!1);else if(c)47===t&&92!==n&&(c=!1);else if(124!==t||124===e.charCodeAt(i+1)||124===e.charCodeAt(i-1)||d||u||h){switch(t){case 34:s=!0;break;case 39:a=!0;break;case 96:l=!0;break;case 40:h++;break;case 41:h--;break;case 91:u++;break;case 93:u--;break;case 123:d++;break;case 125:d--}if(47===t){for(var p=i-1,m=void 0;p>=0&&" "===(m=e.charAt(p));p--);m&&_i.test(m)||(c=!0)}}else void 0===r?(f=i+1,r=e.slice(0,i).trim()):g();function g(){(o||(o=[])).push(e.slice(f,i).trim()),f=i+1}if(void 0===r?r=e.slice(0,i).trim():0!==f&&g(),o)for(i=0;i<o.length;i++)r=Si(r,o[i]);return r}function Si(e,t){var n=t.indexOf("(");if(n<0)return'_f("'+t+'")('+e+")";var i=t.slice(0,n),r=t.slice(n+1);return'_f("'+i+'")('+e+(")"!==r?","+r:r)}function ki(e,t){console.error("[Vue compiler]: "+e)}function Ti(e,t){return e?e.map(function(e){return e[t]}).filter(function(e){return e}):[]}function Ei(e,t,n,i,r){(e.props||(e.props=[])).push(ji({name:t,value:n,dynamic:r},i)),e.plain=!1}function Di(e,t,n,i,r){(r?e.dynamicAttrs||(e.dynamicAttrs=[]):e.attrs||(e.attrs=[])).push(ji({name:t,value:n,dynamic:r},i)),e.plain=!1}function Ni(e,t,n,i){e.attrsMap[t]=n,e.attrsList.push(ji({name:t,value:n},i))}function Ai(e,t,n,i,r,o,a,s){(e.directives||(e.directives=[])).push(ji({name:t,rawName:n,value:i,arg:r,isDynamicArg:o,modifiers:a},s)),e.plain=!1}function Oi(e,t,n){return n?"_p("+t+',"'+e+'")':e+t}function Ii(t,n,i,r,o,a,s,l){var c;(r=r||e).right?l?n="("+n+")==='click'?'contextmenu':("+n+")":"click"===n&&(n="contextmenu",delete r.right):r.middle&&(l?n="("+n+")==='click'?'mouseup':("+n+")":"click"===n&&(n="mouseup")),r.capture&&(delete r.capture,n=Oi("!",n,l)),r.once&&(delete r.once,n=Oi("~",n,l)),r.passive&&(delete r.passive,n=Oi("&",n,l)),r.native?(delete r.native,c=t.nativeEvents||(t.nativeEvents={})):c=t.events||(t.events={});var d=ji({value:i.trim(),dynamic:l},s);r!==e&&(d.modifiers=r);var u=c[n];Array.isArray(u)?o?u.unshift(d):u.push(d):c[n]=u?o?[d,u]:[u,d]:d,t.plain=!1}function Ri(e,t,n){var i=Pi(e,":"+t)||Pi(e,"v-bind:"+t);if(null!=i)return Ci(i);if(!1!==n){var r=Pi(e,t);if(null!=r)return JSON.stringify(r)}}function Pi(e,t,n){var i;if(null!=(i=e.attrsMap[t]))for(var r=e.attrsList,o=0,a=r.length;o<a;o++)if(r[o].name===t){r.splice(o,1);break}return n&&delete e.attrsMap[t],i}function Mi(e,t){for(var n=e.attrsList,i=0,r=n.length;i<r;i++){var o=n[i];if(t.test(o.name))return n.splice(i,1),o}}function ji(e,t){return t&&(null!=t.start&&(e.start=t.start),null!=t.end&&(e.end=t.end)),e}function Li(e,t,n){var i=n||{},r=i.number,o="$$v";i.trim&&(o="(typeof $$v === 'string'? $$v.trim(): $$v)"),r&&(o="_n("+o+")");var a=Bi(t,o);e.model={value:"("+t+")",expression:JSON.stringify(t),callback:"function ($$v) {"+a+"}"}}function Bi(e,t){var n=function(e){if(e=e.trim(),mi=e.length,e.indexOf("[")<0||e.lastIndexOf("]")<mi-1)return(yi=e.lastIndexOf("."))>-1?{exp:e.slice(0,yi),key:'"'+e.slice(yi+1)+'"'}:{exp:e,key:null};for(gi=e,yi=bi=wi=0;!Fi();)Hi(vi=$i())?Wi(vi):91===vi&&zi(vi);return{exp:e.slice(0,bi),key:e.slice(bi+1,wi)}}(e);return null===n.key?e+"="+t:"$set("+n.exp+", "+n.key+", "+t+")"}function $i(){return gi.charCodeAt(++yi)}function Fi(){return yi>=mi}function Hi(e){return 34===e||39===e}function zi(e){var t=1;for(bi=yi;!Fi();)if(Hi(e=$i()))Wi(e);else if(91===e&&t++,93===e&&t--,0===t){wi=yi;break}}function Wi(e){for(var t=e;!Fi()&&(e=$i())!==t;);}var Ui,qi="__r",Vi="__c";function Yi(e,t,n){var i=Ui;return function r(){null!==t.apply(null,arguments)&&Ki(e,r,n,i)}}var Xi=Ue&&!(J&&Number(J[1])<=53);function Gi(e,t,n,i){if(Xi){var r=an,o=t;t=o._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=r||e.timeStamp<=0||e.target.ownerDocument!==document)return o.apply(this,arguments)}}Ui.addEventListener(e,t,Z?{capture:n,passive:i}:n)}function Ki(e,t,n,i){(i||Ui).removeEventListener(e,t._wrapper||t,n)}function Ji(e,i){if(!t(e.data.on)||!t(i.data.on)){var r=i.data.on||{},o=e.data.on||{};Ui=i.elm,function(e){if(n(e[qi])){var t=Y?"change":"input";e[t]=[].concat(e[qi],e[t]||[]),delete e[qi]}n(e[Vi])&&(e.change=[].concat(e[Vi],e.change||[]),delete e[Vi])}(r),it(r,o,Gi,Ki,Yi,i.context),Ui=void 0}}var Qi,Zi={create:Ji,update:Ji};function er(e,i){if(!t(e.data.domProps)||!t(i.data.domProps)){var r,o,a=i.elm,s=e.data.domProps||{},l=i.data.domProps||{};for(r in n(l.__ob__)&&(l=i.data.domProps=T({},l)),s)r in l||(a[r]="");for(r in l){if(o=l[r],"textContent"===r||"innerHTML"===r){if(i.children&&(i.children.length=0),o===s[r])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===r&&"PROGRESS"!==a.tagName){a._value=o;var c=t(o)?"":String(o);tr(a,c)&&(a.value=c)}else if("innerHTML"===r&&Un(a.tagName)&&t(a.innerHTML)){(Qi=Qi||document.createElement("div")).innerHTML="<svg>"+o+"</svg>";for(var d=Qi.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;d.firstChild;)a.appendChild(d.firstChild)}else if(o!==s[r])try{a[r]=o}catch(e){}}}}function tr(e,t){return!e.composing&&("OPTION"===e.tagName||function(e,t){var n=!0;try{n=document.activeElement!==e}catch(e){}return n&&e.value!==t}(e,t)||function(e,t){var i=e.value,r=e._vModifiers;if(n(r)){if(r.number)return u(i)!==u(t);if(r.trim)return i.trim()!==t.trim()}return i!==t}(e,t))}var nr={create:er,update:er},ir=y(function(e){var t={},n=/:(.+)/;return e.split(/;(?![^(]*\))/g).forEach(function(e){if(e){var i=e.split(n);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t});function rr(e){var t=or(e.style);return e.staticStyle?T(e.staticStyle,t):t}function or(e){return Array.isArray(e)?E(e):"string"==typeof e?ir(e):e}var ar,sr=/^--/,lr=/\s*!important$/,cr=function(e,t,n){if(sr.test(t))e.style.setProperty(t,n);else if(lr.test(n))e.style.setProperty(C(t),n.replace(lr,""),"important");else{var i=ur(t);if(Array.isArray(n))for(var r=0,o=n.length;r<o;r++)e.style[i]=n[r];else e.style[i]=n}},dr=["Webkit","Moz","ms"],ur=y(function(e){if(ar=ar||document.createElement("div").style,"filter"!==(e=w(e))&&e in ar)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<dr.length;n++){var i=dr[n]+t;if(i in ar)return i}});function hr(e,i){var r=i.data,o=e.data;if(!(t(r.staticStyle)&&t(r.style)&&t(o.staticStyle)&&t(o.style))){var a,s,l=i.elm,c=o.staticStyle,d=o.normalizedStyle||o.style||{},u=c||d,h=or(i.data.style)||{};i.data.normalizedStyle=n(h.__ob__)?T({},h):h;var f=function(e,t){for(var n,i={},r=e;r.componentInstance;)(r=r.componentInstance._vnode)&&r.data&&(n=rr(r.data))&&T(i,n);(n=rr(e.data))&&T(i,n);for(var o=e;o=o.parent;)o.data&&(n=rr(o.data))&&T(i,n);return i}(i);for(s in u)t(f[s])&&cr(l,s,"");for(s in f)(a=f[s])!==u[s]&&cr(l,s,null==a?"":a)}}var fr={create:hr,update:hr},pr=/\s+/;function mr(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(pr).forEach(function(t){return e.classList.add(t)}):e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function gr(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(pr).forEach(function(t){return e.classList.remove(t)}):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var n=" "+(e.getAttribute("class")||"")+" ",i=" "+t+" ";n.indexOf(i)>=0;)n=n.replace(i," ");(n=n.trim())?e.setAttribute("class",n):e.removeAttribute("class")}}function vr(e){if(e){if("object"==typeof e){var t={};return!1!==e.css&&T(t,yr(e.name||"v")),T(t,e),t}return"string"==typeof e?yr(e):void 0}}var yr=y(function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}}),br=W&&!X,wr="transition",xr="animation",_r="transition",Cr="transitionend",Sr="animation",kr="animationend";br&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(_r="WebkitTransition",Cr="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Sr="WebkitAnimation",kr="webkitAnimationEnd"));var Tr=W?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function Er(e){Tr(function(){Tr(e)})}function Dr(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),mr(e,t))}function Nr(e,t){e._transitionClasses&&m(e._transitionClasses,t),gr(e,t)}function Ar(e,t,n){var i=Ir(e,t),r=i.type,o=i.timeout,a=i.propCount;if(!r)return n();var s=r===wr?Cr:kr,l=0,c=function(){e.removeEventListener(s,d),n()},d=function(t){t.target===e&&++l>=a&&c()};setTimeout(function(){l<a&&c()},o+1),e.addEventListener(s,d)}var Or=/\b(transform|all)(,|$)/;function Ir(e,t){var n,i=window.getComputedStyle(e),r=(i[_r+"Delay"]||"").split(", "),o=(i[_r+"Duration"]||"").split(", "),a=Rr(r,o),s=(i[Sr+"Delay"]||"").split(", "),l=(i[Sr+"Duration"]||"").split(", "),c=Rr(s,l),d=0,u=0;return t===wr?a>0&&(n=wr,d=a,u=o.length):t===xr?c>0&&(n=xr,d=c,u=l.length):u=(n=(d=Math.max(a,c))>0?a>c?wr:xr:null)?n===wr?o.length:l.length:0,{type:n,timeout:d,propCount:u,hasTransform:n===wr&&Or.test(i[_r+"Property"])}}function Rr(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map(function(t,n){return Pr(t)+Pr(e[n])}))}function Pr(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function Mr(e,i){var r=e.elm;n(r._leaveCb)&&(r._leaveCb.cancelled=!0,r._leaveCb());var a=vr(e.data.transition);if(!t(a)&&!n(r._enterCb)&&1===r.nodeType){for(var s=a.css,l=a.type,c=a.enterClass,d=a.enterToClass,h=a.enterActiveClass,f=a.appearClass,p=a.appearToClass,m=a.appearActiveClass,g=a.beforeEnter,v=a.enter,y=a.afterEnter,b=a.enterCancelled,w=a.beforeAppear,x=a.appear,_=a.afterAppear,C=a.appearCancelled,S=a.duration,k=Xt,T=Xt.$vnode;T&&T.parent;)k=T.context,T=T.parent;var E=!k._isMounted||!e.isRootInsert;if(!E||x||""===x){var D=E&&f?f:c,N=E&&m?m:h,A=E&&p?p:d,O=E&&w||g,I=E&&"function"==typeof x?x:v,P=E&&_||y,M=E&&C||b,j=u(o(S)?S.enter:S),L=!1!==s&&!X,B=Br(I),$=r._enterCb=R(function(){L&&(Nr(r,A),Nr(r,N)),$.cancelled?(L&&Nr(r,D),M&&M(r)):P&&P(r),r._enterCb=null});e.data.show||rt(e,"insert",function(){var t=r.parentNode,n=t&&t._pending&&t._pending[e.key];n&&n.tag===e.tag&&n.elm._leaveCb&&n.elm._leaveCb(),I&&I(r,$)}),O&&O(r),L&&(Dr(r,D),Dr(r,N),Er(function(){Nr(r,D),$.cancelled||(Dr(r,A),B||(Lr(j)?setTimeout($,j):Ar(r,l,$)))})),e.data.show&&(i&&i(),I&&I(r,$)),L||B||$()}}}function jr(e,i){var r=e.elm;n(r._enterCb)&&(r._enterCb.cancelled=!0,r._enterCb());var a=vr(e.data.transition);if(t(a)||1!==r.nodeType)return i();if(!n(r._leaveCb)){var s=a.css,l=a.type,c=a.leaveClass,d=a.leaveToClass,h=a.leaveActiveClass,f=a.beforeLeave,p=a.leave,m=a.afterLeave,g=a.leaveCancelled,v=a.delayLeave,y=a.duration,b=!1!==s&&!X,w=Br(p),x=u(o(y)?y.leave:y),_=r._leaveCb=R(function(){r.parentNode&&r.parentNode._pending&&(r.parentNode._pending[e.key]=null),b&&(Nr(r,d),Nr(r,h)),_.cancelled?(b&&Nr(r,c),g&&g(r)):(i(),m&&m(r)),r._leaveCb=null});v?v(C):C()}function C(){_.cancelled||(!e.data.show&&r.parentNode&&((r.parentNode._pending||(r.parentNode._pending={}))[e.key]=e),f&&f(r),b&&(Dr(r,c),Dr(r,h),Er(function(){Nr(r,c),_.cancelled||(Dr(r,d),w||(Lr(x)?setTimeout(_,x):Ar(r,l,_)))})),p&&p(r,_),b||w||_())}}function Lr(e){return"number"==typeof e&&!isNaN(e)}function Br(e){if(t(e))return!1;var i=e.fns;return n(i)?Br(Array.isArray(i)?i[0]:i):(e._length||e.length)>1}function $r(e,t){!0!==t.data.show&&Mr(t)}var Fr=function(e){var o,a,s={},l=e.modules,c=e.nodeOps;for(o=0;o<ei.length;++o)for(s[ei[o]]=[],a=0;a<l.length;++a)n(l[a][ei[o]])&&s[ei[o]].push(l[a][ei[o]]);function d(e){var t=c.parentNode(e);n(t)&&c.removeChild(t,e)}function u(e,t,r,o,a,l,d){if(n(e.elm)&&n(l)&&(e=l[d]=ge(e)),e.isRootInsert=!a,!function(e,t,r,o){var a=e.data;if(n(a)){var l=n(e.componentInstance)&&a.keepAlive;if(n(a=a.hook)&&n(a=a.init)&&a(e,!1),n(e.componentInstance))return f(e,t),p(r,e.elm,o),i(l)&&function(e,t,i,r){for(var o,a=e;a.componentInstance;)if(n(o=(a=a.componentInstance._vnode).data)&&n(o=o.transition)){for(o=0;o<s.activate.length;++o)s.activate[o](Zn,a);t.push(a);break}p(i,e.elm,r)}(e,t,r,o),!0}}(e,t,r,o)){var u=e.data,h=e.children,g=e.tag;n(g)?(e.elm=e.ns?c.createElementNS(e.ns,g):c.createElement(g,e),y(e),m(e,h,t),n(u)&&v(e,t),p(r,e.elm,o)):i(e.isComment)?(e.elm=c.createComment(e.text),p(r,e.elm,o)):(e.elm=c.createTextNode(e.text),p(r,e.elm,o))}}function f(e,t){n(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,g(e)?(v(e,t),y(e)):(Qn(e),t.push(e))}function p(e,t,i){n(e)&&(n(i)?c.parentNode(i)===e&&c.insertBefore(e,t,i):c.appendChild(e,t))}function m(e,t,n){if(Array.isArray(t))for(var i=0;i<t.length;++i)u(t[i],n,e.elm,null,!0,t,i);else r(e.text)&&c.appendChild(e.elm,c.createTextNode(String(e.text)))}function g(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return n(e.tag)}function v(e,t){for(var i=0;i<s.create.length;++i)s.create[i](Zn,e);n(o=e.data.hook)&&(n(o.create)&&o.create(Zn,e),n(o.insert)&&t.push(e))}function y(e){var t;if(n(t=e.fnScopeId))c.setStyleScope(e.elm,t);else for(var i=e;i;)n(t=i.context)&&n(t=t.$options._scopeId)&&c.setStyleScope(e.elm,t),i=i.parent;n(t=Xt)&&t!==e.context&&t!==e.fnContext&&n(t=t.$options._scopeId)&&c.setStyleScope(e.elm,t)}function b(e,t,n,i,r,o){for(;i<=r;++i)u(n[i],o,e,t,!1,n,i)}function w(e){var t,i,r=e.data;if(n(r))for(n(t=r.hook)&&n(t=t.destroy)&&t(e),t=0;t<s.destroy.length;++t)s.destroy[t](e);if(n(t=e.children))for(i=0;i<e.children.length;++i)w(e.children[i])}function x(e,t,i,r){for(;i<=r;++i){var o=t[i];n(o)&&(n(o.tag)?(_(o),w(o)):d(o.elm))}}function _(e,t){if(n(t)||n(e.data)){var i,r=s.remove.length+1;for(n(t)?t.listeners+=r:t=function(e,t){function n(){0==--n.listeners&&d(e)}return n.listeners=t,n}(e.elm,r),n(i=e.componentInstance)&&n(i=i._vnode)&&n(i.data)&&_(i,t),i=0;i<s.remove.length;++i)s.remove[i](e,t);n(i=e.data.hook)&&n(i=i.remove)?i(e,t):t()}else d(e.elm)}function C(e,t,i,r){for(var o=i;o<r;o++){var a=t[o];if(n(a)&&ti(e,a))return o}}function S(e,r,o,a,l,d){if(e!==r){n(r.elm)&&n(a)&&(r=a[l]=ge(r));var h=r.elm=e.elm;if(i(e.isAsyncPlaceholder))n(r.asyncFactory.resolved)?E(e.elm,r,o):r.isAsyncPlaceholder=!0;else if(i(r.isStatic)&&i(e.isStatic)&&r.key===e.key&&(i(r.isCloned)||i(r.isOnce)))r.componentInstance=e.componentInstance;else{var f,p=r.data;n(p)&&n(f=p.hook)&&n(f=f.prepatch)&&f(e,r);var m=e.children,v=r.children;if(n(p)&&g(r)){for(f=0;f<s.update.length;++f)s.update[f](e,r);n(f=p.hook)&&n(f=f.update)&&f(e,r)}t(r.text)?n(m)&&n(v)?m!==v&&function(e,i,r,o,a){for(var s,l,d,h=0,f=0,p=i.length-1,m=i[0],g=i[p],v=r.length-1,y=r[0],w=r[v],_=!a;h<=p&&f<=v;)t(m)?m=i[++h]:t(g)?g=i[--p]:ti(m,y)?(S(m,y,o,r,f),m=i[++h],y=r[++f]):ti(g,w)?(S(g,w,o,r,v),g=i[--p],w=r[--v]):ti(m,w)?(S(m,w,o,r,v),_&&c.insertBefore(e,m.elm,c.nextSibling(g.elm)),m=i[++h],w=r[--v]):ti(g,y)?(S(g,y,o,r,f),_&&c.insertBefore(e,g.elm,m.elm),g=i[--p],y=r[++f]):(t(s)&&(s=ni(i,h,p)),t(l=n(y.key)?s[y.key]:C(y,i,h,p))?u(y,o,e,m.elm,!1,r,f):ti(d=i[l],y)?(S(d,y,o,r,f),i[l]=void 0,_&&c.insertBefore(e,d.elm,m.elm)):u(y,o,e,m.elm,!1,r,f),y=r[++f]);h>p?b(e,t(r[v+1])?null:r[v+1].elm,r,f,v,o):f>v&&x(0,i,h,p)}(h,m,v,o,d):n(v)?(n(e.text)&&c.setTextContent(h,""),b(h,null,v,0,v.length-1,o)):n(m)?x(0,m,0,m.length-1):n(e.text)&&c.setTextContent(h,""):e.text!==r.text&&c.setTextContent(h,r.text),n(p)&&n(f=p.hook)&&n(f=f.postpatch)&&f(e,r)}}}function k(e,t,r){if(i(r)&&n(e.parent))e.parent.data.pendingInsert=t;else for(var o=0;o<t.length;++o)t[o].data.hook.insert(t[o])}var T=h("attrs,class,staticClass,staticStyle,key");function E(e,t,r,o){var a,s=t.tag,l=t.data,c=t.children;if(o=o||l&&l.pre,t.elm=e,i(t.isComment)&&n(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(n(l)&&(n(a=l.hook)&&n(a=a.init)&&a(t,!0),n(a=t.componentInstance)))return f(t,r),!0;if(n(s)){if(n(c))if(e.hasChildNodes())if(n(a=l)&&n(a=a.domProps)&&n(a=a.innerHTML)){if(a!==e.innerHTML)return!1}else{for(var d=!0,u=e.firstChild,h=0;h<c.length;h++){if(!u||!E(u,c[h],r,o)){d=!1;break}u=u.nextSibling}if(!d||u)return!1}else m(t,c,r);if(n(l)){var p=!1;for(var g in l)if(!T(g)){p=!0,v(t,r);break}!p&&l.class&&et(l.class)}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,r,o,a){if(!t(r)){var l,d=!1,h=[];if(t(e))d=!0,u(r,h);else{var f=n(e.nodeType);if(!f&&ti(e,r))S(e,r,h,null,null,a);else{if(f){if(1===e.nodeType&&e.hasAttribute(P)&&(e.removeAttribute(P),o=!0),i(o)&&E(e,r,h))return k(r,h,!0),e;l=e,e=new he(c.tagName(l).toLowerCase(),{},[],void 0,l)}var p=e.elm,m=c.parentNode(p);if(u(r,h,p._leaveCb?null:m,c.nextSibling(p)),n(r.parent))for(var v=r.parent,y=g(r);v;){for(var b=0;b<s.destroy.length;++b)s.destroy[b](v);if(v.elm=r.elm,y){for(var _=0;_<s.create.length;++_)s.create[_](Zn,v);var C=v.data.hook.insert;if(C.merged)for(var T=1;T<C.fns.length;T++)C.fns[T]()}else Qn(v);v=v.parent}n(m)?x(0,[e],0,0):n(e.tag)&&w(e)}}return k(r,h,d),r.elm}n(e)&&w(e)}}({nodeOps:Kn,modules:[fi,xi,Zi,nr,fr,W?{create:$r,activate:$r,remove:function(e,t){!0!==e.data.show?jr(e,t):t()}}:{}].concat(ci)});X&&document.addEventListener("selectionchange",function(){var e=document.activeElement;e&&e.vmodel&&Xr(e,"input")});var Hr={inserted:function(e,t,n,i){"select"===n.tag?(i.elm&&!i.elm._vOptions?rt(n,"postpatch",function(){Hr.componentUpdated(e,t,n)}):zr(e,t,n.context),e._vOptions=[].map.call(e.options,qr)):("textarea"===n.tag||Xn(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",Vr),e.addEventListener("compositionend",Yr),e.addEventListener("change",Yr),X&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){zr(e,t,n.context);var i=e._vOptions,r=e._vOptions=[].map.call(e.options,qr);r.some(function(e,t){return!O(e,i[t])})&&(e.multiple?t.value.some(function(e){return Ur(e,r)}):t.value!==t.oldValue&&Ur(t.value,r))&&Xr(e,"change")}}};function zr(e,t,n){Wr(e,t,n),(Y||G)&&setTimeout(function(){Wr(e,t,n)},0)}function Wr(e,t,n){var i=t.value,r=e.multiple;if(!r||Array.isArray(i)){for(var o,a,s=0,l=e.options.length;s<l;s++)if(a=e.options[s],r)o=I(i,qr(a))>-1,a.selected!==o&&(a.selected=o);else if(O(qr(a),i))return void(e.selectedIndex!==s&&(e.selectedIndex=s));r||(e.selectedIndex=-1)}}function Ur(e,t){return t.every(function(t){return!O(t,e)})}function qr(e){return"_value"in e?e._value:e.value}function Vr(e){e.target.composing=!0}function Yr(e){e.target.composing&&(e.target.composing=!1,Xr(e.target,"input"))}function Xr(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function Gr(e){return!e.componentInstance||e.data&&e.data.transition?e:Gr(e.componentInstance._vnode)}var Kr={model:Hr,show:{bind:function(e,t,n){var i=t.value,r=(n=Gr(n)).data&&n.data.transition,o=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;i&&r?(n.data.show=!0,Mr(n,function(){e.style.display=o})):e.style.display=i?o:"none"},update:function(e,t,n){var i=t.value;!i!=!t.oldValue&&((n=Gr(n)).data&&n.data.transition?(n.data.show=!0,i?Mr(n,function(){e.style.display=e.__vOriginalDisplay}):jr(n,function(){e.style.display="none"})):e.style.display=i?e.__vOriginalDisplay:"none")},unbind:function(e,t,n,i,r){r||(e.style.display=e.__vOriginalDisplay)}}},Jr={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Qr(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?Qr(Wt(t.children)):e}function Zr(e){var t={},n=e.$options;for(var i in n.propsData)t[i]=e[i];var r=n._parentListeners;for(var o in r)t[w(o)]=r[o];return t}function eo(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}var to=function(e){return e.tag||zt(e)},no=function(e){return"show"===e.name},io={name:"transition",props:Jr,abstract:!0,render:function(e){var t=this,n=this.$slots.default;if(n&&(n=n.filter(to)).length){var i=this.mode,o=n[0];if(function(e){for(;e=e.parent;)if(e.data.transition)return!0}(this.$vnode))return o;var a=Qr(o);if(!a)return o;if(this._leaving)return eo(e,o);var s="__transition-"+this._uid+"-";a.key=null==a.key?a.isComment?s+"comment":s+a.tag:r(a.key)?0===String(a.key).indexOf(s)?a.key:s+a.key:a.key;var l=(a.data||(a.data={})).transition=Zr(this),c=this._vnode,d=Qr(c);if(a.data.directives&&a.data.directives.some(no)&&(a.data.show=!0),d&&d.data&&!function(e,t){return t.key===e.key&&t.tag===e.tag}(a,d)&&!zt(d)&&(!d.componentInstance||!d.componentInstance._vnode.isComment)){var u=d.data.transition=T({},l);if("out-in"===i)return this._leaving=!0,rt(u,"afterLeave",function(){t._leaving=!1,t.$forceUpdate()}),eo(e,o);if("in-out"===i){if(zt(a))return c;var h,f=function(){h()};rt(l,"afterEnter",f),rt(l,"enterCancelled",f),rt(u,"delayLeave",function(e){h=e})}}return o}}},ro=T({tag:String,moveClass:String},Jr);function oo(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function ao(e){e.data.newPos=e.elm.getBoundingClientRect()}function so(e){var t=e.data.pos,n=e.data.newPos,i=t.left-n.left,r=t.top-n.top;if(i||r){e.data.moved=!0;var o=e.elm.style;o.transform=o.WebkitTransform="translate("+i+"px,"+r+"px)",o.transitionDuration="0s"}}delete ro.mode;var lo={Transition:io,TransitionGroup:{props:ro,beforeMount:function(){var e=this,t=this._update;this._update=function(n,i){var r=Gt(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,r(),t.call(e,n,i)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,r=this.$slots.default||[],o=this.children=[],a=Zr(this),s=0;s<r.length;s++){var l=r[s];l.tag&&null!=l.key&&0!==String(l.key).indexOf("__vlist")&&(o.push(l),n[l.key]=l,(l.data||(l.data={})).transition=a)}if(i){for(var c=[],d=[],u=0;u<i.length;u++){var h=i[u];h.data.transition=a,h.data.pos=h.elm.getBoundingClientRect(),n[h.key]?c.push(h):d.push(h)}this.kept=e(t,null,c),this.removed=d}return e(t,null,o)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(oo),e.forEach(ao),e.forEach(so),this._reflow=document.body.offsetHeight,e.forEach(function(e){if(e.data.moved){var n=e.elm,i=n.style;Dr(n,t),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(Cr,n._moveCb=function e(i){i&&i.target!==n||i&&!/transform$/.test(i.propertyName)||(n.removeEventListener(Cr,e),n._moveCb=null,Nr(n,t))})}}))},methods:{hasMove:function(e,t){if(!br)return!1;if(this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach(function(e){gr(n,e)}),mr(n,t),n.style.display="none",this.$el.appendChild(n);var i=Ir(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}}};xn.config.mustUseProp=An,xn.config.isReservedTag=qn,xn.config.isReservedAttr=Dn,xn.config.getTagNamespace=Vn,xn.config.isUnknownElement=function(e){if(!W)return!0;if(qn(e))return!1;if(e=e.toLowerCase(),null!=Yn[e])return Yn[e];var t=document.createElement(e);return e.indexOf("-")>-1?Yn[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:Yn[e]=/HTMLUnknownElement/.test(t.toString())},T(xn.options.directives,Kr),T(xn.options.components,lo),xn.prototype.__patch__=W?Fr:D,xn.prototype.$mount=function(e,t){return function(e,t,n){var i;return e.$el=t,e.$options.render||(e.$options.render=pe),Qt(e,"beforeMount"),i=function(){e._update(e._render(),n)},new un(e,i,D,{before:function(){e._isMounted&&!e._isDestroyed&&Qt(e,"beforeUpdate")}},!0),n=!1,null==e.$vnode&&(e._isMounted=!0,Qt(e,"mounted")),e}(this,e=e&&W?Gn(e):void 0,t)},W&&setTimeout(function(){L.devtools&&ne&&ne.emit("init",xn)},0);var co,uo=/\{\{((?:.|\r?\n)+?)\}\}/g,ho=/[-.*+?^${}()|[\]\/\\]/g,fo=y(function(e){var t=e[0].replace(ho,"\\$&"),n=e[1].replace(ho,"\\$&");return new RegExp(t+"((?:.|\\n)+?)"+n,"g")}),po={staticKeys:["staticClass"],transformNode:function(e,t){t.warn;var n=Pi(e,"class");n&&(e.staticClass=JSON.stringify(n));var i=Ri(e,"class",!1);i&&(e.classBinding=i)},genData:function(e){var t="";return e.staticClass&&(t+="staticClass:"+e.staticClass+","),e.classBinding&&(t+="class:"+e.classBinding+","),t}},mo={staticKeys:["staticStyle"],transformNode:function(e,t){t.warn;var n=Pi(e,"style");n&&(e.staticStyle=JSON.stringify(ir(n)));var i=Ri(e,"style",!1);i&&(e.styleBinding=i)},genData:function(e){var t="";return e.staticStyle&&(t+="staticStyle:"+e.staticStyle+","),e.styleBinding&&(t+="style:("+e.styleBinding+"),"),t}},go=h("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),vo=h("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),yo=h("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),bo=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,wo=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,xo="[a-zA-Z_][\\-\\.0-9_a-zA-Z"+B.source+"]*",_o="((?:"+xo+"\\:)?"+xo+")",Co=new RegExp("^<"+_o),So=/^\s*(\/?)>/,ko=new RegExp("^<\\/"+_o+"[^>]*>"),To=/^<!DOCTYPE [^>]+>/i,Eo=/^<!\--/,Do=/^<!\[/,No=h("script,style,textarea",!0),Ao={},Oo={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t","&#39;":"'"},Io=/&(?:lt|gt|quot|amp|#39);/g,Ro=/&(?:lt|gt|quot|amp|#39|#10|#9);/g,Po=h("pre,textarea",!0),Mo=function(e,t){return e&&Po(e)&&"\n"===t[0]};function jo(e,t){var n=t?Ro:Io;return e.replace(n,function(e){return Oo[e]})}var Lo,Bo,$o,Fo,Ho,zo,Wo,Uo,qo=/^@|^v-on:/,Vo=/^v-|^@|^:/,Yo=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,Xo=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Go=/^\(|\)$/g,Ko=/^\[.*\]$/,Jo=/:(.*)$/,Qo=/^:|^\.|^v-bind:/,Zo=/\.[^.\]]+(?=[^\]]*$)/g,ea=/^v-slot(:|$)|^#/,ta=/[\r\n]/,na=/\s+/g,ia=y(function(e){return(co=co||document.createElement("div")).innerHTML=e,co.textContent}),ra="_empty_";function oa(e,t,n){return{type:1,tag:e,attrsList:t,attrsMap:ua(t),rawAttrsMap:{},parent:n,children:[]}}function aa(e,t){var n,i;(i=Ri(n=e,"key"))&&(n.key=i),e.plain=!e.key&&!e.scopedSlots&&!e.attrsList.length,function(e){var t=Ri(e,"ref");t&&(e.ref=t,e.refInFor=function(e){for(var t=e;t;){if(void 0!==t.for)return!0;t=t.parent}return!1}(e))}(e),function(e){var t;"template"===e.tag?(t=Pi(e,"scope"),e.slotScope=t||Pi(e,"slot-scope")):(t=Pi(e,"slot-scope"))&&(e.slotScope=t);var n=Ri(e,"slot");if(n&&(e.slotTarget='""'===n?'"default"':n,e.slotTargetDynamic=!(!e.attrsMap[":slot"]&&!e.attrsMap["v-bind:slot"]),"template"===e.tag||e.slotScope||Di(e,"slot",n,function(e,t){return e.rawAttrsMap[":"+t]||e.rawAttrsMap["v-bind:"+t]||e.rawAttrsMap[t]}(e,"slot"))),"template"===e.tag){var i=Mi(e,ea);if(i){var r=ca(i),o=r.name,a=r.dynamic;e.slotTarget=o,e.slotTargetDynamic=a,e.slotScope=i.value||ra}}else{var s=Mi(e,ea);if(s){var l=e.scopedSlots||(e.scopedSlots={}),c=ca(s),d=c.name,u=c.dynamic,h=l[d]=oa("template",[],e);h.slotTarget=d,h.slotTargetDynamic=u,h.children=e.children.filter(function(e){if(!e.slotScope)return e.parent=h,!0}),h.slotScope=s.value||ra,e.children=[],e.plain=!1}}}(e),function(e){"slot"===e.tag&&(e.slotName=Ri(e,"name"))}(e),function(e){var t;(t=Ri(e,"is"))&&(e.component=t),null!=Pi(e,"inline-template")&&(e.inlineTemplate=!0)}(e);for(var r=0;r<$o.length;r++)e=$o[r](e,t)||e;return function(e){var t,n,i,r,o,a,s,l,c=e.attrsList;for(t=0,n=c.length;t<n;t++)if(i=r=c[t].name,o=c[t].value,Vo.test(i))if(e.hasBindings=!0,(a=da(i.replace(Vo,"")))&&(i=i.replace(Zo,"")),Qo.test(i))i=i.replace(Qo,""),o=Ci(o),(l=Ko.test(i))&&(i=i.slice(1,-1)),a&&(a.prop&&!l&&"innerHtml"===(i=w(i))&&(i="innerHTML"),a.camel&&!l&&(i=w(i)),a.sync&&(s=Bi(o,"$event"),l?Ii(e,'"update:"+('+i+")",s,null,!1,0,c[t],!0):(Ii(e,"update:"+w(i),s,null,!1,0,c[t]),C(i)!==w(i)&&Ii(e,"update:"+C(i),s,null,!1,0,c[t])))),a&&a.prop||!e.component&&Wo(e.tag,e.attrsMap.type,i)?Ei(e,i,o,c[t],l):Di(e,i,o,c[t],l);else if(qo.test(i))i=i.replace(qo,""),(l=Ko.test(i))&&(i=i.slice(1,-1)),Ii(e,i,o,a,!1,0,c[t],l);else{var d=(i=i.replace(Vo,"")).match(Jo),u=d&&d[1];l=!1,u&&(i=i.slice(0,-(u.length+1)),Ko.test(u)&&(u=u.slice(1,-1),l=!0)),Ai(e,i,r,o,u,l,a,c[t])}else Di(e,i,JSON.stringify(o),c[t]),!e.component&&"muted"===i&&Wo(e.tag,e.attrsMap.type,i)&&Ei(e,i,"true",c[t])}(e),e}function sa(e){var t;if(t=Pi(e,"v-for")){var n=function(e){var t=e.match(Yo);if(t){var n={};n.for=t[2].trim();var i=t[1].trim().replace(Go,""),r=i.match(Xo);return r?(n.alias=i.replace(Xo,"").trim(),n.iterator1=r[1].trim(),r[2]&&(n.iterator2=r[2].trim())):n.alias=i,n}}(t);n&&T(e,n)}}function la(e,t){e.ifConditions||(e.ifConditions=[]),e.ifConditions.push(t)}function ca(e){var t=e.name.replace(ea,"");return t||"#"!==e.name[0]&&(t="default"),Ko.test(t)?{name:t.slice(1,-1),dynamic:!0}:{name:'"'+t+'"',dynamic:!1}}function da(e){var t=e.match(Zo);if(t){var n={};return t.forEach(function(e){n[e.slice(1)]=!0}),n}}function ua(e){for(var t={},n=0,i=e.length;n<i;n++)t[e[n].name]=e[n].value;return t}var ha=/^xmlns:NS\d+/,fa=/^NS\d+:/;function pa(e){return oa(e.tag,e.attrsList.slice(),e.parent)}var ma,ga,va=[po,mo,{preTransformNode:function(e,t){if("input"===e.tag){var n,i=e.attrsMap;if(!i["v-model"])return;if((i[":type"]||i["v-bind:type"])&&(n=Ri(e,"type")),i.type||n||!i["v-bind"]||(n="("+i["v-bind"]+").type"),n){var r=Pi(e,"v-if",!0),o=r?"&&("+r+")":"",a=null!=Pi(e,"v-else",!0),s=Pi(e,"v-else-if",!0),l=pa(e);sa(l),Ni(l,"type","checkbox"),aa(l,t),l.processed=!0,l.if="("+n+")==='checkbox'"+o,la(l,{exp:l.if,block:l});var c=pa(e);Pi(c,"v-for",!0),Ni(c,"type","radio"),aa(c,t),la(l,{exp:"("+n+")==='radio'"+o,block:c});var d=pa(e);return Pi(d,"v-for",!0),Ni(d,":type",n),aa(d,t),la(l,{exp:r,block:d}),a?l.else=!0:s&&(l.elseif=s),l}}}}],ya={expectHTML:!0,modules:va,directives:{model:function(e,t,n){var i=t.value,r=t.modifiers,o=e.tag,a=e.attrsMap.type;if(e.component)return Li(e,i,r),!1;if("select"===o)!function(e,t,n){var i='var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(r&&r.number?"_n(val)":"val")+"});";Ii(e,"change",i=i+" "+Bi(t,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),null,!0)}(e,i);else if("input"===o&&"checkbox"===a)!function(e,t,n){var i=n&&n.number,r=Ri(e,"value")||"null",o=Ri(e,"true-value")||"true",a=Ri(e,"false-value")||"false";Ei(e,"checked","Array.isArray("+t+")?_i("+t+","+r+")>-1"+("true"===o?":("+t+")":":_q("+t+","+o+")")),Ii(e,"change","var $$a="+t+",$$el=$event.target,$$c=$$el.checked?("+o+"):("+a+");if(Array.isArray($$a)){var $$v="+(i?"_n("+r+")":r)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+Bi(t,"$$a.concat([$$v])")+")}else{$$i>-1&&("+Bi(t,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}}else{"+Bi(t,"$$c")+"}",null,!0)}(e,i,r);else if("input"===o&&"radio"===a)!function(e,t,n){var i=n&&n.number,r=Ri(e,"value")||"null";Ei(e,"checked","_q("+t+","+(r=i?"_n("+r+")":r)+")"),Ii(e,"change",Bi(t,r),null,!0)}(e,i,r);else if("input"===o||"textarea"===o)!function(e,t,n){var i=e.attrsMap.type,r=n||{},o=r.lazy,a=r.number,s=r.trim,l=!o&&"range"!==i,c=o?"change":"range"===i?qi:"input",d="$event.target.value";s&&(d="$event.target.value.trim()"),a&&(d="_n("+d+")");var u=Bi(t,d);l&&(u="if($event.target.composing)return;"+u),Ei(e,"value","("+t+")"),Ii(e,c,u,null,!0),(s||a)&&Ii(e,"blur","$forceUpdate()")}(e,i,r);else if(!L.isReservedTag(o))return Li(e,i,r),!1;return!0},text:function(e,t){t.value&&Ei(e,"textContent","_s("+t.value+")",t)},html:function(e,t){t.value&&Ei(e,"innerHTML","_s("+t.value+")",t)}},isPreTag:function(e){return"pre"===e},isUnaryTag:go,mustUseProp:An,canBeLeftOpenTag:vo,isReservedTag:qn,getTagNamespace:Vn,staticKeys:va.reduce(function(e,t){return e.concat(t.staticKeys||[])},[]).join(",")},ba=y(function(e){return h("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap"+(e?","+e:""))});var wa=/^([\w$_]+|\([^)]*?\))\s*=>|^function\s*(?:[\w$]+)?\s*\(/,xa=/\([^)]*?\);*$/,_a=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,Ca={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},Sa={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},ka=function(e){return"if("+e+")return null;"},Ta={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:ka("$event.target !== $event.currentTarget"),ctrl:ka("!$event.ctrlKey"),shift:ka("!$event.shiftKey"),alt:ka("!$event.altKey"),meta:ka("!$event.metaKey"),left:ka("'button' in $event && $event.button !== 0"),middle:ka("'button' in $event && $event.button !== 1"),right:ka("'button' in $event && $event.button !== 2")};function Ea(e,t){var n=t?"nativeOn:":"on:",i="",r="";for(var o in e){var a=Da(e[o]);e[o]&&e[o].dynamic?r+=o+","+a+",":i+='"'+o+'":'+a+","}return i="{"+i.slice(0,-1)+"}",r?n+"_d("+i+",["+r.slice(0,-1)+"])":n+i}function Da(e){if(!e)return"function(){}";if(Array.isArray(e))return"["+e.map(function(e){return Da(e)}).join(",")+"]";var t=_a.test(e.value),n=wa.test(e.value),i=_a.test(e.value.replace(xa,""));if(e.modifiers){var r="",o="",a=[];for(var s in e.modifiers)if(Ta[s])o+=Ta[s],Ca[s]&&a.push(s);else if("exact"===s){var l=e.modifiers;o+=ka(["ctrl","shift","alt","meta"].filter(function(e){return!l[e]}).map(function(e){return"$event."+e+"Key"}).join("||"))}else a.push(s);return a.length&&(r+="if(!$event.type.indexOf('key')&&"+a.map(Na).join("&&")+")return null;"),o&&(r+=o),"function($event){"+r+(t?"return "+e.value+"($event)":n?"return ("+e.value+")($event)":i?"return "+e.value:e.value)+"}"}return t||n?e.value:"function($event){"+(i?"return "+e.value:e.value)+"}"}function Na(e){var t=parseInt(e,10);if(t)return"$event.keyCode!=="+t;var n=Ca[e],i=Sa[e];return"_k($event.keyCode,"+JSON.stringify(e)+","+JSON.stringify(n)+",$event.key,"+JSON.stringify(i)+")"}var Aa={on:function(e,t){e.wrapListeners=function(e){return"_g("+e+","+t.value+")"}},bind:function(e,t){e.wrapData=function(n){return"_b("+n+",'"+e.tag+"',"+t.value+","+(t.modifiers&&t.modifiers.prop?"true":"false")+(t.modifiers&&t.modifiers.sync?",true":"")+")"}},cloak:D},Oa=function(e){this.options=e,this.warn=e.warn||ki,this.transforms=Ti(e.modules,"transformCode"),this.dataGenFns=Ti(e.modules,"genData"),this.directives=T(T({},Aa),e.directives);var t=e.isReservedTag||N;this.maybeComponent=function(e){return!!e.component||!t(e.tag)},this.onceId=0,this.staticRenderFns=[],this.pre=!1};function Ia(e,t){var n=new Oa(t);return{render:"with(this){return "+(e?Ra(e,n):'_c("div")')+"}",staticRenderFns:n.staticRenderFns}}function Ra(e,t){if(e.parent&&(e.pre=e.pre||e.parent.pre),e.staticRoot&&!e.staticProcessed)return Pa(e,t);if(e.once&&!e.onceProcessed)return Ma(e,t);if(e.for&&!e.forProcessed)return La(e,t);if(e.if&&!e.ifProcessed)return ja(e,t);if("template"!==e.tag||e.slotTarget||t.pre){if("slot"===e.tag)return function(e,t){var n=e.slotName||'"default"',i=Ha(e,t),r="_t("+n+(i?","+i:""),o=e.attrs||e.dynamicAttrs?Ua((e.attrs||[]).concat(e.dynamicAttrs||[]).map(function(e){return{name:w(e.name),value:e.value,dynamic:e.dynamic}})):null,a=e.attrsMap["v-bind"];return!o&&!a||i||(r+=",null"),o&&(r+=","+o),a&&(r+=(o?"":",null")+","+a),r+")"}(e,t);var n;if(e.component)n=function(e,t,n){var i=t.inlineTemplate?null:Ha(t,n,!0);return"_c("+e+","+Ba(t,n)+(i?","+i:"")+")"}(e.component,e,t);else{var i;(!e.plain||e.pre&&t.maybeComponent(e))&&(i=Ba(e,t));var r=e.inlineTemplate?null:Ha(e,t,!0);n="_c('"+e.tag+"'"+(i?","+i:"")+(r?","+r:"")+")"}for(var o=0;o<t.transforms.length;o++)n=t.transforms[o](e,n);return n}return Ha(e,t)||"void 0"}function Pa(e,t){e.staticProcessed=!0;var n=t.pre;return e.pre&&(t.pre=e.pre),t.staticRenderFns.push("with(this){return "+Ra(e,t)+"}"),t.pre=n,"_m("+(t.staticRenderFns.length-1)+(e.staticInFor?",true":"")+")"}function Ma(e,t){if(e.onceProcessed=!0,e.if&&!e.ifProcessed)return ja(e,t);if(e.staticInFor){for(var n="",i=e.parent;i;){if(i.for){n=i.key;break}i=i.parent}return n?"_o("+Ra(e,t)+","+t.onceId+++","+n+")":Ra(e,t)}return Pa(e,t)}function ja(e,t,n,i){return e.ifProcessed=!0,function e(t,n,i,r){if(!t.length)return r||"_e()";var o=t.shift();return o.exp?"("+o.exp+")?"+a(o.block)+":"+e(t,n,i,r):""+a(o.block);function a(e){return i?i(e,n):e.once?Ma(e,n):Ra(e,n)}}(e.ifConditions.slice(),t,n,i)}function La(e,t,n,i){var r=e.for,o=e.alias,a=e.iterator1?","+e.iterator1:"",s=e.iterator2?","+e.iterator2:"";return e.forProcessed=!0,(i||"_l")+"(("+r+"),function("+o+a+s+"){return "+(n||Ra)(e,t)+"})"}function Ba(e,t){var n="{",i=function(e,t){var n=e.directives;if(n){var i,r,o,a,s="directives:[",l=!1;for(i=0,r=n.length;i<r;i++){o=n[i],a=!0;var c=t.directives[o.name];c&&(a=!!c(e,o,t.warn)),a&&(l=!0,s+='{name:"'+o.name+'",rawName:"'+o.rawName+'"'+(o.value?",value:("+o.value+"),expression:"+JSON.stringify(o.value):"")+(o.arg?",arg:"+(o.isDynamicArg?o.arg:'"'+o.arg+'"'):"")+(o.modifiers?",modifiers:"+JSON.stringify(o.modifiers):"")+"},")}return l?s.slice(0,-1)+"]":void 0}}(e,t);i&&(n+=i+","),e.key&&(n+="key:"+e.key+","),e.ref&&(n+="ref:"+e.ref+","),e.refInFor&&(n+="refInFor:true,"),e.pre&&(n+="pre:true,"),e.component&&(n+='tag:"'+e.tag+'",');for(var r=0;r<t.dataGenFns.length;r++)n+=t.dataGenFns[r](e);if(e.attrs&&(n+="attrs:"+Ua(e.attrs)+","),e.props&&(n+="domProps:"+Ua(e.props)+","),e.events&&(n+=Ea(e.events,!1)+","),e.nativeEvents&&(n+=Ea(e.nativeEvents,!0)+","),e.slotTarget&&!e.slotScope&&(n+="slot:"+e.slotTarget+","),e.scopedSlots&&(n+=function(e,t,n){var i=e.for||Object.keys(t).some(function(e){var n=t[e];return n.slotTargetDynamic||n.if||n.for||$a(n)}),r=!!e.if;if(!i)for(var o=e.parent;o;){if(o.slotScope&&o.slotScope!==ra||o.for){i=!0;break}o.if&&(r=!0),o=o.parent}var a=Object.keys(t).map(function(e){return Fa(t[e],n)}).join(",");return"scopedSlots:_u(["+a+"]"+(i?",null,true":"")+(!i&&r?",null,false,"+function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0}(a):"")+")"}(e,e.scopedSlots,t)+","),e.model&&(n+="model:{value:"+e.model.value+",callback:"+e.model.callback+",expression:"+e.model.expression+"},"),e.inlineTemplate){var o=function(e,t){var n=e.children[0];if(n&&1===n.type){var i=Ia(n,t.options);return"inlineTemplate:{render:function(){"+i.render+"},staticRenderFns:["+i.staticRenderFns.map(function(e){return"function(){"+e+"}"}).join(",")+"]}"}}(e,t);o&&(n+=o+",")}return n=n.replace(/,$/,"")+"}",e.dynamicAttrs&&(n="_b("+n+',"'+e.tag+'",'+Ua(e.dynamicAttrs)+")"),e.wrapData&&(n=e.wrapData(n)),e.wrapListeners&&(n=e.wrapListeners(n)),n}function $a(e){return 1===e.type&&("slot"===e.tag||e.children.some($a))}function Fa(e,t){var n=e.attrsMap["slot-scope"];if(e.if&&!e.ifProcessed&&!n)return ja(e,t,Fa,"null");if(e.for&&!e.forProcessed)return La(e,t,Fa);var i=e.slotScope===ra?"":String(e.slotScope),r="function("+i+"){return "+("template"===e.tag?e.if&&n?"("+e.if+")?"+(Ha(e,t)||"undefined")+":undefined":Ha(e,t)||"undefined":Ra(e,t))+"}",o=i?"":",proxy:true";return"{key:"+(e.slotTarget||'"default"')+",fn:"+r+o+"}"}function Ha(e,t,n,i,r){var o=e.children;if(o.length){var a=o[0];if(1===o.length&&a.for&&"template"!==a.tag&&"slot"!==a.tag){var s=n?t.maybeComponent(a)?",1":",0":"";return""+(i||Ra)(a,t)+s}var l=n?function(e,t){for(var n=0,i=0;i<e.length;i++){var r=e[i];if(1===r.type){if(za(r)||r.ifConditions&&r.ifConditions.some(function(e){return za(e.block)})){n=2;break}(t(r)||r.ifConditions&&r.ifConditions.some(function(e){return t(e.block)}))&&(n=1)}}return n}(o,t.maybeComponent):0,c=r||Wa;return"["+o.map(function(e){return c(e,t)}).join(",")+"]"+(l?","+l:"")}}function za(e){return void 0!==e.for||"template"===e.tag||"slot"===e.tag}function Wa(e,t){return 1===e.type?Ra(e,t):3===e.type&&e.isComment?(i=e,"_e("+JSON.stringify(i.text)+")"):"_v("+(2===(n=e).type?n.expression:qa(JSON.stringify(n.text)))+")";var n,i}function Ua(e){for(var t="",n="",i=0;i<e.length;i++){var r=e[i],o=qa(r.value);r.dynamic?n+=r.name+","+o+",":t+='"'+r.name+'":'+o+","}return t="{"+t.slice(0,-1)+"}",n?"_d("+t+",["+n.slice(0,-1)+"])":t}function qa(e){return e.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function Va(e,t){try{return new Function(e)}catch(n){return t.push({err:n,code:e}),D}}function Ya(e){var t=Object.create(null);return function(n,i,r){(i=T({},i)).warn,delete i.warn;var o=i.delimiters?String(i.delimiters)+n:n;if(t[o])return t[o];var a=e(n,i),s={},l=[];return s.render=Va(a.render,l),s.staticRenderFns=a.staticRenderFns.map(function(e){return Va(e,l)}),t[o]=s}}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b");var Xa,Ga,Ka=(Xa=function(e,t){var n=function(e,t){Lo=t.warn||ki,zo=t.isPreTag||N,Wo=t.mustUseProp||N,Uo=t.getTagNamespace||N,t.isReservedTag,$o=Ti(t.modules,"transformNode"),Fo=Ti(t.modules,"preTransformNode"),Ho=Ti(t.modules,"postTransformNode"),Bo=t.delimiters;var n,i,r=[],o=!1!==t.preserveWhitespace,a=t.whitespace,s=!1,l=!1;function c(e){if(d(e),s||e.processed||(e=aa(e,t)),r.length||e===n||n.if&&(e.elseif||e.else)&&la(n,{exp:e.elseif,block:e}),i&&!e.forbidden)if(e.elseif||e.else)a=e,(c=function(e){for(var t=e.length;t--;){if(1===e[t].type)return e[t];e.pop()}}(i.children))&&c.if&&la(c,{exp:a.elseif,block:a});else{if(e.slotScope){var o=e.slotTarget||'"default"';(i.scopedSlots||(i.scopedSlots={}))[o]=e}i.children.push(e),e.parent=i}var a,c;e.children=e.children.filter(function(e){return!e.slotScope}),d(e),e.pre&&(s=!1),zo(e.tag)&&(l=!1);for(var u=0;u<Ho.length;u++)Ho[u](e,t)}function d(e){if(!l)for(var t;(t=e.children[e.children.length-1])&&3===t.type&&" "===t.text;)e.children.pop()}return function(e,t){for(var n,i,r=[],o=t.expectHTML,a=t.isUnaryTag||N,s=t.canBeLeftOpenTag||N,l=0;e;){if(n=e,i&&No(i)){var c=0,d=i.toLowerCase(),u=Ao[d]||(Ao[d]=new RegExp("([\\s\\S]*?)(</"+d+"[^>]*>)","i")),h=e.replace(u,function(e,n,i){return c=i.length,No(d)||"noscript"===d||(n=n.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),Mo(d,n)&&(n=n.slice(1)),t.chars&&t.chars(n),""});l+=e.length-h.length,e=h,T(d,l-c,l)}else{var f=e.indexOf("<");if(0===f){if(Eo.test(e)){var p=e.indexOf("--\x3e");if(p>=0){t.shouldKeepComment&&t.comment(e.substring(4,p),l,l+p+3),C(p+3);continue}}if(Do.test(e)){var m=e.indexOf("]>");if(m>=0){C(m+2);continue}}var g=e.match(To);if(g){C(g[0].length);continue}var v=e.match(ko);if(v){var y=l;C(v[0].length),T(v[1],y,l);continue}var b=S();if(b){k(b),Mo(b.tagName,e)&&C(1);continue}}var w=void 0,x=void 0,_=void 0;if(f>=0){for(x=e.slice(f);!(ko.test(x)||Co.test(x)||Eo.test(x)||Do.test(x)||(_=x.indexOf("<",1))<0);)f+=_,x=e.slice(f);w=e.substring(0,f)}f<0&&(w=e),w&&C(w.length),t.chars&&w&&t.chars(w,l-w.length,l)}if(e===n){t.chars&&t.chars(e);break}}function C(t){l+=t,e=e.substring(t)}function S(){var t=e.match(Co);if(t){var n,i,r={tagName:t[1],attrs:[],start:l};for(C(t[0].length);!(n=e.match(So))&&(i=e.match(wo)||e.match(bo));)i.start=l,C(i[0].length),i.end=l,r.attrs.push(i);if(n)return r.unarySlash=n[1],C(n[0].length),r.end=l,r}}function k(e){var n=e.tagName,l=e.unarySlash;o&&("p"===i&&yo(n)&&T(i),s(n)&&i===n&&T(n));for(var c=a(n)||!!l,d=e.attrs.length,u=new Array(d),h=0;h<d;h++){var f=e.attrs[h],p=f[3]||f[4]||f[5]||"",m="a"===n&&"href"===f[1]?t.shouldDecodeNewlinesForHref:t.shouldDecodeNewlines;u[h]={name:f[1],value:jo(p,m)}}c||(r.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:u,start:e.start,end:e.end}),i=n),t.start&&t.start(n,u,c,e.start,e.end)}function T(e,n,o){var a,s;if(null==n&&(n=l),null==o&&(o=l),e)for(s=e.toLowerCase(),a=r.length-1;a>=0&&r[a].lowerCasedTag!==s;a--);else a=0;if(a>=0){for(var c=r.length-1;c>=a;c--)t.end&&t.end(r[c].tag,n,o);r.length=a,i=a&&r[a-1].tag}else"br"===s?t.start&&t.start(e,[],!0,n,o):"p"===s&&(t.start&&t.start(e,[],!1,n,o),t.end&&t.end(e,n,o))}T()}(e,{warn:Lo,expectHTML:t.expectHTML,isUnaryTag:t.isUnaryTag,canBeLeftOpenTag:t.canBeLeftOpenTag,shouldDecodeNewlines:t.shouldDecodeNewlines,shouldDecodeNewlinesForHref:t.shouldDecodeNewlinesForHref,shouldKeepComment:t.comments,outputSourceRange:t.outputSourceRange,start:function(e,o,a,d,u){var h=i&&i.ns||Uo(e);Y&&"svg"===h&&(o=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];ha.test(i.name)||(i.name=i.name.replace(fa,""),t.push(i))}return t}(o));var f,p=oa(e,o,i);h&&(p.ns=h),"style"!==(f=p).tag&&("script"!==f.tag||f.attrsMap.type&&"text/javascript"!==f.attrsMap.type)||te()||(p.forbidden=!0);for(var m=0;m<Fo.length;m++)p=Fo[m](p,t)||p;s||(function(e){null!=Pi(e,"v-pre")&&(e.pre=!0)}(p),p.pre&&(s=!0)),zo(p.tag)&&(l=!0),s?function(e){var t=e.attrsList,n=t.length;if(n)for(var i=e.attrs=new Array(n),r=0;r<n;r++)i[r]={name:t[r].name,value:JSON.stringify(t[r].value)},null!=t[r].start&&(i[r].start=t[r].start,i[r].end=t[r].end);else e.pre||(e.plain=!0)}(p):p.processed||(sa(p),function(e){var t=Pi(e,"v-if");if(t)e.if=t,la(e,{exp:t,block:e});else{null!=Pi(e,"v-else")&&(e.else=!0);var n=Pi(e,"v-else-if");n&&(e.elseif=n)}}(p),function(e){null!=Pi(e,"v-once")&&(e.once=!0)}(p)),n||(n=p),a?c(p):(i=p,r.push(p))},end:function(e,t,n){var o=r[r.length-1];r.length-=1,i=r[r.length-1],c(o)},chars:function(e,t,n){if(i&&(!Y||"textarea"!==i.tag||i.attrsMap.placeholder!==e)){var r,c,d,u=i.children;(e=l||e.trim()?"script"===(r=i).tag||"style"===r.tag?e:ia(e):u.length?a?"condense"===a&&ta.test(e)?"":" ":o?" ":"":"")&&(l||"condense"!==a||(e=e.replace(na," ")),!s&&" "!==e&&(c=function(e,t){var n=Bo?fo(Bo):uo;if(n.test(e)){for(var i,r,o,a=[],s=[],l=n.lastIndex=0;i=n.exec(e);){(r=i.index)>l&&(s.push(o=e.slice(l,r)),a.push(JSON.stringify(o)));var c=Ci(i[1].trim());a.push("_s("+c+")"),s.push({"@binding":c}),l=r+i[0].length}return l<e.length&&(s.push(o=e.slice(l)),a.push(JSON.stringify(o))),{expression:a.join("+"),tokens:s}}}(e))?d={type:2,expression:c.expression,tokens:c.tokens,text:e}:" "===e&&u.length&&" "===u[u.length-1].text||(d={type:3,text:e}),d&&u.push(d))}},comment:function(e,t,n){if(i){var r={type:3,text:e,isComment:!0};i.children.push(r)}}}),n}(e.trim(),t);!1!==t.optimize&&function(e,t){e&&(ma=ba(t.staticKeys||""),ga=t.isReservedTag||N,function e(t){if(t.static=function(e){return 2!==e.type&&(3===e.type||!(!e.pre&&(e.hasBindings||e.if||e.for||f(e.tag)||!ga(e.tag)||function(e){for(;e.parent;){if("template"!==(e=e.parent).tag)return!1;if(e.for)return!0}return!1}(e)||!Object.keys(e).every(ma))))}(t),1===t.type){if(!ga(t.tag)&&"slot"!==t.tag&&null==t.attrsMap["inline-template"])return;for(var n=0,i=t.children.length;n<i;n++){var r=t.children[n];e(r),r.static||(t.static=!1)}if(t.ifConditions)for(var o=1,a=t.ifConditions.length;o<a;o++){var s=t.ifConditions[o].block;e(s),s.static||(t.static=!1)}}}(e),function e(t,n){if(1===t.type){if((t.static||t.once)&&(t.staticInFor=n),t.static&&t.children.length&&(1!==t.children.length||3!==t.children[0].type))return void(t.staticRoot=!0);if(t.staticRoot=!1,t.children)for(var i=0,r=t.children.length;i<r;i++)e(t.children[i],n||!!t.for);if(t.ifConditions)for(var o=1,a=t.ifConditions.length;o<a;o++)e(t.ifConditions[o].block,n)}}(e,!1))}(n,t);var i=Ia(n,t);return{ast:n,render:i.render,staticRenderFns:i.staticRenderFns}},function(e){function t(t,n){var i=Object.create(e),r=[],o=[];if(n)for(var a in n.modules&&(i.modules=(e.modules||[]).concat(n.modules)),n.directives&&(i.directives=T(Object.create(e.directives||null),n.directives)),n)"modules"!==a&&"directives"!==a&&(i[a]=n[a]);i.warn=function(e,t,n){(n?o:r).push(e)};var s=Xa(t.trim(),i);return s.errors=r,s.tips=o,s}return{compile:t,compileToFunctions:Ya(t)}})(ya),Ja=(Ka.compile,Ka.compileToFunctions);function Qa(e){return(Ga=Ga||document.createElement("div")).innerHTML=e?'<a href="\n"/>':'<div a="\n"/>',Ga.innerHTML.indexOf("&#10;")>0}var Za=!!W&&Qa(!1),es=!!W&&Qa(!0),ts=y(function(e){var t=Gn(e);return t&&t.innerHTML}),ns=xn.prototype.$mount;return xn.prototype.$mount=function(e,t){if((e=e&&Gn(e))===document.body||e===document.documentElement)return this;var n=this.$options;if(!n.render){var i=n.template;if(i)if("string"==typeof i)"#"===i.charAt(0)&&(i=ts(i));else{if(!i.nodeType)return this;i=i.innerHTML}else e&&(i=function(e){if(e.outerHTML)return e.outerHTML;var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}(e));if(i){var r=Ja(i,{outputSourceRange:!1,shouldDecodeNewlines:Za,shouldDecodeNewlinesForHref:es,delimiters:n.delimiters,comments:n.comments},this),o=r.render,a=r.staticRenderFns;n.render=o,n.staticRenderFns=a}}return ns.call(this,e,t)},xn.compile=Ja,xn}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.VueResource=t()}(this,function(){"use strict";function e(e){this.state=2,this.value=void 0,this.deferred=[];var t=this;try{e(function(e){t.resolve(e)},function(e){t.reject(e)})}catch(e){t.reject(e)}}e.reject=function(t){return new e(function(e,n){n(t)})},e.resolve=function(t){return new e(function(e,n){e(t)})},e.all=function(t){return new e(function(n,i){var r=0,o=[];function a(e){return function(i){o[e]=i,(r+=1)===t.length&&n(o)}}0===t.length&&n(o);for(var s=0;s<t.length;s+=1)e.resolve(t[s]).then(a(s),i)})},e.race=function(t){return new e(function(n,i){for(var r=0;r<t.length;r+=1)e.resolve(t[r]).then(n,i)})};var t=e.prototype;function n(e,t){e instanceof Promise?this.promise=e:this.promise=new Promise(e.bind(t)),this.context=t}t.resolve=function(e){var t=this;if(2===t.state){if(e===t)throw new TypeError("Promise settled with itself.");var n=!1;try{var i=e&&e.then;if(null!==e&&"object"==typeof e&&"function"==typeof i)return void i.call(e,function(e){n||t.resolve(e),n=!0},function(e){n||t.reject(e),n=!0})}catch(e){return void(n||t.reject(e))}t.state=0,t.value=e,t.notify()}},t.reject=function(e){var t=this;if(2===t.state){if(e===t)throw new TypeError("Promise settled with itself.");t.state=1,t.value=e,t.notify()}},t.notify=function(){var e=this;r(function(){if(2!==e.state)for(;e.deferred.length;){var t=e.deferred.shift(),n=t[0],i=t[1],r=t[2],o=t[3];try{0===e.state?r("function"==typeof n?n.call(void 0,e.value):e.value):1===e.state&&("function"==typeof i?r(i.call(void 0,e.value)):o(e.value))}catch(t){o(t)}}},void 0)},t.then=function(t,n){var i=this;return new e(function(e,r){i.deferred.push([t,n,e,r]),i.notify()})},t.catch=function(e){return this.then(void 0,e)},"undefined"==typeof Promise&&(window.Promise=e),n.all=function(e,t){return new n(Promise.all(e),t)},n.resolve=function(e,t){return new n(Promise.resolve(e),t)},n.reject=function(e,t){return new n(Promise.reject(e),t)},n.race=function(e,t){return new n(Promise.race(e),t)};var i=n.prototype;i.bind=function(e){return this.context=e,this},i.then=function(e,t){return e&&e.bind&&this.context&&(e=e.bind(this.context)),t&&t.bind&&this.context&&(t=t.bind(this.context)),new n(this.promise.then(e,t),this.context)},i.catch=function(e){return e&&e.bind&&this.context&&(e=e.bind(this.context)),new n(this.promise.catch(e),this.context)},i.finally=function(e){return this.then(function(t){return e.call(this),t},function(t){return e.call(this),Promise.reject(t)})};var r,o={}.hasOwnProperty,a=[].slice,s=!1,l="undefined"!=typeof window;function c(e){return e?e.replace(/^\s*|\s*$/g,""):""}function d(e){return e?e.toLowerCase():""}var u=Array.isArray;function h(e){return"string"==typeof e}function f(e){return"function"==typeof e}function p(e){return null!==e&&"object"==typeof e}function m(e){return p(e)&&Object.getPrototypeOf(e)==Object.prototype}function g(e,t,i){var r=n.resolve(e);return arguments.length<2?r:r.then(t,i)}function v(e,t,n){return f(n=n||{})&&(n=n.call(t)),w(e.bind({$vm:t,$options:n}),e,{$options:n})}function y(e,t){var n,i;if(u(e))for(n=0;n<e.length;n++)t.call(e[n],e[n],n);else if(p(e))for(i in e)o.call(e,i)&&t.call(e[i],e[i],i);return e}var b=Object.assign||function(e){return a.call(arguments,1).forEach(function(t){x(e,t)}),e};function w(e){return a.call(arguments,1).forEach(function(t){x(e,t,!0)}),e}function x(e,t,n){for(var i in t)n&&(m(t[i])||u(t[i]))?(m(t[i])&&!m(e[i])&&(e[i]={}),u(t[i])&&!u(e[i])&&(e[i]=[]),x(e[i],t[i],n)):void 0!==t[i]&&(e[i]=t[i])}function _(e){return null!=e}function C(e){return";"===e||"&"===e||"?"===e}function S(e,t,n){return t="+"===e||"#"===e?k(t):encodeURIComponent(t),n?encodeURIComponent(n)+"="+t:t}function k(e){return e.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e)),e}).join("")}function T(e,t){var n,i=this||{},r=e;return h(e)&&(r={url:e,params:t}),r=w({},T.options,i.$options,r),T.transforms.forEach(function(e){var t,r,o;h(e)&&(e=T.transform[e]),f(e)&&(t=e,r=n,o=i.$vm,n=function(e){return t.call(o,e,r)})}),n(r)}function E(e){return new n(function(t){var n=new XDomainRequest,i=function(i){var r=i.type,o=0;"load"===r?o=200:"error"===r&&(o=500),t(e.respondWith(n.responseText,{status:o}))};e.abort=function(){return n.abort()},n.open(e.method,e.getUrl()),e.timeout&&(n.timeout=e.timeout),n.onload=i,n.onabort=i,n.onerror=i,n.ontimeout=i,n.onprogress=function(){},n.send(e.getBody())})}T.options={url:"",root:null,params:{}},T.transform={template:function(e){var t=[],n=function(e,t,n){var i,r,o,a=(i=e,r=["+","#",".","/",";","?","&"],{vars:o=[],expand:function(e){return i.replace(/\{([^{}]+)\}|([^{}]+)/g,function(t,n,i){if(n){var a=null,s=[];if(-1!==r.indexOf(n.charAt(0))&&(a=n.charAt(0),n=n.substr(1)),n.split(/,/g).forEach(function(t){var n=/([^:*]*)(?::(\d+)|(\*))?/.exec(t);s.push.apply(s,function(e,t,n,i){var r=e[n],o=[];if(_(r)&&""!==r)if("string"==typeof r||"number"==typeof r||"boolean"==typeof r)r=r.toString(),i&&"*"!==i&&(r=r.substring(0,parseInt(i,10))),o.push(S(t,r,C(t)?n:null));else if("*"===i)Array.isArray(r)?r.filter(_).forEach(function(e){o.push(S(t,e,C(t)?n:null))}):Object.keys(r).forEach(function(e){_(r[e])&&o.push(S(t,r[e],e))});else{var a=[];Array.isArray(r)?r.filter(_).forEach(function(e){a.push(S(t,e))}):Object.keys(r).forEach(function(e){_(r[e])&&(a.push(encodeURIComponent(e)),a.push(S(t,r[e].toString())))}),C(t)?o.push(encodeURIComponent(n)+"="+a.join(",")):0!==a.length&&o.push(a.join(","))}else";"===t?o.push(encodeURIComponent(n)):""!==r||"&"!==t&&"?"!==t?""===r&&o.push(""):o.push(encodeURIComponent(n)+"=");return o}(e,a,n[1],n[2]||n[3])),o.push(n[1])}),a&&"+"!==a){var l=",";return"?"===a?l="&":"#"!==a&&(l=a),(0!==s.length?a:"")+s.join(l)}return s.join(",")}return k(i)})}}),s=a.expand(t);return n&&n.push.apply(n,a.vars),s}(e.url,e.params,t);return t.forEach(function(t){delete e.params[t]}),n},query:function(e,t){var n=Object.keys(T.options.params),i={},r=t(e);return y(e.params,function(e,t){-1===n.indexOf(t)&&(i[t]=e)}),(i=T.params(i))&&(r+=(-1==r.indexOf("?")?"?":"&")+i),r},root:function(e,t){var n,i=t(e);return h(e.root)&&!/^(https?:)?\//.test(i)&&("/",i=((n=e.root)?n.replace(new RegExp("[/]+$"),""):n)+"/"+i),i}},T.transforms=["template","query","root"],T.params=function(e){var t=[],n=encodeURIComponent;return t.add=function(e,t){f(t)&&(t=t()),null===t&&(t=""),this.push(n(e)+"="+n(t))},function e(t,n,i){var r,o=u(n),a=m(n);y(n,function(n,s){r=p(n)||u(n),i&&(s=i+"["+(a||r?s:"")+"]"),!i&&o?t.add(n.name,n.value):r?e(t,n,s):t.add(s,n)})}(t,e),t.join("&").replace(/%20/g,"+")},T.parse=function(e){var t=document.createElement("a");return document.documentMode&&(t.href=e,e=t.href),t.href=e,{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",port:t.port,host:t.host,hostname:t.hostname,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):""}};var D=l&&"withCredentials"in new XMLHttpRequest;function N(e){return new n(function(t){var n,i,r=e.jsonp||"callback",o=e.jsonpCallback||"_jsonp"+Math.random().toString(36).substr(2),a=null;n=function(n){var r=n.type,s=0;"load"===r&&null!==a?s=200:"error"===r&&(s=500),s&&window[o]&&(delete window[o],document.body.removeChild(i)),t(e.respondWith(a,{status:s}))},window[o]=function(e){a=JSON.stringify(e)},e.abort=function(){n({type:"abort"})},e.params[r]=o,e.timeout&&setTimeout(e.abort,e.timeout),(i=document.createElement("script")).src=e.getUrl(),i.type="text/javascript",i.async=!0,i.onload=n,i.onerror=n,document.body.appendChild(i)})}function A(e){return(e.client||(l?function(e){return new n(function(t){var n=new XMLHttpRequest,i=function(i){var r=e.respondWith("response"in n?n.response:n.responseText,{status:1223===n.status?204:n.status,statusText:1223===n.status?"No Content":c(n.statusText)});y(c(n.getAllResponseHeaders()).split("\n"),function(e){r.headers.append(e.slice(0,e.indexOf(":")),e.slice(e.indexOf(":")+1))}),t(r)};e.abort=function(){return n.abort()},n.open(e.method,e.getUrl(),!0),e.timeout&&(n.timeout=e.timeout),e.responseType&&"responseType"in n&&(n.responseType=e.responseType),(e.withCredentials||e.credentials)&&(n.withCredentials=!0),e.crossOrigin||e.headers.set("X-Requested-With","XMLHttpRequest"),f(e.progress)&&"GET"===e.method&&n.addEventListener("progress",e.progress),f(e.downloadProgress)&&n.addEventListener("progress",e.downloadProgress),f(e.progress)&&/^(POST|PUT)$/i.test(e.method)&&n.upload.addEventListener("progress",e.progress),f(e.uploadProgress)&&n.upload&&n.upload.addEventListener("progress",e.uploadProgress),e.headers.forEach(function(e,t){n.setRequestHeader(t,e)}),n.onload=i,n.onabort=i,n.onerror=i,n.ontimeout=i,n.send(e.getBody())})}:function(e){var t=require("got");return new n(function(n){var i,r=e.getUrl(),o=e.getBody(),a=e.method,s={};e.headers.forEach(function(e,t){s[t]=e}),t(r,{body:o,method:a,headers:s}).then(i=function(t){var i=e.respondWith(t.body,{status:t.statusCode,statusText:c(t.statusMessage)});y(t.headers,function(e,t){i.headers.set(t,e)}),n(i)},function(e){return i(e.response)})})}))(e)}var O=function(e){var t=this;this.map={},y(e,function(e,n){return t.append(n,e)})};function I(e,t){return Object.keys(e).reduce(function(e,n){return d(t)===d(n)?n:e},null)}O.prototype.has=function(e){return null!==I(this.map,e)},O.prototype.get=function(e){var t=this.map[I(this.map,e)];return t?t.join():null},O.prototype.getAll=function(e){return this.map[I(this.map,e)]||[]},O.prototype.set=function(e,t){this.map[function(e){if(/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return c(e)}(I(this.map,e)||e)]=[c(t)]},O.prototype.append=function(e,t){var n=this.map[I(this.map,e)];n?n.push(c(t)):this.set(e,t)},O.prototype.delete=function(e){delete this.map[I(this.map,e)]},O.prototype.deleteAll=function(){this.map={}},O.prototype.forEach=function(e,t){var n=this;y(this.map,function(i,r){y(i,function(i){return e.call(t,i,r,n)})})};var R=function(e,t){var i,r,o=t.url,a=t.headers,s=t.status,l=t.statusText;this.url=o,this.ok=200<=s&&s<300,this.status=s||0,this.statusText=l||"",this.headers=new O(a),h(this.body=e)?this.bodyText=e:"undefined"!=typeof Blob&&e instanceof Blob&&(this.bodyBlob=e,(0===(r=e).type.indexOf("text")||-1!==r.type.indexOf("json"))&&(this.bodyText=(i=e,new n(function(e){var t=new FileReader;t.readAsText(i),t.onload=function(){e(t.result)}}))))};R.prototype.blob=function(){return g(this.bodyBlob)},R.prototype.text=function(){return g(this.bodyText)},R.prototype.json=function(){return g(this.text(),function(e){return JSON.parse(e)})},Object.defineProperty(R.prototype,"data",{get:function(){return this.body},set:function(e){this.body=e}});var P=function(e){var t;this.body=null,this.params={},b(this,e,{method:(t=e.method||"GET",t?t.toUpperCase():"")}),this.headers instanceof O||(this.headers=new O(this.headers))};P.prototype.getUrl=function(){return T(this)},P.prototype.getBody=function(){return this.body},P.prototype.respondWith=function(e,t){return new R(e,b(t||{},{url:this.getUrl()}))};var M={"Content-Type":"application/json;charset=utf-8"};function j(e){var t=this||{},i=function(e){var t=[A],i=[];function r(r){for(;t.length;){var o=t.pop();if(f(o)){var a=void 0,l=void 0;if(p(a=o.call(e,r,function(e){return l=e})||l))return new n(function(t,n){i.forEach(function(t){a=g(a,function(n){return t.call(e,n)||n},n)}),g(a,t,n)},e);f(a)&&i.unshift(a)}else c="Invalid interceptor of type "+typeof o+", must be a function","undefined"!=typeof console&&s&&console.warn("[VueResource warn]: "+c)}var c}return p(e)||(e=null),r.use=function(e){t.push(e)},r}(t.$vm);return function(e){a.call(arguments,1).forEach(function(t){for(var n in t)void 0===e[n]&&(e[n]=t[n])})}(e||{},t.$options,j.options),j.interceptors.forEach(function(e){h(e)&&(e=j.interceptor[e]),f(e)&&i.use(e)}),i(new P(e)).then(function(e){return e.ok?e:n.reject(e)},function(e){var t;return e instanceof Error&&(t=e,"undefined"!=typeof console&&console.error(t)),n.reject(e)})}function L(e,t,n,i){var r=this||{},o={};return y(n=b({},L.actions,n),function(n,a){n=w({url:e,params:b({},t)},i,n),o[a]=function(){return(r.$http||j)(function(e,t){var n,i=b({},e),r={};switch(t.length){case 2:r=t[0],n=t[1];break;case 1:/^(POST|PUT|PATCH)$/i.test(i.method)?n=t[0]:r=t[0];break;case 0:break;default:throw"Expected up to 2 arguments [params, body], got "+t.length+" arguments"}return i.body=n,i.params=b({},i.params,r),i}(n,arguments))}}),o}function B(e){var t,i,o;B.installed||(i=(t=e).config,o=t.nextTick,r=o,s=i.debug||!i.silent,e.url=T,e.http=j,e.resource=L,e.Promise=n,Object.defineProperties(e.prototype,{$url:{get:function(){return v(e.url,this,this.$options.url)}},$http:{get:function(){return v(e.http,this,this.$options.http)}},$resource:{get:function(){return e.resource.bind(this)}},$promise:{get:function(){var t=this;return function(n){return new e.Promise(n,t)}}}}))}return j.options={},j.headers={put:M,post:M,patch:M,delete:M,common:{Accept:"application/json, text/plain, */*"},custom:{}},j.interceptor={before:function(e){f(e.before)&&e.before.call(this,e)},method:function(e){e.emulateHTTP&&/^(PUT|PATCH|DELETE)$/i.test(e.method)&&(e.headers.set("X-HTTP-Method-Override",e.method),e.method="POST")},jsonp:function(e){"JSONP"==e.method&&(e.client=N)},json:function(e){var t=e.headers.get("Content-Type")||"";return p(e.body)&&0===t.indexOf("application/json")&&(e.body=JSON.stringify(e.body)),function(e){return e.bodyText?g(e.text(),function(t){var n,i;if(0===(e.headers.get("Content-Type")||"").indexOf("application/json")||(i=(n=t).match(/^\s*(\[|\{)/))&&{"[":/]\s*$/,"{":/}\s*$/}[i[1]].test(n))try{e.body=JSON.parse(t)}catch(t){e.body=null}else e.body=t;return e}):e}},form:function(e){var t;t=e.body,"undefined"!=typeof FormData&&t instanceof FormData?e.headers.delete("Content-Type"):p(e.body)&&e.emulateJSON&&(e.body=T.params(e.body),e.headers.set("Content-Type","application/x-www-form-urlencoded"))},header:function(e){y(b({},j.headers.common,e.crossOrigin?{}:j.headers.custom,j.headers[d(e.method)]),function(t,n){e.headers.has(n)||e.headers.set(n,t)})},cors:function(e){if(l){var t=T.parse(location.href),n=T.parse(e.getUrl());n.protocol===t.protocol&&n.host===t.host||(e.crossOrigin=!0,e.emulateHTTP=!1,D||(e.client=E))}}},j.interceptors=["before","method","jsonp","json","form","header","cors"],["get","delete","head","jsonp"].forEach(function(e){j[e]=function(t,n){return this(b(n||{},{url:t,method:e}))}}),["post","put","patch"].forEach(function(e){j[e]=function(t,n,i){return this(b(i||{},{url:t,method:e,body:n}))}}),L.actions={get:{method:"GET"},save:{method:"POST"},query:{method:"GET"},update:{method:"PUT"},remove:{method:"DELETE"},delete:{method:"DELETE"}},"undefined"!=typeof window&&window.Vue&&window.Vue.use(B),B}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):e.metisMenu=t(e.jQuery)}(this,function(e){"use strict";function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{},r=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),r.forEach(function(n){t(e,n,i[n])})}return e}var i=function(e){var t="transitionend",n={TRANSITION_END:"mmTransitionEnd",triggerTransitionEnd:function(n){e(n).trigger(t)},supportsTransitionEnd:function(){return Boolean(t)}};function i(t){var i=this,r=!1;return e(this).one(n.TRANSITION_END,function(){r=!0}),setTimeout(function(){r||n.triggerTransitionEnd(i)},t),this}return e.fn.mmEmulateTransitionEnd=i,e.event.special[n.TRANSITION_END]={bindType:t,delegateType:t,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}},n}(e=e&&e.hasOwnProperty("default")?e.default:e);return function(e){var t="metisMenu",r=e.fn[t],o={toggle:!0,preventDefault:!0,activeClass:"active",collapseClass:"collapse",collapseInClass:"in",collapsingClass:"collapsing",triggerElement:"a",parentTrigger:"li",subMenu:"ul"},a={SHOW:"show.metisMenu",SHOWN:"shown.metisMenu",HIDE:"hide.metisMenu",HIDDEN:"hidden.metisMenu",CLICK_DATA_API:"click.metisMenu.data-api"},s=function(){function t(e,t){this.element=e,this.config=n({},o,t),this.transitioning=null,this.init()}var r=t.prototype;return r.init=function(){var t=this,n=this.config;e(this.element).find(n.parentTrigger+"."+n.activeClass).has(n.subMenu).children(n.subMenu).addClass(n.collapseClass+" "+n.collapseInClass),e(this.element).find(n.parentTrigger).not("."+n.activeClass).has(n.subMenu).children(n.subMenu).addClass(n.collapseClass),e(this.element).find(n.parentTrigger).has(n.subMenu).children(n.triggerElement).on(a.CLICK_DATA_API,function(i){var r=e(this),o=r.parent(n.parentTrigger),a=o.siblings(n.parentTrigger).children(n.triggerElement),s=o.children(n.subMenu);n.preventDefault&&i.preventDefault(),"true"!==r.attr("aria-disabled")&&(o.hasClass(n.activeClass)?(r.attr("aria-expanded",!1),t.hide(s)):(t.show(s),r.attr("aria-expanded",!0),n.toggle&&a.attr("aria-expanded",!1)),n.onTransitionStart&&n.onTransitionStart(i))})},r.show=function(t){var n=this;if(!this.transitioning&&!e(t).hasClass(this.config.collapsingClass)){var r=e(t),o=e.Event(a.SHOW);if(r.trigger(o),!o.isDefaultPrevented()){r.parent(this.config.parentTrigger).addClass(this.config.activeClass),this.config.toggle&&this.hide(r.parent(this.config.parentTrigger).siblings().children(this.config.subMenu+"."+this.config.collapseInClass)),r.removeClass(this.config.collapseClass).addClass(this.config.collapsingClass).height(0),this.setTransitioning(!0);r.height(t[0].scrollHeight).one(i.TRANSITION_END,function(){n.config&&n.element&&(r.removeClass(n.config.collapsingClass).addClass(n.config.collapseClass+" "+n.config.collapseInClass).height(""),n.setTransitioning(!1),r.trigger(a.SHOWN))}).mmEmulateTransitionEnd(350)}}},r.hide=function(t){var n=this;if(!this.transitioning&&e(t).hasClass(this.config.collapseInClass)){var r=e(t),o=e.Event(a.HIDE);if(r.trigger(o),!o.isDefaultPrevented()){r.parent(this.config.parentTrigger).removeClass(this.config.activeClass),r.height(r.height())[0].offsetHeight,r.addClass(this.config.collapsingClass).removeClass(this.config.collapseClass).removeClass(this.config.collapseInClass),this.setTransitioning(!0);var s=function(){n.config&&n.element&&(n.transitioning&&n.config.onTransitionEnd&&n.config.onTransitionEnd(),n.setTransitioning(!1),r.trigger(a.HIDDEN),r.removeClass(n.config.collapsingClass).addClass(n.config.collapseClass))};0===r.height()||"none"===r.css("display")?s():r.height(0).one(i.TRANSITION_END,s).mmEmulateTransitionEnd(350)}}},r.setTransitioning=function(e){this.transitioning=e},r.dispose=function(){e.removeData(this.element,"metisMenu"),e(this.element).find(this.config.parentTrigger).has(this.config.subMenu).children(this.config.triggerElement).off("click"),this.transitioning=null,this.config=null,this.element=null},t.jQueryInterface=function(i){return this.each(function(){var r=e(this),a=r.data("metisMenu"),s=n({},o,r.data(),"object"==typeof i&&i?i:{});if(!a&&/dispose/.test(i)&&this.dispose(),a||(a=new t(this,s),r.data("metisMenu",a)),"string"==typeof i){if(void 0===a[i])throw new Error('No method named "'+i+'"');a[i]()}})},t}();return e.fn[t]=s.jQueryInterface,e.fn[t].Constructor=s,e.fn[t].noConflict=function(){return e.fn[t]=r,s.jQueryInterface},s}(e)}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var a=t||window.event,s=l.call(arguments,1),c=0,u=0,h=0,f=0,p=0,m=0;if((t=e.event.fix(a)).type="mousewheel","detail"in a&&(h=-1*a.detail),"wheelDelta"in a&&(h=a.wheelDelta),"wheelDeltaY"in a&&(h=a.wheelDeltaY),"wheelDeltaX"in a&&(u=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(u=-1*h,h=0),c=0===h?u:h,"deltaY"in a&&(c=h=-1*a.deltaY),"deltaX"in a&&(u=a.deltaX,0===h&&(c=-1*u)),0!==h||0!==u){if(1===a.deltaMode){var g=e.data(this,"mousewheel-line-height");c*=g,h*=g,u*=g}else if(2===a.deltaMode){var v=e.data(this,"mousewheel-page-height");c*=v,h*=v,u*=v}if(f=Math.max(Math.abs(h),Math.abs(u)),(!o||o>f)&&(o=f,i(a,f)&&(o/=40)),i(a,f)&&(c/=40,u/=40,h/=40),c=Math[c>=1?"floor":"ceil"](c/o),u=Math[u>=1?"floor":"ceil"](u/o),h=Math[h>=1?"floor":"ceil"](h/o),d.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();p=t.clientX-y.left,m=t.clientY-y.top}return t.deltaX=u,t.deltaY=h,t.deltaFactor=o,t.offsetX=p,t.offsetY=m,t.deltaMode=0,s.unshift(t,c,u,h),r&&clearTimeout(r),r=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function n(){o=null}function i(e,t){return d.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var r,o,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var c=a.length;c;)e.event.fixHooks[a[--c]]=e.event.mouseHooks;var d=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=s.length;n;)this.addEventListener(s[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",d.getLineHeight(this)),e.data(this,"mousewheel-page-height",d.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=s.length;n;)this.removeEventListener(s[--n],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),i=n["offsetParent"in e.fn?"offsetParent":"parent"]();return i.length||(i=e("body")),parseInt(i.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var a=t||window.event,s=l.call(arguments,1),c=0,u=0,h=0,f=0,p=0,m=0;if((t=e.event.fix(a)).type="mousewheel","detail"in a&&(h=-1*a.detail),"wheelDelta"in a&&(h=a.wheelDelta),"wheelDeltaY"in a&&(h=a.wheelDeltaY),"wheelDeltaX"in a&&(u=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(u=-1*h,h=0),c=0===h?u:h,"deltaY"in a&&(c=h=-1*a.deltaY),"deltaX"in a&&(u=a.deltaX,0===h&&(c=-1*u)),0!==h||0!==u){if(1===a.deltaMode){var g=e.data(this,"mousewheel-line-height");c*=g,h*=g,u*=g}else if(2===a.deltaMode){var v=e.data(this,"mousewheel-page-height");c*=v,h*=v,u*=v}if(f=Math.max(Math.abs(h),Math.abs(u)),(!o||o>f)&&(o=f,i(a,f)&&(o/=40)),i(a,f)&&(c/=40,u/=40,h/=40),c=Math[c>=1?"floor":"ceil"](c/o),u=Math[u>=1?"floor":"ceil"](u/o),h=Math[h>=1?"floor":"ceil"](h/o),d.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();p=t.clientX-y.left,m=t.clientY-y.top}return t.deltaX=u,t.deltaY=h,t.deltaFactor=o,t.offsetX=p,t.offsetY=m,t.deltaMode=0,s.unshift(t,c,u,h),r&&clearTimeout(r),r=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function n(){o=null}function i(e,t){return d.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var r,o,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var c=a.length;c;)e.event.fixHooks[a[--c]]=e.event.mouseHooks;var d=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=s.length;n;)this.addEventListener(s[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",d.getLineHeight(this)),e.data(this,"mousewheel-page-height",d.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=s.length;n;)this.removeEventListener(s[--n],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),i=n["offsetParent"in e.fn?"offsetParent":"parent"]();return i.length||(i=e("body")),parseInt(i.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e:e(jQuery,window,document)}(function(e){var t,n,i;t="function"==typeof define&&define.amd,n="undefined"!=typeof module&&module.exports,i="https:"==document.location.protocol?"https:":"http:",t||(n?require("jquery-mousewheel")(e):e.event.special.mousewheel||e("head").append(decodeURI("%3Cscript src="+i+"//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js%3E%3C/script%3E"))),function(){var t,n="mCustomScrollbar",i="mCS",r=".mCustomScrollbar",o={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},a=0,s={},l=window.attachEvent&&!window.addEventListener?1:0,c=!1,d=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],u={init:function(t){var t=e.extend(!0,{},o,t),n=h.call(this);if(t.live){var l=t.liveSelector||this.selector||r,c=e(l);if("off"===t.live)return void p(l);s[l]=setTimeout(function(){c.mCustomScrollbar(t),"once"===t.live&&c.length&&p(l)},500)}else p(l);return t.setWidth=t.set_width?t.set_width:t.setWidth,t.setHeight=t.set_height?t.set_height:t.setHeight,t.axis=t.horizontalScroll?"x":m(t.axis),t.scrollInertia=t.scrollInertia>0&&t.scrollInertia<17?17:t.scrollInertia,"object"!=typeof t.mouseWheel&&1==t.mouseWheel&&(t.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),t.mouseWheel.scrollAmount=t.mouseWheelPixels?t.mouseWheelPixels:t.mouseWheel.scrollAmount,t.mouseWheel.normalizeDelta=t.advanced.normalizeMouseWheelDelta?t.advanced.normalizeMouseWheelDelta:t.mouseWheel.normalizeDelta,t.scrollButtons.scrollType=g(t.scrollButtons.scrollType),f(t),e(n).each(function(){var n=e(this);if(!n.data(i)){n.data(i,{idx:++a,opt:t,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:n.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var r=n.data(i),o=r.opt,s=n.data("mcs-axis"),l=n.data("mcs-scrollbar-position"),c=n.data("mcs-theme");s&&(o.axis=s),l&&(o.scrollbarPosition=l),c&&(o.theme=c,f(o)),v.call(this),r&&o.callbacks.onCreate&&"function"==typeof o.callbacks.onCreate&&o.callbacks.onCreate.call(this),e("#mCSB_"+r.idx+"_container img:not(."+d[2]+")").addClass(d[2]),u.update.call(null,n)}})},update:function(t,n){var r=t||h.call(this);return e(r).each(function(){var t=e(this);if(t.data(i)){var r=t.data(i),o=r.opt,a=e("#mCSB_"+r.idx+"_container"),s=e("#mCSB_"+r.idx),l=[e("#mCSB_"+r.idx+"_dragger_vertical"),e("#mCSB_"+r.idx+"_dragger_horizontal")];if(!a.length)return;r.tweenRunning&&Y(t),n&&r&&o.callbacks.onBeforeUpdate&&"function"==typeof o.callbacks.onBeforeUpdate&&o.callbacks.onBeforeUpdate.call(this),t.hasClass(d[3])&&t.removeClass(d[3]),t.hasClass(d[4])&&t.removeClass(d[4]),s.css("max-height","none"),s.height()!==t.height()&&s.css("max-height",t.height()),b.call(this),"y"===o.axis||o.advanced.autoExpandHorizontalScroll||a.css("width",y(a)),r.overflowed=S.call(this),D.call(this),o.autoDraggerLength&&x.call(this),_.call(this),T.call(this);var c=[Math.abs(a[0].offsetTop),Math.abs(a[0].offsetLeft)];"x"!==o.axis&&(r.overflowed[0]?l[0].height()>l[0].parent().height()?k.call(this):(X(t,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}),r.contentReset.y=null):(k.call(this),"y"===o.axis?E.call(this):"yx"===o.axis&&r.overflowed[1]&&X(t,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==o.axis&&(r.overflowed[1]?l[1].width()>l[1].parent().width()?k.call(this):(X(t,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}),r.contentReset.x=null):(k.call(this),"x"===o.axis?E.call(this):"yx"===o.axis&&r.overflowed[0]&&X(t,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),n&&r&&(2===n&&o.callbacks.onImageLoad&&"function"==typeof o.callbacks.onImageLoad?o.callbacks.onImageLoad.call(this):3===n&&o.callbacks.onSelectorChange&&"function"==typeof o.callbacks.onSelectorChange?o.callbacks.onSelectorChange.call(this):o.callbacks.onUpdate&&"function"==typeof o.callbacks.onUpdate&&o.callbacks.onUpdate.call(this)),V.call(this)}})},scrollTo:function(t,n){if(void 0!==t&&null!=t){var r=h.call(this);return e(r).each(function(){var r=e(this);if(r.data(i)){var o=r.data(i),a=o.opt,s={trigger:"external",scrollInertia:a.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},l=e.extend(!0,{},s,n),c=U.call(this,t),d=l.scrollInertia>0&&l.scrollInertia<17?17:l.scrollInertia;c[0]=q.call(this,c[0],"y"),c[1]=q.call(this,c[1],"x"),l.moveDragger&&(c[0]*=o.scrollRatio.y,c[1]*=o.scrollRatio.x),l.dur=ie()?0:d,setTimeout(function(){null!==c[0]&&void 0!==c[0]&&"x"!==a.axis&&o.overflowed[0]&&(l.dir="y",l.overwrite="all",X(r,c[0].toString(),l)),null!==c[1]&&void 0!==c[1]&&"y"!==a.axis&&o.overflowed[1]&&(l.dir="x",l.overwrite="none",X(r,c[1].toString(),l))},l.timeout)}})}},stop:function(){var t=h.call(this);return e(t).each(function(){var t=e(this);t.data(i)&&Y(t)})},disable:function(t){var n=h.call(this);return e(n).each(function(){var n=e(this);n.data(i)&&(n.data(i),V.call(this,"remove"),E.call(this),t&&k.call(this),D.call(this,!0),n.addClass(d[3]))})},destroy:function(){var t=h.call(this);return e(t).each(function(){var r=e(this);if(r.data(i)){var o=r.data(i),a=o.opt,s=e("#mCSB_"+o.idx),l=e("#mCSB_"+o.idx+"_container"),c=e(".mCSB_"+o.idx+"_scrollbar");a.live&&p(a.liveSelector||e(t).selector),V.call(this,"remove"),E.call(this),k.call(this),r.removeData(i),Q(this,"mcs"),c.remove(),l.find("img."+d[2]).removeClass(d[2]),s.replaceWith(l.contents()),r.removeClass(n+" _"+i+"_"+o.idx+" "+d[6]+" "+d[7]+" "+d[5]+" "+d[3]).addClass(d[4])}})}},h=function(){return"object"!=typeof e(this)||e(this).length<1?r:this},f=function(t){t.autoDraggerLength=!(e.inArray(t.theme,["rounded","rounded-dark","rounded-dots","rounded-dots-dark"])>-1)&&t.autoDraggerLength,t.autoExpandScrollbar=!(e.inArray(t.theme,["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"])>-1)&&t.autoExpandScrollbar,t.scrollButtons.enable=!(e.inArray(t.theme,["minimal","minimal-dark"])>-1)&&t.scrollButtons.enable,t.autoHideScrollbar=e.inArray(t.theme,["minimal","minimal-dark"])>-1||t.autoHideScrollbar,t.scrollbarPosition=e.inArray(t.theme,["minimal","minimal-dark"])>-1?"outside":t.scrollbarPosition},p=function(e){s[e]&&(clearTimeout(s[e]),Q(s,e))},m=function(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},g=function(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},v=function(){var t=e(this),r=t.data(i),o=r.opt,a=o.autoExpandScrollbar?" "+d[1]+"_expand":"",s=["<div id='mCSB_"+r.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+r.idx+"_scrollbar mCS-"+o.theme+" mCSB_scrollTools_vertical"+a+"'><div class='"+d[12]+"'><div id='mCSB_"+r.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+r.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+r.idx+"_scrollbar mCS-"+o.theme+" mCSB_scrollTools_horizontal"+a+"'><div class='"+d[12]+"'><div id='mCSB_"+r.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],l="yx"===o.axis?"mCSB_vertical_horizontal":"x"===o.axis?"mCSB_horizontal":"mCSB_vertical",c="yx"===o.axis?s[0]+s[1]:"x"===o.axis?s[1]:s[0],u="yx"===o.axis?"<div id='mCSB_"+r.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",h=o.autoHideScrollbar?" "+d[6]:"",f="x"!==o.axis&&"rtl"===r.langDir?" "+d[7]:"";o.setWidth&&t.css("width",o.setWidth),o.setHeight&&t.css("height",o.setHeight),o.setLeft="y"!==o.axis&&"rtl"===r.langDir?"989999px":o.setLeft,t.addClass(n+" _"+i+"_"+r.idx+h+f).wrapInner("<div id='mCSB_"+r.idx+"' class='mCustomScrollBox mCS-"+o.theme+" "+l+"'><div id='mCSB_"+r.idx+"_container' class='mCSB_container' style='position:relative; top:"+o.setTop+"; left:"+o.setLeft+";' dir='"+r.langDir+"' /></div>");var p=e("#mCSB_"+r.idx),m=e("#mCSB_"+r.idx+"_container");"y"===o.axis||o.advanced.autoExpandHorizontalScroll||m.css("width",y(m)),"outside"===o.scrollbarPosition?("static"===t.css("position")&&t.css("position","relative"),t.css("overflow","visible"),p.addClass("mCSB_outside").after(c)):(p.addClass("mCSB_inside").append(c),m.wrap(u)),w.call(this);var g=[e("#mCSB_"+r.idx+"_dragger_vertical"),e("#mCSB_"+r.idx+"_dragger_horizontal")];g[0].css("min-height",g[0].height()),g[1].css("min-width",g[1].width())},y=function(t){var n=[t[0].scrollWidth,Math.max.apply(Math,t.children().map(function(){return e(this).outerWidth(!0)}).get())],i=t.parent().width();return n[0]>i?n[0]:n[1]>i?n[1]:"100%"},b=function(){var t=e(this),n=t.data(i),r=n.opt,o=e("#mCSB_"+n.idx+"_container");if(r.advanced.autoExpandHorizontalScroll&&"y"!==r.axis){o.css({width:"auto","min-width":0,"overflow-x":"scroll"});var a=Math.ceil(o[0].scrollWidth);3===r.advanced.autoExpandHorizontalScroll||2!==r.advanced.autoExpandHorizontalScroll&&a>o.parent().width()?o.css({width:a,"min-width":"100%","overflow-x":"inherit"}):o.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(o[0].getBoundingClientRect().right+.4)-Math.floor(o[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},w=function(){var t=e(this),n=t.data(i),r=n.opt,o=e(".mCSB_"+n.idx+"_scrollbar:first"),a=te(r.scrollButtons.tabindex)?"tabindex='"+r.scrollButtons.tabindex+"'":"",s=["<a href='#' class='"+d[13]+"' "+a+" />","<a href='#' class='"+d[14]+"' "+a+" />","<a href='#' class='"+d[15]+"' "+a+" />","<a href='#' class='"+d[16]+"' "+a+" />"],l=["x"===r.axis?s[2]:s[0],"x"===r.axis?s[3]:s[1],s[2],s[3]];r.scrollButtons.enable&&o.prepend(l[0]).append(l[1]).next(".mCSB_scrollTools").prepend(l[2]).append(l[3])},x=function(){var t=e(this),n=t.data(i),r=e("#mCSB_"+n.idx),o=e("#mCSB_"+n.idx+"_container"),a=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")],s=[r.height()/o.outerHeight(!1),r.width()/o.outerWidth(!1)],c=[parseInt(a[0].css("min-height")),Math.round(s[0]*a[0].parent().height()),parseInt(a[1].css("min-width")),Math.round(s[1]*a[1].parent().width())],d=l&&c[1]<c[0]?c[0]:c[1],u=l&&c[3]<c[2]?c[2]:c[3];a[0].css({height:d,"max-height":a[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":c[0]+"px"}),a[1].css({width:u,"max-width":a[1].parent().width()-10})},_=function(){var t=e(this),n=t.data(i),r=e("#mCSB_"+n.idx),o=e("#mCSB_"+n.idx+"_container"),a=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")],s=[o.outerHeight(!1)-r.height(),o.outerWidth(!1)-r.width()],l=[s[0]/(a[0].parent().height()-a[0].height()),s[1]/(a[1].parent().width()-a[1].width())];n.scrollRatio={y:l[0],x:l[1]}},C=function(e,t,n){var i=n?d[0]+"_expanded":"",r=e.closest(".mCSB_scrollTools");"active"===t?(e.toggleClass(d[0]+" "+i),r.toggleClass(d[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||("hide"===t?(e.removeClass(d[0]),r.removeClass(d[1])):(e.addClass(d[0]),r.addClass(d[1])))},S=function(){var t=e(this),n=t.data(i),r=e("#mCSB_"+n.idx),o=e("#mCSB_"+n.idx+"_container"),a=null==n.overflowed?o.height():o.outerHeight(!1),s=null==n.overflowed?o.width():o.outerWidth(!1),l=o[0].scrollHeight,c=o[0].scrollWidth;return l>a&&(a=l),c>s&&(s=c),[a>r.height(),s>r.width()]},k=function(){var t=e(this),n=t.data(i),r=n.opt,o=e("#mCSB_"+n.idx),a=e("#mCSB_"+n.idx+"_container"),s=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")];if(Y(t),("x"!==r.axis&&!n.overflowed[0]||"y"===r.axis&&n.overflowed[0])&&(s[0].add(a).css("top",0),X(t,"_resetY")),"y"!==r.axis&&!n.overflowed[1]||"x"===r.axis&&n.overflowed[1]){var l=dx=0;"rtl"===n.langDir&&(l=o.width()-a.outerWidth(!1),dx=Math.abs(l/n.scrollRatio.x)),a.css("left",l),s[1].css("left",dx),X(t,"_resetX")}},T=function(){var t,n=e(this),r=n.data(i),o=r.opt;r.bindEvents||(A.call(this),o.contentTouchScroll&&O.call(this),I.call(this),o.mouseWheel.enable&&function i(){t=setTimeout(function(){e.event.special.mousewheel?(clearTimeout(t),R.call(n[0])):i()},100)}(),B.call(this),F.call(this),o.advanced.autoScrollOnFocus&&$.call(this),o.scrollButtons.enable&&H.call(this),o.keyboard.enable&&z.call(this),r.bindEvents=!0)},E=function(){var t=e(this),n=t.data(i),r=n.opt,o=i+"_"+n.idx,a=".mCSB_"+n.idx+"_scrollbar",s=e("#mCSB_"+n.idx+",#mCSB_"+n.idx+"_container,#mCSB_"+n.idx+"_container_wrapper,"+a+" ."+d[12]+",#mCSB_"+n.idx+"_dragger_vertical,#mCSB_"+n.idx+"_dragger_horizontal,"+a+">a"),l=e("#mCSB_"+n.idx+"_container");r.advanced.releaseDraggableSelectors&&s.add(e(r.advanced.releaseDraggableSelectors)),r.advanced.extraDraggableSelectors&&s.add(e(r.advanced.extraDraggableSelectors)),n.bindEvents&&(e(document).add(e(!M()||top.document)).unbind("."+o),s.each(function(){e(this).unbind("."+o)}),clearTimeout(t[0]._focusTimeout),Q(t[0],"_focusTimeout"),clearTimeout(n.sequential.step),Q(n.sequential,"step"),clearTimeout(l[0].onCompleteTimeout),Q(l[0],"onCompleteTimeout"),n.bindEvents=!1)},D=function(t){var n=e(this),r=n.data(i),o=r.opt,a=e("#mCSB_"+r.idx+"_container_wrapper"),s=a.length?a:e("#mCSB_"+r.idx+"_container"),l=[e("#mCSB_"+r.idx+"_scrollbar_vertical"),e("#mCSB_"+r.idx+"_scrollbar_horizontal")],c=[l[0].find(".mCSB_dragger"),l[1].find(".mCSB_dragger")];"x"!==o.axis&&(r.overflowed[0]&&!t?(l[0].add(c[0]).add(l[0].children("a")).css("display","block"),s.removeClass(d[8]+" "+d[10])):(o.alwaysShowScrollbar?(2!==o.alwaysShowScrollbar&&c[0].css("display","none"),s.removeClass(d[10])):(l[0].css("display","none"),s.addClass(d[10])),s.addClass(d[8]))),"y"!==o.axis&&(r.overflowed[1]&&!t?(l[1].add(c[1]).add(l[1].children("a")).css("display","block"),s.removeClass(d[9]+" "+d[11])):(o.alwaysShowScrollbar?(2!==o.alwaysShowScrollbar&&c[1].css("display","none"),s.removeClass(d[11])):(l[1].css("display","none"),s.addClass(d[11])),s.addClass(d[9]))),r.overflowed[0]||r.overflowed[1]?n.removeClass(d[5]):n.addClass(d[5])},N=function(t){var n=t.type,i=t.target.ownerDocument!==document&&null!==frameElement?[e(frameElement).offset().top,e(frameElement).offset().left]:null,r=M()&&t.target.ownerDocument!==top.document&&null!==frameElement?[e(t.view.frameElement).offset().top,e(t.view.frameElement).offset().left]:[0,0];switch(n){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return i?[t.originalEvent.pageY-i[0]+r[0],t.originalEvent.pageX-i[1]+r[1],!1]:[t.originalEvent.pageY,t.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var o=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],a=t.originalEvent.touches.length||t.originalEvent.changedTouches.length;return t.target.ownerDocument!==document?[o.screenY,o.screenX,a>1]:[o.pageY,o.pageX,a>1];default:return i?[t.pageY-i[0]+r[0],t.pageX-i[1]+r[1],!1]:[t.pageY,t.pageX,!1]}},A=function(){function t(e,t,i,r){if(f[0].idleTimer=d.scrollInertia<233?250:0,n.attr("id")===h[1])var o="x",l=(n[0].offsetLeft-t+r)*s.scrollRatio.x;else var o="y",l=(n[0].offsetTop-e+i)*s.scrollRatio.y;X(a,l.toString(),{dir:o,drag:!0})}var n,r,o,a=e(this),s=a.data(i),d=s.opt,u=i+"_"+s.idx,h=["mCSB_"+s.idx+"_dragger_vertical","mCSB_"+s.idx+"_dragger_horizontal"],f=e("#mCSB_"+s.idx+"_container"),p=e("#"+h[0]+",#"+h[1]),m=d.advanced.releaseDraggableSelectors?p.add(e(d.advanced.releaseDraggableSelectors)):p,g=d.advanced.extraDraggableSelectors?e(!M()||top.document).add(e(d.advanced.extraDraggableSelectors)):e(!M()||top.document);p.bind("contextmenu."+u,function(e){e.preventDefault()}).bind("mousedown."+u+" touchstart."+u+" pointerdown."+u+" MSPointerDown."+u,function(t){if(t.stopImmediatePropagation(),t.preventDefault(),Z(t)){c=!0,l&&(document.onselectstart=function(){return!1}),j.call(f,!1),Y(a);var i=(n=e(this)).offset(),s=N(t)[0]-i.top,u=N(t)[1]-i.left,h=n.height()+i.top,p=n.width()+i.left;h>s&&s>0&&p>u&&u>0&&(r=s,o=u),C(n,"active",d.autoExpandScrollbar)}}).bind("touchmove."+u,function(e){e.stopImmediatePropagation(),e.preventDefault();var i=n.offset(),a=N(e)[0]-i.top,s=N(e)[1]-i.left;t(r,o,a,s)}),e(document).add(g).bind("mousemove."+u+" pointermove."+u+" MSPointerMove."+u,function(e){if(n){var i=n.offset(),a=N(e)[0]-i.top,s=N(e)[1]-i.left;if(r===a&&o===s)return;t(r,o,a,s)}}).add(m).bind("mouseup."+u+" touchend."+u+" pointerup."+u+" MSPointerUp."+u,function(){n&&(C(n,"active",d.autoExpandScrollbar),n=null),c=!1,l&&(document.onselectstart=null),j.call(f,!0)})},O=function(){function n(e){if(!ee(e)||c||N(e)[2])t=0;else{t=1,_=0,C=0,d=1,S.removeClass("mCS_touch_action");var n=A.offset();u=N(e)[0]-n.top,h=N(e)[1]-n.left,L=[N(e)[0],N(e)[1]]}}function r(e){if(ee(e)&&!c&&!N(e)[2]&&(T.documentTouchScroll||e.preventDefault(),e.stopImmediatePropagation(),(!C||_)&&d)){g=K();var t=D.offset(),n=N(e)[0]-t.top,i=N(e)[1]-t.left,r="mcsLinearOut";if(I.push(n),R.push(i),L[2]=Math.abs(N(e)[0]-L[0]),L[3]=Math.abs(N(e)[1]-L[1]),k.overflowed[0])var o=O[0].parent().height()-O[0].height(),a=u-n>0&&n-u>-o*k.scrollRatio.y&&(2*L[3]<L[2]||"yx"===T.axis);if(k.overflowed[1])var s=O[1].parent().width()-O[1].width(),f=h-i>0&&i-h>-s*k.scrollRatio.x&&(2*L[2]<L[3]||"yx"===T.axis);a||f?(F||e.preventDefault(),_=1):(C=1,S.addClass("mCS_touch_action")),F&&e.preventDefault(),w="yx"===T.axis?[u-n,h-i]:"x"===T.axis?[null,h-i]:[u-n,null],A[0].idleTimer=250,k.overflowed[0]&&l(w[0],P,r,"y","all",!0),k.overflowed[1]&&l(w[1],P,r,"x",j,!0)}}function o(e){if(!ee(e)||c||N(e)[2])t=0;else{t=1,e.stopImmediatePropagation(),Y(S),m=K();var n=D.offset();f=N(e)[0]-n.top,p=N(e)[1]-n.left,I=[],R=[]}}function a(e){if(ee(e)&&!c&&!N(e)[2]){d=0,e.stopImmediatePropagation(),_=0,C=0,v=K();var t=D.offset(),n=N(e)[0]-t.top,i=N(e)[1]-t.left;if(!(v-g>30)){var r="mcsEaseOut",o=2.5>(b=1e3/(v-m)),a=o?[I[I.length-2],R[R.length-2]]:[0,0];y=o?[n-a[0],i-a[1]]:[n-f,i-p];var u=[Math.abs(y[0]),Math.abs(y[1])];b=o?[Math.abs(y[0]/4),Math.abs(y[1]/4)]:[b,b];var h=[Math.abs(A[0].offsetTop)-y[0]*s(u[0]/b[0],b[0]),Math.abs(A[0].offsetLeft)-y[1]*s(u[1]/b[1],b[1])];w="yx"===T.axis?[h[0],h[1]]:"x"===T.axis?[null,h[1]]:[h[0],null],x=[4*u[0]+T.scrollInertia,4*u[1]+T.scrollInertia];var S=parseInt(T.contentTouchScroll)||0;w[0]=u[0]>S?w[0]:0,w[1]=u[1]>S?w[1]:0,k.overflowed[0]&&l(w[0],x[0],r,"y",j,!1),k.overflowed[1]&&l(w[1],x[1],r,"x",j,!1)}}}function s(e,t){var n=[1.5*t,2*t,t/1.5,t/2];return e>90?t>4?n[0]:n[3]:e>60?t>3?n[3]:n[2]:e>30?t>8?n[1]:t>6?n[0]:t>4?t:n[2]:t>8?t:n[3]}function l(e,t,n,i,r,o){e&&X(S,e.toString(),{dur:t,scrollEasing:n,dir:i,overwrite:r,drag:o})}var d,u,h,f,p,m,g,v,y,b,w,x,_,C,S=e(this),k=S.data(i),T=k.opt,E=i+"_"+k.idx,D=e("#mCSB_"+k.idx),A=e("#mCSB_"+k.idx+"_container"),O=[e("#mCSB_"+k.idx+"_dragger_vertical"),e("#mCSB_"+k.idx+"_dragger_horizontal")],I=[],R=[],P=0,j="yx"===T.axis?"none":"all",L=[],B=A.find("iframe"),$=["touchstart."+E+" pointerdown."+E+" MSPointerDown."+E,"touchmove."+E+" pointermove."+E+" MSPointerMove."+E,"touchend."+E+" pointerup."+E+" MSPointerUp."+E],F=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;A.bind($[0],function(e){n(e)}).bind($[1],function(e){r(e)}),D.bind($[0],function(e){o(e)}).bind($[2],function(e){a(e)}),B.length&&B.each(function(){e(this).bind("load",function(){M(this)&&e(this.contentDocument||this.contentWindow.document).bind($[0],function(e){n(e),o(e)}).bind($[1],function(e){r(e)}).bind($[2],function(e){a(e)})})})},I=function(){function n(e,t,n){l.type=n&&r?"stepped":"stepless",l.scrollAmount=10,W(o,e,t,"mcsLinearOut",n?60:null)}var r,o=e(this),a=o.data(i),s=a.opt,l=a.sequential,d=i+"_"+a.idx,u=e("#mCSB_"+a.idx+"_container"),h=u.parent();u.bind("mousedown."+d,function(){t||r||(r=1,c=!0)}).add(document).bind("mousemove."+d,function(e){if(!t&&r&&(window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type&&document.selection.createRange().text)){var i=u.offset(),o=N(e)[0]-i.top+u[0].offsetTop,c=N(e)[1]-i.left+u[0].offsetLeft;o>0&&o<h.height()&&c>0&&c<h.width()?l.step&&n("off",null,"stepped"):("x"!==s.axis&&a.overflowed[0]&&(0>o?n("on",38):o>h.height()&&n("on",40)),"y"!==s.axis&&a.overflowed[1]&&(0>c?n("on",37):c>h.width()&&n("on",39)))}}).bind("mouseup."+d+" dragend."+d,function(){t||(r&&(r=0,n("off",null)),c=!1)})},R=function(){function t(t,i){if(Y(n),!L(n,t.target)){var a="auto"!==o.mouseWheel.deltaFactor?parseInt(o.mouseWheel.deltaFactor):l&&t.deltaFactor<100?100:t.deltaFactor||100,d=o.scrollInertia;if("x"===o.axis||"x"===o.mouseWheel.axis)var u="x",h=[Math.round(a*r.scrollRatio.x),parseInt(o.mouseWheel.scrollAmount)],f="auto"!==o.mouseWheel.scrollAmount?h[1]:h[0]>=s.width()?.9*s.width():h[0],p=Math.abs(e("#mCSB_"+r.idx+"_container")[0].offsetLeft),m=c[1][0].offsetLeft,g=c[1].parent().width()-c[1].width(),v="y"===o.mouseWheel.axis?t.deltaY||i:t.deltaX;else var u="y",h=[Math.round(a*r.scrollRatio.y),parseInt(o.mouseWheel.scrollAmount)],f="auto"!==o.mouseWheel.scrollAmount?h[1]:h[0]>=s.height()?.9*s.height():h[0],p=Math.abs(e("#mCSB_"+r.idx+"_container")[0].offsetTop),m=c[0][0].offsetTop,g=c[0].parent().height()-c[0].height(),v=t.deltaY||i;"y"===u&&!r.overflowed[0]||"x"===u&&!r.overflowed[1]||((o.mouseWheel.invert||t.webkitDirectionInvertedFromDevice)&&(v=-v),o.mouseWheel.normalizeDelta&&(v=0>v?-1:1),(v>0&&0!==m||0>v&&m!==g||o.mouseWheel.preventDefault)&&(t.stopImmediatePropagation(),t.preventDefault()),t.deltaFactor<5&&!o.mouseWheel.normalizeDelta&&(f=t.deltaFactor,d=17),X(n,(p-v*f).toString(),{dir:u,dur:d}))}}if(e(this).data(i)){var n=e(this),r=n.data(i),o=r.opt,a=i+"_"+r.idx,s=e("#mCSB_"+r.idx),c=[e("#mCSB_"+r.idx+"_dragger_vertical"),e("#mCSB_"+r.idx+"_dragger_horizontal")],d=e("#mCSB_"+r.idx+"_container").find("iframe");d.length&&d.each(function(){e(this).bind("load",function(){M(this)&&e(this.contentDocument||this.contentWindow.document).bind("mousewheel."+a,function(e,n){t(e,n)})})}),s.bind("mousewheel."+a,function(e,n){t(e,n)})}},P=new Object,M=function(t){var n=!1,i=!1,r=null;if(void 0===t?i="#empty":void 0!==e(t).attr("id")&&(i=e(t).attr("id")),!1!==i&&void 0!==P[i])return P[i];if(t){try{var o=t.contentDocument||t.contentWindow.document;r=o.body.innerHTML}catch(e){}n=null!==r}else{try{var o=top.document;r=o.body.innerHTML}catch(e){}n=null!==r}return!1!==i&&(P[i]=n),n},j=function(e){var t=this.find("iframe");if(t.length){var n=e?"auto":"none";t.css("pointer-events",n)}},L=function(t,n){var r=n.nodeName.toLowerCase(),o=t.data(i).opt.mouseWheel.disableOver;return e.inArray(r,o)>-1&&!(e.inArray(r,["select","textarea"])>-1&&!e(n).is(":focus"))},B=function(){var t,n=e(this),r=n.data(i),o=i+"_"+r.idx,a=e("#mCSB_"+r.idx+"_container"),s=a.parent(),l=e(".mCSB_"+r.idx+"_scrollbar ."+d[12]);l.bind("mousedown."+o+" touchstart."+o+" pointerdown."+o+" MSPointerDown."+o,function(n){c=!0,e(n.target).hasClass("mCSB_dragger")||(t=1)}).bind("touchend."+o+" pointerup."+o+" MSPointerUp."+o,function(){c=!1}).bind("click."+o,function(i){if(t&&(t=0,e(i.target).hasClass(d[12])||e(i.target).hasClass("mCSB_draggerRail"))){Y(n);var o=e(this),l=o.find(".mCSB_dragger");if(o.parent(".mCSB_scrollTools_horizontal").length>0){if(!r.overflowed[1])return;var c="x",u=i.pageX>l.offset().left?-1:1,h=Math.abs(a[0].offsetLeft)-u*(.9*s.width())}else{if(!r.overflowed[0])return;var c="y",u=i.pageY>l.offset().top?-1:1,h=Math.abs(a[0].offsetTop)-u*(.9*s.height())}X(n,h.toString(),{dir:c,scrollEasing:"mcsEaseInOut"})}})},$=function(){var t=e(this),n=t.data(i),r=n.opt,o=i+"_"+n.idx,a=e("#mCSB_"+n.idx+"_container"),s=a.parent();a.bind("focusin."+o,function(){var n=e(document.activeElement),i=a.find(".mCustomScrollBox").length;n.is(r.advanced.autoScrollOnFocus)&&(Y(t),clearTimeout(t[0]._focusTimeout),t[0]._focusTimer=i?17*i:0,t[0]._focusTimeout=setTimeout(function(){var e=[ne(n)[0],ne(n)[1]],i=[a[0].offsetTop,a[0].offsetLeft],o=[i[0]+e[0]>=0&&i[0]+e[0]<s.height()-n.outerHeight(!1),i[1]+e[1]>=0&&i[0]+e[1]<s.width()-n.outerWidth(!1)],l="yx"!==r.axis||o[0]||o[1]?"all":"none";"x"===r.axis||o[0]||X(t,e[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:l,dur:0}),"y"===r.axis||o[1]||X(t,e[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:l,dur:0})},t[0]._focusTimer))})},F=function(){var t=e(this),n=t.data(i),r=i+"_"+n.idx,o=e("#mCSB_"+n.idx+"_container").parent();o.bind("scroll."+r,function(){0===o.scrollTop()&&0===o.scrollLeft()||e(".mCSB_"+n.idx+"_scrollbar").css("visibility","hidden")})},H=function(){var t=e(this),n=t.data(i),r=n.opt,o=n.sequential,a=i+"_"+n.idx,s=".mCSB_"+n.idx+"_scrollbar",l=e(s+">a");l.bind("contextmenu."+a,function(e){e.preventDefault()}).bind("mousedown."+a+" touchstart."+a+" pointerdown."+a+" MSPointerDown."+a+" mouseup."+a+" touchend."+a+" pointerup."+a+" MSPointerUp."+a+" mouseout."+a+" pointerout."+a+" MSPointerOut."+a+" click."+a,function(i){function a(e,n){o.scrollAmount=r.scrollButtons.scrollAmount,W(t,e,n)}if(i.preventDefault(),Z(i)){var s=e(this).attr("class");switch(o.type=r.scrollButtons.scrollType,i.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===o.type)return;c=!0,n.tweenRunning=!1,a("on",s);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===o.type)return;c=!1,o.dir&&a("off",s);break;case"click":if("stepped"!==o.type||n.tweenRunning)return;a("on",s)}}})},z=function(){function t(t){function i(e,t){a.type=o.keyboard.scrollType,a.scrollAmount=o.keyboard.scrollAmount,"stepped"===a.type&&r.tweenRunning||W(n,e,t)}switch(t.type){case"blur":r.tweenRunning&&a.dir&&i("off",null);break;case"keydown":case"keyup":var s=t.keyCode?t.keyCode:t.which,l="on";if("x"!==o.axis&&(38===s||40===s)||"y"!==o.axis&&(37===s||39===s)){if((38===s||40===s)&&!r.overflowed[0]||(37===s||39===s)&&!r.overflowed[1])return;"keyup"===t.type&&(l="off"),e(document.activeElement).is(u)||(t.preventDefault(),t.stopImmediatePropagation(),i(l,s))}else if(33===s||34===s){if((r.overflowed[0]||r.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type){Y(n);var h=34===s?-1:1;if("x"===o.axis||"yx"===o.axis&&r.overflowed[1]&&!r.overflowed[0])var f="x",p=Math.abs(c[0].offsetLeft)-h*(.9*d.width());else var f="y",p=Math.abs(c[0].offsetTop)-h*(.9*d.height());X(n,p.toString(),{dir:f,scrollEasing:"mcsEaseInOut"})}}else if((35===s||36===s)&&!e(document.activeElement).is(u)&&((r.overflowed[0]||r.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type)){if("x"===o.axis||"yx"===o.axis&&r.overflowed[1]&&!r.overflowed[0])var f="x",p=35===s?Math.abs(d.width()-c.outerWidth(!1)):0;else var f="y",p=35===s?Math.abs(d.height()-c.outerHeight(!1)):0;X(n,p.toString(),{dir:f,scrollEasing:"mcsEaseInOut"})}}}var n=e(this),r=n.data(i),o=r.opt,a=r.sequential,s=i+"_"+r.idx,l=e("#mCSB_"+r.idx),c=e("#mCSB_"+r.idx+"_container"),d=c.parent(),u="input,textarea,select,datalist,keygen,[contenteditable='true']",h=c.find("iframe"),f=["blur."+s+" keydown."+s+" keyup."+s];h.length&&h.each(function(){e(this).bind("load",function(){M(this)&&e(this.contentDocument||this.contentWindow.document).bind(f[0],function(e){t(e)})})}),l.attr("tabindex","0").bind(f[0],function(e){t(e)})},W=function(t,n,r,o,a){function s(e){c.snapAmount&&(u.scrollAmount=c.snapAmount instanceof Array?"x"===u.dir[0]?c.snapAmount[1]:c.snapAmount[0]:c.snapAmount);var n="stepped"!==u.type,i=a||(e?n?p/1.5:m:1e3/60),r=e?n?7.5:40:2.5,d=[Math.abs(h[0].offsetTop),Math.abs(h[0].offsetLeft)],f=[l.scrollRatio.y>10?10:l.scrollRatio.y,l.scrollRatio.x>10?10:l.scrollRatio.x],g="x"===u.dir[0]?d[1]+u.dir[1]*(f[1]*r):d[0]+u.dir[1]*(f[0]*r),v="x"===u.dir[0]?d[1]+u.dir[1]*parseInt(u.scrollAmount):d[0]+u.dir[1]*parseInt(u.scrollAmount),y="auto"!==u.scrollAmount?v:g,b=o||(e?n?"mcsLinearOut":"mcsEaseInOut":"mcsLinear"),w=!!e;return e&&17>i&&(y="x"===u.dir[0]?d[1]:d[0]),X(t,y.toString(),{dir:u.dir[0],scrollEasing:b,dur:i,onComplete:w}),e?void(u.dir=!1):(clearTimeout(u.step),void(u.step=setTimeout(function(){s()},i)))}var l=t.data(i),c=l.opt,u=l.sequential,h=e("#mCSB_"+l.idx+"_container"),f="stepped"===u.type,p=c.scrollInertia<26?26:c.scrollInertia,m=c.scrollInertia<1?17:c.scrollInertia;switch(n){case"on":if(u.dir=[r===d[16]||r===d[15]||39===r||37===r?"x":"y",r===d[13]||r===d[15]||38===r||37===r?-1:1],Y(t),te(r)&&"stepped"===u.type)return;s(f);break;case"off":clearTimeout(u.step),Q(u,"step"),Y(t),(f||l.tweenRunning&&u.dir)&&s(!0)}},U=function(t){var n=e(this).data(i).opt,r=[];return"function"==typeof t&&(t=t()),t instanceof Array?r=t.length>1?[t[0],t[1]]:"x"===n.axis?[null,t[0]]:[t[0],null]:(r[0]=t.y?t.y:t.x||"x"===n.axis?null:t,r[1]=t.x?t.x:t.y||"y"===n.axis?null:t),"function"==typeof r[0]&&(r[0]=r[0]()),"function"==typeof r[1]&&(r[1]=r[1]()),r},q=function(t,n){if(null!=t&&void 0!==t){var r=e(this),o=r.data(i),a=o.opt,s=e("#mCSB_"+o.idx+"_container"),l=s.parent(),c=typeof t;n||(n="x"===a.axis?"x":"y");var d="x"===n?s.outerWidth(!1)-l.width():s.outerHeight(!1)-l.height(),h="x"===n?s[0].offsetLeft:s[0].offsetTop,f="x"===n?"left":"top";switch(c){case"function":return t();case"object":var p=t.jquery?t:e(t);if(!p.length)return;return"x"===n?ne(p)[1]:ne(p)[0];case"string":case"number":if(te(t))return Math.abs(t);if(-1!==t.indexOf("%"))return Math.abs(d*parseInt(t)/100);if(-1!==t.indexOf("-="))return Math.abs(h-parseInt(t.split("-=")[1]));if(-1!==t.indexOf("+=")){var m=h+parseInt(t.split("+=")[1]);return m>=0?0:Math.abs(m)}if(-1!==t.indexOf("px")&&te(t.split("px")[0]))return Math.abs(t.split("px")[0]);if("top"===t||"left"===t)return 0;if("bottom"===t)return Math.abs(l.height()-s.outerHeight(!1));if("right"===t)return Math.abs(l.width()-s.outerWidth(!1));if("first"===t||"last"===t){var p=s.find(":"+t);return"x"===n?ne(p)[1]:ne(p)[0]}return e(t).length?"x"===n?ne(e(t))[1]:ne(e(t))[0]:(s.css(f,t),void u.update.call(null,r[0]))}}},V=function(t){function n(e){clearTimeout(s[0].autoUpdate),u.update.call(null,r[0],e)}var r=e(this),o=r.data(i),a=o.opt,s=e("#mCSB_"+o.idx+"_container");return t?(clearTimeout(s[0].autoUpdate),void Q(s[0],"autoUpdate")):void function t(){return clearTimeout(s[0].autoUpdate),0===r.parents("html").length?void(r=null):void(s[0].autoUpdate=setTimeout(function(){return a.advanced.updateOnSelectorChange&&(o.poll.change.n=function(){!0===a.advanced.updateOnSelectorChange&&(a.advanced.updateOnSelectorChange="*");var e=0,t=s.find(a.advanced.updateOnSelectorChange);return a.advanced.updateOnSelectorChange&&t.length>0&&t.each(function(){e+=this.offsetHeight+this.offsetWidth}),e}(),o.poll.change.n!==o.poll.change.o)?(o.poll.change.o=o.poll.change.n,void n(3)):a.advanced.updateOnContentResize&&(o.poll.size.n=r[0].scrollHeight+r[0].scrollWidth+s[0].offsetHeight+r[0].offsetHeight+r[0].offsetWidth,o.poll.size.n!==o.poll.size.o)?(o.poll.size.o=o.poll.size.n,void n(1)):!a.advanced.updateOnImageLoad||"auto"===a.advanced.updateOnImageLoad&&"y"===a.axis||(o.poll.img.n=s.find("img").length,o.poll.img.n===o.poll.img.o)?void((a.advanced.updateOnSelectorChange||a.advanced.updateOnContentResize||a.advanced.updateOnImageLoad)&&t()):(o.poll.img.o=o.poll.img.n,void s.find("img").each(function(){!function(t){if(e(t).hasClass(d[2]))n();else{var i=new Image;i.onload=function(e,t){return function(){return t.apply(e,arguments)}}(i,function(){this.onload=null,e(t).addClass(d[2]),n(2)}),i.src=t.src}}(this)}))},a.advanced.autoUpdateTimeout))}()},Y=function(t){var n=t.data(i),r=e("#mCSB_"+n.idx+"_container,#mCSB_"+n.idx+"_container_wrapper,#mCSB_"+n.idx+"_dragger_vertical,#mCSB_"+n.idx+"_dragger_horizontal");r.each(function(){J.call(this)})},X=function(t,n,r){function o(e){return s&&l.callbacks[e]&&"function"==typeof l.callbacks[e]}function a(){var e=[h[0].offsetTop,h[0].offsetLeft],n=[v[0].offsetTop,v[0].offsetLeft],i=[h.outerHeight(!1),h.outerWidth(!1)],o=[u.height(),u.width()];t[0].mcs={content:h,top:e[0],left:e[1],draggerTop:n[0],draggerLeft:n[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(i[0])-o[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(i[1])-o[1])),direction:r.dir}}var s=t.data(i),l=s.opt,c={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:l.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},r=e.extend(c,r),d=[r.dur,r.drag?0:r.dur],u=e("#mCSB_"+s.idx),h=e("#mCSB_"+s.idx+"_container"),f=h.parent(),p=l.callbacks.onTotalScrollOffset?U.call(t,l.callbacks.onTotalScrollOffset):[0,0],m=l.callbacks.onTotalScrollBackOffset?U.call(t,l.callbacks.onTotalScrollBackOffset):[0,0];if(s.trigger=r.trigger,0===f.scrollTop()&&0===f.scrollLeft()||(e(".mCSB_"+s.idx+"_scrollbar").css("visibility","visible"),f.scrollTop(0).scrollLeft(0)),"_resetY"!==n||s.contentReset.y||(o("onOverflowYNone")&&l.callbacks.onOverflowYNone.call(t[0]),s.contentReset.y=1),"_resetX"!==n||s.contentReset.x||(o("onOverflowXNone")&&l.callbacks.onOverflowXNone.call(t[0]),s.contentReset.x=1),"_resetY"!==n&&"_resetX"!==n){if(!s.contentReset.y&&t[0].mcs||!s.overflowed[0]||(o("onOverflowY")&&l.callbacks.onOverflowY.call(t[0]),s.contentReset.x=null),!s.contentReset.x&&t[0].mcs||!s.overflowed[1]||(o("onOverflowX")&&l.callbacks.onOverflowX.call(t[0]),s.contentReset.x=null),l.snapAmount){var g=l.snapAmount instanceof Array?"x"===r.dir?l.snapAmount[1]:l.snapAmount[0]:l.snapAmount;n=function(e,t,n){return Math.round(e/t)*t-n}(n,g,l.snapOffset)}switch(r.dir){case"x":var v=e("#mCSB_"+s.idx+"_dragger_horizontal"),y="left",b=h[0].offsetLeft,w=[u.width()-h.outerWidth(!1),v.parent().width()-v.width()],x=[n,0===n?0:n/s.scrollRatio.x],_=p[1],S=m[1],k=_>0?_/s.scrollRatio.x:0,T=S>0?S/s.scrollRatio.x:0;break;case"y":var v=e("#mCSB_"+s.idx+"_dragger_vertical"),y="top",b=h[0].offsetTop,w=[u.height()-h.outerHeight(!1),v.parent().height()-v.height()],x=[n,0===n?0:n/s.scrollRatio.y],_=p[0],S=m[0],k=_>0?_/s.scrollRatio.y:0,T=S>0?S/s.scrollRatio.y:0}x[1]<0||0===x[0]&&0===x[1]?x=[0,0]:x[1]>=w[1]?x=[w[0],w[1]]:x[0]=-x[0],t[0].mcs||(a(),o("onInit")&&l.callbacks.onInit.call(t[0])),clearTimeout(h[0].onCompleteTimeout),G(v[0],y,Math.round(x[1]),d[1],r.scrollEasing),!s.tweenRunning&&(0===b&&x[0]>=0||b===w[0]&&x[0]<=w[0])||G(h[0],y,Math.round(x[0]),d[0],r.scrollEasing,r.overwrite,{onStart:function(){r.callbacks&&r.onStart&&!s.tweenRunning&&(o("onScrollStart")&&(a(),l.callbacks.onScrollStart.call(t[0])),s.tweenRunning=!0,C(v),s.cbOffsets=[l.callbacks.alwaysTriggerOffsets||b>=w[0]+_,l.callbacks.alwaysTriggerOffsets||-S>=b])},onUpdate:function(){r.callbacks&&r.onUpdate&&o("whileScrolling")&&(a(),l.callbacks.whileScrolling.call(t[0]))},onComplete:function(){if(r.callbacks&&r.onComplete){"yx"===l.axis&&clearTimeout(h[0].onCompleteTimeout);var e=h[0].idleTimer||0;h[0].onCompleteTimeout=setTimeout(function(){o("onScroll")&&(a(),l.callbacks.onScroll.call(t[0])),o("onTotalScroll")&&x[1]>=w[1]-k&&s.cbOffsets[0]&&(a(),l.callbacks.onTotalScroll.call(t[0])),o("onTotalScrollBack")&&x[1]<=T&&s.cbOffsets[1]&&(a(),l.callbacks.onTotalScrollBack.call(t[0])),s.tweenRunning=!1,h[0].idleTimer=0,C(v,"hide")},e)}}})}},G=function(e,t,n,i,r,o,a){function s(){y.stop||(m||u.call(),m=K()-p,l(),m>=y.time&&(y.time=m>y.time?m+c-(m-y.time):m+c-1,y.time<m+1&&(y.time=m+1)),y.time<i?y.id=d(s):f.call())}function l(){i>0?(y.currVal=function(e,t,n,i,r){switch(r){case"linear":case"mcsLinear":return n*e/i+t;case"mcsLinearOut":return e/=i,e--,n*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":return 1>(e/=i/2)?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t;case"easeInOutStrong":return 1>(e/=i/2)?n/2*Math.pow(2,10*(e-1))+t:(e--,n/2*(2-Math.pow(2,-10*e))+t);case"easeInOut":case"mcsEaseInOut":return 1>(e/=i/2)?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t;case"easeOutSmooth":return e/=i,-n*(--e*e*e*e-1)+t;case"easeOutStrong":return n*(1-Math.pow(2,-10*e/i))+t;case"easeOut":case"mcsEaseOut":default:var o=(e/=i)*e,a=o*e;return t+n*(.499999999999997*a*o+-2.5*o*o+5.5*a+-6.5*o+4*e)}}(y.time,g,b,i,r),v[t]=Math.round(y.currVal)+"px"):v[t]=n+"px",h.call()}e._mTween||(e._mTween={top:{},left:{}});var c,d,a=a||{},u=a.onStart||function(){},h=a.onUpdate||function(){},f=a.onComplete||function(){},p=K(),m=0,g=e.offsetTop,v=e.style,y=e._mTween[t];"left"===t&&(g=e.offsetLeft);var b=n-g;y.stop=0,"none"!==o&&null!=y.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(y.id):clearTimeout(y.id),y.id=null),c=1e3/60,y.time=m+c,d=window.requestAnimationFrame?window.requestAnimationFrame:function(e){return l(),setTimeout(e,.01)},y.id=d(s)},K=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},J=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var t=["top","left"],n=0;n<t.length;n++){var i=t[n];e._mTween[i].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(e._mTween[i].id):clearTimeout(e._mTween[i].id),e._mTween[i].id=null,e._mTween[i].stop=1)}},Q=function(e,t){try{delete e[t]}catch(n){e[t]=null}},Z=function(e){return!(e.which&&1!==e.which)},ee=function(e){var t=e.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},te=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},ne=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]},ie=function(){var e=function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}();return!!e&&document[e]};e.fn[n]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):u.init.apply(this,arguments)},e[n]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):u.init.apply(this,arguments)},e[n].defaults=o,window[n]=!0,e(window).bind("load",function(){e(r)[n](),e.extend(e.expr[":"],{mcsInView:e.expr[":"].mcsInView||function(t){var n,i,r=e(t),o=r.parents(".mCSB_container");if(o.length)return n=o.parent(),(i=[o[0].offsetTop,o[0].offsetLeft])[0]+ne(r)[0]>=0&&i[0]+ne(r)[0]<n.height()-r.outerHeight(!1)&&i[1]+ne(r)[1]>=0&&i[1]+ne(r)[1]<n.width()-r.outerWidth(!1)},mcsInSight:e.expr[":"].mcsInSight||function(t,n,i){var r,o,a,s,l=e(t),c=l.parents(".mCSB_container"),d="exact"===i[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(c.length)return r=[l.outerHeight(!1),l.outerWidth(!1)],a=[c[0].offsetTop+ne(l)[0],c[0].offsetLeft+ne(l)[1]],o=[c.parent()[0].offsetHeight,c.parent()[0].offsetWidth],a[0]-o[0]*(s=[r[0]<o[0]?d[0]:d[1],r[1]<o[1]?d[0]:d[1]])[0][0]<0&&a[0]+r[0]-o[0]*s[0][1]>=0&&a[1]-o[1]*s[1][0]<0&&a[1]+r[1]-o[1]*s[1][1]>=0},mcsOverflow:e.expr[":"].mcsOverflow||function(t){var n=e(t).data(i);if(n)return n.overflowed[0]||n.overflowed[1]}})})}()}),function(e,t){"use strict";"function"==typeof define&&define.amd?define([],function(){return e.Waves=t.call(e),e.Waves}):"object"==typeof exports?module.exports=t.call(e):e.Waves=t.call(e)}("object"==typeof global?global:this,function(){"use strict";function e(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function t(t){var n=l.call(t);return"[object String]"===n?s(t):e(t)&&/^\[object (Array|HTMLCollection|NodeList|Object)\]$/.test(n)&&t.hasOwnProperty("length")?t:function(t){return e(t)&&t.nodeType>0}(t)?[t]:[]}function n(e){var t,n,i={top:0,left:0},r=e&&e.ownerDocument;return t=r.documentElement,void 0!==e.getBoundingClientRect&&(i=e.getBoundingClientRect()),n=function(e){return function(e){return null!==e&&e===e.window}(e)?e:9===e.nodeType&&e.defaultView}(r),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}}function i(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+":"+e[n]+";");return t}function r(e,t,n){if(n){n.classList.remove("waves-rippling");var r=n.getAttribute("data-x"),o=n.getAttribute("data-y"),a=n.getAttribute("data-scale"),s=n.getAttribute("data-translate"),l=350-(Date.now()-Number(n.getAttribute("data-hold")));l<0&&(l=0),"mousemove"===e.type&&(l=150);var c="mousemove"===e.type?2500:d.duration;setTimeout(function(){var e={top:o+"px",left:r+"px",opacity:"0","-webkit-transition-duration":c+"ms","-moz-transition-duration":c+"ms","-o-transition-duration":c+"ms","transition-duration":c+"ms","-webkit-transform":a+" "+s,"-moz-transform":a+" "+s,"-ms-transform":a+" "+s,"-o-transform":a+" "+s,transform:a+" "+s};n.setAttribute("style",i(e)),setTimeout(function(){try{t.removeChild(n)}catch(e){return!1}},c)},l)}}function o(e){var t=function(e){if(!1===h.allowEvent(e))return null;for(var t=null,n=e.target||e.srcElement;n.parentElement;){if(!(n instanceof SVGElement)&&n.classList.contains("waves-effect")){t=n;break}n=n.parentElement}return t}(e);if(null!==t){if(t.disabled||t.getAttribute("disabled")||t.classList.contains("disabled"))return;if(h.registerEvent(e),"touchstart"===e.type&&d.delay){var n=!1,i=setTimeout(function(){i=null,d.show(e,t)},d.delay),r=function(r){i&&(clearTimeout(i),i=null,d.show(e,t)),n||(n=!0,d.hide(r,t)),a()},o=function(e){i&&(clearTimeout(i),i=null),r(e),a()};t.addEventListener("touchmove",o,!1),t.addEventListener("touchend",r,!1),t.addEventListener("touchcancel",r,!1);var a=function(){t.removeEventListener("touchmove",o),t.removeEventListener("touchend",r),t.removeEventListener("touchcancel",r)}}else d.show(e,t),c&&(t.addEventListener("touchend",d.hide,!1),t.addEventListener("touchcancel",d.hide,!1)),t.addEventListener("mouseup",d.hide,!1),t.addEventListener("mouseleave",d.hide,!1)}}var a=a||{},s=document.querySelectorAll.bind(document),l=Object.prototype.toString,c="ontouchstart"in window,d={duration:750,delay:200,show:function(e,t,r){if(2===e.button)return!1;t=t||this;var o=document.createElement("div");o.className="waves-ripple waves-rippling",t.appendChild(o);var a=n(t),s=0,l=0;"touches"in e&&e.touches.length?(s=e.touches[0].pageY-a.top,l=e.touches[0].pageX-a.left):(s=e.pageY-a.top,l=e.pageX-a.left),l=l>=0?l:0,s=s>=0?s:0;var c="scale("+t.clientWidth/100*3+")",u="translate(0,0)";r&&(u="translate("+r.x+"px, "+r.y+"px)"),o.setAttribute("data-hold",Date.now()),o.setAttribute("data-x",l),o.setAttribute("data-y",s),o.setAttribute("data-scale",c),o.setAttribute("data-translate",u);var h={top:s+"px",left:l+"px"};o.classList.add("waves-notransition"),o.setAttribute("style",i(h)),o.classList.remove("waves-notransition"),h["-webkit-transform"]=c+" "+u,h["-moz-transform"]=c+" "+u,h["-ms-transform"]=c+" "+u,h["-o-transform"]=c+" "+u,h.transform=c+" "+u,h.opacity="1";var f="mousemove"===e.type?2500:d.duration;h["-webkit-transition-duration"]=f+"ms",h["-moz-transition-duration"]=f+"ms",h["-o-transition-duration"]=f+"ms",h["transition-duration"]=f+"ms",o.setAttribute("style",i(h))},hide:function(e,t){for(var n=(t=t||this).getElementsByClassName("waves-rippling"),i=0,o=n.length;i<o;i++)r(e,t,n[i]);c&&(t.removeEventListener("touchend",d.hide),t.removeEventListener("touchcancel",d.hide)),t.removeEventListener("mouseup",d.hide),t.removeEventListener("mouseleave",d.hide)}},u={input:function(e){var t=e.parentNode;if("i"!==t.tagName.toLowerCase()||!t.classList.contains("waves-effect")){var n=document.createElement("i");n.className=e.className+" waves-input-wrapper",e.className="waves-button-input",t.replaceChild(n,e),n.appendChild(e);var i=window.getComputedStyle(e,null),r=i.color,o=i.backgroundColor;n.setAttribute("style","color:"+r+";background:"+o),e.setAttribute("style","background-color:rgba(0,0,0,0);")}},img:function(e){var t=e.parentNode;if("i"!==t.tagName.toLowerCase()||!t.classList.contains("waves-effect")){var n=document.createElement("i");t.replaceChild(n,e),n.appendChild(e)}}},h={touches:0,allowEvent:function(e){var t=!0;return/^(mousedown|mousemove)$/.test(e.type)&&h.touches&&(t=!1),t},registerEvent:function(e){var t=e.type;"touchstart"===t?h.touches+=1:/^(touchend|touchcancel)$/.test(t)&&setTimeout(function(){h.touches&&(h.touches-=1)},500)}};return a.init=function(e){var t=document.body;"duration"in(e=e||{})&&(d.duration=e.duration),"delay"in e&&(d.delay=e.delay),c&&(t.addEventListener("touchstart",o,!1),t.addEventListener("touchcancel",h.registerEvent,!1),t.addEventListener("touchend",h.registerEvent,!1)),t.addEventListener("mousedown",o,!1)},a.attach=function(e,n){e=t(e),"[object Array]"===l.call(n)&&(n=n.join(" ")),n=n?" "+n:"";for(var i,r,o=0,a=e.length;o<a;o++)r=(i=e[o]).tagName.toLowerCase(),-1!==["input","img"].indexOf(r)&&(u[r](i),i=i.parentElement),-1===i.className.indexOf("waves-effect")&&(i.className+=" waves-effect"+n)},a.ripple=function(e,i){var r=(e=t(e)).length;if((i=i||{}).wait=i.wait||0,i.position=i.position||null,r)for(var o,a,s,l={},c=0,u={type:"mousedown",button:1};c<r;c++)if(o=e[c],a=i.position||{x:o.clientWidth/2,y:o.clientHeight/2},s=n(o),l.x=s.left+a.x,l.y=s.top+a.y,u.pageX=l.x,u.pageY=l.y,d.show(u,o),i.wait>=0&&null!==i.wait){setTimeout(function(e,t){return function(){d.hide(e,t)}}({type:"mouseup",button:1},o),i.wait)}},a.calm=function(e){for(var n={type:"mouseup",button:1},i=0,r=(e=t(e)).length;i<r;i++)d.hide(n,e[i])},a.displayEffect=function(e){a.init(e)},a}),("function"==typeof define&&define.amd?define:function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):window.toastr=t(window.jQuery)})(["jquery"],function(e){return function(){function t(t,n){return t||(t=a()),(l=e("#"+t.containerId)).length?l:(n&&(l=function(t){return(l=e("<div/>").attr("id",t.containerId).addClass(t.positionClass)).appendTo(e(t.target)),l}(t)),l)}function n(t){for(var n=l.children(),r=n.length-1;r>=0;r--)i(e(n[r]),t)}function i(t,n,i){var r=!(!i||!i.force)&&i.force;return!(!t||!r&&0!==e(":focus",t).length||(t[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){s(t)}}),0))}function r(e){c&&c(e)}function o(n){function i(e){return null==e&&(e=""),e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function o(t){var n=t&&!1!==p.closeMethod?p.closeMethod:p.hideMethod,i=t&&!1!==p.closeDuration?p.closeDuration:p.hideDuration,o=t&&!1!==p.closeEasing?p.closeEasing:p.hideEasing;if(!e(":focus",v).length||t)return clearTimeout(_.intervalId),v[n]({duration:i,easing:o,complete:function(){s(v),clearTimeout(g),p.onHidden&&"hidden"!==C.state&&p.onHidden(),C.state="hidden",C.endTime=new Date,r(C)}})}function c(){(p.timeOut>0||p.extendedTimeOut>0)&&(g=setTimeout(o,p.extendedTimeOut),_.maxHideTime=parseFloat(p.extendedTimeOut),_.hideEta=(new Date).getTime()+_.maxHideTime)}function h(){clearTimeout(g),_.hideEta=0,v.stop(!0,!0)[p.showMethod]({duration:p.showDuration,easing:p.showEasing})}function f(){var e=(_.hideEta-(new Date).getTime())/_.maxHideTime*100;w.width(e+"%")}var p=a(),m=n.iconClass||p.iconClass;if(void 0!==n.optionsOverride&&(p=e.extend(p,n.optionsOverride),m=n.optionsOverride.iconClass||m),!function(e,t){if(e.preventDuplicates){if(t.message===d)return!0;d=t.message}return!1}(p,n)){u++,l=t(p,!0);var g=null,v=e("<div/>"),y=e("<div/>"),b=e("<div/>"),w=e("<div/>"),x=e(p.closeHtml),_={intervalId:null,hideEta:null,maxHideTime:null},C={toastId:u,state:"visible",startTime:new Date,options:p,map:n};return n.iconClass&&v.addClass(p.toastClass).addClass(m),function(){if(n.title){var e=n.title;p.escapeHtml&&(e=i(n.title)),y.append(e).addClass(p.titleClass),v.append(y)}}(),function(){if(n.message){var e=n.message;p.escapeHtml&&(e=i(n.message)),b.append(e).addClass(p.messageClass),v.append(b)}}(),p.closeButton&&(x.addClass(p.closeClass).attr("role","button"),v.prepend(x)),p.progressBar&&(w.addClass(p.progressClass),v.prepend(w)),p.rtl&&v.addClass("rtl"),p.newestOnTop?l.prepend(v):l.append(v),function(){var e="";switch(n.iconClass){case"toast-success":case"toast-info":e="polite";break;default:e="assertive"}v.attr("aria-live",e)}(),v.hide(),v[p.showMethod]({duration:p.showDuration,easing:p.showEasing,complete:p.onShown}),p.timeOut>0&&(g=setTimeout(o,p.timeOut),_.maxHideTime=parseFloat(p.timeOut),_.hideEta=(new Date).getTime()+_.maxHideTime,p.progressBar&&(_.intervalId=setInterval(f,10))),p.closeOnHover&&v.hover(h,c),!p.onclick&&p.tapToDismiss&&v.click(o),p.closeButton&&x&&x.click(function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&!0!==e.cancelBubble&&(e.cancelBubble=!0),p.onCloseClick&&p.onCloseClick(e),o(!0)}),p.onclick&&v.click(function(e){p.onclick(e),o()}),r(C),p.debug&&console&&console.log(C),v}}function a(){return e.extend({},{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1},f.options)}function s(e){l||(l=t()),e.is(":visible")||(e.remove(),e=null,0===l.children().length&&(l.remove(),d=void 0))}var l,c,d,u=0,h={error:"error",info:"info",success:"success",warning:"warning"},f={clear:function(e,r){var o=a();l||t(o),i(e,o,r)||n(o)},remove:function(n){var i=a();return l||t(i),n&&0===e(":focus",n).length?void s(n):void(l.children().length&&l.remove())},error:function(e,t,n){return o({type:h.error,iconClass:a().iconClasses.error,message:e,optionsOverride:n,title:t})},getContainer:t,info:function(e,t,n){return o({type:h.info,iconClass:a().iconClasses.info,message:e,optionsOverride:n,title:t})},options:{},subscribe:function(e){c=e},success:function(e,t,n){return o({type:h.success,iconClass:a().iconClasses.success,message:e,optionsOverride:n,title:t})},version:"2.1.4",warning:function(e,t,n){return o({type:h.warning,iconClass:a().iconClasses.warning,message:e,optionsOverride:n,title:t})}};return f}()}),function(e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n||(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n,t,t.document)}:e(jQuery,window,document)}(function(e,t,n,i){function r(t){var n,i,o={};e.each(t,function(e){(n=e.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(n[1]+" ")&&(i=e.replace(n[0],n[2].toLowerCase()),o[i]=e,"o"===n[1]&&r(t[e]))}),t._hungarianMap=o}function o(t,n,a){var s;t._hungarianMap||r(t),e.each(n,function(r){(s=t._hungarianMap[r])===i||!a&&n[s]!==i||("o"===s.charAt(0)?(n[s]||(n[s]={}),e.extend(!0,n[s],n[r]),o(t[s],n[s],a)):n[s]=n[r])})}function a(e){var t=Ve.defaults.oLanguage,n=t.sDecimal;if(n&&Fe(n),e){var i=e.sZeroRecords;!e.sEmptyTable&&i&&"No data available in table"===t.sEmptyTable&&Oe(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&i&&"Loading..."===t.sLoadingRecords&&Oe(e,e,"sZeroRecords","sLoadingRecords"),e.sInfoThousands&&(e.sThousands=e.sInfoThousands),(e=e.sDecimal)&&n!==e&&Fe(e)}}function s(e){if(ct(e,"ordering","bSort"),ct(e,"orderMulti","bSortMulti"),ct(e,"orderClasses","bSortClasses"),ct(e,"orderCellsTop","bSortCellsTop"),ct(e,"order","aaSorting"),ct(e,"orderFixed","aaSortingFixed"),ct(e,"paging","bPaginate"),ct(e,"pagingType","sPaginationType"),ct(e,"pageLength","iDisplayLength"),ct(e,"searching","bFilter"),"boolean"==typeof e.sScrollX&&(e.sScrollX=e.sScrollX?"100%":""),"boolean"==typeof e.scrollX&&(e.scrollX=e.scrollX?"100%":""),e=e.aoSearchCols)for(var t=0,n=e.length;t<n;t++)e[t]&&o(Ve.models.oSearch,e[t])}function l(t){ct(t,"orderable","bSortable"),ct(t,"orderData","aDataSort"),ct(t,"orderSequence","asSorting"),ct(t,"orderDataType","sortDataType");var n=t.aDataSort;"number"==typeof n&&!e.isArray(n)&&(t.aDataSort=[n])}function c(n){if(!Ve.__browser){var i={};Ve.__browser=i;var r=e("<div/>").css({position:"fixed",top:0,left:-1*e(t).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(e("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(e("<div/>").css({width:"100%",height:10}))).appendTo("body"),o=r.children(),a=o.children();i.barWidth=o[0].offsetWidth-o[0].clientWidth,i.bScrollOversize=100===a[0].offsetWidth&&100!==o[0].clientWidth,i.bScrollbarLeft=1!==Math.round(a.offset().left),i.bBounding=!!r[0].getBoundingClientRect().width,r.remove()}e.extend(n.oBrowser,Ve.__browser),n.oScroll.iBarWidth=Ve.__browser.barWidth}function d(e,t,n,r,o,a){var s,l=!1;for(n!==i&&(s=n,l=!0);r!==o;)e.hasOwnProperty(r)&&(s=l?t(s,e[r],r,e):e[r],l=!0,r+=a);return s}function u(t,i){var r=Ve.defaults.column,o=t.aoColumns.length;r=e.extend({},Ve.models.oColumn,r,{nTh:i||n.createElement("th"),sTitle:r.sTitle?r.sTitle:i?i.innerHTML:"",aDataSort:r.aDataSort?r.aDataSort:[o],mData:r.mData?r.mData:o,idx:o});t.aoColumns.push(r),(r=t.aoPreSearchCols)[o]=e.extend({},Ve.models.oSearch,r[o]),h(t,o,e(i).data())}function h(t,n,r){n=t.aoColumns[n];var a=t.oClasses,s=e(n.nTh);if(!n.sWidthOrig){n.sWidthOrig=s.attr("width")||null;var c=(s.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);c&&(n.sWidthOrig=c[1])}r!==i&&null!==r&&(l(r),o(Ve.defaults.column,r),r.mDataProp!==i&&!r.mData&&(r.mData=r.mDataProp),r.sType&&(n._sManualType=r.sType),r.className&&!r.sClass&&(r.sClass=r.className),r.sClass&&s.addClass(r.sClass),e.extend(n,r),Oe(n,r,"sWidth","sWidthOrig"),r.iDataSort!==i&&(n.aDataSort=[r.iDataSort]),Oe(n,r,"aDataSort"));var d=n.mData,u=k(d),h=n.mRender?k(n.mRender):null;r=function(e){return"string"==typeof e&&-1!==e.indexOf("@")};n._bAttrSrc=e.isPlainObject(d)&&(r(d.sort)||r(d.type)||r(d.filter)),n._setter=null,n.fnGetData=function(e,t,n){var r=u(e,t,i,n);return h&&t?h(r,t,e,n):r},n.fnSetData=function(e,t,n){return T(d)(e,t,n)},"number"!=typeof d&&(t._rowReadObject=!0),t.oFeatures.bSort||(n.bSortable=!1,s.addClass(a.sSortableNone)),t=-1!==e.inArray("asc",n.asSorting),r=-1!==e.inArray("desc",n.asSorting),n.bSortable&&(t||r)?t&&!r?(n.sSortingClass=a.sSortableAsc,n.sSortingClassJUI=a.sSortJUIAscAllowed):!t&&r?(n.sSortingClass=a.sSortableDesc,n.sSortingClassJUI=a.sSortJUIDescAllowed):(n.sSortingClass=a.sSortable,n.sSortingClassJUI=a.sSortJUI):(n.sSortingClass=a.sSortableNone,n.sSortingClassJUI="")}function f(e){if(!1!==e.oFeatures.bAutoWidth){var t=e.aoColumns;me(e);for(var n=0,i=t.length;n<i;n++)t[n].nTh.style.width=t[n].sWidth}(""!==(t=e.oScroll).sY||""!==t.sX)&&fe(e),Me(e,null,"column-sizing",[e])}function p(e,t){var n=v(e,"bVisible");return"number"==typeof n[t]?n[t]:null}function m(t,n){var i=v(t,"bVisible");return-1!==(i=e.inArray(n,i))?i:null}function g(t){var n=0;return e.each(t.aoColumns,function(t,i){i.bVisible&&"none"!==e(i.nTh).css("display")&&n++}),n}function v(t,n){var i=[];return e.map(t.aoColumns,function(e,t){e[n]&&i.push(t)}),i}function y(e){var t,n,r,o,a,s,l,c,d,u=e.aoColumns,h=e.aoData,f=Ve.ext.type.detect;for(t=0,n=u.length;t<n;t++)if(d=[],!(l=u[t]).sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){for(r=0,o=f.length;r<o;r++){for(a=0,s=h.length;a<s&&(d[a]===i&&(d[a]=_(e,a,t,"type")),(c=f[r](d[a],e))||r===f.length-1)&&"html"!==c;a++);if(c){l.sType=c;break}}l.sType||(l.sType="string")}}function b(t,n,r,o){var a,s,l,c,d,h,f=t.aoColumns;if(n)for(a=n.length-1;0<=a;a--){var p=(h=n[a]).targets!==i?h.targets:h.aTargets;for(e.isArray(p)||(p=[p]),s=0,l=p.length;s<l;s++)if("number"==typeof p[s]&&0<=p[s]){for(;f.length<=p[s];)u(t);o(p[s],h)}else if("number"==typeof p[s]&&0>p[s])o(f.length+p[s],h);else if("string"==typeof p[s])for(c=0,d=f.length;c<d;c++)("_all"==p[s]||e(f[c].nTh).hasClass(p[s]))&&o(c,h)}if(r)for(a=0,t=r.length;a<t;a++)o(a,r[a])}function w(t,n,r,o){var a=t.aoData.length,s=e.extend(!0,{},Ve.models.oRow,{src:r?"dom":"data",idx:a});s._aData=n,t.aoData.push(s);for(var l=t.aoColumns,c=0,d=l.length;c<d;c++)l[c].sType=null;return t.aiDisplayMaster.push(a),(n=t.rowIdFn(n))!==i&&(t.aIds[n]=s),(r||!t.oFeatures.bDeferRender)&&I(t,a,r,o),a}function x(t,n){var i;return n instanceof e||(n=e(n)),n.map(function(e,n){return i=O(t,n),w(t,i.data,n,i.cells)})}function _(e,t,n,r){var o=e.iDraw,a=e.aoColumns[n],s=e.aoData[t]._aData,l=a.sDefaultContent,c=a.fnGetData(s,r,{settings:e,row:t,col:n});if(c===i)return e.iDrawError!=o&&null===l&&(Ae(e,0,"Requested unknown parameter "+("function"==typeof a.mData?"{function}":"'"+a.mData+"'")+" for row "+t+", column "+n,4),e.iDrawError=o),l;if(c!==s&&null!==c||null===l||r===i){if("function"==typeof c)return c.call(s)}else c=l;return null===c&&"display"==r?"":c}function C(e,t,n,i){e.aoColumns[n].fnSetData(e.aoData[t]._aData,i,{settings:e,row:t,col:n})}function S(t){return e.map(t.match(/(\\.|[^\.])+/g)||[""],function(e){return e.replace(/\\\./g,".")})}function k(t){if(e.isPlainObject(t)){var n={};return e.each(t,function(e,t){t&&(n[e]=k(t))}),function(e,t,r,o){var a=n[t]||n._;return a!==i?a(e,t,r,o):e}}if(null===t)return function(e){return e};if("function"==typeof t)return function(e,n,i,r){return t(e,n,i,r)};if("string"==typeof t&&(-1!==t.indexOf(".")||-1!==t.indexOf("[")||-1!==t.indexOf("("))){var r=function(t,n,o){var a,s;if(""!==o)for(var l=0,c=(s=S(o)).length;l<c;l++){if(o=s[l].match(dt),a=s[l].match(ut),o){if(s[l]=s[l].replace(dt,""),""!==s[l]&&(t=t[s[l]]),a=[],s.splice(0,l+1),s=s.join("."),e.isArray(t))for(l=0,c=t.length;l<c;l++)a.push(r(t[l],n,s));t=""===(t=o[0].substring(1,o[0].length-1))?a:a.join(t);break}if(a)s[l]=s[l].replace(ut,""),t=t[s[l]]();else{if(null===t||t[s[l]]===i)return i;t=t[s[l]]}}return t};return function(e,n){return r(e,n,t)}}return function(e){return e[t]}}function T(t){if(e.isPlainObject(t))return T(t._);if(null===t)return function(){};if("function"==typeof t)return function(e,n,i){t(e,"set",n,i)};if("string"==typeof t&&(-1!==t.indexOf(".")||-1!==t.indexOf("[")||-1!==t.indexOf("("))){var n=function(t,r,o){var a;a=(o=S(o))[o.length-1];for(var s,l,c=0,d=o.length-1;c<d;c++){if(s=o[c].match(dt),l=o[c].match(ut),s){if(o[c]=o[c].replace(dt,""),t[o[c]]=[],(a=o.slice()).splice(0,c+1),s=a.join("."),e.isArray(r))for(l=0,d=r.length;l<d;l++)n(a={},r[l],s),t[o[c]].push(a);else t[o[c]]=r;return}l&&(o[c]=o[c].replace(ut,""),t=t[o[c]](r)),null!==t[o[c]]&&t[o[c]]!==i||(t[o[c]]={}),t=t[o[c]]}a.match(ut)?t[a.replace(ut,"")](r):t[a.replace(dt,"")]=r};return function(e,i){return n(e,i,t)}}return function(e,n){e[t]=n}}function E(e){return rt(e.aoData,"_aData")}function D(e){e.aoData.length=0,e.aiDisplayMaster.length=0,e.aiDisplay.length=0,e.aIds={}}function N(e,t,n){for(var r=-1,o=0,a=e.length;o<a;o++)e[o]==t?r=o:e[o]>t&&e[o]--;-1!=r&&n===i&&e.splice(r,1)}function A(e,t,n,r){var o,a=e.aoData[t],s=function(n,i){for(;n.childNodes.length;)n.removeChild(n.firstChild);n.innerHTML=_(e,t,i,"display")};if("dom"!==n&&(n&&"auto"!==n||"dom"!==a.src)){var l=a.anCells;if(l)if(r!==i)s(l[r],r);else for(n=0,o=l.length;n<o;n++)s(l[n],n)}else a._aData=O(e,a,r,r===i?i:a._aData).data;if(a._aSortData=null,a._aFilterData=null,s=e.aoColumns,r!==i)s[r].sType=null;else{for(n=0,o=s.length;n<o;n++)s[n].sType=null;R(e,a)}}function O(t,n,r,o){var a,s,l,c=[],d=n.firstChild,u=0,h=t.aoColumns,f=t._rowReadObject,p=(o=o!==i?o:f?{}:[],function(e,t){if("string"==typeof e){var n=e.indexOf("@");-1!==n&&(n=e.substring(n+1),T(e)(o,t.getAttribute(n)))}}),m=function(t){r!==i&&r!==u||(s=h[u],l=e.trim(t.innerHTML),s&&s._bAttrSrc?(T(s.mData._)(o,l),p(s.mData.sort,t),p(s.mData.type,t),p(s.mData.filter,t)):f?(s._setter||(s._setter=T(s.mData)),s._setter(o,l)):o[u]=l),u++};if(d)for(;d;)"TD"!=(a=d.nodeName.toUpperCase())&&"TH"!=a||(m(d),c.push(d)),d=d.nextSibling;else for(d=0,a=(c=n.anCells).length;d<a;d++)m(c[d]);return(n=n.firstChild?n:n.nTr)&&(n=n.getAttribute("id"))&&T(t.rowId)(o,n),{data:o,cells:c}}function I(t,i,r,o){var a,s,l,c,d,u=t.aoData[i],h=u._aData,f=[];if(null===u.nTr){for(a=r||n.createElement("tr"),u.nTr=a,u.anCells=f,a._DT_RowIndex=i,R(t,u),c=0,d=t.aoColumns.length;c<d;c++)l=t.aoColumns[c],(s=r?o[c]:n.createElement(l.sCellType))._DT_CellIndex={row:i,column:c},f.push(s),r&&!l.mRender&&l.mData===c||e.isPlainObject(l.mData)&&l.mData._===c+".display"||(s.innerHTML=_(t,i,c,"display")),l.sClass&&(s.className+=" "+l.sClass),l.bVisible&&!r?a.appendChild(s):!l.bVisible&&r&&s.parentNode.removeChild(s),l.fnCreatedCell&&l.fnCreatedCell.call(t.oInstance,s,_(t,i,c),h,i,c);Me(t,"aoRowCreatedCallback",null,[a,h,i,f])}u.nTr.setAttribute("role","row")}function R(t,n){var i=n.nTr,r=n._aData;if(i){var o=t.rowIdFn(r);o&&(i.id=o),r.DT_RowClass&&(o=r.DT_RowClass.split(" "),n.__rowc=n.__rowc?lt(n.__rowc.concat(o)):o,e(i).removeClass(n.__rowc.join(" ")).addClass(r.DT_RowClass)),r.DT_RowAttr&&e(i).attr(r.DT_RowAttr),r.DT_RowData&&e(i).data(r.DT_RowData)}}function P(t){var n,i,r,o,a,s=t.nTHead,l=t.nTFoot,c=0===e("th, td",s).length,d=t.oClasses,u=t.aoColumns;for(c&&(o=e("<tr/>").appendTo(s)),n=0,i=u.length;n<i;n++)a=u[n],r=e(a.nTh).addClass(a.sClass),c&&r.appendTo(o),t.oFeatures.bSort&&(r.addClass(a.sSortingClass),!1!==a.bSortable&&(r.attr("tabindex",t.iTabIndex).attr("aria-controls",t.sTableId),Se(t,a.nTh,n))),a.sTitle!=r[0].innerHTML&&r.html(a.sTitle),Le(t,"header")(t,r,a,d);if(c&&$(t.aoHeader,s),e(s).find(">tr").attr("role","row"),e(s).find(">tr>th, >tr>td").addClass(d.sHeaderTH),e(l).find(">tr>th, >tr>td").addClass(d.sFooterTH),null!==l)for(n=0,i=(t=t.aoFooter[0]).length;n<i;n++)(a=u[n]).nTf=t[n].cell,a.sClass&&e(a.nTf).addClass(a.sClass)}function M(t,n,r){var o,a,s,l,c=[],d=[],u=t.aoColumns.length;if(n){for(r===i&&(r=!1),o=0,a=n.length;o<a;o++){for(c[o]=n[o].slice(),c[o].nTr=n[o].nTr,s=u-1;0<=s;s--)!t.aoColumns[s].bVisible&&!r&&c[o].splice(s,1);d.push([])}for(o=0,a=c.length;o<a;o++){if(t=c[o].nTr)for(;s=t.firstChild;)t.removeChild(s);for(s=0,n=c[o].length;s<n;s++)if(l=u=1,d[o][s]===i){for(t.appendChild(c[o][s].cell),d[o][s]=1;c[o+u]!==i&&c[o][s].cell==c[o+u][s].cell;)d[o+u][s]=1,u++;for(;c[o][s+l]!==i&&c[o][s].cell==c[o][s+l].cell;){for(r=0;r<u;r++)d[o+r][s+l]=1;l++}e(c[o][s].cell).attr("rowspan",u).attr("colspan",l)}}}}function j(t){var n=Me(t,"aoPreDrawCallback","preDraw",[t]);if(-1!==e.inArray(!1,n))ue(t,!1);else{n=[];var r=0,o=t.asStripeClasses,a=o.length,s=t.oLanguage,l=t.iInitDisplayStart,c="ssp"==Be(t),d=t.aiDisplay;t.bDrawing=!0,l!==i&&-1!==l&&(t._iDisplayStart=c?l:l>=t.fnRecordsDisplay()?0:l,t.iInitDisplayStart=-1);l=t._iDisplayStart;var u=t.fnDisplayEnd();if(t.bDeferLoading)t.bDeferLoading=!1,t.iDraw++,ue(t,!1);else if(c){if(!t.bDestroying&&!z(t))return}else t.iDraw++;if(0!==d.length)for(s=c?t.aoData.length:u,c=c?0:l;c<s;c++){var h=d[c],f=t.aoData[h];null===f.nTr&&I(t,h);var p=f.nTr;if(0!==a){var m=o[r%a];f._sRowStripe!=m&&(e(p).removeClass(f._sRowStripe).addClass(m),f._sRowStripe=m)}Me(t,"aoRowCallback",null,[p,f._aData,r,c,h]),n.push(p),r++}else r=s.sZeroRecords,1==t.iDraw&&"ajax"==Be(t)?r=s.sLoadingRecords:s.sEmptyTable&&0===t.fnRecordsTotal()&&(r=s.sEmptyTable),n[0]=e("<tr/>",{class:a?o[0]:""}).append(e("<td />",{valign:"top",colSpan:g(t),class:t.oClasses.sRowEmpty}).html(r))[0];Me(t,"aoHeaderCallback","header",[e(t.nTHead).children("tr")[0],E(t),l,u,d]),Me(t,"aoFooterCallback","footer",[e(t.nTFoot).children("tr")[0],E(t),l,u,d]),(o=e(t.nTBody)).children().detach(),o.append(e(n)),Me(t,"aoDrawCallback","draw",[t]),t.bSorted=!1,t.bFiltered=!1,t.bDrawing=!1}}function L(e,t){var n=e.oFeatures,i=n.bFilter;n.bSort&&xe(e),i?Y(e,e.oPreviousSearch):e.aiDisplay=e.aiDisplayMaster.slice(),!0!==t&&(e._iDisplayStart=0),e._drawHold=t,j(e),e._drawHold=!1}function B(t){var n=t.oClasses,i=e(t.nTable),r=(i=e("<div/>").insertBefore(i),t.oFeatures),o=e("<div/>",{id:t.sTableId+"_wrapper",class:n.sWrapper+(t.nTFoot?"":" "+n.sNoFooter)});t.nHolding=i[0],t.nTableWrapper=o[0],t.nTableReinsertBefore=t.nTable.nextSibling;for(var a,s,l,c,d,u,h=t.sDom.split(""),f=0;f<h.length;f++){if(a=null,"<"==(s=h[f])){if(l=e("<div/>")[0],"'"==(c=h[f+1])||'"'==c){for(d="",u=2;h[f+u]!=c;)d+=h[f+u],u++;"H"==d?d=n.sJUIHeader:"F"==d&&(d=n.sJUIFooter),-1!=d.indexOf(".")?(c=d.split("."),l.id=c[0].substr(1,c[0].length-1),l.className=c[1]):"#"==d.charAt(0)?l.id=d.substr(1,d.length-1):l.className=d,f+=u}o.append(l),o=e(l)}else if(">"==s)o=o.parent();else if("l"==s&&r.bPaginate&&r.bLengthChange)a=se(t);else if("f"==s&&r.bFilter)a=V(t);else if("r"==s&&r.bProcessing)a=de(t);else if("t"==s)a=he(t);else if("i"==s&&r.bInfo)a=te(t);else if("p"==s&&r.bPaginate)a=le(t);else if(0!==Ve.ext.feature.length)for(u=0,c=(l=Ve.ext.feature).length;u<c;u++)if(s==l[u].cFeature){a=l[u].fnInit(t);break}a&&((l=t.aanFeatures)[s]||(l[s]=[]),l[s].push(a),o.append(a))}i.replaceWith(o),t.nHolding=null}function $(t,n){var i,r,o,a,s,l,c,d,u,h,f=e(n).children("tr");for(t.splice(0,t.length),o=0,l=f.length;o<l;o++)t.push([]);for(o=0,l=f.length;o<l;o++)for(r=(i=f[o]).firstChild;r;){if("TD"==r.nodeName.toUpperCase()||"TH"==r.nodeName.toUpperCase()){for(d=(d=1*r.getAttribute("colspan"))&&0!==d&&1!==d?d:1,u=(u=1*r.getAttribute("rowspan"))&&0!==u&&1!==u?u:1,a=0,s=t[o];s[a];)a++;for(c=a,h=1===d,s=0;s<d;s++)for(a=0;a<u;a++)t[o+a][c+s]={cell:r,unique:h},t[o+a].nTr=i}r=r.nextSibling}}function F(e,t,n){var i=[];n||(n=e.aoHeader,t&&$(n=[],t));t=0;for(var r=n.length;t<r;t++)for(var o=0,a=n[t].length;o<a;o++)!n[t][o].unique||i[o]&&e.bSortCellsTop||(i[o]=n[t][o].cell);return i}function H(t,n,i){if(Me(t,"aoServerParams","serverParams",[n]),n&&e.isArray(n)){var r={},o=/(.*?)\[\]$/;e.each(n,function(e,t){var n=t.name.match(o);n?(n=n[0],r[n]||(r[n]=[]),r[n].push(t.value)):r[t.name]=t.value}),n=r}var a,s=t.ajax,l=t.oInstance,c=function(e){Me(t,null,"xhr",[t,e,t.jqXHR]),i(e)};if(e.isPlainObject(s)&&s.data){var d="function"==typeof(a=s.data)?a(n,t):a;n="function"==typeof a&&d?d:e.extend(!0,n,d);delete s.data}d={data:n,success:function(e){var n=e.error||e.sError;n&&Ae(t,0,n),t.json=e,c(e)},dataType:"json",cache:!1,type:t.sServerMethod,error:function(n,i){var r=Me(t,null,"xhr",[t,null,t.jqXHR]);-1===e.inArray(!0,r)&&("parsererror"==i?Ae(t,0,"Invalid JSON response",1):4===n.readyState&&Ae(t,0,"Ajax error",7)),ue(t,!1)}},t.oAjaxData=n,Me(t,null,"preXhr",[t,n]),t.fnServerData?t.fnServerData.call(l,t.sAjaxSource,e.map(n,function(e,t){return{name:t,value:e}}),c,t):t.sAjaxSource||"string"==typeof s?t.jqXHR=e.ajax(e.extend(d,{url:s||t.sAjaxSource})):"function"==typeof s?t.jqXHR=s.call(l,n,c,t):(t.jqXHR=e.ajax(e.extend(d,s)),s.data=a)}function z(e){return!e.bAjaxDataGet||(e.iDraw++,ue(e,!0),H(e,W(e),function(t){U(e,t)}),!1)}function W(t){var n,i,r,o,a=t.aoColumns,s=a.length,l=t.oFeatures,c=t.oPreviousSearch,d=t.aoPreSearchCols,u=[],h=we(t);n=t._iDisplayStart,i=!1!==l.bPaginate?t._iDisplayLength:-1;var f=function(e,t){u.push({name:e,value:t})};f("sEcho",t.iDraw),f("iColumns",s),f("sColumns",rt(a,"sName").join(",")),f("iDisplayStart",n),f("iDisplayLength",i);var p={draw:t.iDraw,columns:[],order:[],start:n,length:i,search:{value:c.sSearch,regex:c.bRegex}};for(n=0;n<s;n++)r=a[n],o=d[n],i="function"==typeof r.mData?"function":r.mData,p.columns.push({data:i,name:r.sName,searchable:r.bSearchable,orderable:r.bSortable,search:{value:o.sSearch,regex:o.bRegex}}),f("mDataProp_"+n,i),l.bFilter&&(f("sSearch_"+n,o.sSearch),f("bRegex_"+n,o.bRegex),f("bSearchable_"+n,r.bSearchable)),l.bSort&&f("bSortable_"+n,r.bSortable);return l.bFilter&&(f("sSearch",c.sSearch),f("bRegex",c.bRegex)),l.bSort&&(e.each(h,function(e,t){p.order.push({column:t.col,dir:t.dir}),f("iSortCol_"+e,t.col),f("sSortDir_"+e,t.dir)}),f("iSortingCols",h.length)),null===(a=Ve.ext.legacy.ajax)?t.sAjaxSource?u:p:a?u:p}function U(e,t){var n=q(e,t),r=t.sEcho!==i?t.sEcho:t.draw,o=t.iTotalRecords!==i?t.iTotalRecords:t.recordsTotal,a=t.iTotalDisplayRecords!==i?t.iTotalDisplayRecords:t.recordsFiltered;if(r){if(1*r<e.iDraw)return;e.iDraw=1*r}for(D(e),e._iRecordsTotal=parseInt(o,10),e._iRecordsDisplay=parseInt(a,10),r=0,o=n.length;r<o;r++)w(e,n[r]);e.aiDisplay=e.aiDisplayMaster.slice(),e.bAjaxDataGet=!1,j(e),e._bInitComplete||oe(e,t),e.bAjaxDataGet=!0,ue(e,!1)}function q(t,n){var r=e.isPlainObject(t.ajax)&&t.ajax.dataSrc!==i?t.ajax.dataSrc:t.sAjaxDataProp;return"data"===r?n.aaData||n[r]:""!==r?k(r)(n):n}function V(t){var i=t.oClasses,r=t.sTableId,o=t.oLanguage,a=t.oPreviousSearch,s=t.aanFeatures,l='<input type="search" class="'+i.sFilterInput+'"/>',c=(c=o.sSearch).match(/_INPUT_/)?c.replace("_INPUT_",l):c+l,d=(i=e("<div/>",{id:s.f?null:r+"_filter",class:i.sFilter}).append(e("<label/>").append(c)),s=function(){var e=this.value?this.value:"";e!=a.sSearch&&(Y(t,{sSearch:e,bRegex:a.bRegex,bSmart:a.bSmart,bCaseInsensitive:a.bCaseInsensitive}),t._iDisplayStart=0,j(t))},l=null!==t.searchDelay?t.searchDelay:"ssp"===Be(t)?400:0,e("input",i).val(a.sSearch).attr("placeholder",o.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",l?gt(s,l):s).on("keypress.DT",function(e){if(13==e.keyCode)return!1}).attr("aria-controls",r));return e(t.nTable).on("search.dt.DT",function(e,i){if(t===i)try{d[0]!==n.activeElement&&d.val(a.sSearch)}catch(e){}}),i[0]}function Y(e,t,n){var r=e.oPreviousSearch,o=e.aoPreSearchCols,a=function(e){r.sSearch=e.sSearch,r.bRegex=e.bRegex,r.bSmart=e.bSmart,r.bCaseInsensitive=e.bCaseInsensitive};if(y(e),"ssp"!=Be(e)){for(K(e,t.sSearch,n,t.bEscapeRegex!==i?!t.bEscapeRegex:t.bRegex,t.bSmart,t.bCaseInsensitive),a(t),t=0;t<o.length;t++)G(e,o[t].sSearch,t,o[t].bEscapeRegex!==i?!o[t].bEscapeRegex:o[t].bRegex,o[t].bSmart,o[t].bCaseInsensitive);X(e)}else a(t);e.bFiltered=!0,Me(e,null,"search",[e])}function X(t){for(var n,i,r=Ve.ext.search,o=t.aiDisplay,a=0,s=r.length;a<s;a++){for(var l=[],c=0,d=o.length;c<d;c++)i=o[c],n=t.aoData[i],r[a](t,n._aFilterData,i,n._aData,c)&&l.push(i);o.length=0,e.merge(o,l)}}function G(e,t,n,i,r,o){if(""!==t){var a=[],s=e.aiDisplay;for(i=J(t,i,r,o),r=0;r<s.length;r++)t=e.aoData[s[r]]._aFilterData[n],i.test(t)&&a.push(s[r]);e.aiDisplay=a}}function K(e,t,n,i,r,o){i=J(t,i,r,o),o=e.oPreviousSearch.sSearch;var a,s=e.aiDisplayMaster;r=[];if(0!==Ve.ext.search.length&&(n=!0),a=Q(e),0>=t.length)e.aiDisplay=s.slice();else{for((a||n||o.length>t.length||0!==t.indexOf(o)||e.bSorted)&&(e.aiDisplay=s.slice()),t=e.aiDisplay,n=0;n<t.length;n++)i.test(e.aoData[t[n]]._sFilterRow)&&r.push(t[n]);e.aiDisplay=r}}function J(t,n,i,r){return t=n?t:ht(t),i&&(t="^(?=.*?"+e.map(t.match(/"[^"]+"|[^ ]+/g)||[""],function(e){if('"'===e.charAt(0)){var t=e.match(/^"(.*)"$/);e=t?t[1]:e}return e.replace('"',"")}).join(")(?=.*?")+").*$"),RegExp(t,r?"i":"")}function Q(e){var t,n,i,r,o,a,s,l,c=e.aoColumns,d=Ve.ext.type.search;for(t=!1,n=0,r=e.aoData.length;n<r;n++)if(!(l=e.aoData[n])._aFilterData){for(a=[],i=0,o=c.length;i<o;i++)(t=c[i]).bSearchable?(s=_(e,n,i,"filter"),d[t.sType]&&(s=d[t.sType](s)),null===s&&(s=""),"string"!=typeof s&&s.toString&&(s=s.toString())):s="",s.indexOf&&-1!==s.indexOf("&")&&(ft.innerHTML=s,s=pt?ft.textContent:ft.innerText),s.replace&&(s=s.replace(/[\r\n]/g,"")),a.push(s);l._aFilterData=a,l._sFilterRow=a.join("  "),t=!0}return t}function Z(e){return{search:e.sSearch,smart:e.bSmart,regex:e.bRegex,caseInsensitive:e.bCaseInsensitive}}function ee(e){return{sSearch:e.search,bSmart:e.smart,bRegex:e.regex,bCaseInsensitive:e.caseInsensitive}}function te(t){var n=t.sTableId,i=t.aanFeatures.i,r=e("<div/>",{class:t.oClasses.sInfo,id:i?null:n+"_info"});return i||(t.aoDrawCallback.push({fn:ne,sName:"information"}),r.attr("role","status").attr("aria-live","polite"),e(t.nTable).attr("aria-describedby",n+"_info")),r[0]}function ne(t){var n=t.aanFeatures.i;if(0!==n.length){var i=t.oLanguage,r=t._iDisplayStart+1,o=t.fnDisplayEnd(),a=t.fnRecordsTotal(),s=t.fnRecordsDisplay(),l=s?i.sInfo:i.sInfoEmpty;s!==a&&(l+=" "+i.sInfoFiltered),l=ie(t,l+=i.sInfoPostFix),null!==(i=i.fnInfoCallback)&&(l=i.call(t.oInstance,t,r,o,a,s,l)),e(n).html(l)}}function ie(e,t){var n=e.fnFormatNumber,i=e._iDisplayStart+1,r=e._iDisplayLength,o=e.fnRecordsDisplay(),a=-1===r;return t.replace(/_START_/g,n.call(e,i)).replace(/_END_/g,n.call(e,e.fnDisplayEnd())).replace(/_MAX_/g,n.call(e,e.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(e,o)).replace(/_PAGE_/g,n.call(e,a?1:Math.ceil(i/r))).replace(/_PAGES_/g,n.call(e,a?1:Math.ceil(o/r)))}function re(e){var t,n,i,r=e.iInitDisplayStart,o=e.aoColumns;n=e.oFeatures;var a=e.bDeferLoading;if(e.bInitialised){for(B(e),P(e),M(e,e.aoHeader),M(e,e.aoFooter),ue(e,!0),n.bAutoWidth&&me(e),t=0,n=o.length;t<n;t++)(i=o[t]).sWidth&&(i.nTh.style.width=be(i.sWidth));Me(e,null,"preInit",[e]),L(e),("ssp"!=(o=Be(e))||a)&&("ajax"==o?H(e,[],function(n){var i=q(e,n);for(t=0;t<i.length;t++)w(e,i[t]);e.iInitDisplayStart=r,L(e),ue(e,!1),oe(e,n)}):(ue(e,!1),oe(e)))}else setTimeout(function(){re(e)},200)}function oe(e,t){e._bInitComplete=!0,(t||e.oInit.aaData)&&f(e),Me(e,null,"plugin-init",[e,t]),Me(e,"aoInitComplete","init",[e,t])}function ae(e,t){var n=parseInt(t,10);e._iDisplayLength=n,je(e),Me(e,null,"length",[e,n])}function se(t){for(var n=t.oClasses,i=t.sTableId,r=t.aLengthMenu,o=(a=e.isArray(r[0]))?r[0]:r,a=(r=a?r[1]:r,e("<select/>",{name:i+"_length","aria-controls":i,class:n.sLengthSelect})),s=0,l=o.length;s<l;s++)a[0][s]=new Option("number"==typeof r[s]?t.fnFormatNumber(r[s]):r[s],o[s]);var c=e("<div><label/></div>").addClass(n.sLength);return t.aanFeatures.l||(c[0].id=i+"_length"),c.children().append(t.oLanguage.sLengthMenu.replace("_MENU_",a[0].outerHTML)),e("select",c).val(t._iDisplayLength).on("change.DT",function(){ae(t,e(this).val()),j(t)}),e(t.nTable).on("length.dt.DT",function(n,i,r){t===i&&e("select",c).val(r)}),c[0]}function le(t){var n=t.sPaginationType,i=Ve.ext.pager[n],r="function"==typeof i,o=function(e){j(e)},a=(n=e("<div/>").addClass(t.oClasses.sPaging+n)[0],t.aanFeatures);return r||i.fnInit(t,n,o),a.p||(n.id=t.sTableId+"_paginate",t.aoDrawCallback.push({fn:function(e){if(r){var t,n=e._iDisplayStart,s=e._iDisplayLength,l=e.fnRecordsDisplay(),c=(n=(c=-1===s)?0:Math.ceil(n/s),s=c?1:Math.ceil(l/s),l=i(n,s),0);for(t=a.p.length;c<t;c++)Le(e,"pageButton")(e,a.p[c],c,l,n,s)}else i.fnUpdate(e,o)},sName:"pagination"})),n}function ce(e,t,n){var i=e._iDisplayStart,r=e._iDisplayLength,o=e.fnRecordsDisplay();return 0===o||-1===r?i=0:"number"==typeof t?(i=t*r)>o&&(i=0):"first"==t?i=0:"previous"==t?0>(i=0<=r?i-r:0)&&(i=0):"next"==t?i+r<o&&(i+=r):"last"==t?i=Math.floor((o-1)/r)*r:Ae(e,0,"Unknown paging action: "+t,5),t=e._iDisplayStart!==i,e._iDisplayStart=i,t&&(Me(e,null,"page",[e]),n&&j(e)),t}function de(t){return e("<div/>",{id:t.aanFeatures.r?null:t.sTableId+"_processing",class:t.oClasses.sProcessing}).html(t.oLanguage.sProcessing).insertBefore(t.nTable)[0]}function ue(t,n){t.oFeatures.bProcessing&&e(t.aanFeatures.r).css("display",n?"block":"none"),Me(t,null,"processing",[t,n])}function he(t){(u=e(t.nTable)).attr("role","grid");var n=t.oScroll;if(""===n.sX&&""===n.sY)return t.nTable;var i=n.sX,r=n.sY,o=t.oClasses,a=u.children("caption"),s=a.length?a[0]._captionSide:null,l=e(u[0].cloneNode(!1)),c=e(u[0].cloneNode(!1)),d=u.children("tfoot");d.length||(d=null),l=e("<div/>",{class:o.sScrollWrapper}).append(e("<div/>",{class:o.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:i?i?be(i):null:"100%"}).append(e("<div/>",{class:o.sScrollHeadInner}).css({"box-sizing":"content-box",width:n.sXInner||"100%"}).append(l.removeAttr("id").css("margin-left",0).append("top"===s?a:null).append(u.children("thead"))))).append(e("<div/>",{class:o.sScrollBody}).css({position:"relative",overflow:"auto",width:i?be(i):null}).append(u)),d&&l.append(e("<div/>",{class:o.sScrollFoot}).css({overflow:"hidden",border:0,width:i?i?be(i):null:"100%"}).append(e("<div/>",{class:o.sScrollFootInner}).append(c.removeAttr("id").css("margin-left",0).append("bottom"===s?a:null).append(u.children("tfoot")))));var u,h=(u=l.children())[0],f=(o=u[1],d?u[2]:null);return i&&e(o).on("scroll.DT",function(){var e=this.scrollLeft;h.scrollLeft=e,d&&(f.scrollLeft=e)}),e(o).css(r&&n.bCollapse?"max-height":"height",r),t.nScrollHead=h,t.nScrollBody=o,t.nScrollFoot=f,t.aoDrawCallback.push({fn:fe,sName:"scrolling"}),l[0]}function fe(t){var n,r,o,a,s,l=(u=t.oScroll).sX,c=u.sXInner,d=u.sY,u=u.iBarWidth,h=e(t.nScrollHead),m=h[0].style,g=(y=h.children("div"))[0].style,v=y.children("table"),y=t.nScrollBody,b=e(y),w=y.style,x=e(t.nScrollFoot).children("div"),_=x.children("table"),C=e(t.nTHead),S=e(t.nTable),k=S[0],T=k.style,E=t.nTFoot?e(t.nTFoot):null,D=t.oBrowser,N=D.bScrollOversize,A=rt(t.aoColumns,"nTh"),O=[],I=[],R=[],P=[],M=function(e){(e=e.style).paddingTop="0",e.paddingBottom="0",e.borderTopWidth="0",e.borderBottomWidth="0",e.height=0};r=y.scrollHeight>y.clientHeight,t.scrollBarVis!==r&&t.scrollBarVis!==i?(t.scrollBarVis=r,f(t)):(t.scrollBarVis=r,S.children("thead, tfoot").remove(),E&&(o=E.clone().prependTo(S),n=E.find("tr"),o=o.find("tr")),a=C.clone().prependTo(S),C=C.find("tr"),r=a.find("tr"),a.find("th, td").removeAttr("tabindex"),l||(w.width="100%",h[0].style.width="100%"),e.each(F(t,a),function(e,n){s=p(t,e),n.style.width=t.aoColumns[s].sWidth}),E&&pe(function(e){e.style.width=""},o),h=S.outerWidth(),""===l?(T.width="100%",N&&(S.find("tbody").height()>y.offsetHeight||"scroll"==b.css("overflow-y"))&&(T.width=be(S.outerWidth()-u)),h=S.outerWidth()):""!==c&&(T.width=be(c),h=S.outerWidth()),pe(M,r),pe(function(t){R.push(t.innerHTML),O.push(be(e(t).css("width")))},r),pe(function(t,n){-1!==e.inArray(t,A)&&(t.style.width=O[n])},C),e(r).height(0),E&&(pe(M,o),pe(function(t){P.push(t.innerHTML),I.push(be(e(t).css("width")))},o),pe(function(e,t){e.style.width=I[t]},n),e(o).height(0)),pe(function(e,t){e.innerHTML='<div class="dataTables_sizing">'+R[t]+"</div>",e.childNodes[0].style.height="0",e.childNodes[0].style.overflow="hidden",e.style.width=O[t]},r),E&&pe(function(e,t){e.innerHTML='<div class="dataTables_sizing">'+P[t]+"</div>",e.childNodes[0].style.height="0",e.childNodes[0].style.overflow="hidden",e.style.width=I[t]},o),S.outerWidth()<h?(n=y.scrollHeight>y.offsetHeight||"scroll"==b.css("overflow-y")?h+u:h,N&&(y.scrollHeight>y.offsetHeight||"scroll"==b.css("overflow-y"))&&(T.width=be(n-u)),(""===l||""!==c)&&Ae(t,1,"Possible column misalignment",6)):n="100%",w.width=be(n),m.width=be(n),E&&(t.nScrollFoot.style.width=be(n)),!d&&N&&(w.height=be(k.offsetHeight+u)),l=S.outerWidth(),v[0].style.width=be(l),g.width=be(l),c=S.height()>y.clientHeight||"scroll"==b.css("overflow-y"),g[d="padding"+(D.bScrollbarLeft?"Left":"Right")]=c?u+"px":"0px",E&&(_[0].style.width=be(l),x[0].style.width=be(l),x[0].style[d]=c?u+"px":"0px"),S.children("colgroup").insertBefore(S.children("thead")),b.scroll(),!t.bSorted&&!t.bFiltered||t._drawHold||(y.scrollTop=0))}function pe(e,t,n){for(var i,r,o=0,a=0,s=t.length;a<s;){for(i=t[a].firstChild,r=n?n[a].firstChild:null;i;)1===i.nodeType&&(n?e(i,r,o):e(i,o),o++),i=i.nextSibling,r=n?r.nextSibling:null;a++}}function me(n){var i,r,o=n.nTable,a=n.aoColumns,s=(x=n.oScroll).sY,l=x.sX,c=x.sXInner,d=a.length,u=v(n,"bVisible"),h=e("th",n.nTHead),m=o.getAttribute("width"),y=o.parentNode,b=!1,w=n.oBrowser,x=w.bScrollOversize;for((i=o.style.width)&&-1!==i.indexOf("%")&&(m=i),i=0;i<u.length;i++)null!==(r=a[u[i]]).sWidth&&(r.sWidth=ge(r.sWidthOrig,y),b=!0);if(x||!b&&!l&&!s&&d==g(n)&&d==h.length)for(i=0;i<d;i++)null!==(u=p(n,i))&&(a[u].sWidth=be(h.eq(i).width()));else{(d=e(o).clone().css("visibility","hidden").removeAttr("id")).find("tbody tr").remove();var _=e("<tr/>").appendTo(d.find("tbody"));for(d.find("thead, tfoot").remove(),d.append(e(n.nTHead).clone()).append(e(n.nTFoot).clone()),d.find("tfoot th, tfoot td").css("width",""),h=F(n,d.find("thead")[0]),i=0;i<u.length;i++)r=a[u[i]],h[i].style.width=null!==r.sWidthOrig&&""!==r.sWidthOrig?be(r.sWidthOrig):"",r.sWidthOrig&&l&&e(h[i]).append(e("<div/>").css({width:r.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(n.aoData.length)for(i=0;i<u.length;i++)r=a[b=u[i]],e(ve(n,b)).clone(!1).append(r.sContentPadding).appendTo(_);for(e("[name]",d).removeAttr("name"),r=e("<div/>").css(l||s?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(d).appendTo(y),l&&c?d.width(c):l?(d.css("width","auto"),d.removeAttr("width"),d.width()<y.clientWidth&&m&&d.width(y.clientWidth)):s?d.width(y.clientWidth):m&&d.width(m),i=s=0;i<u.length;i++)c=(y=e(h[i])).outerWidth()-y.width(),s+=y=w.bBounding?Math.ceil(h[i].getBoundingClientRect().width):y.outerWidth(),a[u[i]].sWidth=be(y-c);o.style.width=be(s),r.remove()}m&&(o.style.width=be(m)),!m&&!l||n._reszEvt||(o=function(){e(t).on("resize.DT-"+n.sInstance,gt(function(){f(n)}))},x?setTimeout(o,1e3):o(),n._reszEvt=!0)}function ge(t,i){if(!t)return 0;var r=e("<div/>").css("width",be(t)).appendTo(i||n.body),o=r[0].offsetWidth;return r.remove(),o}function ve(t,n){var i=ye(t,n);if(0>i)return null;var r=t.aoData[i];return r.nTr?r.anCells[n]:e("<td/>").html(_(t,i,n,"display"))[0]}function ye(e,t){for(var n,i=-1,r=-1,o=0,a=e.aoData.length;o<a;o++)(n=(n=(n=_(e,o,t,"display")+"").replace(mt,"")).replace(/&nbsp;/g," ")).length>i&&(i=n.length,r=o);return r}function be(e){return null===e?"0px":"number"==typeof e?0>e?"0px":e+"px":e.match(/\d$/)?e+"px":e}function we(t){var n,r,o,a,s,l,c=[],d=t.aoColumns;n=t.aaSortingFixed,r=e.isPlainObject(n);var u=[];for(o=function(t){t.length&&!e.isArray(t[0])?u.push(t):e.merge(u,t)},e.isArray(n)&&o(n),r&&n.pre&&o(n.pre),o(t.aaSorting),r&&n.post&&o(n.post),t=0;t<u.length;t++)for(n=0,r=(o=d[l=u[t][0]].aDataSort).length;n<r;n++)s=d[a=o[n]].sType||"string",u[t]._idx===i&&(u[t]._idx=e.inArray(u[t][1],d[a].asSorting)),c.push({src:l,col:a,dir:u[t][1],index:u[t]._idx,type:s,formatter:Ve.ext.type.order[s+"-pre"]});return c}function xe(e){var t,n,i,r,o=[],a=Ve.ext.type.order,s=e.aoData,l=0,c=e.aiDisplayMaster;for(y(e),t=0,n=(r=we(e)).length;t<n;t++)(i=r[t]).formatter&&l++,Te(e,i.col);if("ssp"!=Be(e)&&0!==r.length){for(t=0,n=c.length;t<n;t++)o[c[t]]=t;l===r.length?c.sort(function(e,t){var n,i,a,l,c=r.length,d=s[e]._aSortData,u=s[t]._aSortData;for(a=0;a<c;a++)if(0!==(n=(n=d[(l=r[a]).col])<(i=u[l.col])?-1:n>i?1:0))return"asc"===l.dir?n:-n;return(n=o[e])<(i=o[t])?-1:n>i?1:0}):c.sort(function(e,t){var n,i,l,c,d=r.length,u=s[e]._aSortData,h=s[t]._aSortData;for(l=0;l<d;l++)if(n=u[(c=r[l]).col],i=h[c.col],0!==(n=(c=a[c.type+"-"+c.dir]||a["string-"+c.dir])(n,i)))return n;return(n=o[e])<(i=o[t])?-1:n>i?1:0})}e.bSorted=!0}function _e(e){for(var t,n,i=e.aoColumns,r=we(e),o=(e=e.oLanguage.oAria,0),a=i.length;o<a;o++){var s=(n=i[o]).asSorting;t=n.sTitle.replace(/<.*?>/g,"");var l=n.nTh;l.removeAttribute("aria-sort"),n.bSortable&&(0<r.length&&r[0].col==o?(l.setAttribute("aria-sort","asc"==r[0].dir?"ascending":"descending"),n=s[r[0].index+1]||s[0]):n=s[0],t+="asc"===n?e.sSortAscending:e.sSortDescending),l.setAttribute("aria-label",t)}}function Ce(t,n,r,o){var a=t.aaSorting,s=t.aoColumns[n].asSorting,l=function(t,n){var r=t._idx;return r===i&&(r=e.inArray(t[1],s)),r+1<s.length?r+1:n?null:0};"number"==typeof a[0]&&(a=t.aaSorting=[a]),r&&t.oFeatures.bSortMulti?-1!==(r=e.inArray(n,rt(a,"0")))?(null===(n=l(a[r],!0))&&1===a.length&&(n=0),null===n?a.splice(r,1):(a[r][1]=s[n],a[r]._idx=n)):(a.push([n,s[0],0]),a[a.length-1]._idx=0):a.length&&a[0][0]==n?(n=l(a[0]),a.length=1,a[0][1]=s[n],a[0]._idx=n):(a.length=0,a.push([n,s[0]]),a[0]._idx=0),L(t),"function"==typeof o&&o(t)}function Se(e,t,n,i){var r=e.aoColumns[n];Re(t,{},function(t){!1!==r.bSortable&&(e.oFeatures.bProcessing?(ue(e,!0),setTimeout(function(){Ce(e,n,t.shiftKey,i),"ssp"!==Be(e)&&ue(e,!1)},0)):Ce(e,n,t.shiftKey,i))})}function ke(t){var n,i,r=t.aLastSort,o=t.oClasses.sSortColumn,a=we(t),s=t.oFeatures;if(s.bSort&&s.bSortClasses){for(s=0,n=r.length;s<n;s++)i=r[s].src,e(rt(t.aoData,"anCells",i)).removeClass(o+(2>s?s+1:3));for(s=0,n=a.length;s<n;s++)i=a[s].src,e(rt(t.aoData,"anCells",i)).addClass(o+(2>s?s+1:3))}t.aLastSort=a}function Te(e,t){var n,i=e.aoColumns[t],r=Ve.ext.order[i.sSortDataType];r&&(n=r.call(e.oInstance,e,t,m(e,t)));for(var o,a=Ve.ext.type.order[i.sType+"-pre"],s=0,l=e.aoData.length;s<l;s++)(i=e.aoData[s])._aSortData||(i._aSortData=[]),(!i._aSortData[t]||r)&&(o=r?n[s]:_(e,s,t,"sort"),i._aSortData[t]=a?a(o):o)}function Ee(t){if(t.oFeatures.bStateSave&&!t.bDestroying){var n={time:+new Date,start:t._iDisplayStart,length:t._iDisplayLength,order:e.extend(!0,[],t.aaSorting),search:Z(t.oPreviousSearch),columns:e.map(t.aoColumns,function(e,n){return{visible:e.bVisible,search:Z(t.aoPreSearchCols[n])}})};Me(t,"aoStateSaveParams","stateSaveParams",[t,n]),t.oSavedState=n,t.fnStateSaveCallback.call(t.oInstance,t,n)}}function De(t,n,r){var o,a,s=t.aoColumns;n=function(n){if(n&&n.time){var l=Me(t,"aoStateLoadParams","stateLoadParams",[t,n]);if(-1===e.inArray(!1,l)&&!(0<(l=t.iStateDuration)&&n.time<+new Date-1e3*l||n.columns&&s.length!==n.columns.length)){if(t.oLoadedState=e.extend(!0,{},n),n.start!==i&&(t._iDisplayStart=n.start,t.iInitDisplayStart=n.start),n.length!==i&&(t._iDisplayLength=n.length),n.order!==i&&(t.aaSorting=[],e.each(n.order,function(e,n){t.aaSorting.push(n[0]>=s.length?[0,n[1]]:n)})),n.search!==i&&e.extend(t.oPreviousSearch,ee(n.search)),n.columns)for(o=0,a=n.columns.length;o<a;o++)(l=n.columns[o]).visible!==i&&(s[o].bVisible=l.visible),l.search!==i&&e.extend(t.aoPreSearchCols[o],ee(l.search));Me(t,"aoStateLoaded","stateLoaded",[t,n])}}r()};if(t.oFeatures.bStateSave){var l=t.fnStateLoadCallback.call(t.oInstance,t,n);l!==i&&n(l)}else r()}function Ne(t){var n=Ve.settings;return-1!==(t=e.inArray(t,rt(n,"nTable")))?n[t]:null}function Ae(e,n,i,r){if(i="DataTables warning: "+(e?"table id="+e.sTableId+" - ":"")+i,r&&(i+=". For more information about this error, please see http://datatables.net/tn/"+r),n)t.console&&console.log&&console.log(i);else if(n=(n=Ve.ext).sErrMode||n.errMode,e&&Me(e,null,"error",[e,r,i]),"alert"==n)alert(i);else{if("throw"==n)throw Error(i);"function"==typeof n&&n(e,r,i)}}function Oe(t,n,r,o){e.isArray(r)?e.each(r,function(i,r){e.isArray(r)?Oe(t,n,r[0],r[1]):Oe(t,n,r)}):(o===i&&(o=r),n[r]!==i&&(t[o]=n[r]))}function Ie(t,n,i){var r,o;for(o in n)n.hasOwnProperty(o)&&(r=n[o],e.isPlainObject(r)?(e.isPlainObject(t[o])||(t[o]={}),e.extend(!0,t[o],r)):t[o]=i&&"data"!==o&&"aaData"!==o&&e.isArray(r)?r.slice():r);return t}function Re(t,n,i){e(t).on("click.DT",n,function(n){e(t).blur(),i(n)}).on("keypress.DT",n,function(e){13===e.which&&(e.preventDefault(),i(e))}).on("selectstart.DT",function(){return!1})}function Pe(e,t,n,i){n&&e[t].push({fn:n,sName:i})}function Me(t,n,i,r){var o=[];return n&&(o=e.map(t[n].slice().reverse(),function(e){return e.fn.apply(t.oInstance,r)})),null!==i&&(n=e.Event(i+".dt"),e(t.nTable).trigger(n,r),o.push(n.result)),o}function je(e){var t=e._iDisplayStart,n=e.fnDisplayEnd(),i=e._iDisplayLength;t>=n&&(t=n-i),t-=t%i,(-1===i||0>t)&&(t=0),e._iDisplayStart=t}function Le(t,n){var i=t.renderer,r=Ve.ext.renderer[n];return e.isPlainObject(i)&&i[n]?r[i[n]]||r._:"string"==typeof i&&r[i]||r._}function Be(e){return e.oFeatures.bServerSide?"ssp":e.ajax||e.sAjaxSource?"ajax":"dom"}function $e(e,t){var n=[],i=(n=Dt.numbers_length,Math.floor(n/2));return t<=n?n=at(0,t):e<=i?((n=at(0,n-2)).push("ellipsis"),n.push(t-1)):(e>=t-1-i?n=at(t-(n-2),t):((n=at(e-i+2,e+i-1)).push("ellipsis"),n.push(t-1)),n.splice(0,0,"ellipsis"),n.splice(0,0,0)),n.DT_el="span",n}function Fe(t){e.each({num:function(e){return Nt(e,t)},"num-fmt":function(e){return Nt(e,t,Qe)},"html-num":function(e){return Nt(e,t,Ge)},"html-num-fmt":function(e){return Nt(e,t,Ge,Qe)}},function(e,n){ze.type.order[e+t+"-pre"]=n,e.match(/^html\-/)&&(ze.type.search[e+t]=ze.type.search.html)})}function He(e){return function(){var t=[Ne(this[Ve.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return Ve.ext.internal[e].apply(this,t)}}var ze,We,Ue,qe,Ve=function(t){this.$=function(e,t){return this.api(!0).$(e,t)},this._=function(e,t){return this.api(!0).rows(e,t).data()},this.api=function(e){return new We(e?Ne(this[ze.iApiIndex]):this)},this.fnAddData=function(t,n){var r=this.api(!0),o=e.isArray(t)&&(e.isArray(t[0])||e.isPlainObject(t[0]))?r.rows.add(t):r.row.add(t);return(n===i||n)&&r.draw(),o.flatten().toArray()},this.fnAdjustColumnSizing=function(e){var t=this.api(!0).columns.adjust(),n=t.settings()[0],r=n.oScroll;e===i||e?t.draw(!1):(""!==r.sX||""!==r.sY)&&fe(n)},this.fnClearTable=function(e){var t=this.api(!0).clear();(e===i||e)&&t.draw()},this.fnClose=function(e){this.api(!0).row(e).child.hide()},this.fnDeleteRow=function(e,t,n){var r=this.api(!0),o=(e=r.rows(e)).settings()[0],a=o.aoData[e[0][0]];return e.remove(),t&&t.call(this,o,a),(n===i||n)&&r.draw(),a},this.fnDestroy=function(e){this.api(!0).destroy(e)},this.fnDraw=function(e){this.api(!0).draw(e)},this.fnFilter=function(e,t,n,r,o,a){o=this.api(!0),null===t||t===i?o.search(e,n,r,a):o.column(t).search(e,n,r,a),o.draw()},this.fnGetData=function(e,t){var n=this.api(!0);if(e!==i){var r=e.nodeName?e.nodeName.toLowerCase():"";return t!==i||"td"==r||"th"==r?n.cell(e,t).data():n.row(e).data()||null}return n.data().toArray()},this.fnGetNodes=function(e){var t=this.api(!0);return e!==i?t.row(e).node():t.rows().nodes().flatten().toArray()},this.fnGetPosition=function(e){var t=this.api(!0),n=e.nodeName.toUpperCase();return"TR"==n?t.row(e).index():"TD"==n||"TH"==n?[(e=t.cell(e).index()).row,e.columnVisible,e.column]:null},this.fnIsOpen=function(e){return this.api(!0).row(e).child.isShown()},this.fnOpen=function(e,t,n){return this.api(!0).row(e).child(t,n).show().child()[0]},this.fnPageChange=function(e,t){var n=this.api(!0).page(e);(t===i||t)&&n.draw(!1)},this.fnSetColumnVis=function(e,t,n){e=this.api(!0).column(e).visible(t),(n===i||n)&&e.columns.adjust().draw()},this.fnSettings=function(){return Ne(this[ze.iApiIndex])},this.fnSort=function(e){this.api(!0).order(e).draw()},this.fnSortListener=function(e,t,n){this.api(!0).order.listener(e,t,n)},this.fnUpdate=function(e,t,n,r,o){var a=this.api(!0);return n===i||null===n?a.row(t).data(e):a.cell(t,n).data(e),(o===i||o)&&a.columns.adjust(),(r===i||r)&&a.draw(),0},this.fnVersionCheck=ze.fnVersionCheck;var n=this,r=t===i,d=this.length;for(var f in r&&(t={}),this.oApi=this.internal=ze.internal,Ve.ext.internal)f&&(this[f]=He(f));return this.each(function(){var f,p={},m=1<d?Ie(p,t,!0):t,g=0,v=(p=this.getAttribute("id"),!1),y=Ve.defaults,_=e(this);if("table"!=this.nodeName.toLowerCase())Ae(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{s(y),l(y.column),o(y,y,!0),o(y.column,y.column,!0),o(y,e.extend(m,_.data()));var C=Ve.settings;g=0;for(f=C.length;g<f;g++){var S=C[g];if(S.nTable==this||S.nTHead&&S.nTHead.parentNode==this||S.nTFoot&&S.nTFoot.parentNode==this){var T=m.bRetrieve!==i?m.bRetrieve:y.bRetrieve;if(r||T)return S.oInstance;if(m.bDestroy!==i?m.bDestroy:y.bDestroy){S.oInstance.fnDestroy();break}return void Ae(S,0,"Cannot reinitialise DataTable",3)}if(S.sTableId==this.id){C.splice(g,1);break}}null!==p&&""!==p||(this.id=p="DataTables_Table_"+Ve.ext._unique++);var E=e.extend(!0,{},Ve.models.oSettings,{sDestroyWidth:_[0].style.width,sInstance:p,sTableId:p});E.nTable=this,E.oApi=n.internal,E.oInit=m,C.push(E),E.oInstance=1===n.length?n:_.dataTable(),s(m),a(m.oLanguage),m.aLengthMenu&&!m.iDisplayLength&&(m.iDisplayLength=e.isArray(m.aLengthMenu[0])?m.aLengthMenu[0][0]:m.aLengthMenu[0]),m=Ie(e.extend(!0,{},y),m),Oe(E.oFeatures,m,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" ")),Oe(E,m,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),Oe(E.oScroll,m,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Oe(E.oLanguage,m,"fnInfoCallback"),Pe(E,"aoDrawCallback",m.fnDrawCallback,"user"),Pe(E,"aoServerParams",m.fnServerParams,"user"),Pe(E,"aoStateSaveParams",m.fnStateSaveParams,"user"),Pe(E,"aoStateLoadParams",m.fnStateLoadParams,"user"),Pe(E,"aoStateLoaded",m.fnStateLoaded,"user"),Pe(E,"aoRowCallback",m.fnRowCallback,"user"),Pe(E,"aoRowCreatedCallback",m.fnCreatedRow,"user"),Pe(E,"aoHeaderCallback",m.fnHeaderCallback,"user"),Pe(E,"aoFooterCallback",m.fnFooterCallback,"user"),Pe(E,"aoInitComplete",m.fnInitComplete,"user"),Pe(E,"aoPreDrawCallback",m.fnPreDrawCallback,"user"),E.rowIdFn=k(m.rowId),c(E);var D=E.oClasses;e.extend(D,Ve.ext.classes,m.oClasses),_.addClass(D.sTable),E.iInitDisplayStart===i&&(E.iInitDisplayStart=m.iDisplayStart,E._iDisplayStart=m.iDisplayStart),null!==m.iDeferLoading&&(E.bDeferLoading=!0,p=e.isArray(m.iDeferLoading),E._iRecordsDisplay=p?m.iDeferLoading[0]:m.iDeferLoading,E._iRecordsTotal=p?m.iDeferLoading[1]:m.iDeferLoading);var N=E.oLanguage;e.extend(!0,N,m.oLanguage),N.sUrl&&(e.ajax({dataType:"json",url:N.sUrl,success:function(t){a(t),o(y.oLanguage,t),e.extend(!0,N,t),re(E)},error:function(){re(E)}}),v=!0),null===m.asStripeClasses&&(E.asStripeClasses=[D.sStripeOdd,D.sStripeEven]);p=E.asStripeClasses;var A=_.children("tbody").find("tr").eq(0);if(-1!==e.inArray(!0,e.map(p,function(e){return A.hasClass(e)}))&&(e("tbody tr",this).removeClass(p.join(" ")),E.asDestroyStripes=p.slice()),p=[],0!==(C=this.getElementsByTagName("thead")).length&&($(E.aoHeader,C[0]),p=F(E)),null===m.aoColumns)for(C=[],g=0,f=p.length;g<f;g++)C.push(null);else C=m.aoColumns;for(g=0,f=C.length;g<f;g++)u(E,p?p[g]:null);if(b(E,m.aoColumnDefs,C,function(e,t){h(E,e,t)}),A.length){var O=function(e,t){return null!==e.getAttribute("data-"+t)?t:null};e(A[0]).children("th, td").each(function(e,t){var n=E.aoColumns[e];if(n.mData===e){var r=O(t,"sort")||O(t,"order"),o=O(t,"filter")||O(t,"search");null===r&&null===o||(n.mData={_:e+".display",sort:null!==r?e+".@data-"+r:i,type:null!==r?e+".@data-"+r:i,filter:null!==o?e+".@data-"+o:i},h(E,e))}})}var I=E.oFeatures;p=function(){if(m.aaSorting===i){var t=E.aaSorting;for(g=0,f=t.length;g<f;g++)t[g][1]=E.aoColumns[g].asSorting[0]}ke(E),I.bSort&&Pe(E,"aoDrawCallback",function(){if(E.bSorted){var t=we(E),n={};e.each(t,function(e,t){n[t.src]=t.dir}),Me(E,null,"order",[E,t,n]),_e(E)}}),Pe(E,"aoDrawCallback",function(){(E.bSorted||"ssp"===Be(E)||I.bDeferRender)&&ke(E)},"sc");t=_.children("caption").each(function(){this._captionSide=e(this).css("caption-side")});var n=_.children("thead");if(0===n.length&&(n=e("<thead/>").appendTo(_)),E.nTHead=n[0],0===(n=_.children("tbody")).length&&(n=e("<tbody/>").appendTo(_)),E.nTBody=n[0],0===(n=_.children("tfoot")).length&&t.length>0&&(""!==E.oScroll.sX||""!==E.oScroll.sY)&&(n=e("<tfoot/>").appendTo(_)),0===n.length||0===n.children().length?_.addClass(D.sNoFooter):n.length>0&&(E.nTFoot=n[0],$(E.aoFooter,E.nTFoot)),m.aaData)for(g=0;g<m.aaData.length;g++)w(E,m.aaData[g]);else(E.bDeferLoading||"dom"==Be(E))&&x(E,e(E.nTBody).children("tr"));E.aiDisplay=E.aiDisplayMaster.slice(),E.bInitialised=!0,!1===v&&re(E)};m.bStateSave?(I.bStateSave=!0,Pe(E,"aoDrawCallback",Ee,"state_save"),De(E,m,p)):p()}}),n=null,this},Ye={},Xe=/[\r\n]/g,Ge=/<.*?>/g,Ke=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,Je=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),Qe=/[',$Â£â¬Â¥%\u2009\u202F\u20BD\u20a9\u20BArfkÉÎ]/gi,Ze=function(e){return!e||!0===e||"-"===e},et=function(e){var t=parseInt(e,10);return!isNaN(t)&&isFinite(e)?t:null},tt=function(e,t){return Ye[t]||(Ye[t]=RegExp(ht(t),"g")),"string"==typeof e&&"."!==t?e.replace(/\./g,"").replace(Ye[t],"."):e},nt=function(e,t,n){var i="string"==typeof e;return!!Ze(e)||(t&&i&&(e=tt(e,t)),n&&i&&(e=e.replace(Qe,"")),!isNaN(parseFloat(e))&&isFinite(e))},it=function(e,t,n){return!!Ze(e)||((Ze(e)||"string"==typeof e)&&!!nt(e.replace(Ge,""),t,n)||null)},rt=function(e,t,n){var r=[],o=0,a=e.length;if(n!==i)for(;o<a;o++)e[o]&&e[o][t]&&r.push(e[o][t][n]);else for(;o<a;o++)e[o]&&r.push(e[o][t]);return r},ot=function(e,t,n,r){var o=[],a=0,s=t.length;if(r!==i)for(;a<s;a++)e[t[a]][n]&&o.push(e[t[a]][n][r]);else for(;a<s;a++)o.push(e[t[a]][n]);return o},at=function(e,t){var n,r=[];t===i?(t=0,n=e):(n=t,t=e);for(var o=t;o<n;o++)r.push(o);return r},st=function(e){for(var t=[],n=0,i=e.length;n<i;n++)e[n]&&t.push(e[n]);return t},lt=function(e){var t;e:{if(!(2>e.length))for(var n=(t=e.slice().sort())[0],i=1,r=t.length;i<r;i++){if(t[i]===n){t=!1;break e}n=t[i]}t=!0}if(t)return e.slice();t=[];r=e.length;var o,a=0;i=0;e:for(;i<r;i++){for(n=e[i],o=0;o<a;o++)if(t[o]===n)continue e;t.push(n),a++}return t};Ve.util={throttle:function(e,t){var n,r,o=t!==i?t:200;return function(){var t=this,a=+new Date,s=arguments;n&&a<n+o?(clearTimeout(r),r=setTimeout(function(){n=i,e.apply(t,s)},o)):(n=a,e.apply(t,s))}},escapeRegex:function(e){return e.replace(Je,"\\$1")}};var ct=function(e,t,n){e[t]!==i&&(e[n]=e[t])},dt=/\[.*?\]$/,ut=/\(\)$/,ht=Ve.util.escapeRegex,ft=e("<div>")[0],pt=ft.textContent!==i,mt=/<.*?>/g,gt=Ve.util.throttle,vt=[],yt=Array.prototype;We=function(t,n){if(!(this instanceof We))return new We(t,n);var i=[],r=function(t){(t=function(t){var n,i,r=Ve.settings,o=e.map(r,function(e){return e.nTable});return t?t.nTable&&t.oApi?[t]:t.nodeName&&"table"===t.nodeName.toLowerCase()?-1!==(n=e.inArray(t,o))?[r[n]]:null:t&&"function"==typeof t.settings?t.settings().toArray():("string"==typeof t?i=e(t):t instanceof e&&(i=t),i?i.map(function(){return-1!==(n=e.inArray(this,o))?r[n]:null}).toArray():void 0):[]}(t))&&(i=i.concat(t))};if(e.isArray(t))for(var o=0,a=t.length;o<a;o++)r(t[o]);else r(t);this.context=lt(i),n&&e.merge(this,n),this.selector={rows:null,cols:null,opts:null},We.extend(this,this,vt)},Ve.Api=We,e.extend(We.prototype,{any:function(){return 0!==this.count()},concat:yt.concat,context:[],count:function(){return this.flatten().length},each:function(e){for(var t=0,n=this.length;t<n;t++)e.call(this,this[t],t,this);return this},eq:function(e){var t=this.context;return t.length>e?new We(t[e],this[e]):null},filter:function(e){var t=[];if(yt.filter)t=yt.filter.call(this,e,this);else for(var n=0,i=this.length;n<i;n++)e.call(this,this[n],n,this)&&t.push(this[n]);return new We(this.context,t)},flatten:function(){var e=[];return new We(this.context,e.concat.apply(e,this.toArray()))},join:yt.join,indexOf:yt.indexOf||function(e,t){for(var n=t||0,i=this.length;n<i;n++)if(this[n]===e)return n;return-1},iterator:function(e,t,n,r){var o,a,s,l,c,d,u,h=[],f=this.context,p=this.selector;for("string"==typeof e&&(r=n,n=t,t=e,e=!1),a=0,s=f.length;a<s;a++){var m=new We(f[a]);if("table"===t)(o=n.call(m,f[a],a))!==i&&h.push(o);else if("columns"===t||"rows"===t)(o=n.call(m,f[a],this[a],a))!==i&&h.push(o);else if("column"===t||"column-rows"===t||"row"===t||"cell"===t)for(u=this[a],"column-rows"===t&&(d=Ct(f[a],p.opts)),l=0,c=u.length;l<c;l++)o=u[l],(o="cell"===t?n.call(m,f[a],o.row,o.column,a,l):n.call(m,f[a],o,a,l,d))!==i&&h.push(o)}return h.length||r?((t=(e=new We(f,e?h.concat.apply([],h):h)).selector).rows=p.rows,t.cols=p.cols,t.opts=p.opts,e):this},lastIndexOf:yt.lastIndexOf||function(e,t){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(e){var t=[];if(yt.map)t=yt.map.call(this,e,this);else for(var n=0,i=this.length;n<i;n++)t.push(e.call(this,this[n],n));return new We(this.context,t)},pluck:function(e){return this.map(function(t){return t[e]})},pop:yt.pop,push:yt.push,reduce:yt.reduce||function(e,t){return d(this,e,t,0,this.length,1)},reduceRight:yt.reduceRight||function(e,t){return d(this,e,t,this.length-1,-1,-1)},reverse:yt.reverse,selector:null,shift:yt.shift,slice:function(){return new We(this.context,this)},sort:yt.sort,splice:yt.splice,toArray:function(){return yt.slice.call(this)},to$:function(){return e(this)},toJQuery:function(){return e(this)},unique:function(){return new We(this.context,lt(this))},unshift:yt.unshift}),We.extend=function(t,n,i){if(i.length&&n&&(n instanceof We||n.__dt_wrapper)){var r,o,a,s=function(e,t,n){return function(){var i=t.apply(e,arguments);return We.extend(i,i,n.methodExt),i}};for(r=0,o=i.length;r<o;r++)n[(a=i[r]).name]="function"==typeof a.val?s(t,a.val,a):e.isPlainObject(a.val)?{}:a.val,n[a.name].__dt_wrapper=!0,We.extend(t,n[a.name],a.propExt)}},We.register=Ue=function(t,n){if(e.isArray(t))for(var i=0,r=t.length;i<r;i++)We.register(t[i],n);else{var o,a,s=t.split("."),l=vt;for(i=0,r=s.length;i<r;i++){var c;o=(a=-1!==s[i].indexOf("()"))?s[i].replace("()",""):s[i];e:{c=0;for(var d=l.length;c<d;c++)if(l[c].name===o){c=l[c];break e}c=null}c||(c={name:o,val:{},methodExt:[],propExt:[]},l.push(c)),i===r-1?c.val=n:l=a?c.methodExt:c.propExt}}},We.registerPlural=qe=function(t,n,r){We.register(t,r),We.register(n,function(){var t=r.apply(this,arguments);return t===this?this:t instanceof We?t.length?e.isArray(t[0])?new We(t.context,t[0]):t[0]:i:t})},Ue("tables()",function(t){var n;if(t){n=We;var i=this.context;if("number"==typeof t)t=[i[t]];else{var r=e.map(i,function(e){return e.nTable});t=e(r).filter(t).map(function(){var t=e.inArray(this,r);return i[t]}).toArray()}n=new n(t)}else n=this;return n}),Ue("table()",function(e){var t=(e=this.tables(e)).context;return t.length?new We(t[0]):e}),qe("tables().nodes()","table().node()",function(){return this.iterator("table",function(e){return e.nTable},1)}),qe("tables().body()","table().body()",function(){return this.iterator("table",function(e){return e.nTBody},1)}),qe("tables().header()","table().header()",function(){return this.iterator("table",function(e){return e.nTHead},1)}),qe("tables().footer()","table().footer()",function(){return this.iterator("table",function(e){return e.nTFoot},1)}),qe("tables().containers()","table().container()",function(){return this.iterator("table",function(e){return e.nTableWrapper},1)}),Ue("draw()",function(e){return this.iterator("table",function(t){"page"===e?j(t):("string"==typeof e&&(e="full-hold"!==e),L(t,!1===e))})}),Ue("page()",function(e){return e===i?this.page.info().page:this.iterator("table",function(t){ce(t,e)})}),Ue("page.info()",function(){if(0===this.context.length)return i;var e=this.context[0],t=e._iDisplayStart,n=e.oFeatures.bPaginate?e._iDisplayLength:-1,r=e.fnRecordsDisplay(),o=-1===n;return{page:o?0:Math.floor(t/n),pages:o?1:Math.ceil(r/n),start:t,end:e.fnDisplayEnd(),length:n,recordsTotal:e.fnRecordsTotal(),recordsDisplay:r,serverSide:"ssp"===Be(e)}}),Ue("page.len()",function(e){return e===i?0!==this.context.length?this.context[0]._iDisplayLength:i:this.iterator("table",function(t){ae(t,e)})});var bt=function(e,t,n){if(n){var i=new We(e);i.one("draw",function(){n(i.ajax.json())})}if("ssp"==Be(e))L(e,t);else{ue(e,!0);var r=e.jqXHR;r&&4!==r.readyState&&r.abort(),H(e,[],function(n){D(e);for(var i=0,r=(n=q(e,n)).length;i<r;i++)w(e,n[i]);L(e,t),ue(e,!1)})}};Ue("ajax.json()",function(){var e=this.context;if(0<e.length)return e[0].json}),Ue("ajax.params()",function(){var e=this.context;if(0<e.length)return e[0].oAjaxData}),Ue("ajax.reload()",function(e,t){return this.iterator("table",function(n){bt(n,!1===t,e)})}),Ue("ajax.url()",function(t){var n=this.context;return t===i?0===n.length?i:(n=n[0]).ajax?e.isPlainObject(n.ajax)?n.ajax.url:n.ajax:n.sAjaxSource:this.iterator("table",function(n){e.isPlainObject(n.ajax)?n.ajax.url=t:n.ajax=t})}),Ue("ajax.url().load()",function(e,t){return this.iterator("table",function(n){bt(n,!1===t,e)})});var wt=function(t,n,r,o,a){var s,l,c,d,u,h,f=[];for(c=typeof n,n&&"string"!==c&&"function"!==c&&n.length!==i||(n=[n]),c=0,d=n.length;c<d;c++)for(u=0,h=(l=n[c]&&n[c].split&&!n[c].match(/[\[\(:]/)?n[c].split(","):[n[c]]).length;u<h;u++)(s=r("string"==typeof l[u]?e.trim(l[u]):l[u]))&&s.length&&(f=f.concat(s));if((t=ze.selector[t]).length)for(c=0,d=t.length;c<d;c++)f=t[c](o,a,f);return lt(f)},xt=function(t){return t||(t={}),t.filter&&t.search===i&&(t.search=t.filter),e.extend({search:"none",order:"current",page:"all"},t)},_t=function(e){for(var t=0,n=e.length;t<n;t++)if(0<e[t].length)return e[0]=e[t],e[0].length=1,e.length=1,e.context=[e.context[t]],e;return e.length=0,e},Ct=function(t,n){var i,r,o,a=[],s=t.aiDisplay;o=t.aiDisplayMaster;var l=n.search;if(i=n.order,r=n.page,"ssp"==Be(t))return"removed"===l?[]:at(0,o.length);if("current"==r)for(i=t._iDisplayStart,r=t.fnDisplayEnd();i<r;i++)a.push(s[i]);else if("current"==i||"applied"==i){if("none"==l)a=o.slice();else if("applied"==l)a=s.slice();else if("removed"==l){var c={};for(i=0,r=s.length;i<r;i++)c[s[i]]=null;a=e.map(o,function(e){return c.hasOwnProperty(e)?null:e})}}else if("index"==i||"original"==i)for(i=0,r=t.aoData.length;i<r;i++)"none"==l?a.push(i):(-1===(o=e.inArray(i,s))&&"removed"==l||0<=o&&"applied"==l)&&a.push(i);return a};Ue("rows()",function(t,n){t===i?t="":e.isPlainObject(t)&&(n=t,t="");n=xt(n);var r=this.iterator("table",function(r){var o,a=n;return wt("row",t,function(t){var n=et(t),s=r.aoData;if(null!==n&&!a)return[n];if(o||(o=Ct(r,a)),null!==n&&-1!==e.inArray(n,o))return[n];if(null===t||t===i||""===t)return o;if("function"==typeof t)return e.map(o,function(e){var n=s[e];return t(e,n._aData,n.nTr)?e:null});if(t.nodeName){n=t._DT_RowIndex;var l=t._DT_CellIndex;return n!==i?s[n]&&s[n].nTr===t?[n]:[]:l?s[l.row]&&s[l.row].nTr===t?[l.row]:[]:(n=e(t).closest("*[data-dt-row]")).length?[n.data("dt-row")]:[]}return"string"==typeof t&&"#"===t.charAt(0)&&(n=r.aIds[t.replace(/^#/,"")])!==i?[n.idx]:(n=st(ot(r.aoData,o,"nTr")),e(n).filter(t).map(function(){return this._DT_RowIndex}).toArray())},r,a)},1);return r.selector.rows=t,r.selector.opts=n,r}),Ue("rows().nodes()",function(){return this.iterator("row",function(e,t){return e.aoData[t].nTr||i},1)}),Ue("rows().data()",function(){return this.iterator(!0,"rows",function(e,t){return ot(e.aoData,t,"_aData")},1)}),qe("rows().cache()","row().cache()",function(e){return this.iterator("row",function(t,n){var i=t.aoData[n];return"search"===e?i._aFilterData:i._aSortData},1)}),qe("rows().invalidate()","row().invalidate()",function(e){return this.iterator("row",function(t,n){A(t,n,e)})}),qe("rows().indexes()","row().index()",function(){return this.iterator("row",function(e,t){return t},1)}),qe("rows().ids()","row().id()",function(e){for(var t=[],n=this.context,i=0,r=n.length;i<r;i++)for(var o=0,a=this[i].length;o<a;o++){var s=n[i].rowIdFn(n[i].aoData[this[i][o]]._aData);t.push((!0===e?"#":"")+s)}return new We(n,t)}),qe("rows().remove()","row().remove()",function(){var e=this;return this.iterator("row",function(t,n,r){var o,a,s,l,c,d=t.aoData,u=d[n];for(d.splice(n,1),o=0,a=d.length;o<a;o++)if(c=(s=d[o]).anCells,null!==s.nTr&&(s.nTr._DT_RowIndex=o),null!==c)for(s=0,l=c.length;s<l;s++)c[s]._DT_CellIndex.row=o;N(t.aiDisplayMaster,n),N(t.aiDisplay,n),N(e[r],n,!1),0<t._iRecordsDisplay&&t._iRecordsDisplay--,je(t),(n=t.rowIdFn(u._aData))!==i&&delete t.aIds[n]}),this.iterator("table",function(e){for(var t=0,n=e.aoData.length;t<n;t++)e.aoData[t].idx=t}),this}),Ue("rows.add()",function(t){var n=this.iterator("table",function(e){var n,i,r,o=[];for(i=0,r=t.length;i<r;i++)(n=t[i]).nodeName&&"TR"===n.nodeName.toUpperCase()?o.push(x(e,n)[0]):o.push(w(e,n));return o},1),i=this.rows(-1);return i.pop(),e.merge(i,n),i}),Ue("row()",function(e,t){return _t(this.rows(e,t))}),Ue("row().data()",function(t){var n=this.context;if(t===i)return n.length&&this.length?n[0].aoData[this[0]]._aData:i;var r=n[0].aoData[this[0]];return r._aData=t,e.isArray(t)&&r.nTr.id&&T(n[0].rowId)(t,r.nTr.id),A(n[0],this[0],"data"),this}),Ue("row().node()",function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]].nTr||null}),Ue("row.add()",function(t){t instanceof e&&t.length&&(t=t[0]);var n=this.iterator("table",function(e){return t.nodeName&&"TR"===t.nodeName.toUpperCase()?x(e,t)[0]:w(e,t)});return this.row(n[0])});var St=function(e,t){var n=e.context;n.length&&(n=n[0].aoData[t!==i?t:e[0]])&&n._details&&(n._details.remove(),n._detailsShow=i,n._details=i)},kt=function(e,t){var n=e.context;if(n.length&&e.length){var i=n[0].aoData[e[0]];if(i._details){(i._detailsShow=t)?i._details.insertAfter(i.nTr):i._details.detach();var r=n[0],o=new We(r),a=r.aoData;o.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details"),0<rt(a,"_details").length&&(o.on("draw.dt.DT_details",function(e,t){r===t&&o.rows({page:"current"}).eq(0).each(function(e){(e=a[e])._detailsShow&&e._details.insertAfter(e.nTr)})}),o.on("column-visibility.dt.DT_details",function(e,t){if(r===t)for(var n,i=g(t),o=0,s=a.length;o<s;o++)(n=a[o])._details&&n._details.children("td[colspan]").attr("colspan",i)}),o.on("destroy.dt.DT_details",function(e,t){if(r===t)for(var n=0,i=a.length;n<i;n++)a[n]._details&&St(o,n)}))}}};Ue("row().child()",function(t,n){var r=this.context;if(t===i)return r.length&&this.length?r[0].aoData[this[0]]._details:i;if(!0===t)this.child.show();else if(!1===t)St(this);else if(r.length&&this.length){var o=r[0],a=(r=r[0].aoData[this[0]],[]),s=function(t,n){if(e.isArray(t)||t instanceof e)for(var i=0,r=t.length;i<r;i++)s(t[i],n);else t.nodeName&&"tr"===t.nodeName.toLowerCase()?a.push(t):(i=e("<tr><td/></tr>").addClass(n),e("td",i).addClass(n).html(t)[0].colSpan=g(o),a.push(i[0]))};s(t,n),r._details&&r._details.detach(),r._details=e(a),r._detailsShow&&r._details.insertAfter(r.nTr)}return this}),Ue(["row().child.show()","row().child().show()"],function(){return kt(this,!0),this}),Ue(["row().child.hide()","row().child().hide()"],function(){return kt(this,!1),this}),Ue(["row().child.remove()","row().child().remove()"],function(){return St(this),this}),Ue("row().child.isShown()",function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]]._detailsShow||!1});var Tt=/^([^:]+):(name|visIdx|visible)$/,Et=function(e,t,n,i,r){n=[],i=0;for(var o=r.length;i<o;i++)n.push(_(e,r[i],t));return n};Ue("columns()",function(t,n){t===i?t="":e.isPlainObject(t)&&(n=t,t="");n=xt(n);var r=this.iterator("table",function(i){var r=t,o=n,a=i.aoColumns,s=rt(a,"sName"),l=rt(a,"nTh");return wt("column",r,function(t){var n=et(t);if(""===t)return at(a.length);if(null!==n)return[n>=0?n:a.length+n];if("function"==typeof t){var r=Ct(i,o);return e.map(a,function(e,n){return t(n,Et(i,n,0,0,r),l[n])?n:null})}var c="string"==typeof t?t.match(Tt):"";if(c)switch(c[2]){case"visIdx":case"visible":if((n=parseInt(c[1],10))<0){var d=e.map(a,function(e,t){return e.bVisible?t:null});return[d[d.length+n]]}return[p(i,n)];case"name":return e.map(s,function(e,t){return e===c[1]?t:null});default:return[]}return t.nodeName&&t._DT_CellIndex?[t._DT_CellIndex.column]:(n=e(l).filter(t).map(function(){return e.inArray(this,l)}).toArray()).length||!t.nodeName?n:(n=e(t).closest("*[data-dt-column]")).length?[n.data("dt-column")]:[]},i,o)},1);return r.selector.cols=t,r.selector.opts=n,r}),qe("columns().header()","column().header()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].nTh},1)}),qe("columns().footer()","column().footer()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].nTf},1)}),qe("columns().data()","column().data()",function(){return this.iterator("column-rows",Et,1)}),qe("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].mData},1)}),qe("columns().cache()","column().cache()",function(e){return this.iterator("column-rows",function(t,n,i,r,o){return ot(t.aoData,o,"search"===e?"_aFilterData":"_aSortData",n)},1)}),qe("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(e,t,n,i,r){return ot(e.aoData,r,"anCells",t)},1)}),qe("columns().visible()","column().visible()",function(t,n){var r=this.iterator("column",function(n,r){if(t===i)return n.aoColumns[r].bVisible;var o,a,s,l=n.aoColumns,c=l[r],d=n.aoData;if(t!==i&&c.bVisible!==t){if(t){var u=e.inArray(!0,rt(l,"bVisible"),r+1);for(o=0,a=d.length;o<a;o++)s=d[o].nTr,l=d[o].anCells,s&&s.insertBefore(l[r],l[u]||null)}else e(rt(n.aoData,"anCells",r)).detach();c.bVisible=t,M(n,n.aoHeader),M(n,n.aoFooter),n.aiDisplay.length||e(n.nTBody).find("td[colspan]").attr("colspan",g(n)),Ee(n)}});return t!==i&&(this.iterator("column",function(e,i){Me(e,null,"column-visibility",[e,i,t,n])}),(n===i||n)&&this.columns.adjust()),r}),qe("columns().indexes()","column().index()",function(e){return this.iterator("column",function(t,n){return"visible"===e?m(t,n):n},1)}),Ue("columns.adjust()",function(){return this.iterator("table",function(e){f(e)},1)}),Ue("column.index()",function(e,t){if(0!==this.context.length){var n=this.context[0];if("fromVisible"===e||"toData"===e)return p(n,t);if("fromData"===e||"toVisible"===e)return m(n,t)}}),Ue("column()",function(e,t){return _t(this.columns(e,t))}),Ue("cells()",function(t,n,r){if(e.isPlainObject(t)&&(t.row===i?(r=t,t=null):(r=n,n=null)),e.isPlainObject(n)&&(r=n,n=null),null===n||n===i)return this.iterator("table",function(n){var o,a,s,l,c,d,u,h=t,f=xt(r),p=n.aoData,m=Ct(n,f),g=st(ot(p,m,"anCells")),v=e([].concat.apply([],g)),y=n.aoColumns.length;return wt("cell",h,function(t){var r="function"==typeof t;if(null===t||t===i||r){for(a=[],s=0,l=m.length;s<l;s++)for(o=m[s],c=0;c<y;c++)d={row:o,column:c},r?(u=p[o],t(d,_(n,o,c),u.anCells?u.anCells[c]:null)&&a.push(d)):a.push(d);return a}return e.isPlainObject(t)?t.column!==i&&t.row!==i&&-1!==e.inArray(t.row,m)?[t]:[]:(r=v.filter(t).map(function(e,t){return{row:t._DT_CellIndex.row,column:t._DT_CellIndex.column}}).toArray()).length||!t.nodeName?r:(u=e(t).closest("*[data-dt-row]")).length?[{row:u.data("dt-row"),column:u.data("dt-column")}]:[]},n,f)});var o,a,s,l,c,d=this.columns(n),u=this.rows(t);this.iterator("table",function(e,t){for(o=[],a=0,s=u[t].length;a<s;a++)for(l=0,c=d[t].length;l<c;l++)o.push({row:u[t][a],column:d[t][l]})},1);var h=this.cells(o,r);return e.extend(h.selector,{cols:n,rows:t,opts:r}),h}),qe("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(e,t,n){return(e=e.aoData[t])&&e.anCells?e.anCells[n]:i},1)}),Ue("cells().data()",function(){return this.iterator("cell",function(e,t,n){return _(e,t,n)},1)}),qe("cells().cache()","cell().cache()",function(e){return e="search"===e?"_aFilterData":"_aSortData",this.iterator("cell",function(t,n,i){return t.aoData[n][e][i]},1)}),qe("cells().render()","cell().render()",function(e){return this.iterator("cell",function(t,n,i){return _(t,n,i,e)},1)}),qe("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(e,t,n){return{row:t,column:n,columnVisible:m(e,n)}},1)}),qe("cells().invalidate()","cell().invalidate()",function(e){return this.iterator("cell",function(t,n,i){A(t,n,e,i)})}),Ue("cell()",function(e,t,n){return _t(this.cells(e,t,n))}),Ue("cell().data()",function(e){var t=this.context,n=this[0];return e===i?t.length&&n.length?_(t[0],n[0].row,n[0].column):i:(C(t[0],n[0].row,n[0].column,e),A(t[0],n[0].row,"data",n[0].column),this)}),Ue("order()",function(t,n){var r=this.context;return t===i?0!==r.length?r[0].aaSorting:i:("number"==typeof t?t=[[t,n]]:t.length&&!e.isArray(t[0])&&(t=Array.prototype.slice.call(arguments)),this.iterator("table",function(e){e.aaSorting=t.slice()}))}),Ue("order.listener()",function(e,t,n){return this.iterator("table",function(i){Se(i,e,t,n)})}),Ue("order.fixed()",function(t){if(!t){var n=(n=this.context).length?n[0].aaSortingFixed:i;return e.isArray(n)?{pre:n}:n}return this.iterator("table",function(n){n.aaSortingFixed=e.extend(!0,{},t)})}),Ue(["columns().order()","column().order()"],function(t){var n=this;return this.iterator("table",function(i,r){var o=[];e.each(n[r],function(e,n){o.push([n,t])}),i.aaSorting=o})}),Ue("search()",function(t,n,r,o){var a=this.context;return t===i?0!==a.length?a[0].oPreviousSearch.sSearch:i:this.iterator("table",function(i){i.oFeatures.bFilter&&Y(i,e.extend({},i.oPreviousSearch,{sSearch:t+"",bRegex:null!==n&&n,bSmart:null===r||r,bCaseInsensitive:null===o||o}),1)})}),qe("columns().search()","column().search()",function(t,n,r,o){return this.iterator("column",function(a,s){var l=a.aoPreSearchCols;if(t===i)return l[s].sSearch;a.oFeatures.bFilter&&(e.extend(l[s],{sSearch:t+"",bRegex:null!==n&&n,bSmart:null===r||r,bCaseInsensitive:null===o||o}),Y(a,a.oPreviousSearch,1))})}),Ue("state()",function(){return this.context.length?this.context[0].oSavedState:null}),Ue("state.clear()",function(){return this.iterator("table",function(e){e.fnStateSaveCallback.call(e.oInstance,e,{})})}),Ue("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),Ue("state.save()",function(){return this.iterator("table",function(e){Ee(e)})}),Ve.versionCheck=Ve.fnVersionCheck=function(e){for(var t,n,i=Ve.version.split("."),r=0,o=(e=e.split(".")).length;r<o;r++)if((t=parseInt(i[r],10)||0)!==(n=parseInt(e[r],10)||0))return t>n;return!0},Ve.isDataTable=Ve.fnIsDataTable=function(t){var n=e(t).get(0),i=!1;return t instanceof Ve.Api||(e.each(Ve.settings,function(t,r){var o=r.nScrollHead?e("table",r.nScrollHead)[0]:null,a=r.nScrollFoot?e("table",r.nScrollFoot)[0]:null;r.nTable!==n&&o!==n&&a!==n||(i=!0)}),i)},Ve.tables=Ve.fnTables=function(t){var n=!1;e.isPlainObject(t)&&(n=t.api,t=t.visible);var i=e.map(Ve.settings,function(n){if(!t||t&&e(n.nTable).is(":visible"))return n.nTable});return n?new We(i):i},Ve.camelToHungarian=o,Ue("$()",function(t,n){var i=this.rows(n).nodes();i=e(i);return e([].concat(i.filter(t).toArray(),i.find(t).toArray()))}),e.each(["on","one","off"],function(t,n){Ue(n+"()",function(){var t=Array.prototype.slice.call(arguments);t[0]=e.map(t[0].split(/\s/),function(e){return e.match(/\.dt\b/)?e:e+".dt"}).join(" ");var i=e(this.tables().nodes());return i[n].apply(i,t),this})}),Ue("clear()",function(){return this.iterator("table",function(e){D(e)})}),Ue("settings()",function(){return new We(this.context,this.context)}),Ue("init()",function(){var e=this.context;return e.length?e[0].oInit:null}),Ue("data()",function(){return this.iterator("table",function(e){return rt(e.aoData,"_aData")}).flatten()}),Ue("destroy()",function(n){return n=n||!1,this.iterator("table",function(i){var r,o=i.nTableWrapper.parentNode,a=i.oClasses,s=i.nTable,l=i.nTBody,c=i.nTHead,d=i.nTFoot,u=e(s),h=(l=e(l),e(i.nTableWrapper)),f=e.map(i.aoData,function(e){return e.nTr});i.bDestroying=!0,Me(i,"aoDestroyCallback","destroy",[i]),n||new We(i).columns().visible(!0),h.off(".DT").find(":not(tbody *)").off(".DT"),e(t).off(".DT-"+i.sInstance),s!=c.parentNode&&(u.children("thead").detach(),u.append(c)),d&&s!=d.parentNode&&(u.children("tfoot").detach(),u.append(d)),i.aaSorting=[],i.aaSortingFixed=[],ke(i),e(f).removeClass(i.asStripeClasses.join(" ")),e("th, td",c).removeClass(a.sSortable+" "+a.sSortableAsc+" "+a.sSortableDesc+" "+a.sSortableNone),l.children().detach(),l.append(f),u[c=n?"remove":"detach"](),h[c](),!n&&o&&(o.insertBefore(s,i.nTableReinsertBefore),u.css("width",i.sDestroyWidth).removeClass(a.sTable),(r=i.asDestroyStripes.length)&&l.children().each(function(t){e(this).addClass(i.asDestroyStripes[t%r])})),-1!==(o=e.inArray(i,Ve.settings))&&Ve.settings.splice(o,1)})}),e.each(["column","row","cell"],function(e,t){Ue(t+"s().every()",function(e){var n=this.selector.opts,r=this;return this.iterator(t,function(o,a,s,l,c){e.call(r[t](a,"cell"===t?s:n,"cell"===t?n:i),a,s,l,c)})})}),Ue("i18n()",function(t,n,r){var o=this.context[0];return(t=k(t)(o.oLanguage))===i&&(t=n),r!==i&&e.isPlainObject(t)&&(t=t[r]!==i?t[r]:t._),t.replace("%d",r)}),Ve.version="1.10.18",Ve.settings=[],Ve.models={},Ve.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},Ve.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},Ve.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},Ve.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(e){try{return JSON.parse((-1===e.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+e.sInstance+"_"+location.pathname))}catch(e){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(e,t){try{(-1===e.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+e.sInstance+"_"+location.pathname,JSON.stringify(t))}catch(e){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:e.extend({},Ve.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},r(Ve.defaults),Ve.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},r(Ve.defaults.column),Ve.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:i,oAjaxData:i,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==Be(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==Be(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var e=this._iDisplayLength,t=this._iDisplayStart,n=t+e,i=this.aiDisplay.length,r=this.oFeatures,o=r.bPaginate;return r.bServerSide?!1===o||-1===e?t+i:Math.min(t+e,this._iRecordsDisplay):!o||n>i||-1===e?i:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},Ve.ext=ze={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:Ve.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:Ve.version},e.extend(ze,{afnFiltering:ze.search,aTypes:ze.type.detect,ofnSearch:ze.type.search,oSort:ze.type.order,afnSortData:ze.order,aoFeatures:ze.feature,oApi:ze.internal,oStdClasses:ze.classes,oPagination:ze.pager}),e.extend(Ve.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Dt=Ve.ext.pager;e.extend(Dt,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},numbers:function(e,t){return[$e(e,t)]},simple_numbers:function(e,t){return["previous",$e(e,t),"next"]},full_numbers:function(e,t){return["first","previous",$e(e,t),"next","last"]},first_last_numbers:function(e,t){return["first",$e(e,t),"last"]},_numbers:$e,numbers_length:7}),e.extend(!0,Ve.ext.renderer,{pageButton:{_:function(t,r,o,a,s,l){var c,d,u,h=t.oClasses,f=t.oLanguage.oPaginate,p=t.oLanguage.oAria.paginate||{},m=0,g=function(n,i){var r,a,u,v,y=function(e){ce(t,e.data.action,!0)};for(r=0,a=i.length;r<a;r++)if(v=i[r],e.isArray(v))u=e("<"+(v.DT_el||"div")+"/>").appendTo(n),g(u,v);else{switch(c=null,d="",v){case"ellipsis":n.append('<span class="ellipsis">&#x2026;</span>');break;case"first":c=f.sFirst,d=v+(s>0?"":" "+h.sPageButtonDisabled);break;case"previous":c=f.sPrevious,d=v+(s>0?"":" "+h.sPageButtonDisabled);break;case"next":c=f.sNext,d=v+(s<l-1?"":" "+h.sPageButtonDisabled);break;case"last":c=f.sLast,d=v+(s<l-1?"":" "+h.sPageButtonDisabled);break;default:c=v+1,d=s===v?h.sPageButtonActive:""}null!==c&&(Re(u=e("<a>",{class:h.sPageButton+" "+d,"aria-controls":t.sTableId,"aria-label":p[v],"data-dt-idx":m,tabindex:t.iTabIndex,id:0===o&&"string"==typeof v?t.sTableId+"_"+v:null}).html(c).appendTo(n),{action:v},y),m++)}};try{u=e(r).find(n.activeElement).data("dt-idx")}catch(e){}g(e(r).empty(),a),u!==i&&e(r).find("[data-dt-idx="+u+"]").focus()}}}),e.extend(Ve.ext.type.detect,[function(e,t){var n=t.oLanguage.sDecimal;return nt(e,n)?"num"+n:null},function(e){if(e&&!(e instanceof Date)&&!Ke.test(e))return null;var t=Date.parse(e);return null!==t&&!isNaN(t)||Ze(e)?"date":null},function(e,t){var n=t.oLanguage.sDecimal;return nt(e,n,!0)?"num-fmt"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return it(e,n)?"html-num"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return it(e,n,!0)?"html-num-fmt"+n:null},function(e){return Ze(e)||"string"==typeof e&&-1!==e.indexOf("<")?"html":null}]),e.extend(Ve.ext.type.search,{html:function(e){return Ze(e)?e:"string"==typeof e?e.replace(Xe," ").replace(Ge,""):""},string:function(e){return Ze(e)?e:"string"==typeof e?e.replace(Xe," "):e}});var Nt=function(e,t,n,i){return 0===e||e&&"-"!==e?(t&&(e=tt(e,t)),e.replace&&(n&&(e=e.replace(n,"")),i&&(e=e.replace(i,""))),1*e):-1/0};e.extend(ze.type.order,{"date-pre":function(e){return e=Date.parse(e),isNaN(e)?-1/0:e},"html-pre":function(e){return Ze(e)?"":e.replace?e.replace(/<.*?>/g,"").toLowerCase():e+""},"string-pre":function(e){return Ze(e)?"":"string"==typeof e?e.toLowerCase():e.toString?e.toString():""},"string-asc":function(e,t){return e<t?-1:e>t?1:0},"string-desc":function(e,t){return e<t?1:e>t?-1:0}}),Fe(""),e.extend(!0,Ve.ext.renderer,{header:{_:function(t,n,i,r){e(t.nTable).on("order.dt.DT",function(e,o,a,s){t===o&&(e=i.idx,n.removeClass(i.sSortingClass+" "+r.sSortAsc+" "+r.sSortDesc).addClass("asc"==s[e]?r.sSortAsc:"desc"==s[e]?r.sSortDesc:i.sSortingClass))})},jqueryui:function(t,n,i,r){e("<div/>").addClass(r.sSortJUIWrapper).append(n.contents()).append(e("<span/>").addClass(r.sSortIcon+" "+i.sSortingClassJUI)).appendTo(n),e(t.nTable).on("order.dt.DT",function(e,o,a,s){t===o&&(e=i.idx,n.removeClass(r.sSortAsc+" "+r.sSortDesc).addClass("asc"==s[e]?r.sSortAsc:"desc"==s[e]?r.sSortDesc:i.sSortingClass),n.find("span."+r.sSortIcon).removeClass(r.sSortJUIAsc+" "+r.sSortJUIDesc+" "+r.sSortJUI+" "+r.sSortJUIAscAllowed+" "+r.sSortJUIDescAllowed).addClass("asc"==s[e]?r.sSortJUIAsc:"desc"==s[e]?r.sSortJUIDesc:i.sSortingClassJUI))})}}});var At=function(e){return"string"==typeof e?e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):e};return Ve.render={number:function(e,t,n,i,r){return{display:function(o){if("number"!=typeof o&&"string"!=typeof o)return o;var a=0>o?"-":"",s=parseFloat(o);return isNaN(s)?At(o):(s=s.toFixed(n),o=Math.abs(s),s=parseInt(o,10),o=n?t+(o-s).toFixed(n).substring(2):"",a+(i||"")+s.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)+o+(r||""))}}},text:function(){return{display:At}}},e.extend(Ve.ext.internal,{_fnExternApiFunc:He,_fnBuildAjax:H,_fnAjaxUpdate:z,_fnAjaxParameters:W,_fnAjaxUpdateDraw:U,_fnAjaxDataSrc:q,_fnAddColumn:u,_fnColumnOptions:h,_fnAdjustColumnSizing:f,_fnVisibleToColumnIndex:p,_fnColumnIndexToVisible:m,_fnVisbleColumns:g,_fnGetColumns:v,_fnColumnTypes:y,_fnApplyColumnDefs:b,_fnHungarianMap:r,_fnCamelToHungarian:o,_fnLanguageCompat:a,_fnBrowserDetect:c,_fnAddData:w,_fnAddTr:x,_fnNodeToDataIndex:function(e,t){return t._DT_RowIndex!==i?t._DT_RowIndex:null},_fnNodeToColumnIndex:function(t,n,i){return e.inArray(i,t.aoData[n].anCells)},_fnGetCellData:_,_fnSetCellData:C,_fnSplitObjNotation:S,_fnGetObjectDataFn:k,_fnSetObjectDataFn:T,_fnGetDataMaster:E,_fnClearTable:D,_fnDeleteIndex:N,_fnInvalidate:A,_fnGetRowElements:O,_fnCreateTr:I,_fnBuildHead:P,_fnDrawHead:M,_fnDraw:j,_fnReDraw:L,_fnAddOptionsHtml:B,_fnDetectHeader:$,_fnGetUniqueThs:F,_fnFeatureHtmlFilter:V,_fnFilterComplete:Y,_fnFilterCustom:X,_fnFilterColumn:G,_fnFilter:K,_fnFilterCreateSearch:J,_fnEscapeRegex:ht,_fnFilterData:Q,_fnFeatureHtmlInfo:te,_fnUpdateInfo:ne,_fnInfoMacros:ie,_fnInitialise:re,_fnInitComplete:oe,_fnLengthChange:ae,_fnFeatureHtmlLength:se,_fnFeatureHtmlPaginate:le,_fnPageChange:ce,_fnFeatureHtmlProcessing:de,_fnProcessingDisplay:ue,_fnFeatureHtmlTable:he,_fnScrollDraw:fe,_fnApplyToChildren:pe,_fnCalculateColumnWidths:me,_fnThrottle:gt,_fnConvertToWidth:ge,_fnGetWidestNode:ve,_fnGetMaxLenString:ye,_fnStringToCss:be,_fnSortFlatten:we,_fnSort:xe,_fnSortAria:_e,_fnSortListener:Ce,_fnSortAttachListener:Se,_fnSortingClasses:ke,_fnSortData:Te,_fnSaveState:Ee,_fnLoadState:De,_fnSettingsFromNode:Ne,_fnLog:Ae,_fnMap:Oe,_fnBindAction:Re,_fnCallbackReg:Pe,_fnCallbackFire:Me,_fnLengthOverflow:je,_fnRenderer:Le,_fnDataSource:Be,_fnRowAttributes:R,_fnExtend:Ie,_fnCalculateEnd:function(){}}),e.fn.dataTable=Ve,Ve.$=e,e.fn.dataTableSettings=Ve.settings,e.fn.dataTableExt=Ve.ext,e.fn.DataTable=function(t){return e(this).dataTable(t).api()},e.each(Ve,function(t,n){e.fn.DataTable[t]=n}),e.fn.dataTable}),function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n&&n.fn.dataTable||(n=require("datatables.net")(t,n).$),e(n,t,t.document)}:e(jQuery,window,document)}(function(e,t,n,i){function r(e,t,n){var r=t+"-"+n;if(s[r]){e=e.cell(t,n).node(),t=[];for(var o=0,a=(n=s[r][0].parentNode.childNodes).length;o<a;o++)t.push(n[o]);for(n=0,o=t.length;n<o;n++)e.appendChild(t[n]);s[r]=i}}var o=e.fn.dataTable,a=function(t,n){if(!o.versionCheck||!o.versionCheck("1.10.10"))throw"DataTables Responsive requires DataTables 1.10.10 or newer";this.s={dt:new o.Api(t),columns:[],current:[]},this.s.dt.settings()[0].responsive||(n&&"string"==typeof n.details?n.details={type:n.details}:n&&!1===n.details?n.details={type:!1}:n&&!0===n.details&&(n.details={type:"inline"}),this.c=e.extend(!0,{},a.defaults,o.defaults.responsive,n),t.responsive=this,this._constructor())};e.extend(a.prototype,{_constructor:function(){var n=this,i=this.s.dt,r=i.settings()[0],a=e(t).width();i.settings()[0]._responsive=this,e(t).on("resize.dtr orientationchange.dtr",o.util.throttle(function(){var i=e(t).width();i!==a&&(n._resize(),a=i)})),r.oApi._fnCallbackReg(r,"aoRowCreatedCallback",function(t){-1!==e.inArray(!1,n.s.current)&&e(">td, >th",t).each(function(t){t=i.column.index("toData",t),!1===n.s.current[t]&&e(this).css("display","none")})}),i.on("destroy.dtr",function(){i.off(".dtr"),e(i.table().body()).off(".dtr"),e(t).off("resize.dtr orientationchange.dtr"),e.each(n.s.current,function(e,t){!1===t&&n._setColumnVis(e,!0)})}),this.c.breakpoints.sort(function(e,t){return e.width<t.width?1:e.width>t.width?-1:0}),this._classLogic(),this._resizeAuto(),!1!==(r=this.c.details).type&&(n._detailsInit(),i.on("column-visibility.dtr",function(){n._timer&&clearTimeout(n._timer),n._timer=setTimeout(function(){n._timer=null,n._classLogic(),n._resizeAuto(),n._resize(),n._redrawChildren()},100)}),i.on("draw.dtr",function(){n._redrawChildren()}),e(i.table().node()).addClass("dtr-"+r.type)),i.on("column-reorder.dtr",function(){n._classLogic(),n._resizeAuto(),n._resize()}),i.on("column-sizing.dtr",function(){n._resizeAuto(),n._resize()}),i.on("preXhr.dtr",function(){var e=[];i.rows().every(function(){this.child.isShown()&&e.push(this.id(!0))}),i.one("draw.dtr",function(){n._resizeAuto(),n._resize(),i.rows(e).every(function(){n._detailsDisplay(this,!1)})})}),i.on("init.dtr",function(){n._resizeAuto(),n._resize(),e.inArray(!1,n.s.current)&&i.columns.adjust()}),this._resize()},_columnsVisiblity:function(t){var n,i,r=this.s.dt,o=this.s.columns,a=o.map(function(e,t){return{columnIdx:t,priority:e.priority}}).sort(function(e,t){return e.priority!==t.priority?e.priority-t.priority:e.columnIdx-t.columnIdx}),s=e.map(o,function(n,i){return!1===r.column(i).visible()?"not-visible":(!n.auto||null!==n.minWidth)&&(!0===n.auto?"-":-1!==e.inArray(t,n.includeIn))}),l=0;for(n=0,i=s.length;n<i;n++)!0===s[n]&&(l+=o[n].minWidth);for(n=(n=r.settings()[0].oScroll).sY||n.sX?n.iBarWidth:0,l=r.table().container().offsetWidth-n-l,n=0,i=s.length;n<i;n++)o[n].control&&(l-=o[n].minWidth);var c=!1;for(n=0,i=a.length;n<i;n++){var d=a[n].columnIdx;"-"===s[d]&&!o[d].control&&o[d].minWidth&&(c||0>l-o[d].minWidth?(c=!0,s[d]=!1):s[d]=!0,l-=o[d].minWidth)}for(a=!1,n=0,i=o.length;n<i;n++)if(!o[n].control&&!o[n].never&&!1===s[n]){a=!0;break}for(n=0,i=o.length;n<i;n++)o[n].control&&(s[n]=a),"not-visible"===s[n]&&(s[n]=!1);return-1===e.inArray(!0,s)&&(s[0]=!0),s},_classLogic:function(){var t=this,n=this.c.breakpoints,r=this.s.dt,o=r.columns().eq(0).map(function(t){var n=this.column(t),o=n.header().className;return(t=r.settings()[0].aoColumns[t].responsivePriority)===i&&(t=(n=e(n.header()).data("priority"))!==i?1*n:1e4),{className:o,includeIn:[],auto:!1,control:!1,never:!!o.match(/\bnever\b/),priority:t}}),a=function(t,n){var i=o[t].includeIn;-1===e.inArray(n,i)&&i.push(n)},s=function(e,i,r,s){if(r){if("max-"===r)for(s=t._find(i).width,i=0,r=n.length;i<r;i++)n[i].width<=s&&a(e,n[i].name);else if("min-"===r)for(s=t._find(i).width,i=0,r=n.length;i<r;i++)n[i].width>=s&&a(e,n[i].name);else if("not-"===r)for(i=0,r=n.length;i<r;i++)-1===n[i].name.indexOf(s)&&a(e,n[i].name)}else o[e].includeIn.push(i)};o.each(function(t,i){for(var r=t.className.split(" "),o=!1,a=0,l=r.length;a<l;a++){var c=e.trim(r[a]);if("all"===c)return o=!0,void(t.includeIn=e.map(n,function(e){return e.name}));if("none"===c||t.never)return void(o=!0);if("control"===c)return o=!0,void(t.control=!0);e.each(n,function(e,t){var n=t.name.split("-"),r=c.match(RegExp("(min\\-|max\\-|not\\-)?("+n[0]+")(\\-[_a-zA-Z0-9])?"));r&&(o=!0,r[2]===n[0]&&r[3]==="-"+n[1]?s(i,t.name,r[1],r[2]+r[3]):r[2]===n[0]&&!r[3]&&s(i,t.name,r[1],r[2]))})}o||(t.auto=!0)}),this.s.columns=o},_detailsDisplay:function(t,n){var i=this,r=this.s.dt,o=this.c.details;if(o&&!1!==o.type){var a=o.display(t,n,function(){return o.renderer(r,t[0],i._detailsObj(t[0]))});(!0===a||!1===a)&&e(r.table().node()).triggerHandler("responsive-display.dt",[r,t,a,n])}},_detailsInit:function(){var t=this,n=this.s.dt,i=this.c.details;"inline"===i.type&&(i.target="td:first-child, th:first-child"),n.on("draw.dtr",function(){t._tabIndexes()}),t._tabIndexes(),e(n.table().body()).on("keyup.dtr","td, th",function(t){13===t.keyCode&&e(this).data("dtr-keyboard")&&e(this).click()});var r=i.target;e(n.table().body()).on("click.dtr mousedown.dtr mouseup.dtr","string"==typeof r?r:"td, th",function(i){if(e(n.table().node()).hasClass("collapsed")&&-1!==e.inArray(e(this).closest("tr").get(0),n.rows().nodes().toArray())){if("number"==typeof r){var o=r<0?n.columns().eq(0).length+r:r;if(n.cell(this).index().column!==o)return}o=n.row(e(this).closest("tr")),"click"===i.type?t._detailsDisplay(o,!1):"mousedown"===i.type?e(this).css("outline","none"):"mouseup"===i.type&&e(this).blur().css("outline","")}})},_detailsObj:function(t){var n=this,i=this.s.dt;return e.map(this.s.columns,function(e,r){if(!e.never&&!e.control)return{title:i.settings()[0].aoColumns[r].sTitle,data:i.cell(t,r).render(n.c.orthogonal),hidden:i.column(r).visible()&&!n.s.current[r],columnIndex:r,rowIndex:t}})},_find:function(e){for(var t=this.c.breakpoints,n=0,i=t.length;n<i;n++)if(t[n].name===e)return t[n]},_redrawChildren:function(){var e=this,t=this.s.dt;t.rows({page:"current"}).iterator("row",function(n,i){t.row(i),e._detailsDisplay(t.row(i),!0)})},_resize:function(){var n,i=this,r=this.s.dt,o=e(t).width(),a=this.c.breakpoints,s=a[0].name,l=this.s.columns,c=this.s.current.slice();for(n=a.length-1;0<=n;n--)if(o<=a[n].width){s=a[n].name;break}var d=this._columnsVisiblity(s);for(this.s.current=d,a=!1,n=0,o=l.length;n<o;n++)if(!1===d[n]&&!l[n].never&&!l[n].control&&!1==!r.column(n).visible()){a=!0;break}e(r.table().node()).toggleClass("collapsed",a);var u=!1,h=0;r.columns().eq(0).each(function(e,t){!0===d[t]&&h++,d[t]!==c[t]&&(u=!0,i._setColumnVis(e,d[t]))}),u&&(this._redrawChildren(),e(r.table().node()).trigger("responsive-resize.dt",[r,this.s.current]),0===r.page.info().recordsDisplay&&e("td",r.table().body()).eq(0).attr("colspan",h))},_resizeAuto:function(){var t=this.s.dt,n=this.s.columns;if(this.c.auto&&-1!==e.inArray(!0,e.map(n,function(e){return e.auto}))){e.isEmptyObject(s)||e.each(s,function(e){e=e.split("-"),r(t,1*e[0],1*e[1])}),t.table().node();var i=t.table().node().cloneNode(!1),o=e(t.table().header().cloneNode(!1)).appendTo(i),a=e(t.table().body()).clone(!1,!1).empty().appendTo(i),l=t.columns().header().filter(function(e){return t.column(e).visible()}).to$().clone(!1).css("display","table-cell").css("min-width",0);if(e(a).append(e(t.rows({page:"current"}).nodes()).clone(!1)).find("th, td").css("display",""),a=t.table().footer()){a=e(a.cloneNode(!1)).appendTo(i);var c=t.columns().footer().filter(function(e){return t.column(e).visible()}).to$().clone(!1).css("display","table-cell");e("<tr/>").append(c).appendTo(a)}e("<tr/>").append(l).appendTo(o),"inline"===this.c.details.type&&e(i).addClass("dtr-inline collapsed"),e(i).find("[name]").removeAttr("name"),e(i).css("position","relative"),(i=e("<div/>").css({width:1,height:1,overflow:"hidden",clear:"both"}).append(i)).insertBefore(t.table().node()),l.each(function(e){e=t.column.index("fromVisible",e),n[e].minWidth=this.offsetWidth||0}),i.remove()}},_setColumnVis:function(t,n){var i=this.s.dt,o=n?"":"none";e(i.column(t).header()).css("display",o),e(i.column(t).footer()).css("display",o),i.column(t).nodes().to$().css("display",o),e.isEmptyObject(s)||i.cells(null,t).indexes().each(function(e){r(i,e.row,e.column)})},_tabIndexes:function(){var t=this.s.dt,n=t.cells({page:"current"}).nodes().to$(),i=t.settings()[0],r=this.c.details.target;n.filter("[data-dtr-keyboard]").removeData("[data-dtr-keyboard]"),"number"==typeof r?t.cells(null,r,{page:"current"}).nodes().to$().attr("tabIndex",i.iTabIndex).data("dtr-keyboard",1):("td:first-child, th:first-child"===r&&(r=">td:first-child, >th:first-child"),e(r,t.rows({page:"current"}).nodes()).attr("tabIndex",i.iTabIndex).data("dtr-keyboard",1))}}),a.breakpoints=[{name:"desktop",width:1/0},{name:"tablet-l",width:1024},{name:"tablet-p",width:768},{name:"mobile-l",width:480},{name:"mobile-p",width:320}],a.display={childRow:function(t,n,i){return n?e(t.node()).hasClass("parent")?(t.child(i(),"child").show(),!0):void 0:t.child.isShown()?(t.child(!1),e(t.node()).removeClass("parent"),!1):(t.child(i(),"child").show(),e(t.node()).addClass("parent"),!0)},childRowImmediate:function(t,n,i){return!n&&t.child.isShown()||!t.responsive.hasHidden()?(t.child(!1),e(t.node()).removeClass("parent"),!1):(t.child(i(),"child").show(),e(t.node()).addClass("parent"),!0)},modal:function(t){return function(i,r,o){if(r)e("div.dtr-modal-content").empty().append(o());else{var a=function(){s.remove(),e(n).off("keypress.dtr")},s=e('<div class="dtr-modal"/>').append(e('<div class="dtr-modal-display"/>').append(e('<div class="dtr-modal-content"/>').append(o())).append(e('<div class="dtr-modal-close">&times;</div>').click(function(){a()}))).append(e('<div class="dtr-modal-background"/>').click(function(){a()})).appendTo("body");e(n).on("keyup.dtr",function(e){27===e.keyCode&&(e.stopPropagation(),a())})}t&&t.header&&e("div.dtr-modal-content").prepend("<h2>"+t.header(i)+"</h2>")}}};var s={};a.renderer={listHiddenNodes:function(){return function(t,n,i){var r=e('<ul data-dtr-index="'+n+'" class="dtr-details"/>'),o=!1;return e.each(i,function(n,i){i.hidden&&(e('<li data-dtr-index="'+i.columnIndex+'" data-dt-row="'+i.rowIndex+'" data-dt-column="'+i.columnIndex+'"><span class="dtr-title">'+i.title+"</span> </li>").append(e('<span class="dtr-data"/>').append(function(e,t,n){var i=t+"-"+n;if(s[i])return s[i];var r=[];for(e=e.cell(t,n).node().childNodes,t=0,n=e.length;t<n;t++)r.push(e[t]);return s[i]=r}(t,i.rowIndex,i.columnIndex))).appendTo(r),o=!0)}),!!o&&r}},listHidden:function(){return function(t,n,i){return!!(t=e.map(i,function(e){return e.hidden?'<li data-dtr-index="'+e.columnIndex+'" data-dt-row="'+e.rowIndex+'" data-dt-column="'+e.columnIndex+'"><span class="dtr-title">'+e.title+'</span> <span class="dtr-data">'+e.data+"</span></li>":""}).join(""))&&e('<ul data-dtr-index="'+n+'" class="dtr-details"/>').append(t)}},tableAll:function(t){return t=e.extend({tableClass:""},t),function(n,i,r){return n=e.map(r,function(e){return'<tr data-dt-row="'+e.rowIndex+'" data-dt-column="'+e.columnIndex+'"><td>'+e.title+":</td> <td>"+e.data+"</td></tr>"}).join(""),e('<table class="'+t.tableClass+' dtr-details" width="100%"/>').append(n)}}},a.defaults={breakpoints:a.breakpoints,auto:!0,details:{display:a.display.childRow,renderer:a.renderer.listHidden(),target:0,type:"inline"},orthogonal:"display"};var l=e.fn.dataTable.Api;return l.register("responsive()",function(){return this}),l.register("responsive.index()",function(t){return{column:(t=e(t)).data("dtr-index"),row:t.parent().data("dtr-index")}}),l.register("responsive.rebuild()",function(){return this.iterator("table",function(e){e._responsive&&e._responsive._classLogic()})}),l.register("responsive.recalc()",function(){return this.iterator("table",function(e){e._responsive&&(e._responsive._resizeAuto(),e._responsive._resize())})}),l.register("responsive.hasHidden()",function(){var t=this.context[0];return!!t._responsive&&-1!==e.inArray(!1,t._responsive.s.current)}),l.registerPlural("columns().responsiveHidden()","column().responsiveHidden()",function(){return this.iterator("column",function(e,t){return!!e._responsive&&e._responsive.s.current[t]},1)}),a.version="2.2.3",e.fn.dataTable.Responsive=a,e.fn.DataTable.Responsive=a,e(n).on("preInit.dt.dtr",function(t,n){if("dt"===t.namespace&&(e(n.nTable).hasClass("responsive")||e(n.nTable).hasClass("dt-responsive")||n.oInit.responsive||o.defaults.responsive)){var i=n.oInit.responsive;!1!==i&&new a(n,e.isPlainObject(i)?i:{})}}),a}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";var e,t;function n(){return e.apply(null,arguments)}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function r(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function o(e){return void 0===e}function a(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function s(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function l(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function d(e,t){for(var n in t)c(t,n)&&(e[n]=t[n]);return c(t,"toString")&&(e.toString=t.toString),c(t,"valueOf")&&(e.valueOf=t.valueOf),e}function u(e,t,n,i){return Tt(e,t,n,i,!0).utc()}function h(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function f(e){if(null==e._isValid){var n=h(e),i=t.call(n.parsedDateParts,function(e){return null!=e}),r=!isNaN(e._d.getTime())&&n.overflow<0&&!n.empty&&!n.invalidMonth&&!n.invalidWeekday&&!n.weekdayMismatch&&!n.nullInput&&!n.invalidFormat&&!n.userInvalidated&&(!n.meridiem||n.meridiem&&i);if(e._strict&&(r=r&&0===n.charsLeftOver&&0===n.unusedTokens.length&&void 0===n.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function p(e){var t=u(NaN);return null!=e?d(h(t),e):h(t).userInvalidated=!0,t}t=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};var m=n.momentProperties=[];function g(e,t){var n,i,r;if(o(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),o(t._i)||(e._i=t._i),o(t._f)||(e._f=t._f),o(t._l)||(e._l=t._l),o(t._strict)||(e._strict=t._strict),o(t._tzm)||(e._tzm=t._tzm),o(t._isUTC)||(e._isUTC=t._isUTC),o(t._offset)||(e._offset=t._offset),o(t._pf)||(e._pf=h(t)),o(t._locale)||(e._locale=t._locale),0<m.length)for(n=0;n<m.length;n++)o(r=t[i=m[n]])||(e[i]=r);return e}var v=!1;function y(e){g(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,n.updateOffset(this),v=!1)}function b(e){return e instanceof y||null!=e&&null!=e._isAMomentObject}function w(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function x(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=w(t)),n}function _(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(i=0;i<r;i++)(n&&e[i]!==t[i]||!n&&x(e[i])!==x(t[i]))&&a++;return a+o}function C(e){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function S(e,t){var i=!0;return d(function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,e),i){for(var r,o=[],a=0;a<arguments.length;a++){if(r="","object"==typeof arguments[a]){for(var s in r+="\n["+a+"] ",arguments[0])r+=s+": "+arguments[0][s]+", ";r=r.slice(0,-2)}else r=arguments[a];o.push(r)}C(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),i=!1}return t.apply(this,arguments)},t)}var k,T={};function E(e,t){null!=n.deprecationHandler&&n.deprecationHandler(e,t),T[e]||(C(t),T[e]=!0)}function D(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function N(e,t){var n,i=d({},e);for(n in t)c(t,n)&&(r(e[n])&&r(t[n])?(i[n]={},d(i[n],e[n]),d(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)c(e,n)&&!c(t,n)&&r(e[n])&&(i[n]=d({},i[n]));return i}function A(e){null!=e&&this.set(e)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,k=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)c(e,t)&&n.push(t);return n};var O={};function I(e,t){var n=e.toLowerCase();O[n]=O[n+"s"]=O[t]=e}function R(e){return"string"==typeof e?O[e]||O[e.toLowerCase()]:void 0}function P(e){var t,n,i={};for(n in e)c(e,n)&&(t=R(n))&&(i[t]=e[n]);return i}var M={};function j(e,t){M[e]=t}function L(e,t,n){var i=""+Math.abs(e),r=t-i.length;return(0<=e?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}var B=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,$=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,F={},H={};function z(e,t,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),e&&(H[e]=r),t&&(H[t[0]]=function(){return L(r.apply(this,arguments),t[1],t[2])}),n&&(H[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function W(e,t){return e.isValid()?(t=U(t,e.localeData()),F[t]=F[t]||function(e){var t,n,i,r=e.match(B);for(t=0,n=r.length;t<n;t++)H[r[t]]?r[t]=H[r[t]]:r[t]=(i=r[t]).match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"");return function(t){var i,o="";for(i=0;i<n;i++)o+=D(r[i])?r[i].call(t,e):r[i];return o}}(t),F[t](e)):e.localeData().invalidDate()}function U(e,t){var n=5;function i(e){return t.longDateFormat(e)||e}for($.lastIndex=0;0<=n&&$.test(e);)e=e.replace($,i),$.lastIndex=0,n-=1;return e}var q=/\d/,V=/\d\d/,Y=/\d{3}/,X=/\d{4}/,G=/[+-]?\d{6}/,K=/\d\d?/,J=/\d\d\d\d?/,Q=/\d\d\d\d\d\d?/,Z=/\d{1,3}/,ee=/\d{1,4}/,te=/[+-]?\d{1,6}/,ne=/\d+/,ie=/[+-]?\d+/,re=/Z|[+-]\d\d:?\d\d/gi,oe=/Z|[+-]\d\d(?::?\d\d)?/gi,ae=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,se={};function le(e,t,n){se[e]=D(t)?t:function(e,i){return e&&n?n:t}}function ce(e,t){return c(se,e)?se[e](t._strict,t._locale):new RegExp(de(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r})))}function de(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ue={};function he(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),a(t)&&(i=function(e,n){n[t]=x(e)}),n=0;n<e.length;n++)ue[e[n]]=i}function fe(e,t){he(e,function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)})}var pe=0,me=1,ge=2,ve=3,ye=4,be=5,we=6,xe=7,_e=8;function Ce(e){return Se(e)?366:365}function Se(e){return e%4==0&&e%100!=0||e%400==0}z("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),z(0,["YY",2],0,function(){return this.year()%100}),z(0,["YYYY",4],0,"year"),z(0,["YYYYY",5],0,"year"),z(0,["YYYYYY",6,!0],0,"year"),I("year","y"),j("year",1),le("Y",ie),le("YY",K,V),le("YYYY",ee,X),le("YYYYY",te,G),le("YYYYYY",te,G),he(["YYYYY","YYYYYY"],pe),he("YYYY",function(e,t){t[pe]=2===e.length?n.parseTwoDigitYear(e):x(e)}),he("YY",function(e,t){t[pe]=n.parseTwoDigitYear(e)}),he("Y",function(e,t){t[pe]=parseInt(e,10)}),n.parseTwoDigitYear=function(e){return x(e)+(68<x(e)?1900:2e3)};var ke,Te=Ee("FullYear",!0);function Ee(e,t){return function(i){return null!=i?(Ne(this,e,i),n.updateOffset(this,t),this):De(this,e)}}function De(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Ne(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&Se(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Ae(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Ae(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=(t%12+12)%12;return e+=(t-n)/12,1===n?Se(e)?29:28:31-n%7%2}ke=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},z("M",["MM",2],"Mo",function(){return this.month()+1}),z("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),z("MMMM",0,0,function(e){return this.localeData().months(this,e)}),I("month","M"),j("month",8),le("M",K),le("MM",K,V),le("MMM",function(e,t){return t.monthsShortRegex(e)}),le("MMMM",function(e,t){return t.monthsRegex(e)}),he(["M","MM"],function(e,t){t[me]=x(e)-1}),he(["MMM","MMMM"],function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[me]=r:h(n).invalidMonth=e});var Oe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ie="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Re="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Pe(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=x(t);else if(!a(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Ae(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Me(e){return null!=e?(Pe(this,e),n.updateOffset(this,!0),this):De(this,"Month")}var je=ae,Le=ae;function Be(){function e(e,t){return t.length-e.length}var t,n,i=[],r=[],o=[];for(t=0;t<12;t++)n=u([2e3,t]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(e),r.sort(e),o.sort(e),t=0;t<12;t++)i[t]=de(i[t]),r[t]=de(r[t]);for(t=0;t<24;t++)o[t]=de(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function $e(e){var t;if(e<100&&0<=e){var n=Array.prototype.slice.call(arguments);n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function Fe(e,t,n){var i=7+t-n;return-(7+$e(e,0,i).getUTCDay()-t)%7+i-1}function He(e,t,n,i,r){var o,a,s=1+7*(t-1)+(7+n-i)%7+Fe(e,i,r);return a=s<=0?Ce(o=e-1)+s:s>Ce(e)?(o=e+1,s-Ce(e)):(o=e,s),{year:o,dayOfYear:a}}function ze(e,t,n){var i,r,o=Fe(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?i=a+We(r=e.year()-1,t,n):a>We(e.year(),t,n)?(i=a-We(e.year(),t,n),r=e.year()+1):(r=e.year(),i=a),{week:i,year:r}}function We(e,t,n){var i=Fe(e,t,n),r=Fe(e+1,t,n);return(Ce(e)-i+r)/7}function Ue(e,t){return e.slice(t,7).concat(e.slice(0,t))}z("w",["ww",2],"wo","week"),z("W",["WW",2],"Wo","isoWeek"),I("week","w"),I("isoWeek","W"),j("week",5),j("isoWeek",5),le("w",K),le("ww",K,V),le("W",K),le("WW",K,V),fe(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=x(e)}),z("d",0,"do","day"),z("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),z("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),z("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),z("e",0,0,"weekday"),z("E",0,0,"isoWeekday"),I("day","d"),I("weekday","e"),I("isoWeekday","E"),j("day",11),j("weekday",11),j("isoWeekday",11),le("d",K),le("e",K),le("E",K),le("dd",function(e,t){return t.weekdaysMinRegex(e)}),le("ddd",function(e,t){return t.weekdaysShortRegex(e)}),le("dddd",function(e,t){return t.weekdaysRegex(e)}),fe(["dd","ddd","dddd"],function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);null!=r?t.d=r:h(n).invalidWeekday=e}),fe(["d","e","E"],function(e,t,n,i){t[i]=x(e)});var qe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ve="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ye="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Xe=ae,Ge=ae,Ke=ae;function Je(){function e(e,t){return t.length-e.length}var t,n,i,r,o,a=[],s=[],l=[],c=[];for(t=0;t<7;t++)n=u([2e3,1]).day(t),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(i),s.push(r),l.push(o),c.push(i),c.push(r),c.push(o);for(a.sort(e),s.sort(e),l.sort(e),c.sort(e),t=0;t<7;t++)s[t]=de(s[t]),l[t]=de(l[t]),c[t]=de(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Qe(){return this.hours()%12||12}function Ze(e,t){z(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function et(e,t){return t._meridiemParse}z("H",["HH",2],0,"hour"),z("h",["hh",2],0,Qe),z("k",["kk",2],0,function(){return this.hours()||24}),z("hmm",0,0,function(){return""+Qe.apply(this)+L(this.minutes(),2)}),z("hmmss",0,0,function(){return""+Qe.apply(this)+L(this.minutes(),2)+L(this.seconds(),2)}),z("Hmm",0,0,function(){return""+this.hours()+L(this.minutes(),2)}),z("Hmmss",0,0,function(){return""+this.hours()+L(this.minutes(),2)+L(this.seconds(),2)}),Ze("a",!0),Ze("A",!1),I("hour","h"),j("hour",13),le("a",et),le("A",et),le("H",K),le("h",K),le("k",K),le("HH",K,V),le("hh",K,V),le("kk",K,V),le("hmm",J),le("hmmss",Q),le("Hmm",J),le("Hmmss",Q),he(["H","HH"],ve),he(["k","kk"],function(e,t,n){var i=x(e);t[ve]=24===i?0:i}),he(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),he(["h","hh"],function(e,t,n){t[ve]=x(e),h(n).bigHour=!0}),he("hmm",function(e,t,n){var i=e.length-2;t[ve]=x(e.substr(0,i)),t[ye]=x(e.substr(i)),h(n).bigHour=!0}),he("hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[ve]=x(e.substr(0,i)),t[ye]=x(e.substr(i,2)),t[be]=x(e.substr(r)),h(n).bigHour=!0}),he("Hmm",function(e,t,n){var i=e.length-2;t[ve]=x(e.substr(0,i)),t[ye]=x(e.substr(i))}),he("Hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[ve]=x(e.substr(0,i)),t[ye]=x(e.substr(i,2)),t[be]=x(e.substr(r))});var tt,nt=Ee("Hours",!0),it={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ie,monthsShort:Re,week:{dow:0,doy:6},weekdays:qe,weekdaysMin:Ye,weekdaysShort:Ve,meridiemParse:/[ap]\.?m?\.?/i},rt={},ot={};function at(e){return e?e.toLowerCase().replace("_","-"):e}function st(e){var t=null;if(!rt[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=tt._abbr,require("./locale/"+e),lt(t)}catch(e){}return rt[e]}function lt(e,t){var n;return e&&((n=o(t)?dt(e):ct(e,t))?tt=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),tt._abbr}function ct(e,t){if(null===t)return delete rt[e],null;var n,i=it;if(t.abbr=e,null!=rt[e])E("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=rt[e]._config;else if(null!=t.parentLocale)if(null!=rt[t.parentLocale])i=rt[t.parentLocale]._config;else{if(null==(n=st(t.parentLocale)))return ot[t.parentLocale]||(ot[t.parentLocale]=[]),ot[t.parentLocale].push({name:e,config:t}),null;i=n._config}return rt[e]=new A(N(i,t)),ot[e]&&ot[e].forEach(function(e){ct(e.name,e.config)}),lt(e),rt[e]}function dt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return tt;if(!i(e)){if(t=st(e))return t;e=[e]}return function(e){for(var t,n,i,r,o=0;o<e.length;){for(t=(r=at(e[o]).split("-")).length,n=(n=at(e[o+1]))?n.split("-"):null;0<t;){if(i=st(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&_(r,n,!0)>=t-1)break;t--}o++}return tt}(e)}function ut(e){var t,n=e._a;return n&&-2===h(e).overflow&&(t=n[me]<0||11<n[me]?me:n[ge]<1||n[ge]>Ae(n[pe],n[me])?ge:n[ve]<0||24<n[ve]||24===n[ve]&&(0!==n[ye]||0!==n[be]||0!==n[we])?ve:n[ye]<0||59<n[ye]?ye:n[be]<0||59<n[be]?be:n[we]<0||999<n[we]?we:-1,h(e)._overflowDayOfYear&&(t<pe||ge<t)&&(t=ge),h(e)._overflowWeeks&&-1===t&&(t=xe),h(e)._overflowWeekday&&-1===t&&(t=_e),h(e).overflow=t),e}function ht(e,t,n){return null!=e?e:null!=t?t:n}function ft(e){var t,i,r,o,a,s=[];if(!e._d){var l,c;for(l=e,c=new Date(n.now()),r=l._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()],e._w&&null==e._a[ge]&&null==e._a[me]&&function(e){var t,n,i,r,o,a,s,l;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)o=1,a=4,n=ht(t.GG,e._a[pe],ze(Et(),1,4).year),i=ht(t.W,1),((r=ht(t.E,1))<1||7<r)&&(l=!0);else{o=e._locale._week.dow,a=e._locale._week.doy;var c=ze(Et(),o,a);n=ht(t.gg,e._a[pe],c.year),i=ht(t.w,c.week),null!=t.d?((r=t.d)<0||6<r)&&(l=!0):null!=t.e?(r=t.e+o,(t.e<0||6<t.e)&&(l=!0)):r=o}i<1||i>We(n,o,a)?h(e)._overflowWeeks=!0:null!=l?h(e)._overflowWeekday=!0:(s=He(n,i,r,o,a),e._a[pe]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(a=ht(e._a[pe],r[pe]),(e._dayOfYear>Ce(a)||0===e._dayOfYear)&&(h(e)._overflowDayOfYear=!0),i=$e(a,0,e._dayOfYear),e._a[me]=i.getUTCMonth(),e._a[ge]=i.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=r[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ve]&&0===e._a[ye]&&0===e._a[be]&&0===e._a[we]&&(e._nextDay=!0,e._a[ve]=0),e._d=(e._useUTC?$e:function(e,t,n,i,r,o,a){var s;return e<100&&0<=e?(s=new Date(e+400,t,n,i,r,o,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,i,r,o,a),s}).apply(null,s),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ve]=24),e._w&&void 0!==e._w.d&&e._w.d!==o&&(h(e).weekdayMismatch=!0)}}var pt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,mt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gt=/Z|[+-]\d\d(?::?\d\d)?/,vt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],yt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],bt=/^\/?Date\((\-?\d+)/i;function wt(e){var t,n,i,r,o,a,s=e._i,l=pt.exec(s)||mt.exec(s);if(l){for(h(e).iso=!0,t=0,n=vt.length;t<n;t++)if(vt[t][1].exec(l[1])){r=vt[t][0],i=!1!==vt[t][2];break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,n=yt.length;t<n;t++)if(yt[t][1].exec(l[3])){o=(l[2]||" ")+yt[t][0];break}if(null==o)return void(e._isValid=!1)}if(!i&&null!=o)return void(e._isValid=!1);if(l[4]){if(!gt.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=r+(o||"")+(a||""),St(e)}else e._isValid=!1}var xt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;var _t={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ct(e){var t,n,i,r=xt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(r){var o=function(e,t,n,i,r,o){var a=[function(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}(e),Re.indexOf(t),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return o&&a.push(parseInt(o,10)),a}(r[4],r[3],r[2],r[5],r[6],r[7]);if(n=o,i=e,(t=r[1])&&Ve.indexOf(t)!==new Date(n[0],n[1],n[2]).getDay()&&(h(i).weekdayMismatch=!0,!(i._isValid=!1)))return;e._a=o,e._tzm=function(e,t,n){if(e)return _t[e];if(t)return 0;var i=parseInt(n,10),r=i%100;return(i-r)/100*60+r}(r[8],r[9],r[10]),e._d=$e.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),h(e).rfc2822=!0}else e._isValid=!1}function St(e){if(e._f!==n.ISO_8601)if(e._f!==n.RFC_2822){e._a=[],h(e).empty=!0;var t,i,r,o,a,s,l,d,u=""+e._i,f=u.length,p=0;for(r=U(e._f,e._locale).match(B)||[],t=0;t<r.length;t++)o=r[t],(i=(u.match(ce(o,e))||[])[0])&&(0<(a=u.substr(0,u.indexOf(i))).length&&h(e).unusedInput.push(a),u=u.slice(u.indexOf(i)+i.length),p+=i.length),H[o]?(i?h(e).empty=!1:h(e).unusedTokens.push(o),s=o,d=e,null!=(l=i)&&c(ue,s)&&ue[s](l,d._a,d,s)):e._strict&&!i&&h(e).unusedTokens.push(o);h(e).charsLeftOver=f-p,0<u.length&&h(e).unusedInput.push(u),e._a[ve]<=12&&!0===h(e).bigHour&&0<e._a[ve]&&(h(e).bigHour=void 0),h(e).parsedDateParts=e._a.slice(0),h(e).meridiem=e._meridiem,e._a[ve]=function(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):(null!=e.isPM&&((i=e.isPM(n))&&t<12&&(t+=12),i||12!==t||(t=0)),t)}(e._locale,e._a[ve],e._meridiem),ft(e),ut(e)}else Ct(e);else wt(e)}function kt(e){var t,c,u,m,v=e._i,w=e._f;return e._locale=e._locale||dt(e._l),null===v||void 0===w&&""===v?p({nullInput:!0}):("string"==typeof v&&(e._i=v=e._locale.preparse(v)),b(v)?new y(ut(v)):(s(v)?e._d=v:i(w)?function(e){var t,n,i,r,o;if(0===e._f.length)return h(e).invalidFormat=!0,e._d=new Date(NaN);for(r=0;r<e._f.length;r++)o=0,t=g({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],St(t),f(t)&&(o+=h(t).charsLeftOver,o+=10*h(t).unusedTokens.length,h(t).score=o,(null==i||o<i)&&(i=o,n=t));d(e,n||t)}(e):w?St(e):o(c=(t=e)._i)?t._d=new Date(n.now()):s(c)?t._d=new Date(c.valueOf()):"string"==typeof c?(u=t,null===(m=bt.exec(u._i))?(wt(u),!1===u._isValid&&(delete u._isValid,Ct(u),!1===u._isValid&&(delete u._isValid,n.createFromInputFallback(u)))):u._d=new Date(+m[1])):i(c)?(t._a=l(c.slice(0),function(e){return parseInt(e,10)}),ft(t)):r(c)?function(e){if(!e._d){var t=P(e._i);e._a=l([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ft(e)}}(t):a(c)?t._d=new Date(c):n.createFromInputFallback(t),f(e)||(e._d=null),e))}function Tt(e,t,n,o,a){var s,l={};return!0!==n&&!1!==n||(o=n,n=void 0),(r(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||i(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=a,l._l=n,l._i=e,l._f=t,l._strict=o,(s=new y(ut(kt(l))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function Et(e,t,n,i){return Tt(e,t,n,i,!1)}n.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),n.ISO_8601=function(){},n.RFC_2822=function(){};var Dt=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Et.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:p()}),Nt=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Et.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:p()});function At(e,t){var n,r;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return Et();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}var Ot=["year","quarter","month","week","day","hour","minute","second","millisecond"];function It(e){var t=P(e),n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||t.isoWeek||0,a=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,d=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===ke.call(Ot,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,i=0;i<Ot.length;++i)if(e[Ot[i]]){if(n)return!1;parseFloat(e[Ot[i]])!==x(e[Ot[i]])&&(n=!0)}return!0}(t),this._milliseconds=+d+1e3*c+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=dt(),this._bubble()}function Rt(e){return e instanceof It}function Pt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Mt(e,t){z(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+L(~~(e/60),2)+t+L(~~e%60,2)})}Mt("Z",":"),Mt("ZZ",""),le("Z",oe),le("ZZ",oe),he(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Lt(oe,e)});var jt=/([\+\-]|\d\d)/gi;function Lt(e,t){var n=(t||"").match(e);if(null===n)return null;var i=((n[n.length-1]||[])+"").match(jt)||["-",0,0],r=60*i[1]+x(i[2]);return 0===r?0:"+"===i[0]?r:-r}function Bt(e,t){var i,r;return t._isUTC?(i=t.clone(),r=(b(e)||s(e)?e.valueOf():Et(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+r),n.updateOffset(i,!1),i):Et(e).local()}function $t(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Ft(){return!!this.isValid()&&this._isUTC&&0===this._offset}n.updateOffset=function(){};var Ht=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,zt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Wt(e,t){var n,i,r,o=e,s=null;return Rt(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:a(e)?(o={},t?o[t]=e:o.milliseconds=e):(s=Ht.exec(e))?(n="-"===s[1]?-1:1,o={y:0,d:x(s[ge])*n,h:x(s[ve])*n,m:x(s[ye])*n,s:x(s[be])*n,ms:x(Pt(1e3*s[we]))*n}):(s=zt.exec(e))?(n="-"===s[1]?-1:1,o={y:Ut(s[2],n),M:Ut(s[3],n),w:Ut(s[4],n),d:Ut(s[5],n),h:Ut(s[6],n),m:Ut(s[7],n),s:Ut(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=function(e,t){var n;return e.isValid()&&t.isValid()?(t=Bt(t,e),e.isBefore(t)?n=qt(e,t):((n=qt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(Et(o.from),Et(o.to)),(o={}).ms=r.milliseconds,o.M=r.months),i=new It(o),Rt(e)&&c(e,"_locale")&&(i._locale=e._locale),i}function Ut(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function qt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Vt(e,t){return function(n,i){var r;return null===i||isNaN(+i)||(E(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),Yt(this,Wt(n="string"==typeof n?+n:n,i),e),this}}function Yt(e,t,i,r){var o=t._milliseconds,a=Pt(t._days),s=Pt(t._months);e.isValid()&&(r=null==r||r,s&&Pe(e,De(e,"Month")+s*i),a&&Ne(e,"Date",De(e,"Date")+a*i),o&&e._d.setTime(e._d.valueOf()+o*i),r&&n.updateOffset(e,a||s))}Wt.fn=It.prototype,Wt.invalid=function(){return Wt(NaN)};var Xt=Vt(1,"add"),Gt=Vt(-1,"subtract");function Kt(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(n,"months");return-(n+(t-i<0?(t-i)/(i-e.clone().add(n-1,"months")):(t-i)/(e.clone().add(n+1,"months")-i)))||0}function Jt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=dt(e))&&(this._locale=t),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Qt=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function Zt(){return this._locale}var en=126227808e5;function tn(e,t){return(e%t+t)%t}function nn(e,t,n){return e<100&&0<=e?new Date(e+400,t,n)-en:new Date(e,t,n).valueOf()}function rn(e,t,n){return e<100&&0<=e?Date.UTC(e+400,t,n)-en:Date.UTC(e,t,n)}function on(e,t){z(0,[e,e.length],0,t)}function an(e,t,n,i,r){var o;return null==e?ze(this,i,r).year:((o=We(e,i,r))<t&&(t=o),function(e,t,n,i,r){var o=He(e,t,n,i,r),a=$e(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,e,t,n,i,r))}z(0,["gg",2],0,function(){return this.weekYear()%100}),z(0,["GG",2],0,function(){return this.isoWeekYear()%100}),on("gggg","weekYear"),on("ggggg","weekYear"),on("GGGG","isoWeekYear"),on("GGGGG","isoWeekYear"),I("weekYear","gg"),I("isoWeekYear","GG"),j("weekYear",1),j("isoWeekYear",1),le("G",ie),le("g",ie),le("GG",K,V),le("gg",K,V),le("GGGG",ee,X),le("gggg",ee,X),le("GGGGG",te,G),le("ggggg",te,G),fe(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=x(e)}),fe(["gg","GG"],function(e,t,i,r){t[r]=n.parseTwoDigitYear(e)}),z("Q",0,"Qo","quarter"),I("quarter","Q"),j("quarter",7),le("Q",q),he("Q",function(e,t){t[me]=3*(x(e)-1)}),z("D",["DD",2],"Do","date"),I("date","D"),j("date",9),le("D",K),le("DD",K,V),le("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),he(["D","DD"],ge),he("Do",function(e,t){t[ge]=x(e.match(K)[0])});var sn=Ee("Date",!0);z("DDD",["DDDD",3],"DDDo","dayOfYear"),I("dayOfYear","DDD"),j("dayOfYear",4),le("DDD",Z),le("DDDD",Y),he(["DDD","DDDD"],function(e,t,n){n._dayOfYear=x(e)}),z("m",["mm",2],0,"minute"),I("minute","m"),j("minute",14),le("m",K),le("mm",K,V),he(["m","mm"],ye);var ln=Ee("Minutes",!1);z("s",["ss",2],0,"second"),I("second","s"),j("second",15),le("s",K),le("ss",K,V),he(["s","ss"],be);var cn,dn=Ee("Seconds",!1);for(z("S",0,0,function(){return~~(this.millisecond()/100)}),z(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),z(0,["SSS",3],0,"millisecond"),z(0,["SSSS",4],0,function(){return 10*this.millisecond()}),z(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),z(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),z(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),z(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),z(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),I("millisecond","ms"),j("millisecond",16),le("S",Z,q),le("SS",Z,V),le("SSS",Z,Y),cn="SSSS";cn.length<=9;cn+="S")le(cn,ne);function un(e,t){t[we]=x(1e3*("0."+e))}for(cn="S";cn.length<=9;cn+="S")he(cn,un);var hn=Ee("Milliseconds",!1);z("z",0,0,"zoneAbbr"),z("zz",0,0,"zoneName");var fn=y.prototype;function pn(e){return e}fn.add=Xt,fn.calendar=function(e,t){var i=e||Et(),r=Bt(i,this).startOf("day"),o=n.calendarFormat(this,r)||"sameElse",a=t&&(D(t[o])?t[o].call(this,i):t[o]);return this.format(a||this.localeData().calendar(o,this,Et(i)))},fn.clone=function(){return new y(this)},fn.diff=function(e,t,n){var i,r,o;if(!this.isValid())return NaN;if(!(i=Bt(e,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),t=R(t)){case"year":o=Kt(this,i)/12;break;case"month":o=Kt(this,i);break;case"quarter":o=Kt(this,i)/3;break;case"second":o=(this-i)/1e3;break;case"minute":o=(this-i)/6e4;break;case"hour":o=(this-i)/36e5;break;case"day":o=(this-i-r)/864e5;break;case"week":o=(this-i-r)/6048e5;break;default:o=this-i}return n?o:w(o)},fn.endOf=function(e){var t;if(void 0===(e=R(e))||"millisecond"===e||!this.isValid())return this;var i=this._isUTC?rn:nn;switch(e){case"year":t=i(this.year()+1,0,1)-1;break;case"quarter":t=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=i(this.year(),this.month()+1,1)-1;break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-tn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-tn(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-tn(t,1e3)-1}return this._d.setTime(t),n.updateOffset(this,!0),this},fn.format=function(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=W(this,e);return this.localeData().postformat(t)},fn.from=function(e,t){return this.isValid()&&(b(e)&&e.isValid()||Et(e).isValid())?Wt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},fn.fromNow=function(e){return this.from(Et(),e)},fn.to=function(e,t){return this.isValid()&&(b(e)&&e.isValid()||Et(e).isValid())?Wt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},fn.toNow=function(e){return this.to(Et(),e)},fn.get=function(e){return D(this[e=R(e)])?this[e]():this},fn.invalidAt=function(){return h(this).overflow},fn.isAfter=function(e,t){var n=b(e)?e:Et(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=R(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},fn.isBefore=function(e,t){var n=b(e)?e:Et(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=R(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},fn.isBetween=function(e,t,n,i){var r=b(e)?e:Et(e),o=b(t)?t:Et(t);return!!(this.isValid()&&r.isValid()&&o.isValid())&&("("===(i=i||"()")[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(")"===i[1]?this.isBefore(o,n):!this.isAfter(o,n))},fn.isSame=function(e,t){var n,i=b(e)?e:Et(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=R(t)||"millisecond")?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},fn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},fn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},fn.isValid=function(){return f(this)},fn.lang=Qt,fn.locale=Jt,fn.localeData=Zt,fn.max=Nt,fn.min=Dt,fn.parsingFlags=function(){return d({},h(this))},fn.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:M[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=P(e)),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit]);else if(D(this[e=R(e)]))return this[e](t);return this},fn.startOf=function(e){var t;if(void 0===(e=R(e))||"millisecond"===e||!this.isValid())return this;var i=this._isUTC?rn:nn;switch(e){case"year":t=i(this.year(),0,1);break;case"quarter":t=i(this.year(),this.month()-this.month()%3,1);break;case"month":t=i(this.year(),this.month(),1);break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=i(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=tn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=tn(t,6e4);break;case"second":t=this._d.valueOf(),t-=tn(t,1e3)}return this._d.setTime(t),n.updateOffset(this,!0),this},fn.subtract=Gt,fn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},fn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},fn.toDate=function(){return new Date(this.valueOf())},fn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||9999<n.year()?W(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):D(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",W(n,"Z")):W(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},fn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=t+'[")]';return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+r)},fn.toJSON=function(){return this.isValid()?this.toISOString():null},fn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},fn.unix=function(){return Math.floor(this.valueOf()/1e3)},fn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},fn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},fn.year=Te,fn.isLeapYear=function(){return Se(this.year())},fn.weekYear=function(e){return an.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},fn.isoWeekYear=function(e){return an.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},fn.quarter=fn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},fn.month=Me,fn.daysInMonth=function(){return Ae(this.year(),this.month())},fn.week=fn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},fn.isoWeek=fn.isoWeeks=function(e){var t=ze(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},fn.weeksInYear=function(){var e=this.localeData()._week;return We(this.year(),e.dow,e.doy)},fn.isoWeeksInYear=function(){return We(this.year(),1,4)},fn.date=sn,fn.day=fn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,n,i=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,n=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=n.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-i,"d")):i},fn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},fn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null==e)return this.day()||7;var t,n,i=(t=e,n=this.localeData(),"string"==typeof t?n.weekdaysParse(t)%7||7:isNaN(t)?null:t);return this.day(this.day()%7?i:i-7)},fn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},fn.hour=fn.hours=nt,fn.minute=fn.minutes=ln,fn.second=fn.seconds=dn,fn.millisecond=fn.milliseconds=hn,fn.utcOffset=function(e,t,i){var r,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null==e)return this._isUTC?o:$t(this);if("string"==typeof e){if(null===(e=Lt(oe,e)))return this}else Math.abs(e)<16&&!i&&(e*=60);return!this._isUTC&&t&&(r=$t(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==e&&(!t||this._changeInProgress?Yt(this,Wt(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this},fn.utc=function(e){return this.utcOffset(0,e)},fn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract($t(this),"m")),this},fn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Lt(re,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},fn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Et(e).utcOffset():0,(this.utcOffset()-e)%60==0)},fn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},fn.isLocal=function(){return!!this.isValid()&&!this._isUTC},fn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},fn.isUtc=Ft,fn.isUTC=Ft,fn.zoneAbbr=function(){return this._isUTC?"UTC":""},fn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},fn.dates=S("dates accessor is deprecated. Use date instead.",sn),fn.months=S("months accessor is deprecated. Use month instead",Me),fn.years=S("years accessor is deprecated. Use year instead",Te),fn.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),fn.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!o(this._isDSTShifted))return this._isDSTShifted;var e={};if(g(e,this),(e=kt(e))._a){var t=e._isUTC?u(e._a):Et(e._a);this._isDSTShifted=this.isValid()&&0<_(e._a,t.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var mn=A.prototype;function gn(e,t,n,i){var r=dt(),o=u().set(i,t);return r[n](o,e)}function vn(e,t,n){if(a(e)&&(t=e,e=void 0),e=e||"",null!=t)return gn(e,t,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=gn(e,i,n,"month");return r}function yn(e,t,n,i){"boolean"==typeof e?a(t)&&(n=t,t=void 0):(t=e,e=!1,a(n=t)&&(n=t,t=void 0)),t=t||"";var r,o=dt(),s=e?o._week.dow:0;if(null!=n)return gn(t,(n+s)%7,i,"day");var l=[];for(r=0;r<7;r++)l[r]=gn(t,(r+s)%7,i,"day");return l}mn.calendar=function(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return D(i)?i.call(t,n):i},mn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},mn.invalidDate=function(){return this._invalidDate},mn.ordinal=function(e){return this._ordinal.replace("%d",e)},mn.preparse=pn,mn.postformat=pn,mn.relativeTime=function(e,t,n,i){var r=this._relativeTime[n];return D(r)?r(e,t,n,i):r.replace(/%d/i,e)},mn.pastFuture=function(e,t){var n=this._relativeTime[0<e?"future":"past"];return D(n)?n(t):n.replace(/%s/i,t)},mn.set=function(e){var t,n;for(n in e)D(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},mn.months=function(e,t){return e?i(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Oe).test(t)?"format":"standalone"][e.month()]:i(this._months)?this._months:this._months.standalone},mn.monthsShort=function(e,t){return e?i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Oe.test(t)?"format":"standalone"][e.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},mn.monthsParse=function(e,t,n){var i,r,o;if(this._monthsParseExact)return function(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=u([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(r=ke.call(this._shortMonthsParse,a))?r:null:-1!==(r=ke.call(this._longMonthsParse,a))?r:null:"MMM"===t?-1!==(r=ke.call(this._shortMonthsParse,a))?r:-1!==(r=ke.call(this._longMonthsParse,a))?r:null:-1!==(r=ke.call(this._longMonthsParse,a))?r:-1!==(r=ke.call(this._shortMonthsParse,a))?r:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=u([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},mn.monthsRegex=function(e){return this._monthsParseExact?(c(this,"_monthsRegex")||Be.call(this),e?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=Le),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},mn.monthsShortRegex=function(e){return this._monthsParseExact?(c(this,"_monthsRegex")||Be.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=je),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},mn.week=function(e){return ze(e,this._week.dow,this._week.doy).week},mn.firstDayOfYear=function(){return this._week.doy},mn.firstDayOfWeek=function(){return this._week.dow},mn.weekdays=function(e,t){var n=i(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ue(n,this._week.dow):e?n[e.day()]:n},mn.weekdaysMin=function(e){return!0===e?Ue(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},mn.weekdaysShort=function(e){return!0===e?Ue(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},mn.weekdaysParse=function(e,t,n){var i,r,o;if(this._weekdaysParseExact)return function(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=u([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(r=ke.call(this._weekdaysParse,a))?r:null:"ddd"===t?-1!==(r=ke.call(this._shortWeekdaysParse,a))?r:null:-1!==(r=ke.call(this._minWeekdaysParse,a))?r:null:"dddd"===t?-1!==(r=ke.call(this._weekdaysParse,a))?r:-1!==(r=ke.call(this._shortWeekdaysParse,a))?r:-1!==(r=ke.call(this._minWeekdaysParse,a))?r:null:"ddd"===t?-1!==(r=ke.call(this._shortWeekdaysParse,a))?r:-1!==(r=ke.call(this._weekdaysParse,a))?r:-1!==(r=ke.call(this._minWeekdaysParse,a))?r:null:-1!==(r=ke.call(this._minWeekdaysParse,a))?r:-1!==(r=ke.call(this._weekdaysParse,a))?r:-1!==(r=ke.call(this._shortWeekdaysParse,a))?r:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=u([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}},mn.weekdaysRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Je.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=Xe),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},mn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Je.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ge),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},mn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Je.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ke),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},mn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},mn.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},lt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===x(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),n.lang=S("moment.lang is deprecated. Use moment.locale instead.",lt),n.langData=S("moment.langData is deprecated. Use moment.localeData instead.",dt);var bn=Math.abs;function wn(e,t,n,i){var r=Wt(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function xn(e){return e<0?Math.floor(e):Math.ceil(e)}function _n(e){return 4800*e/146097}function Cn(e){return 146097*e/4800}function Sn(e){return function(){return this.as(e)}}var kn=Sn("ms"),Tn=Sn("s"),En=Sn("m"),Dn=Sn("h"),Nn=Sn("d"),An=Sn("w"),On=Sn("M"),In=Sn("Q"),Rn=Sn("y");function Pn(e){return function(){return this.isValid()?this._data[e]:NaN}}var Mn=Pn("milliseconds"),jn=Pn("seconds"),Ln=Pn("minutes"),Bn=Pn("hours"),$n=Pn("days"),Fn=Pn("months"),Hn=Pn("years"),zn=Math.round,Wn={ss:44,s:45,m:45,h:22,d:26,M:11},Un=Math.abs;function qn(e){return(0<e)-(e<0)||+e}function Vn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Un(this._milliseconds)/1e3,i=Un(this._days),r=Un(this._months);t=w((e=w(n/60))/60),n%=60,e%=60;var o=w(r/12),a=r%=12,s=i,l=t,c=e,d=n?n.toFixed(3).replace(/\.?0+$/,""):"",u=this.asSeconds();if(!u)return"P0D";var h=u<0?"-":"",f=qn(this._months)!==qn(u)?"-":"",p=qn(this._days)!==qn(u)?"-":"",m=qn(this._milliseconds)!==qn(u)?"-":"";return h+"P"+(o?f+o+"Y":"")+(a?f+a+"M":"")+(s?p+s+"D":"")+(l||c||d?"T":"")+(l?m+l+"H":"")+(c?m+c+"M":"")+(d?m+d+"S":"")}var Yn=It.prototype;return Yn.isValid=function(){return this._isValid},Yn.abs=function(){var e=this._data;return this._milliseconds=bn(this._milliseconds),this._days=bn(this._days),this._months=bn(this._months),e.milliseconds=bn(e.milliseconds),e.seconds=bn(e.seconds),e.minutes=bn(e.minutes),e.hours=bn(e.hours),e.months=bn(e.months),e.years=bn(e.years),this},Yn.add=function(e,t){return wn(this,e,t,1)},Yn.subtract=function(e,t){return wn(this,e,t,-1)},Yn.as=function(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=R(e))||"quarter"===e||"year"===e)switch(t=this._days+i/864e5,n=this._months+_n(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Cn(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}},Yn.asMilliseconds=kn,Yn.asSeconds=Tn,Yn.asMinutes=En,Yn.asHours=Dn,Yn.asDays=Nn,Yn.asWeeks=An,Yn.asMonths=On,Yn.asQuarters=In,Yn.asYears=Rn,Yn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*x(this._months/12):NaN},Yn._bubble=function(){var e,t,n,i,r,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return 0<=o&&0<=a&&0<=s||o<=0&&a<=0&&s<=0||(o+=864e5*xn(Cn(s)+a),s=a=0),l.milliseconds=o%1e3,e=w(o/1e3),l.seconds=e%60,t=w(e/60),l.minutes=t%60,n=w(t/60),l.hours=n%24,s+=r=w(_n(a+=w(n/24))),a-=xn(Cn(r)),i=w(s/12),s%=12,l.days=a,l.months=s,l.years=i,this},Yn.clone=function(){return Wt(this)},Yn.get=function(e){return e=R(e),this.isValid()?this[e+"s"]():NaN},Yn.milliseconds=Mn,Yn.seconds=jn,Yn.minutes=Ln,Yn.hours=Bn,Yn.days=$n,Yn.weeks=function(){return w(this.days()/7)},Yn.months=Fn,Yn.years=Hn,Yn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t,n,i,r,o,a,s,l,c,d,u=this.localeData(),h=(t=!e,n=u,i=Wt(this).abs(),r=zn(i.as("s")),o=zn(i.as("m")),a=zn(i.as("h")),s=zn(i.as("d")),l=zn(i.as("M")),c=zn(i.as("y")),(d=r<=Wn.ss&&["s",r]||r<Wn.s&&["ss",r]||o<=1&&["m"]||o<Wn.m&&["mm",o]||a<=1&&["h"]||a<Wn.h&&["hh",a]||s<=1&&["d"]||s<Wn.d&&["dd",s]||l<=1&&["M"]||l<Wn.M&&["MM",l]||c<=1&&["y"]||["yy",c])[2]=t,d[3]=0<+this,d[4]=n,function(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}.apply(null,d));return e&&(h=u.pastFuture(+this,h)),u.postformat(h)},Yn.toISOString=Vn,Yn.toString=Vn,Yn.toJSON=Vn,Yn.locale=Jt,Yn.localeData=Zt,Yn.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Vn),Yn.lang=Qt,z("X",0,0,"unix"),z("x",0,0,"valueOf"),le("x",ie),le("X",/[+-]?\d+(\.\d{1,3})?/),he("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),he("x",function(e,t,n){n._d=new Date(x(e))}),n.version="2.24.0",e=Et,n.fn=fn,n.min=function(){return At("isBefore",[].slice.call(arguments,0))},n.max=function(){return At("isAfter",[].slice.call(arguments,0))},n.now=function(){return Date.now?Date.now():+new Date},n.utc=u,n.unix=function(e){return Et(1e3*e)},n.months=function(e,t){return vn(e,t,"months")},n.isDate=s,n.locale=lt,n.invalid=p,n.duration=Wt,n.isMoment=b,n.weekdays=function(e,t,n){return yn(e,t,n,"weekdays")},n.parseZone=function(){return Et.apply(null,arguments).parseZone()},n.localeData=dt,n.isDuration=Rt,n.monthsShort=function(e,t){return vn(e,t,"monthsShort")},n.weekdaysMin=function(e,t,n){return yn(e,t,n,"weekdaysMin")},n.defineLocale=ct,n.updateLocale=function(e,t){if(null!=t){var n,i,r=it;null!=(i=st(e))&&(r=i._config),(n=new A(t=N(r,t))).parentLocale=rt[e],rt[e]=n,lt(e)}else null!=rt[e]&&(null!=rt[e].parentLocale?rt[e]=rt[e].parentLocale:null!=rt[e]&&delete rt[e]);return rt[e]},n.locales=function(){return k(rt)},n.weekdaysShort=function(e,t,n){return yn(e,t,n,"weekdaysShort")},n.normalizeUnits=R,n.relativeTimeRounding=function(e){return void 0===e?zn:"function"==typeof e&&(zn=e,!0)},n.relativeTimeThreshold=function(e,t){return void 0!==Wn[e]&&(void 0===t?Wn[e]:(Wn[e]=t,"s"===e&&(Wn.ss=t-1),!0))},n.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},n.prototype=fn,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n}),function(){"use strict";var e=this,t=e.Chart,n=function(e){this.canvas=e.canvas,this.ctx=e;var t=function(e,t){return e["offset"+t]?e["offset"+t]:document.defaultView.getComputedStyle(e).getPropertyValue(t)};return this.width=t(e.canvas,"Width")||e.canvas.width,this.height=t(e.canvas,"Height")||e.canvas.height,this.aspectRatio=this.width/this.height,i.retinaScale(this),this};n.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,customTooltips:!1,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipTitleTemplate:"<%= label%>",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= datasetLabel %>: <%= value %>",multiTooltipKeyBackground:"#fff",segmentColorDefault:["#A6CEE3","#1F78B4","#B2DF8A","#33A02C","#FB9A99","#E31A1C","#FDBF6F","#FF7F00","#CAB2D6","#6A3D9A","#B4B482","#B15928"],segmentHighlightColorDefaults:["#CEF6FF","#47A0DC","#DAFFB2","#5BC854","#FFC2C1","#FF4244","#FFE797","#FFA728","#F2DAFE","#9265C2","#DCDCAA","#D98150"],onAnimationProgress:function(){},onAnimationComplete:function(){}}},n.types={};var i=n.helpers={},r=i.each=function(e,t,n){var i=Array.prototype.slice.call(arguments,3);if(e)if(e.length===+e.length){var r;for(r=0;r<e.length;r++)t.apply(n,[e[r],r].concat(i))}else for(var o in e)t.apply(n,[e[o],o].concat(i))},o=i.clone=function(e){var t={};return r(e,function(n,i){e.hasOwnProperty(i)&&(t[i]=n)}),t},a=i.extend=function(e){return r(Array.prototype.slice.call(arguments,1),function(t){r(t,function(n,i){t.hasOwnProperty(i)&&(e[i]=n)})}),e},s=i.merge=function(e,t){var n=Array.prototype.slice.call(arguments,0);return n.unshift({}),a.apply(null,n)},l=i.indexOf=function(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},c=(i.where=function(e,t){var n=[];return i.each(e,function(e){t(e)&&n.push(e)}),n},i.findNextWhere=function(e,t,n){n||(n=-1);for(var i=n+1;i<e.length;i++){var r=e[i];if(t(r))return r}},i.findPreviousWhere=function(e,t,n){n||(n=e.length);for(var i=n-1;i>=0;i--){var r=e[i];if(t(r))return r}},i.inherits=function(e){var t=this,n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},i=function(){this.constructor=n};return i.prototype=t.prototype,n.prototype=new i,n.extend=c,e&&a(n.prototype,e),n.__super__=t.prototype,n}),d=i.noop=function(){},u=i.uid=function(){var e=0;return function(){return"chart-"+e++}}(),h=i.warn=function(e){window.console&&"function"==typeof window.console.warn&&console.warn(e)},f=i.amd="function"==typeof define&&define.amd,p=i.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},m=i.max=function(e){return Math.max.apply(Math,e)},g=i.min=function(e){return Math.min.apply(Math,e)},v=(i.cap=function(e,t,n){if(p(t)){if(e>t)return t}else if(p(n)&&n>e)return n;return e},i.getDecimalPlaces=function(e){if(e%1!=0&&p(e)){var t=e.toString();if(t.indexOf("e-")<0)return t.split(".")[1].length;if(t.indexOf(".")<0)return parseInt(t.split("e-")[1]);var n=t.split(".")[1].split("e-");return n[0].length+parseInt(n[1])}return 0}),y=i.radians=function(e){return e*(Math.PI/180)},b=(i.getAngleFromPoint=function(e,t){var n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i),o=2*Math.PI+Math.atan2(i,n);return 0>n&&0>i&&(o+=2*Math.PI),{angle:o,distance:r}},i.aliasPixel=function(e){return e%2==0?0:.5}),w=(i.splineCurve=function(e,t,n,i){var r=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),o=Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2)),a=i*r/(r+o),s=i*o/(r+o);return{inner:{x:t.x-a*(n.x-e.x),y:t.y-a*(n.y-e.y)},outer:{x:t.x+s*(n.x-e.x),y:t.y+s*(n.y-e.y)}}},i.calculateOrderOfMagnitude=function(e){return Math.floor(Math.log(e)/Math.LN10)}),x=(i.calculateScaleRange=function(e,t,n,i,o){var a=Math.floor(t/(1.5*n)),s=2>=a,l=[];r(e,function(e){null==e||l.push(e)});var c=g(l),d=m(l);d===c&&(d+=.5,c>=.5&&!i?c-=.5:d+=.5);for(var u=Math.abs(d-c),h=w(u),f=Math.ceil(d/(1*Math.pow(10,h)))*Math.pow(10,h),p=i?0:Math.floor(c/(1*Math.pow(10,h)))*Math.pow(10,h),v=f-p,y=Math.pow(10,h),b=Math.round(v/y);(b>a||a>2*b)&&!s;)if(b>a)y*=2,(b=Math.round(v/y))%1!=0&&(s=!0);else if(o&&h>=0){if(y/2%1!=0)break;y/=2,b=Math.round(v/y)}else y/=2,b=Math.round(v/y);return s&&(y=v/(b=2)),{steps:b,stepValue:y,min:p,max:p+b*y}},i.template=function(e,t){if(e instanceof Function)return e(t);var n={};return function(e,t){var i=/\W/.test(e)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):n[e]=n[e];return t?i(t):i}(e,t)}),_=(i.generateLabels=function(e,t,n,i){var o=new Array(t);return e&&r(o,function(t,r){o[r]=x(e,{value:n+i*(r+1)})}),o},i.easingEffects={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-1*e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1*((e=e/1-1)*e*e+1)},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-1*((e=e/1-1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return 1*(e/=1)*e*e*e*e},easeOutQuint:function(e){return 1*((e=e/1-1)*e*e*e*e+1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return-1*Math.cos(e/1*(Math.PI/2))+1},easeOutSine:function(e){return 1*Math.sin(e/1*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e/1)-1)},easeInExpo:function(e){return 0===e?1:1*Math.pow(2,10*(e/1-1))},easeOutExpo:function(e){return 1===e?1:1*(1-Math.pow(2,-10*e/1))},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return e>=1?e:-1*(Math.sqrt(1-(e/=1)*e)-1)},easeOutCirc:function(e){return 1*Math.sqrt(1-(e=e/1-1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:1==(e/=1)?1:(n||(n=.3),i<Math.abs(1)?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),-i*Math.pow(2,10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/n))},easeOutElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:1==(e/=1)?1:(n||(n=.3),i<Math.abs(1)?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*e)*Math.sin((1*e-t)*(2*Math.PI)/n)+1)},easeInOutElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:2==(e/=.5)?1:(n||(n=.3*1.5*1),i<Math.abs(1)?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),1>e?i*Math.pow(2,10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/n)*-.5:i*Math.pow(2,-10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/n)*.5+1)},easeInBack:function(e){var t=1.70158;return 1*(e/=1)*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return 1*((e=e/1-1)*e*((t+1)*e+t)+1)},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:function(e){return 1-_.easeOutBounce(1-e)},easeOutBounce:function(e){return(e/=1)<1/2.75?7.5625*e*e*1:2/2.75>e?1*(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1*(7.5625*(e-=2.25/2.75)*e+.9375):1*(7.5625*(e-=2.625/2.75)*e+.984375)},easeInOutBounce:function(e){return.5>e?.5*_.easeInBounce(2*e):.5*_.easeOutBounce(2*e-1)+.5}}),C=i.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)},S=(i.cancelAnimFrame=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return window.clearTimeout(e,1e3/60)},i.animationLoop=function(e,t,n,i,r,o){var a=0,s=_[n]||_.linear,l=function(){var n=++a/t,c=s(n);e.call(o,c,n,a),i.call(o,c,n),t>a?o.animationFrame=C(l):r.apply(o)};C(l)},i.getRelativePosition=function(e){var t,n,i=e.originalEvent||e,r=(e.currentTarget||e.srcElement).getBoundingClientRect();return i.touches?(t=i.touches[0].clientX-r.left,n=i.touches[0].clientY-r.top):(t=i.clientX-r.left,n=i.clientY-r.top),{x:t,y:n}},i.addEvent=function(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}),k=i.removeEvent=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=d},T=(i.bindEvents=function(e,t,n){e.events||(e.events={}),r(t,function(t){e.events[t]=function(){n.apply(e,arguments)},S(e.chart.canvas,t,e.events[t])})},i.unbindEvents=function(e,t){r(t,function(t,n){k(e.chart.canvas,n,t)})}),E=i.getMaximumWidth=function(e){var t=e.parentNode,n=parseInt(N(t,"padding-left"))+parseInt(N(t,"padding-right"));return t?t.clientWidth-n:0},D=i.getMaximumHeight=function(e){var t=e.parentNode,n=parseInt(N(t,"padding-bottom"))+parseInt(N(t,"padding-top"));return t?t.clientHeight-n:0},N=i.getStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null).getPropertyValue(t)},A=(i.getMaximumSize=i.getMaximumWidth,i.retinaScale=function(e){var t=e.ctx,n=e.canvas.width,i=e.canvas.height;window.devicePixelRatio&&(t.canvas.style.width=n+"px",t.canvas.style.height=i+"px",t.canvas.height=i*window.devicePixelRatio,t.canvas.width=n*window.devicePixelRatio,t.scale(window.devicePixelRatio,window.devicePixelRatio))}),O=i.clear=function(e){e.ctx.clearRect(0,0,e.width,e.height)},I=i.fontString=function(e,t,n){return t+" "+e+"px "+n},R=i.longestText=function(e,t,n){e.font=t;var i=0;return r(n,function(t){var n=e.measureText(t).width;i=n>i?n:i}),i},P=i.drawRoundedRectangle=function(e,t,n,i,r,o){e.beginPath(),e.moveTo(t+o,n),e.lineTo(t+i-o,n),e.quadraticCurveTo(t+i,n,t+i,n+o),e.lineTo(t+i,n+r-o),e.quadraticCurveTo(t+i,n+r,t+i-o,n+r),e.lineTo(t+o,n+r),e.quadraticCurveTo(t,n+r,t,n+r-o),e.lineTo(t,n+o),e.quadraticCurveTo(t,n,t+o,n),e.closePath()};n.instances={},a((n.Type=function(e,t,i){this.options=t,this.chart=i,this.id=u(),n.instances[this.id]=this,t.responsive&&this.resize(),this.initialize.call(this,e)}).prototype,{initialize:function(){return this},clear:function(){return O(this.chart),this},stop:function(){return n.animationService.cancelAnimation(this),this},resize:function(e){this.stop();var t=this.chart.canvas,n=E(this.chart.canvas),i=this.options.maintainAspectRatio?n/this.chart.aspectRatio:D(this.chart.canvas);return t.width=this.chart.width=n,t.height=this.chart.height=i,A(this.chart),"function"==typeof e&&e.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:d,render:function(e){if(e&&this.reflow(),this.options.animation&&!e){var t=new n.Animation;t.numSteps=this.options.animationSteps,t.easing=this.options.animationEasing,t.render=function(e,t){var n=i.easingEffects[t.easing],r=t.currentStep/t.numSteps,o=n(r);e.draw(o,r,t.currentStep)},t.onAnimationProgress=this.options.onAnimationProgress,t.onAnimationComplete=this.options.onAnimationComplete,n.animationService.addAnimation(this,t)}else this.draw(),this.options.onAnimationComplete.call(this);return this},generateLegend:function(){return i.template(this.options.legendTemplate,this)},destroy:function(){this.stop(),this.clear(),T(this,this.events);var e=this.chart.canvas;e.width=this.chart.width,e.height=this.chart.height,e.style.removeProperty?(e.style.removeProperty("width"),e.style.removeProperty("height")):(e.style.removeAttribute("width"),e.style.removeAttribute("height")),delete n.instances[this.id]},showTooltip:function(e,t){if(void 0===this.activeElements&&(this.activeElements=[]),function(e){var t=!1;return e.length!==this.activeElements.length?t=!0:(r(e,function(e,n){e!==this.activeElements[n]&&(t=!0)},this),t)}.call(this,e)||t){if(this.activeElements=e,this.draw(),this.options.customTooltips&&this.options.customTooltips(!1),e.length>0)if(this.datasets&&this.datasets.length>1){for(var o,a,s=this.datasets.length-1;s>=0&&(o=this.datasets[s].points||this.datasets[s].bars||this.datasets[s].segments,-1===(a=l(o,e[0])));s--);var c=[],d=[],u=function(e){var t,n,r,o,s,l=[],u=[],h=[];return i.each(this.datasets,function(e){(t=e.points||e.bars||e.segments)[a]&&t[a].hasValue()&&l.push(t[a])}),i.each(l,function(e){u.push(e.x),h.push(e.y),c.push(i.template(this.options.multiTooltipTemplate,e)),d.push({fill:e._saved.fillColor||e.fillColor,stroke:e._saved.strokeColor||e.strokeColor})},this),s=g(h),r=m(h),o=g(u),n=m(u),{x:o>this.chart.width/2?o:n,y:(s+r)/2}}.call(this,a);new n.MultiTooltip({x:u.x,y:u.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:c,legendColors:d,legendColorBackground:this.options.multiTooltipKeyBackground,title:x(this.options.tooltipTitleTemplate,e[0]),chart:this.chart,ctx:this.chart.ctx,custom:this.options.customTooltips}).draw()}else r(e,function(e){var t=e.tooltipPosition();new n.Tooltip({x:Math.round(t.x),y:Math.round(t.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:x(this.options.tooltipTemplate,e),chart:this.chart,custom:this.options.customTooltips}).draw()},this);return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),n.Type.extend=function(e){var t=this,i=function(){return t.apply(this,arguments)};if(i.prototype=o(t.prototype),a(i.prototype,e),i.extend=n.Type.extend,e.name||t.prototype.name){var r=e.name||t.prototype.name,l=n.defaults[t.prototype.name]?o(n.defaults[t.prototype.name]):{};n.defaults[r]=a(l,e.defaults),n.types[r]=i,n.prototype[r]=function(e,t){var o=s(n.defaults.global,n.defaults[r],t||{});return new i(e,o,this)}}else h("Name not provided for this chart, so it hasn't been registered");return t},n.Element=function(e){a(this,e),this.initialize.apply(this,arguments),this.save()},a(n.Element.prototype,{initialize:function(){},restore:function(e){return e?r(e,function(e){this[e]=this._saved[e]},this):a(this,this._saved),this},save:function(){return this._saved=o(this),delete this._saved._saved,this},update:function(e){return r(e,function(e,t){this._saved[t]=this[t],this[t]=e},this),this},transition:function(e,t){return r(e,function(e,n){this[n]=(e-this._saved[n])*t+this._saved[n]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return p(this.value)}}),n.Element.extend=c,n.Point=n.Element.extend({display:!0,inRange:function(e,t){var n=this.hitDetectionRadius+this.radius;return Math.pow(e-this.x,2)+Math.pow(t-this.y,2)<Math.pow(n,2)},draw:function(){if(this.display){var e=this.ctx;e.beginPath(),e.arc(this.x,this.y,this.radius,0,2*Math.PI),e.closePath(),e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth,e.fillStyle=this.fillColor,e.fill(),e.stroke()}}}),n.Arc=n.Element.extend({inRange:function(e,t){var n=i.getAngleFromPoint(this,{x:e,y:t}),r=n.angle%(2*Math.PI),o=(2*Math.PI+this.startAngle)%(2*Math.PI),a=(2*Math.PI+this.endAngle)%(2*Math.PI)||360,s=o>a?a>=r||r>=o:r>=o&&a>=r,l=n.distance>=this.innerRadius&&n.distance<=this.outerRadius;return s&&l},tooltipPosition:function(){var e=this.startAngle+(this.endAngle-this.startAngle)/2,t=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(e)*t,y:this.y+Math.sin(e)*t}},draw:function(e){var t=this.ctx;t.beginPath(),t.arc(this.x,this.y,this.outerRadius<0?0:this.outerRadius,this.startAngle,this.endAngle),t.arc(this.x,this.y,this.innerRadius<0?0:this.innerRadius,this.endAngle,this.startAngle,!0),t.closePath(),t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.fillStyle=this.fillColor,t.fill(),t.lineJoin="bevel",this.showStroke&&t.stroke()}}),n.Rectangle=n.Element.extend({draw:function(){var e=this.ctx,t=this.width/2,n=this.x-t,i=this.x+t,r=this.base-(this.base-this.y),o=this.strokeWidth/2;this.showStroke&&(n+=o,i-=o,r+=o),e.beginPath(),e.fillStyle=this.fillColor,e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth,e.moveTo(n,this.base),e.lineTo(n,r),e.lineTo(i,r),e.lineTo(i,this.base),e.fill(),this.showStroke&&e.stroke()},height:function(){return this.base-this.y},inRange:function(e,t){return e>=this.x-this.width/2&&e<=this.x+this.width/2&&t>=this.y&&t<=this.base}}),n.Animation=n.Element.extend({currentStep:null,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),n.Tooltip=n.Element.extend({draw:function(){var e=this.chart.ctx;e.font=I(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var t=this.caretPadding=2,n=e.measureText(this.text).width+2*this.xPadding,i=this.fontSize+2*this.yPadding,r=i+this.caretHeight+t;this.x+n/2>this.chart.width?this.xAlign="left":this.x-n/2<0&&(this.xAlign="right"),this.y-r<0&&(this.yAlign="below");var o=this.x-n/2,a=this.y-r;if(e.fillStyle=this.fillColor,this.custom)this.custom(this);else{switch(this.yAlign){case"above":e.beginPath(),e.moveTo(this.x,this.y-t),e.lineTo(this.x+this.caretHeight,this.y-(t+this.caretHeight)),e.lineTo(this.x-this.caretHeight,this.y-(t+this.caretHeight)),e.closePath(),e.fill();break;case"below":a=this.y+t+this.caretHeight,e.beginPath(),e.moveTo(this.x,this.y+t),e.lineTo(this.x+this.caretHeight,this.y+t+this.caretHeight),e.lineTo(this.x-this.caretHeight,this.y+t+this.caretHeight),e.closePath(),e.fill()}switch(this.xAlign){case"left":o=this.x-n+(this.cornerRadius+this.caretHeight);break;case"right":o=this.x-(this.cornerRadius+this.caretHeight)}P(e,o,a,n,i,this.cornerRadius),e.fill(),e.fillStyle=this.textColor,e.textAlign="center",e.textBaseline="middle",e.fillText(this.text,o+n/2,a+i/2)}}}),n.MultiTooltip=n.Element.extend({initialize:function(){this.font=I(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=I(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.titleHeight=this.title?1.5*this.titleFontSize:0,this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+this.titleHeight,this.ctx.font=this.titleFont;var e=this.ctx.measureText(this.title).width,t=R(this.ctx,this.font,this.labels)+this.fontSize+3,n=m([t,e]);this.width=n+2*this.xPadding;var i=this.height/2;this.y-i<0?this.y=i:this.y+i>this.chart.height&&(this.y=this.chart.height-i),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(e){var t=this.y-this.height/2+this.yPadding,n=e-1;return 0===e?t+this.titleHeight/3:t+(1.5*this.fontSize*n+this.fontSize/2)+this.titleHeight},draw:function(){if(this.custom)this.custom(this);else{P(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var e=this.ctx;e.fillStyle=this.fillColor,e.fill(),e.closePath(),e.textAlign="left",e.textBaseline="middle",e.fillStyle=this.titleTextColor,e.font=this.titleFont,e.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),e.font=this.font,i.each(this.labels,function(t,n){e.fillStyle=this.textColor,e.fillText(t,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(n+1)),e.fillStyle=this.legendColorBackground,e.fillRect(this.x+this.xPadding,this.getLineHeight(n+1)-this.fontSize/2,this.fontSize,this.fontSize),e.fillStyle=this.legendColors[n].fill,e.fillRect(this.x+this.xPadding,this.getLineHeight(n+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}}),n.Scale=n.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var e=v(this.stepValue),t=0;t<=this.steps;t++)this.yLabels.push(x(this.templateString,{value:(this.min+t*this.stepValue).toFixed(e)}));this.yLabelWidth=this.display&&this.showLabels?R(this.ctx,this.font,this.yLabels)+10:0},addXLabel:function(e){this.xLabels.push(e),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var e,t=this.endPoint,n=this.endPoint-this.startPoint;for(this.calculateYRange(n),this.buildYLabels(),this.calculateXLabelRotation();n>this.endPoint-this.startPoint;)n=this.endPoint-this.startPoint,e=this.yLabelWidth,this.calculateYRange(n),this.buildYLabels(),e<this.yLabelWidth&&(this.endPoint=t,this.calculateXLabelRotation())},calculateXLabelRotation:function(){this.ctx.font=this.font;var e,t=this.ctx.measureText(this.xLabels[0]).width,n=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=n/2+3,this.xScalePaddingLeft=t/2>this.yLabelWidth?t/2:this.yLabelWidth,this.xLabelRotation=0,this.display){var i,r=R(this.ctx,this.font,this.xLabels);this.xLabelWidth=r;for(var o=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>o&&0===this.xLabelRotation||this.xLabelWidth>o&&this.xLabelRotation<=90&&this.xLabelRotation>0;)(i=Math.cos(y(this.xLabelRotation)))*n,(e=i*t)+this.fontSize/2>this.yLabelWidth&&(this.xScalePaddingLeft=e+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=i*r;this.xLabelRotation>0&&(this.endPoint-=Math.sin(y(this.xLabelRotation))*r+3)}else this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding},calculateYRange:d,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(e){var t=this.drawingArea()/(this.min-this.max);return this.endPoint-t*(e-this.min)},calculateX:function(e){var t=(this.xLabelRotation,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight))/Math.max(this.valuesCount-(this.offsetGridLines?0:1),1),n=t*e+this.xScalePaddingLeft;return this.offsetGridLines&&(n+=t/2),Math.round(n)},update:function(e){i.extend(this,e),this.fit()},draw:function(){var e=this.ctx,t=(this.endPoint-this.startPoint)/this.steps,n=Math.round(this.xScalePaddingLeft);this.display&&(e.fillStyle=this.textColor,e.font=this.font,r(this.yLabels,function(r,o){var a=this.endPoint-t*o,s=Math.round(a),l=this.showHorizontalLines;e.textAlign="right",e.textBaseline="middle",this.showLabels&&e.fillText(r,n-10,a),0!==o||l||(l=!0),l&&e.beginPath(),o>0?(e.lineWidth=this.gridLineWidth,e.strokeStyle=this.gridLineColor):(e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor),s+=i.aliasPixel(e.lineWidth),l&&(e.moveTo(n,s),e.lineTo(this.width,s),e.stroke(),e.closePath()),e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor,e.beginPath(),e.moveTo(n-5,s),e.lineTo(n,s),e.stroke(),e.closePath()},this),r(this.xLabels,function(t,n){var i=this.calculateX(n)+b(this.lineWidth),r=this.calculateX(n-(this.offsetGridLines?.5:0))+b(this.lineWidth),o=this.xLabelRotation>0,a=this.showVerticalLines;0!==n||a||(a=!0),a&&e.beginPath(),n>0?(e.lineWidth=this.gridLineWidth,e.strokeStyle=this.gridLineColor):(e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor),a&&(e.moveTo(r,this.endPoint),e.lineTo(r,this.startPoint-3),e.stroke(),e.closePath()),e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor,e.beginPath(),e.moveTo(r,this.endPoint),e.lineTo(r,this.endPoint+5),e.stroke(),e.closePath(),e.save(),e.translate(i,o?this.endPoint+12:this.endPoint+8),e.rotate(-1*y(this.xLabelRotation)),e.font=this.font,e.textAlign=o?"right":"center",e.textBaseline=o?"middle":"top",e.fillText(t,0,0),e.restore()},this))}}),n.RadialScale=n.Element.extend({initialize:function(){this.size=g([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(e){var t=this.drawingArea/(this.max-this.min);return(e-this.min)*t},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var e=v(this.stepValue),t=0;t<=this.steps;t++)this.yLabels.push(x(this.templateString,{value:(this.min+t*this.stepValue).toFixed(e)}))},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var e,t,n,i,r,o,a,s,l,c,d,u,h=g([this.height/2-this.pointLabelFontSize-5,this.width/2]),f=this.width,m=0;for(this.ctx.font=I(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),t=0;t<this.valuesCount;t++)e=this.getPointPosition(t,h),n=this.ctx.measureText(x(this.templateString,{value:this.labels[t]})).width+5,0===t||t===this.valuesCount/2?(i=n/2,e.x+i>f&&(f=e.x+i,r=t),e.x-i<m&&(m=e.x-i,a=t)):t<this.valuesCount/2?e.x+n>f&&(f=e.x+n,r=t):t>this.valuesCount/2&&e.x-n<m&&(m=e.x-n,a=t);l=m,c=Math.ceil(f-this.width),o=this.getIndexAngle(r),s=this.getIndexAngle(a),d=c/Math.sin(o+Math.PI/2),u=l/Math.sin(s+Math.PI/2),d=p(d)?d:0,u=p(u)?u:0,this.drawingArea=h-(u+d)/2,this.setCenterPoint(u,d)},setCenterPoint:function(e,t){var n=this.width-t-this.drawingArea,i=e+this.drawingArea;this.xCenter=(i+n)/2,this.yCenter=this.height/2},getIndexAngle:function(e){return e*(2*Math.PI/this.valuesCount)-Math.PI/2},getPointPosition:function(e,t){var n=this.getIndexAngle(e);return{x:Math.cos(n)*t+this.xCenter,y:Math.sin(n)*t+this.yCenter}},draw:function(){if(this.display){var e=this.ctx;if(r(this.yLabels,function(t,n){if(n>0){var i,r=n*(this.drawingArea/this.steps),o=this.yCenter-r;if(this.lineWidth>0)if(e.strokeStyle=this.lineColor,e.lineWidth=this.lineWidth,this.lineArc)e.beginPath(),e.arc(this.xCenter,this.yCenter,r,0,2*Math.PI),e.closePath(),e.stroke();else{e.beginPath();for(var a=0;a<this.valuesCount;a++)i=this.getPointPosition(a,this.calculateCenterOffset(this.min+n*this.stepValue)),0===a?e.moveTo(i.x,i.y):e.lineTo(i.x,i.y);e.closePath(),e.stroke()}if(this.showLabels){if(e.font=I(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var s=e.measureText(t).width;e.fillStyle=this.backdropColor,e.fillRect(this.xCenter-s/2-this.backdropPaddingX,o-this.fontSize/2-this.backdropPaddingY,s+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}e.textAlign="center",e.textBaseline="middle",e.fillStyle=this.fontColor,e.fillText(t,this.xCenter,o)}}},this),!this.lineArc){e.lineWidth=this.angleLineWidth,e.strokeStyle=this.angleLineColor;for(var t=this.valuesCount-1;t>=0;t--){var n=null,i=null;if(this.angleLineWidth>0&&t%this.angleLineInterval==0&&(n=this.calculateCenterOffset(this.max),i=this.getPointPosition(t,n),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(i.x,i.y),e.stroke(),e.closePath()),this.backgroundColors&&this.backgroundColors.length==this.valuesCount){null==n&&(n=this.calculateCenterOffset(this.max)),null==i&&(i=this.getPointPosition(t,n));var o=this.getPointPosition(0===t?this.valuesCount-1:t-1,n),a=this.getPointPosition(t===this.valuesCount-1?0:t+1,n),s={x:(o.x+i.x)/2,y:(o.y+i.y)/2},l={x:(i.x+a.x)/2,y:(i.y+a.y)/2};e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(s.x,s.y),e.lineTo(i.x,i.y),e.lineTo(l.x,l.y),e.fillStyle=this.backgroundColors[t],e.fill(),e.closePath()}var c=this.getPointPosition(t,this.calculateCenterOffset(this.max)+5);e.font=I(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),e.fillStyle=this.pointLabelFontColor;var d=this.labels.length,u=this.labels.length/2,h=u/2,f=h>t||t>d-h,p=t===h||t===d-h;e.textAlign=0===t?"center":t===u?"center":u>t?"left":"right",e.textBaseline=p?"middle":f?"bottom":"top",e.fillText(this.labels[t],c.x,c.y)}}}}}),n.animationService={frameDuration:17,animations:[],dropFrames:0,addAnimation:function(e,t){for(var n=0;n<this.animations.length;++n)if(this.animations[n].chartInstance===e)return void(this.animations[n].animationObject=t);this.animations.push({chartInstance:e,animationObject:t}),1==this.animations.length&&i.requestAnimFrame.call(window,this.digestWrapper)},cancelAnimation:function(e){var t=i.findNextWhere(this.animations,function(t){return t.chartInstance===e});t&&this.animations.splice(t,1)},digestWrapper:function(){n.animationService.startDigest.call(n.animationService)},startDigest:function(){var e=Date.now(),t=0;this.dropFrames>1&&(t=Math.floor(this.dropFrames),this.dropFrames-=t);for(var n=0;n<this.animations.length;n++)null===this.animations[n].animationObject.currentStep&&(this.animations[n].animationObject.currentStep=0),this.animations[n].animationObject.currentStep+=1+t,this.animations[n].animationObject.currentStep>this.animations[n].animationObject.numSteps&&(this.animations[n].animationObject.currentStep=this.animations[n].animationObject.numSteps),this.animations[n].animationObject.render(this.animations[n].chartInstance,this.animations[n].animationObject),this.animations[n].animationObject.currentStep==this.animations[n].animationObject.numSteps&&(this.animations[n].animationObject.onAnimationComplete.call(this.animations[n].chartInstance),this.animations.splice(n,1),n--);var r=(Date.now()-e-this.frameDuration)/this.frameDuration;r>1&&(this.dropFrames+=r),this.animations.length>0&&i.requestAnimFrame.call(window,this.digestWrapper)}},i.addEvent(window,"resize",function(){var e;return function(){clearTimeout(e),e=setTimeout(function(){r(n.instances,function(e){e.options.responsive&&e.resize(e.render,!0)})},50)}}()),f?define("Chart",[],function(){return n}):"object"==typeof module&&module.exports&&(module.exports=n),e.Chart=n,n.noConflict=function(){return e.Chart=t,n}}.call(this),function(){"use strict";var e=this.Chart,t=e.helpers;e.Type.extend({name:"Bar",defaults:{scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span class="<%=name.toLowerCase()%>-legend-icon" style="background-color:<%=datasets[i].fillColor%>"></span><span class="<%=name.toLowerCase()%>-legend-text"><%if(datasets[i].label){%><%=datasets[i].label%><%}%></span></li><%}%></ul>'},initialize:function(n){var i=this.options;this.ScaleClass=e.Scale.extend({offsetGridLines:!0,calculateBarX:function(e,t,n){var r=this.calculateBaseWidth(),o=this.calculateX(n)-r/2,a=this.calculateBarWidth(e);return o+a*t+t*i.barDatasetSpacing+a/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*i.barValueSpacing},calculateBarWidth:function(e){return(this.calculateBaseWidth()-(e-1)*i.barDatasetSpacing)/e}}),this.datasets=[],this.options.showTooltips&&t.bindEvents(this,this.options.tooltipEvents,function(e){var n="mouseout"!==e.type?this.getBarsAtEvent(e):[];this.eachBars(function(e){e.restore(["fillColor","strokeColor"])}),t.each(n,function(e){e&&(e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke)}),this.showTooltip(n)}),this.BarClass=e.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),t.each(n.datasets,function(e,i){var r={label:e.label||null,fillColor:e.fillColor,strokeColor:e.strokeColor,bars:[]};this.datasets.push(r),t.each(e.data,function(t,i){r.bars.push(new this.BarClass({value:t,label:n.labels[i],datasetLabel:e.label,strokeColor:"object"==typeof e.strokeColor?e.strokeColor[i]:e.strokeColor,fillColor:"object"==typeof e.fillColor?e.fillColor[i]:e.fillColor,highlightFill:e.highlightFill?"object"==typeof e.highlightFill?e.highlightFill[i]:e.highlightFill:"object"==typeof e.fillColor?e.fillColor[i]:e.fillColor,highlightStroke:e.highlightStroke?"object"==typeof e.highlightStroke?e.highlightStroke[i]:e.highlightStroke:"object"==typeof e.strokeColor?e.strokeColor[i]:e.strokeColor}))},this)},this),this.buildScale(n.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(e,n,i){t.extend(e,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,i,n),y:this.scale.endPoint}),e.save()},this),this.render()},update:function(){this.scale.update(),t.each(this.activeElements,function(e){e.restore(["fillColor","strokeColor"])}),this.eachBars(function(e){e.save()}),this.render()},eachBars:function(e){t.each(this.datasets,function(n,i){t.each(n.bars,e,this,i)},this)},getBarsAtEvent:function(e){for(var n,i=[],r=t.getRelativePosition(e),o=function(e){i.push(e.bars[n])},a=0;a<this.datasets.length;a++)for(n=0;n<this.datasets[a].bars.length;n++)if(this.datasets[a].bars[n].inRange(r.x,r.y))return t.each(this.datasets,o),i;return i},buildScale:function(e){var n=this,i=function(){var e=[];return n.eachBars(function(t){e.push(t.value)}),e},r={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:e.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(e){var n=t.calculateScaleRange(i(),e,this.fontSize,this.beginAtZero,this.integersOnly);t.extend(this,n)},xLabels:e,font:t.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&t.extend(r,{calculateYRange:t.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(r)},addData:function(e,n){t.each(e,function(e,t){this.datasets[t].bars.push(new this.BarClass({value:e,label:n,datasetLabel:this.datasets[t].label,x:this.scale.calculateBarX(this.datasets.length,t,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[t].strokeColor,fillColor:this.datasets[t].fillColor}))},this),this.scale.addXLabel(n),this.update()},removeData:function(){this.scale.removeXLabel(),t.each(this.datasets,function(e){e.bars.shift()},this),this.update()},reflow:function(){t.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var e=t.extend({height:this.chart.height,width:this.chart.width});this.scale.update(e)},draw:function(e){var n=e||1;this.clear(),this.chart.ctx,this.scale.draw(n),t.each(this.datasets,function(e,i){t.each(e.bars,function(e,t){e.hasValue()&&(e.base=this.scale.endPoint,e.transition({x:this.scale.calculateBarX(this.datasets.length,i,t),y:this.scale.calculateY(e.value),width:this.scale.calculateBarWidth(this.datasets.length)},n).draw())},this)},this)}})}.call(this),function(){"use strict";var e=this.Chart,t=e.helpers,n={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span class="<%=name.toLowerCase()%>-legend-icon" style="background-color:<%=segments[i].fillColor%>"></span><span class="<%=name.toLowerCase()%>-legend-text"><%if(segments[i].label){%><%=segments[i].label%><%}%></span></li><%}%></ul>'};e.Type.extend({name:"Doughnut",defaults:n,initialize:function(n){this.segments=[],this.outerRadius=(t.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=e.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&t.bindEvents(this,this.options.tooltipEvents,function(e){var n="mouseout"!==e.type?this.getSegmentsAtEvent(e):[];t.each(this.segments,function(e){e.restore(["fillColor"])}),t.each(n,function(e){e.fillColor=e.highlightColor}),this.showTooltip(n)}),this.calculateTotal(n),t.each(n,function(e,t){e.color||(e.color="hsl("+360*t/n.length+", 100%, 50%)"),this.addData(e,t,!0)},this),this.render()},getSegmentsAtEvent:function(e){var n=[],i=t.getRelativePosition(e);return t.each(this.segments,function(e){e.inRange(i.x,i.y)&&n.push(e)},this),n},addData:function(t,n,i){var r=void 0!==n?n:this.segments.length;void 0===t.color&&(t.color=e.defaults.global.segmentColorDefault[r%e.defaults.global.segmentColorDefault.length],t.highlight=e.defaults.global.segmentHighlightColorDefaults[r%e.defaults.global.segmentHighlightColorDefaults.length]),this.segments.splice(r,0,new this.SegmentArc({value:t.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:t.color,highlightColor:t.highlight||t.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(t.value),label:t.label})),i||(this.reflow(),this.update())},calculateCircumference:function(e){return this.total>0?2*Math.PI*(e/this.total):0},calculateTotal:function(e){this.total=0,t.each(e,function(e){this.total+=Math.abs(e.value)},this)},update:function(){this.calculateTotal(this.segments),t.each(this.activeElements,function(e){e.restore(["fillColor"])}),t.each(this.segments,function(e){e.save()}),this.render()},removeData:function(e){var n=t.isNumber(e)?e:this.segments.length-1;this.segments.splice(n,1),this.reflow(),this.update()},reflow:function(){t.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(t.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,t.each(this.segments,function(e){e.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},draw:function(e){var n=e||1;this.clear(),t.each(this.segments,function(e,t){e.transition({circumference:this.calculateCircumference(e.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},n),e.endAngle=e.startAngle+e.circumference,e.draw(),0===t&&(e.startAngle=1.5*Math.PI),t<this.segments.length-1&&(this.segments[t+1].startAngle=e.endAngle)},this)}}),e.types.Doughnut.extend({name:"Pie",defaults:t.merge(n,{percentageInnerCutout:0})})}.call(this),function(){"use strict";var e=this.Chart,t=e.helpers;e.Type.extend({name:"Line",defaults:{scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span class="<%=name.toLowerCase()%>-legend-icon" style="background-color:<%=datasets[i].strokeColor%>"></span><span class="<%=name.toLowerCase()%>-legend-text"><%if(datasets[i].label){%><%=datasets[i].label%><%}%></span></li><%}%></ul>',offsetGridLines:!1},initialize:function(n){this.PointClass=e.Point.extend({offsetGridLines:this.options.offsetGridLines,strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(e){return Math.pow(e-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&t.bindEvents(this,this.options.tooltipEvents,function(e){var n="mouseout"!==e.type?this.getPointsAtEvent(e):[];this.eachPoints(function(e){e.restore(["fillColor","strokeColor"])}),t.each(n,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(n)}),t.each(n.datasets,function(e){var i={label:e.label||null,fillColor:e.fillColor,strokeColor:e.strokeColor,pointColor:e.pointColor,pointStrokeColor:e.pointStrokeColor,points:[]};this.datasets.push(i),t.each(e.data,function(t,r){i.points.push(new this.PointClass({value:t,label:n.labels[r],datasetLabel:e.label,strokeColor:e.pointStrokeColor,fillColor:e.pointColor,highlightFill:e.pointHighlightFill||e.pointColor,highlightStroke:e.pointHighlightStroke||e.pointStrokeColor}))},this),this.buildScale(n.labels),this.eachPoints(function(e,n){t.extend(e,{x:this.scale.calculateX(n),y:this.scale.endPoint}),e.save()},this)},this),this.render()},update:function(){this.scale.update(),t.each(this.activeElements,function(e){e.restore(["fillColor","strokeColor"])}),this.eachPoints(function(e){e.save()}),this.render()},eachPoints:function(e){t.each(this.datasets,function(n){t.each(n.points,e,this)},this)},getPointsAtEvent:function(e){var n=[],i=t.getRelativePosition(e);return t.each(this.datasets,function(e){t.each(e.points,function(e){e.inRange(i.x,i.y)&&n.push(e)})},this),n},buildScale:function(n){var i=this,r={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,offsetGridLines:this.options.offsetGridLines,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:n.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(e){var n=t.calculateScaleRange(function(){var e=[];return i.eachPoints(function(t){e.push(t.value)}),e}(),e,this.fontSize,this.beginAtZero,this.integersOnly);t.extend(this,n)},xLabels:n,font:t.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&t.extend(r,{calculateYRange:t.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new e.Scale(r)},addData:function(e,n){t.each(e,function(e,t){this.datasets[t].points.push(new this.PointClass({value:e,label:n,datasetLabel:this.datasets[t].label,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[t].pointStrokeColor,fillColor:this.datasets[t].pointColor}))},this),this.scale.addXLabel(n),this.update()},removeData:function(){this.scale.removeXLabel(),t.each(this.datasets,function(e){e.points.shift()},this),this.update()},reflow:function(){var e=t.extend({height:this.chart.height,width:this.chart.width});this.scale.update(e)},draw:function(e){var n=e||1;this.clear();var i=this.chart.ctx,r=function(e){return null!==e.value},o=function(e,n,i){return t.findPreviousWhere(n,r,i)||e};this.scale&&(this.scale.draw(n),t.each(this.datasets,function(e){var a=t.where(e.points,r);t.each(e.points,function(e,t){e.hasValue()&&e.transition({y:this.scale.calculateY(e.value),x:this.scale.calculateX(t)},n)},this),this.options.bezierCurve&&t.each(a,function(e,n){var i=n>0&&n<a.length-1?this.options.bezierCurveTension:0;e.controlPoints=t.splineCurve(o(e,a,n),e,function(e,n,i){return t.findNextWhere(n,r,i)||e}(e,a,n),i),e.controlPoints.outer.y>this.scale.endPoint?e.controlPoints.outer.y=this.scale.endPoint:e.controlPoints.outer.y<this.scale.startPoint&&(e.controlPoints.outer.y=this.scale.startPoint),e.controlPoints.inner.y>this.scale.endPoint?e.controlPoints.inner.y=this.scale.endPoint:e.controlPoints.inner.y<this.scale.startPoint&&(e.controlPoints.inner.y=this.scale.startPoint)},this),i.lineWidth=this.options.datasetStrokeWidth,i.strokeStyle=e.strokeColor,i.beginPath(),t.each(a,function(e,t){if(0===t)i.moveTo(e.x,e.y);else if(this.options.bezierCurve){var n=o(e,a,t);i.bezierCurveTo(n.controlPoints.outer.x,n.controlPoints.outer.y,e.controlPoints.inner.x,e.controlPoints.inner.y,e.x,e.y)}else i.lineTo(e.x,e.y)},this),this.options.datasetStroke&&i.stroke(),this.options.datasetFill&&a.length>0&&(i.lineTo(a[a.length-1].x,this.scale.endPoint),i.lineTo(a[0].x,this.scale.endPoint),i.fillStyle=e.fillColor,i.closePath(),i.fill()),t.each(a,function(e){e.draw()})},this))}})}.call(this),function(){"use strict";var e=this.Chart,t=e.helpers;e.Type.extend({name:"PolarArea",defaults:{scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBeginAtZero:!0,scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,scaleShowLine:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span class="<%=name.toLowerCase()%>-legend-icon" style="background-color:<%=segments[i].fillColor%>"></span><span class="<%=name.toLowerCase()%>-legend-text"><%if(segments[i].label){%><%=segments[i].label%><%}%></span></li><%}%></ul>'},initialize:function(n){this.segments=[],this.SegmentArc=e.Arc.extend({showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,ctx:this.chart.ctx,innerRadius:0,x:this.chart.width/2,y:this.chart.height/2}),this.scale=new e.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,lineArc:!0,width:this.chart.width,height:this.chart.height,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,valuesCount:n.length}),this.updateScaleRange(n),this.scale.update(),t.each(n,function(e,t){this.addData(e,t,!0)},this),this.options.showTooltips&&t.bindEvents(this,this.options.tooltipEvents,function(e){var n="mouseout"!==e.type?this.getSegmentsAtEvent(e):[];t.each(this.segments,function(e){e.restore(["fillColor"])}),t.each(n,function(e){e.fillColor=e.highlightColor}),this.showTooltip(n)}),this.render()},getSegmentsAtEvent:function(e){var n=[],i=t.getRelativePosition(e);return t.each(this.segments,function(e){e.inRange(i.x,i.y)&&n.push(e)},this),n},addData:function(e,t,n){var i=t||this.segments.length;this.segments.splice(i,0,new this.SegmentArc({fillColor:e.color,highlightColor:e.highlight||e.color,label:e.label,value:e.value,outerRadius:this.options.animateScale?0:this.scale.calculateCenterOffset(e.value),circumference:this.options.animateRotate?0:this.scale.getCircumference(),startAngle:1.5*Math.PI})),n||(this.reflow(),this.update())},removeData:function(e){var n=t.isNumber(e)?e:this.segments.length-1;this.segments.splice(n,1),this.reflow(),this.update()},calculateTotal:function(e){this.total=0,t.each(e,function(e){this.total+=e.value},this),this.scale.valuesCount=this.segments.length},updateScaleRange:function(e){var n=[];t.each(e,function(e){n.push(e.value)});var i=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:t.calculateScaleRange(n,t.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);t.extend(this.scale,i,{size:t.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})},update:function(){this.calculateTotal(this.segments),t.each(this.segments,function(e){e.save()}),this.reflow(),this.render()},reflow:function(){t.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.updateScaleRange(this.segments),this.scale.update(),t.extend(this.scale,{xCenter:this.chart.width/2,yCenter:this.chart.height/2}),t.each(this.segments,function(e){e.update({outerRadius:this.scale.calculateCenterOffset(e.value)})},this)},draw:function(e){var n=e||1;this.clear(),t.each(this.segments,function(e,t){e.transition({circumference:this.scale.getCircumference(),outerRadius:this.scale.calculateCenterOffset(e.value)},n),e.endAngle=e.startAngle+e.circumference,0===t&&(e.startAngle=1.5*Math.PI),t<this.segments.length-1&&(this.segments[t+1].startAngle=e.endAngle),e.draw()},this),this.scale.draw()}})}.call(this),function(){"use strict";var e=this.Chart,t=e.helpers;e.Type.extend({name:"Radar",defaults:{scaleShowLine:!0,angleShowLineOut:!0,scaleShowLabels:!1,scaleBeginAtZero:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,angleLineInterval:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:10,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span class="<%=name.toLowerCase()%>-legend-icon" style="background-color:<%=datasets[i].strokeColor%>"></span><span class="<%=name.toLowerCase()%>-legend-text"><%if(datasets[i].label){%><%=datasets[i].label%><%}%></span></li><%}%></ul>'},initialize:function(n){this.PointClass=e.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx}),this.datasets=[],this.buildScale(n),this.options.showTooltips&&t.bindEvents(this,this.options.tooltipEvents,function(e){var n="mouseout"!==e.type?this.getPointsAtEvent(e):[];this.eachPoints(function(e){e.restore(["fillColor","strokeColor"])}),t.each(n,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(n)}),t.each(n.datasets,function(e){var i={label:e.label||null,fillColor:e.fillColor,strokeColor:e.strokeColor,pointColor:e.pointColor,pointStrokeColor:e.pointStrokeColor,points:[]};this.datasets.push(i),t.each(e.data,function(t,r){var o;this.scale.animation||(o=this.scale.getPointPosition(r,this.scale.calculateCenterOffset(t))),i.points.push(new this.PointClass({value:t,label:n.labels[r],datasetLabel:e.label,x:this.options.animation?this.scale.xCenter:o.x,y:this.options.animation?this.scale.yCenter:o.y,strokeColor:e.pointStrokeColor,fillColor:e.pointColor,highlightFill:e.pointHighlightFill||e.pointColor,highlightStroke:e.pointHighlightStroke||e.pointStrokeColor}))},this)},this),this.render()},eachPoints:function(e){t.each(this.datasets,function(n){t.each(n.points,e,this)},this)},getPointsAtEvent:function(e){var n=t.getRelativePosition(e),i=t.getAngleFromPoint({x:this.scale.xCenter,y:this.scale.yCenter},n),r=2*Math.PI/this.scale.valuesCount,o=Math.round((i.angle-1.5*Math.PI)/r),a=[];return(o>=this.scale.valuesCount||0>o)&&(o=0),i.distance<=this.scale.drawingArea&&t.each(this.datasets,function(e){a.push(e.points[o])}),a},buildScale:function(t){this.scale=new e.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backgroundColors:this.options.scaleBackgroundColors,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,angleLineColor:this.options.angleLineColor,angleLineWidth:this.options.angleShowLineOut?this.options.angleLineWidth:0,angleLineInterval:this.options.angleLineInterval?this.options.angleLineInterval:1,pointLabelFontColor:this.options.pointLabelFontColor,pointLabelFontSize:this.options.pointLabelFontSize,pointLabelFontFamily:this.options.pointLabelFontFamily,pointLabelFontStyle:this.options.pointLabelFontStyle,height:this.chart.height,width:this.chart.width,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,labels:t.labels,valuesCount:t.datasets[0].data.length}),this.scale.setScaleSize(),this.updateScaleRange(t.datasets),this.scale.buildYLabels()},updateScaleRange:function(e){var n=function(){var n=[];return t.each(e,function(e){e.data?n=n.concat(e.data):t.each(e.points,function(e){n.push(e.value)})}),n}(),i=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:t.calculateScaleRange(n,t.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);t.extend(this.scale,i)},addData:function(e,n){this.scale.valuesCount++,t.each(e,function(e,t){var i=this.scale.getPointPosition(this.scale.valuesCount,this.scale.calculateCenterOffset(e));this.datasets[t].points.push(new this.PointClass({value:e,label:n,datasetLabel:this.datasets[t].label,x:i.x,y:i.y,strokeColor:this.datasets[t].pointStrokeColor,fillColor:this.datasets[t].pointColor}))},this),this.scale.labels.push(n),this.reflow(),this.update()},removeData:function(){this.scale.valuesCount--,this.scale.labels.shift(),t.each(this.datasets,function(e){e.points.shift()},this),this.reflow(),this.update()},update:function(){this.eachPoints(function(e){e.save()}),this.reflow(),this.render()},reflow:function(){t.extend(this.scale,{width:this.chart.width,height:this.chart.height,size:t.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2}),this.updateScaleRange(this.datasets),this.scale.setScaleSize(),this.scale.buildYLabels()},draw:function(e){var n=e||1,i=this.chart.ctx;this.clear(),this.scale.draw(),t.each(this.datasets,function(e){t.each(e.points,function(e,t){e.hasValue()&&e.transition(this.scale.getPointPosition(t,this.scale.calculateCenterOffset(e.value)),n)},this),i.lineWidth=this.options.datasetStrokeWidth,i.strokeStyle=e.strokeColor,i.beginPath(),t.each(e.points,function(e,t){0===t?i.moveTo(e.x,e.y):i.lineTo(e.x,e.y)},this),i.closePath(),i.stroke(),i.fillStyle=e.fillColor,this.options.datasetFill&&i.fill(),t.each(e.points,function(e){e.hasValue()&&e.draw()})},this)}})}.call(this),function(e){e.color={},e.color.make=function(t,n,i,r){var o={};return o.r=t||0,o.g=n||0,o.b=i||0,o.a=null!=r?r:1,o.add=function(e,t){for(var n=0;n<e.length;++n)o[e.charAt(n)]+=t;return o.normalize()},o.scale=function(e,t){for(var n=0;n<e.length;++n)o[e.charAt(n)]*=t;return o.normalize()},o.toString=function(){return o.a>=1?"rgb("+[o.r,o.g,o.b].join(",")+")":"rgba("+[o.r,o.g,o.b,o.a].join(",")+")"},o.normalize=function(){function e(e,t,n){return t<e?e:t>n?n:t}return o.r=e(0,parseInt(o.r),255),o.g=e(0,parseInt(o.g),255),o.b=e(0,parseInt(o.b),255),o.a=e(0,o.a,1),o},o.clone=function(){return e.color.make(o.r,o.b,o.g,o.a)},o.normalize()},e.color.extract=function(t,n){var i;do{if(""!=(i=t.css(n).toLowerCase())&&"transparent"!=i)break;t=t.parent()}while(t.length&&!e.nodeName(t.get(0),"body"));return"rgba(0, 0, 0, 0)"==i&&(i="transparent"),e.color.parse(i)},e.color.parse=function(n){var i,r=e.color.make;if(i=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(n))return r(parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10));if(i=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n))return r(parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10),parseFloat(i[4]));if(i=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(n))return r(2.55*parseFloat(i[1]),2.55*parseFloat(i[2]),2.55*parseFloat(i[3]));if(i=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n))return r(2.55*parseFloat(i[1]),2.55*parseFloat(i[2]),2.55*parseFloat(i[3]),parseFloat(i[4]));if(i=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(n))return r(parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16));if(i=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(n))return r(parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16));var o=e.trim(n).toLowerCase();return"transparent"==o?r(255,255,255,0):r((i=t[o]||[0,0,0])[0],i[1],i[2])};var t={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(e){var t=Object.prototype.hasOwnProperty;function n(t,n){var i=n.children("."+t)[0];if(null==i&&((i=document.createElement("canvas")).className=t,e(i).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(n),!i.getContext)){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");i=window.G_vmlCanvasManager.initElement(i)}this.element=i;var r=this.context=i.getContext("2d"),o=window.devicePixelRatio||1,a=r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1;this.pixelRatio=o/a,this.resize(n.width(),n.height()),this.textContainer=null,this.text={},this._textCache={}}function i(t,i,r,o){var a=[],s={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},l=null,c=null,d=null,u=null,h=null,f=[],p=[],m={left:0,right:0,top:0,bottom:0},g=0,v=0,y={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},b=this;function w(e,t){t=[b].concat(t);for(var n=0;n<e.length;++n)e[n].apply(this,t)}function x(t){a=function(t){for(var n=[],i=0;i<t.length;++i){var r=e.extend(!0,{},s.series);null!=t[i].data?(r.data=t[i].data,delete t[i].data,e.extend(!0,r,t[i]),t[i].data=r.data):r.data=t[i],n.push(r)}return n}(t),function(){var t,n=a.length,i=-1;for(t=0;t<a.length;++t){var r=a[t].color;null!=r&&(n--,"number"==typeof r&&r>i&&(i=r))}n<=i&&(n=i+1);var o,l=[],c=s.colors,d=c.length,u=0;for(t=0;t<n;t++)o=e.color.parse(c[t%d]||"#666"),t%d==0&&t&&(u=u>=0?u<.5?-u-.2:0:-u),l[t]=o.scale("rgb",1+u);var h,m=0;for(t=0;t<a.length;++t){if(null==(h=a[t]).color?(h.color=l[m].toString(),++m):"number"==typeof h.color&&(h.color=l[h.color].toString()),null==h.lines.show){var g,v=!0;for(g in h)if(h[g]&&h[g].show){v=!1;break}v&&(h.lines.show=!0)}null==h.lines.zero&&(h.lines.zero=!!h.lines.fill),h.xaxis=k(f,_(h,"x")),h.yaxis=k(p,_(h,"y"))}}(),function(){var t,n,i,r,o,s,l,c,d,u,h,f,p=Number.POSITIVE_INFINITY,m=Number.NEGATIVE_INFINITY,g=Number.MAX_VALUE;function v(e,t,n){t<e.datamin&&t!=-g&&(e.datamin=t),n>e.datamax&&n!=g&&(e.datamax=n)}for(e.each(C(),function(e,t){t.datamin=p,t.datamax=m,t.used=!1}),t=0;t<a.length;++t)(o=a[t]).datapoints={points:[]},w(y.processRawData,[o,o.data,o.datapoints]);for(t=0;t<a.length;++t){if(o=a[t],h=o.data,!(f=o.datapoints.format)){if((f=[]).push({x:!0,number:!0,required:!0}),f.push({y:!0,number:!0,required:!0}),o.bars.show||o.lines.show&&o.lines.fill){var b=!!(o.bars.show&&o.bars.zero||o.lines.show&&o.lines.zero);f.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:b}),o.bars.horizontal&&(delete f[f.length-1].y,f[f.length-1].x=!0)}o.datapoints.format=f}if(null==o.datapoints.pointsize){o.datapoints.pointsize=f.length,l=o.datapoints.pointsize,s=o.datapoints.points;var x=o.lines.show&&o.lines.steps;for(o.xaxis.used=o.yaxis.used=!0,n=i=0;n<h.length;++n,i+=l){var _=null==(u=h[n]);if(!_)for(r=0;r<l;++r)c=u[r],(d=f[r])&&(d.number&&null!=c&&(c=+c,isNaN(c)?c=null:c==1/0?c=g:c==-1/0&&(c=-g)),null==c&&(d.required&&(_=!0),null!=d.defaultValue&&(c=d.defaultValue))),s[i+r]=c;if(_)for(r=0;r<l;++r)null!=(c=s[i+r])&&!1!==(d=f[r]).autoscale&&(d.x&&v(o.xaxis,c,c),d.y&&v(o.yaxis,c,c)),s[i+r]=null;else if(x&&i>0&&null!=s[i-l]&&s[i-l]!=s[i]&&s[i-l+1]!=s[i+1]){for(r=0;r<l;++r)s[i+l+r]=s[i+r];s[i+1]=s[i-l+1],i+=l}}}}for(t=0;t<a.length;++t)o=a[t],w(y.processDatapoints,[o,o.datapoints]);for(t=0;t<a.length;++t){o=a[t],s=o.datapoints.points,l=o.datapoints.pointsize,f=o.datapoints.format;var S=p,k=p,T=m,E=m;for(n=0;n<s.length;n+=l)if(null!=s[n])for(r=0;r<l;++r)c=s[n+r],(d=f[r])&&!1!==d.autoscale&&c!=g&&c!=-g&&(d.x&&(c<S&&(S=c),c>T&&(T=c)),d.y&&(c<k&&(k=c),c>E&&(E=c)));if(o.bars.show){var D;switch(o.bars.align){case"left":D=0;break;case"right":D=-o.bars.barWidth;break;default:D=-o.bars.barWidth/2}o.bars.horizontal?(k+=D,E+=D+o.bars.barWidth):(S+=D,T+=D+o.bars.barWidth)}v(o.xaxis,S,T),v(o.yaxis,k,E)}e.each(C(),function(e,t){t.datamin==p&&(t.datamin=null),t.datamax==m&&(t.datamax=null)})}()}function _(e,t){var n=e[t+"axis"];return"object"==typeof n&&(n=n.n),"number"!=typeof n&&(n=1),n}function C(){return e.grep(f.concat(p),function(e){return e})}function S(e){var t,n,i={};for(t=0;t<f.length;++t)(n=f[t])&&n.used&&(i["x"+n.n]=n.c2p(e.left));for(t=0;t<p.length;++t)(n=p[t])&&n.used&&(i["y"+n.n]=n.c2p(e.top));return void 0!==i.x1&&(i.x=i.x1),void 0!==i.y1&&(i.y=i.y1),i}function k(t,n){return t[n-1]||(t[n-1]={n:n,direction:t==f?"x":"y",options:e.extend(!0,{},t==f?s.xaxis:s.yaxis)}),t[n-1]}function T(){j&&clearTimeout(j),d.unbind("mousemove",L),d.unbind("mouseleave",B),d.unbind("click",$),w(y.shutdown,[d])}function E(t){var n=t.labelWidth,i=t.labelHeight,r=t.options.position,o="x"===t.direction,a=t.options.tickLength,c=s.grid.axisMargin,d=s.grid.labelMargin,u=!0,h=!0,g=!0,v=!1;e.each(o?f:p,function(e,n){n&&(n.show||n.reserveSpace)&&(n===t?v=!0:n.options.position===r&&(v?h=!1:u=!1),v||(g=!1))}),h&&(c=0),null==a&&(a=g?"full":5),isNaN(+a)||(d+=+a),o?(i+=d,"bottom"==r?(m.bottom+=i+c,t.box={top:l.height-m.bottom,height:i}):(t.box={top:m.top+c,height:i},m.top+=i+c)):(n+=d,"left"==r?(t.box={left:m.left+c,width:n},m.left+=n+c):(m.right+=n+c,t.box={left:l.width-m.right,width:n})),t.position=r,t.tickLength=a,t.box.padding=d,t.innermost=u}function D(){var n,i=C(),r=s.grid.show;for(var o in m){var c=s.grid.margin||0;m[o]="number"==typeof c?c:c[o]||0}for(var o in w(y.processOffset,[m]),m)"object"==typeof s.grid.borderWidth?m[o]+=r?s.grid.borderWidth[o]:0:m[o]+=r?s.grid.borderWidth:0;if(e.each(i,function(e,t){var n=t.options;t.show=null==n.show?t.used:n.show,t.reserveSpace=null==n.reserveSpace?t.show:n.reserveSpace,function(e){var t=e.options,n=+(null!=t.min?t.min:e.datamin),i=+(null!=t.max?t.max:e.datamax),r=i-n;if(0==r){var o=0==i?1:.01;null==t.min&&(n-=o),null!=t.max&&null==t.min||(i+=o)}else{var a=t.autoscaleMargin;null!=a&&(null==t.min&&(n-=r*a)<0&&null!=e.datamin&&e.datamin>=0&&(n=0),null==t.max&&(i+=r*a)>0&&null!=e.datamax&&e.datamax<=0&&(i=0))}e.min=n,e.max=i}(t)}),r){var d=e.grep(i,function(e){return e.show||e.reserveSpace});for(e.each(d,function(t,n){!function(t){var n,i=t.options;n="number"==typeof i.ticks&&i.ticks>0?i.ticks:.3*Math.sqrt("x"==t.direction?l.width:l.height);var r=(t.max-t.min)/n,o=-Math.floor(Math.log(r)/Math.LN10),a=i.tickDecimals;null!=a&&o>a&&(o=a);var s,c=Math.pow(10,-o),d=r/c;d<1.5?s=1:d<3?(s=2,d>2.25&&(null==a||o+1<=a)&&(s=2.5,++o)):s=d<7.5?5:10;s*=c,null!=i.minTickSize&&s<i.minTickSize&&(s=i.minTickSize);if(t.delta=r,t.tickDecimals=Math.max(0,null!=a?a:o),t.tickSize=i.tickSize||s,"time"==i.mode&&!t.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");t.tickGenerator||(t.tickGenerator=function(e){var t,n,i,r=[],o=(n=e.min,(i=e.tickSize)*Math.floor(n/i)),a=0,s=Number.NaN;do{t=s,s=o+a*e.tickSize,r.push(s),++a}while(s<e.max&&s!=t);return r},t.tickFormatter=function(e,t){var n=t.tickDecimals?Math.pow(10,t.tickDecimals):1,i=""+Math.round(e*n)/n;if(null!=t.tickDecimals){var r=i.indexOf("."),o=-1==r?0:i.length-r-1;if(o<t.tickDecimals)return(o?i:i+".")+(""+n).substr(1,t.tickDecimals-o)}return i});e.isFunction(i.tickFormatter)&&(t.tickFormatter=function(e,t){return""+i.tickFormatter(e,t)});if(null!=i.alignTicksWithAxis){var u=("x"==t.direction?f:p)[i.alignTicksWithAxis-1];if(u&&u.used&&u!=t){var h=t.tickGenerator(t);if(h.length>0&&(null==i.min&&(t.min=Math.min(t.min,h[0])),null==i.max&&h.length>1&&(t.max=Math.max(t.max,h[h.length-1]))),t.tickGenerator=function(e){var t,n,i=[];for(n=0;n<u.ticks.length;++n)t=(u.ticks[n].v-u.min)/(u.max-u.min),t=e.min+t*(e.max-e.min),i.push(t);return i},!t.mode&&null==i.tickDecimals){var m=Math.max(0,1-Math.floor(Math.log(t.delta)/Math.LN10)),g=t.tickGenerator(t);g.length>1&&/\..*0$/.test((g[1]-g[0]).toFixed(m))||(t.tickDecimals=m)}}}}(n),function(t){var n,i,r=t.options.ticks,o=[];null==r||"number"==typeof r&&r>0?o=t.tickGenerator(t):r&&(o=e.isFunction(r)?r(t):r);for(t.ticks=[],n=0;n<o.length;++n){var a=null,s=o[n];"object"==typeof s?(i=+s[0],s.length>1&&(a=s[1])):i=+s,null==a&&(a=t.tickFormatter(i,t)),isNaN(i)||t.ticks.push({v:i,label:a})}}(n),function(e,t){e.options.autoscaleMargin&&t.length>0&&(null==e.options.min&&(e.min=Math.min(e.min,t[0].v)),null==e.options.max&&t.length>1&&(e.max=Math.max(e.max,t[t.length-1].v)))}(n,n.ticks),function(e){for(var t=e.options,n=e.ticks||[],i=t.labelWidth||0,r=t.labelHeight||0,o=i||("x"==e.direction?Math.floor(l.width/(n.length||1)):null),a=e.direction+"Axis "+e.direction+e.n+"Axis",s="flot-"+e.direction+"-axis flot-"+e.direction+e.n+"-axis "+a,c=t.font||"flot-tick-label tickLabel",d=0;d<n.length;++d){var u=n[d];if(u.label){var h=l.getTextInfo(s,u.label,c,null,o);i=Math.max(i,h.width),r=Math.max(r,h.height)}}e.labelWidth=t.labelWidth||i,e.labelHeight=t.labelHeight||r}(n)}),n=d.length-1;n>=0;--n)E(d[n]);!function(){var t,n=s.grid.minBorderMargin;if(null==n)for(n=0,t=0;t<a.length;++t)n=Math.max(n,2*(a[t].points.radius+a[t].points.lineWidth/2));var i={left:n,right:n,top:n,bottom:n};e.each(C(),function(e,t){t.reserveSpace&&t.ticks&&t.ticks.length&&("x"===t.direction?(i.left=Math.max(i.left,t.labelWidth/2),i.right=Math.max(i.right,t.labelWidth/2)):(i.bottom=Math.max(i.bottom,t.labelHeight/2),i.top=Math.max(i.top,t.labelHeight/2)))}),m.left=Math.ceil(Math.max(i.left,m.left)),m.right=Math.ceil(Math.max(i.right,m.right)),m.top=Math.ceil(Math.max(i.top,m.top)),m.bottom=Math.ceil(Math.max(i.bottom,m.bottom))}(),e.each(d,function(e,t){!function(e){"x"==e.direction?(e.box.left=m.left-e.labelWidth/2,e.box.width=l.width-m.left-m.right+e.labelWidth):(e.box.top=m.top-e.labelHeight/2,e.box.height=l.height-m.bottom-m.top+e.labelHeight)}(t)})}g=l.width-m.left-m.right,v=l.height-m.bottom-m.top,e.each(i,function(e,t){!function(e){function t(e){return e}var n,i,r=e.options.transform||t,o=e.options.inverseTransform;"x"==e.direction?(n=e.scale=g/Math.abs(r(e.max)-r(e.min)),i=Math.min(r(e.max),r(e.min))):(n=-(n=e.scale=v/Math.abs(r(e.max)-r(e.min))),i=Math.max(r(e.max),r(e.min))),e.p2c=r==t?function(e){return(e-i)*n}:function(e){return(r(e)-i)*n},e.c2p=o?function(e){return o(i+e/n)}:function(e){return i+e/n}}(t)}),r&&e.each(C(),function(e,t){var n,i,r,o,a,s=t.box,c=t.direction+"Axis "+t.direction+t.n+"Axis",d="flot-"+t.direction+"-axis flot-"+t.direction+t.n+"-axis "+c,u=t.options.font||"flot-tick-label tickLabel";if(l.removeText(d),t.show&&0!=t.ticks.length)for(var h=0;h<t.ticks.length;++h)!(n=t.ticks[h]).label||n.v<t.min||n.v>t.max||("x"==t.direction?(o="center",i=m.left+t.p2c(n.v),"bottom"==t.position?r=s.top+s.padding:(r=s.top+s.height-s.padding,a="bottom")):(a="middle",r=m.top+t.p2c(n.v),"left"==t.position?(i=s.left+s.width-s.padding,o="right"):i=s.left+s.padding),l.addText(d,i,r,n.label,u,null,null,o,a))}),function(){null!=s.legend.container?e(s.legend.container).html(""):t.find(".legend").remove();if(!s.legend.show)return;for(var n,i,r=[],o=[],l=!1,c=s.legend.labelFormatter,d=0;d<a.length;++d)(n=a[d]).label&&(i=c?c(n.label,n):n.label)&&o.push({label:i,color:n.color});if(s.legend.sorted)if(e.isFunction(s.legend.sorted))o.sort(s.legend.sorted);else if("reverse"==s.legend.sorted)o.reverse();else{var u="descending"!=s.legend.sorted;o.sort(function(e,t){return e.label==t.label?0:e.label<t.label!=u?1:-1})}for(var d=0;d<o.length;++d){var h=o[d];d%s.legend.noColumns==0&&(l&&r.push("</tr>"),r.push("<tr>"),l=!0),r.push('<td class="legendColorBox"><div style="border:1px solid '+s.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+h.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+h.label+"</td>")}l&&r.push("</tr>");if(0==r.length)return;var f='<table style="font-size:smaller;color:'+s.grid.color+'">'+r.join("")+"</table>";if(null!=s.legend.container)e(s.legend.container).html(f);else{var p="",g=s.legend.position,v=s.legend.margin;null==v[0]&&(v=[v,v]),"n"==g.charAt(0)?p+="top:"+(v[1]+m.top)+"px;":"s"==g.charAt(0)&&(p+="bottom:"+(v[1]+m.bottom)+"px;"),"e"==g.charAt(1)?p+="right:"+(v[0]+m.right)+"px;":"w"==g.charAt(1)&&(p+="left:"+(v[0]+m.left)+"px;");var y=e('<div class="legend">'+f.replace('style="','style="position:absolute;'+p+";")+"</div>").appendTo(t);if(0!=s.legend.backgroundOpacity){var b=s.legend.backgroundColor;null==b&&((b=(b=s.grid.backgroundColor)&&"string"==typeof b?e.color.parse(b):e.color.extract(y,"background-color")).a=1,b=b.toString());var w=y.children();e('<div style="position:absolute;width:'+w.width()+"px;height:"+w.height()+"px;"+p+"background-color:"+b+';"> </div>').prependTo(y).css("opacity",s.legend.backgroundOpacity)}}}()}function N(){l.clear(),w(y.drawBackground,[u]);var e=s.grid;e.show&&e.backgroundColor&&(u.save(),u.translate(m.left,m.top),u.fillStyle=X(s.grid.backgroundColor,v,0,"rgba(255, 255, 255, 0)"),u.fillRect(0,0,g,v),u.restore()),e.show&&!e.aboveData&&O();for(var t=0;t<a.length;++t)w(y.drawSeries,[u,a[t]]),I(a[t]);w(y.draw,[u]),e.show&&e.aboveData&&O(),l.render(),H()}function A(e,t){for(var n,i,r,o,a=C(),s=0;s<a.length;++s)if((n=a[s]).direction==t&&(e[o=t+n.n+"axis"]||1!=n.n||(o=t+"axis"),e[o])){i=e[o].from,r=e[o].to;break}if(e[o]||(n="x"==t?f[0]:p[0],i=e[t+"1"],r=e[t+"2"]),null!=i&&null!=r&&i>r){var l=i;i=r,r=l}return{from:i,to:r,axis:n}}function O(){var t,n,i,r;u.save(),u.translate(m.left,m.top);var o=s.grid.markings;if(o)for(e.isFunction(o)&&((n=b.getAxes()).xmin=n.xaxis.min,n.xmax=n.xaxis.max,n.ymin=n.yaxis.min,n.ymax=n.yaxis.max,o=o(n)),t=0;t<o.length;++t){var a=o[t],l=A(a,"x"),c=A(a,"y");if(null==l.from&&(l.from=l.axis.min),null==l.to&&(l.to=l.axis.max),null==c.from&&(c.from=c.axis.min),null==c.to&&(c.to=c.axis.max),!(l.to<l.axis.min||l.from>l.axis.max||c.to<c.axis.min||c.from>c.axis.max)){l.from=Math.max(l.from,l.axis.min),l.to=Math.min(l.to,l.axis.max),c.from=Math.max(c.from,c.axis.min),c.to=Math.min(c.to,c.axis.max);var d=l.from===l.to,h=c.from===c.to;if(!d||!h)if(l.from=Math.floor(l.axis.p2c(l.from)),l.to=Math.floor(l.axis.p2c(l.to)),c.from=Math.floor(c.axis.p2c(c.from)),c.to=Math.floor(c.axis.p2c(c.to)),d||h){var f=a.lineWidth||s.grid.markingsLineWidth,p=f%2?.5:0;u.beginPath(),u.strokeStyle=a.color||s.grid.markingsColor,u.lineWidth=f,d?(u.moveTo(l.to+p,c.from),u.lineTo(l.to+p,c.to)):(u.moveTo(l.from,c.to+p),u.lineTo(l.to,c.to+p)),u.stroke()}else u.fillStyle=a.color||s.grid.markingsColor,u.fillRect(l.from,c.to,l.to-l.from,c.from-c.to)}}n=C(),i=s.grid.borderWidth;for(var y=0;y<n.length;++y){var w,x,_,S,k=n[y],T=k.box,E=k.tickLength;if(k.show&&0!=k.ticks.length){for(u.lineWidth=1,"x"==k.direction?(w=0,x="full"==E?"top"==k.position?0:v:T.top-m.top+("top"==k.position?T.height:0)):(x=0,w="full"==E?"left"==k.position?0:g:T.left-m.left+("left"==k.position?T.width:0)),k.innermost||(u.strokeStyle=k.options.color,u.beginPath(),_=S=0,"x"==k.direction?_=g+1:S=v+1,1==u.lineWidth&&("x"==k.direction?x=Math.floor(x)+.5:w=Math.floor(w)+.5),u.moveTo(w,x),u.lineTo(w+_,x+S),u.stroke()),u.strokeStyle=k.options.tickColor,u.beginPath(),t=0;t<k.ticks.length;++t){var D=k.ticks[t].v;_=S=0,isNaN(D)||D<k.min||D>k.max||"full"==E&&("object"==typeof i&&i[k.position]>0||i>0)&&(D==k.min||D==k.max)||("x"==k.direction?(w=k.p2c(D),S="full"==E?-v:E,"top"==k.position&&(S=-S)):(x=k.p2c(D),_="full"==E?-g:E,"left"==k.position&&(_=-_)),1==u.lineWidth&&("x"==k.direction?w=Math.floor(w)+.5:x=Math.floor(x)+.5),u.moveTo(w,x),u.lineTo(w+_,x+S))}u.stroke()}}i&&(r=s.grid.borderColor,"object"==typeof i||"object"==typeof r?("object"!=typeof i&&(i={top:i,right:i,bottom:i,left:i}),"object"!=typeof r&&(r={top:r,right:r,bottom:r,left:r}),i.top>0&&(u.strokeStyle=r.top,u.lineWidth=i.top,u.beginPath(),u.moveTo(0-i.left,0-i.top/2),u.lineTo(g,0-i.top/2),u.stroke()),i.right>0&&(u.strokeStyle=r.right,u.lineWidth=i.right,u.beginPath(),u.moveTo(g+i.right/2,0-i.top),u.lineTo(g+i.right/2,v),u.stroke()),i.bottom>0&&(u.strokeStyle=r.bottom,u.lineWidth=i.bottom,u.beginPath(),u.moveTo(g+i.right,v+i.bottom/2),u.lineTo(0,v+i.bottom/2),u.stroke()),i.left>0&&(u.strokeStyle=r.left,u.lineWidth=i.left,u.beginPath(),u.moveTo(0-i.left/2,v+i.bottom),u.lineTo(0-i.left/2,0),u.stroke())):(u.lineWidth=i,u.strokeStyle=s.grid.borderColor,u.strokeRect(-i/2,-i/2,g+i,v+i))),u.restore()}function I(e){e.lines.show&&function(e){function t(e,t,n,i,r){var o=e.points,a=e.pointsize,s=null,l=null;u.beginPath();for(var c=a;c<o.length;c+=a){var d=o[c-a],h=o[c-a+1],f=o[c],p=o[c+1];if(null!=d&&null!=f){if(h<=p&&h<r.min){if(p<r.min)continue;d=(r.min-h)/(p-h)*(f-d)+d,h=r.min}else if(p<=h&&p<r.min){if(h<r.min)continue;f=(r.min-h)/(p-h)*(f-d)+d,p=r.min}if(h>=p&&h>r.max){if(p>r.max)continue;d=(r.max-h)/(p-h)*(f-d)+d,h=r.max}else if(p>=h&&p>r.max){if(h>r.max)continue;f=(r.max-h)/(p-h)*(f-d)+d,p=r.max}if(d<=f&&d<i.min){if(f<i.min)continue;h=(i.min-d)/(f-d)*(p-h)+h,d=i.min}else if(f<=d&&f<i.min){if(d<i.min)continue;p=(i.min-d)/(f-d)*(p-h)+h,f=i.min}if(d>=f&&d>i.max){if(f>i.max)continue;h=(i.max-d)/(f-d)*(p-h)+h,d=i.max}else if(f>=d&&f>i.max){if(d>i.max)continue;p=(i.max-d)/(f-d)*(p-h)+h,f=i.max}d==s&&h==l||u.moveTo(i.p2c(d)+t,r.p2c(h)+n),s=f,l=p,u.lineTo(i.p2c(f)+t,r.p2c(p)+n)}}u.stroke()}u.save(),u.translate(m.left,m.top),u.lineJoin="round";var n=e.lines.lineWidth,i=e.shadowSize;if(n>0&&i>0){u.lineWidth=i,u.strokeStyle="rgba(0,0,0,0.1)";var r=Math.PI/18;t(e.datapoints,Math.sin(r)*(n/2+i/2),Math.cos(r)*(n/2+i/2),e.xaxis,e.yaxis),u.lineWidth=i/2,t(e.datapoints,Math.sin(r)*(n/2+i/4),Math.cos(r)*(n/2+i/4),e.xaxis,e.yaxis)}u.lineWidth=n,u.strokeStyle=e.color;var o=P(e.lines,e.color,0,v);o&&(u.fillStyle=o,function(e,t,n){var i=e.points,r=e.pointsize,o=Math.min(Math.max(0,n.min),n.max),a=0,s=!1,l=1,c=0,d=0;for(;!(r>0&&a>i.length+r);){var h=i[(a+=r)-r],f=i[a-r+l],p=i[a],m=i[a+l];if(s){if(r>0&&null!=h&&null==p){d=a,r=-r,l=2;continue}if(r<0&&a==c+r){u.fill(),s=!1,l=1,a=c=d+(r=-r);continue}}if(null!=h&&null!=p){if(h<=p&&h<t.min){if(p<t.min)continue;f=(t.min-h)/(p-h)*(m-f)+f,h=t.min}else if(p<=h&&p<t.min){if(h<t.min)continue;m=(t.min-h)/(p-h)*(m-f)+f,p=t.min}if(h>=p&&h>t.max){if(p>t.max)continue;f=(t.max-h)/(p-h)*(m-f)+f,h=t.max}else if(p>=h&&p>t.max){if(h>t.max)continue;m=(t.max-h)/(p-h)*(m-f)+f,p=t.max}if(s||(u.beginPath(),u.moveTo(t.p2c(h),n.p2c(o)),s=!0),f>=n.max&&m>=n.max)u.lineTo(t.p2c(h),n.p2c(n.max)),u.lineTo(t.p2c(p),n.p2c(n.max));else if(f<=n.min&&m<=n.min)u.lineTo(t.p2c(h),n.p2c(n.min)),u.lineTo(t.p2c(p),n.p2c(n.min));else{var g=h,v=p;f<=m&&f<n.min&&m>=n.min?(h=(n.min-f)/(m-f)*(p-h)+h,f=n.min):m<=f&&m<n.min&&f>=n.min&&(p=(n.min-f)/(m-f)*(p-h)+h,m=n.min),f>=m&&f>n.max&&m<=n.max?(h=(n.max-f)/(m-f)*(p-h)+h,f=n.max):m>=f&&m>n.max&&f<=n.max&&(p=(n.max-f)/(m-f)*(p-h)+h,m=n.max),h!=g&&u.lineTo(t.p2c(g),n.p2c(f)),u.lineTo(t.p2c(h),n.p2c(f)),u.lineTo(t.p2c(p),n.p2c(m)),p!=v&&(u.lineTo(t.p2c(p),n.p2c(m)),u.lineTo(t.p2c(v),n.p2c(m)))}}}}(e.datapoints,e.xaxis,e.yaxis));n>0&&t(e.datapoints,0,0,e.xaxis,e.yaxis);u.restore()}(e),e.bars.show&&function(e){var t;switch(u.save(),u.translate(m.left,m.top),u.lineWidth=e.bars.lineWidth,u.strokeStyle=e.color,e.bars.align){case"left":t=0;break;case"right":t=-e.bars.barWidth;break;default:t=-e.bars.barWidth/2}var n=e.bars.fill?function(t,n){return P(e.bars,e.color,t,n)}:null;(function(t,n,i,r,o,a){for(var s=t.points,l=t.pointsize,c=0;c<s.length;c+=l)null!=s[c]&&R(s[c],s[c+1],s[c+2],n,i,r,o,a,u,e.bars.horizontal,e.bars.lineWidth)})(e.datapoints,t,t+e.bars.barWidth,n,e.xaxis,e.yaxis),u.restore()}(e),e.points.show&&function(e){function t(e,t,n,i,r,o,a,s){for(var l=e.points,c=e.pointsize,d=0;d<l.length;d+=c){var h=l[d],f=l[d+1];null==h||h<o.min||h>o.max||f<a.min||f>a.max||(u.beginPath(),h=o.p2c(h),f=a.p2c(f)+i,"circle"==s?u.arc(h,f,t,0,r?Math.PI:2*Math.PI,!1):s(u,h,f,t,r),u.closePath(),n&&(u.fillStyle=n,u.fill()),u.stroke())}}u.save(),u.translate(m.left,m.top);var n=e.points.lineWidth,i=e.shadowSize,r=e.points.radius,o=e.points.symbol;0==n&&(n=1e-4);if(n>0&&i>0){var a=i/2;u.lineWidth=a,u.strokeStyle="rgba(0,0,0,0.1)",t(e.datapoints,r,null,a+a/2,!0,e.xaxis,e.yaxis,o),u.strokeStyle="rgba(0,0,0,0.2)",t(e.datapoints,r,null,a/2,!0,e.xaxis,e.yaxis,o)}u.lineWidth=n,u.strokeStyle=e.color,t(e.datapoints,r,P(e.points,e.color),0,!1,e.xaxis,e.yaxis,o),u.restore()}(e)}function R(e,t,n,i,r,o,a,s,l,c,d){var u,h,f,p,m,g,v,y,b;c?(y=g=v=!0,m=!1,p=t+i,f=t+r,(h=e)<(u=n)&&(b=h,h=u,u=b,m=!0,g=!1)):(m=g=v=!0,y=!1,u=e+i,h=e+r,(p=t)<(f=n)&&(b=p,p=f,f=b,y=!0,v=!1)),h<a.min||u>a.max||p<s.min||f>s.max||(u<a.min&&(u=a.min,m=!1),h>a.max&&(h=a.max,g=!1),f<s.min&&(f=s.min,y=!1),p>s.max&&(p=s.max,v=!1),u=a.p2c(u),f=s.p2c(f),h=a.p2c(h),p=s.p2c(p),o&&(l.fillStyle=o(f,p),l.fillRect(u,p,h-u,f-p)),d>0&&(m||g||v||y)&&(l.beginPath(),l.moveTo(u,f),m?l.lineTo(u,p):l.moveTo(u,p),v?l.lineTo(h,p):l.moveTo(h,p),g?l.lineTo(h,f):l.moveTo(h,f),y?l.lineTo(u,f):l.moveTo(u,f),l.stroke()))}function P(t,n,i,r){var o=t.fill;if(!o)return null;if(t.fillColor)return X(t.fillColor,i,r,n);var a=e.color.parse(n);return a.a="number"==typeof o?o:.4,a.normalize(),a.toString()}b.setData=x,b.setupGrid=D,b.draw=N,b.getPlaceholder=function(){return t},b.getCanvas=function(){return l.element},b.getPlotOffset=function(){return m},b.width=function(){return g},b.height=function(){return v},b.offset=function(){var e=d.offset();return e.left+=m.left,e.top+=m.top,e},b.getData=function(){return a},b.getAxes=function(){var t={};return e.each(f.concat(p),function(e,n){n&&(t[n.direction+(1!=n.n?n.n:"")+"axis"]=n)}),t},b.getXAxes=function(){return f},b.getYAxes=function(){return p},b.c2p=S,b.p2c=function(e){var t,n,i,r={};for(t=0;t<f.length;++t)if((n=f[t])&&n.used&&(i="x"+n.n,null==e[i]&&1==n.n&&(i="x"),null!=e[i])){r.left=n.p2c(e[i]);break}for(t=0;t<p.length;++t)if((n=p[t])&&n.used&&(i="y"+n.n,null==e[i]&&1==n.n&&(i="y"),null!=e[i])){r.top=n.p2c(e[i]);break}return r},b.getOptions=function(){return s},b.highlight=W,b.unhighlight=U,b.triggerRedrawOverlay=H,b.pointOffset=function(e){return{left:parseInt(f[_(e,"x")-1].p2c(+e.x)+m.left,10),top:parseInt(p[_(e,"y")-1].p2c(+e.y)+m.top,10)}},b.shutdown=T,b.destroy=function(){T(),t.removeData("plot").empty(),a=[],s=null,l=null,c=null,d=null,u=null,h=null,f=[],p=[],y=null,M=[],b=null},b.resize=function(){var e=t.width(),n=t.height();l.resize(e,n),c.resize(e,n)},b.hooks=y,function(){for(var t={Canvas:n},i=0;i<o.length;++i){var r=o[i];r.init(b,t),r.options&&e.extend(!0,s,r.options)}}(),function(n){e.extend(!0,s,n),n&&n.colors&&(s.colors=n.colors);null==s.xaxis.color&&(s.xaxis.color=e.color.parse(s.grid.color).scale("a",.22).toString());null==s.yaxis.color&&(s.yaxis.color=e.color.parse(s.grid.color).scale("a",.22).toString());null==s.xaxis.tickColor&&(s.xaxis.tickColor=s.grid.tickColor||s.xaxis.color);null==s.yaxis.tickColor&&(s.yaxis.tickColor=s.grid.tickColor||s.yaxis.color);null==s.grid.borderColor&&(s.grid.borderColor=s.grid.color);null==s.grid.tickColor&&(s.grid.tickColor=e.color.parse(s.grid.color).scale("a",.22).toString());var i,r,o,a=t.css("font-size"),l=a?+a.replace("px",""):13,c={style:t.css("font-style"),size:Math.round(.8*l),variant:t.css("font-variant"),weight:t.css("font-weight"),family:t.css("font-family")};for(o=s.xaxes.length||1,i=0;i<o;++i)(r=s.xaxes[i])&&!r.tickColor&&(r.tickColor=r.color),r=e.extend(!0,{},s.xaxis,r),s.xaxes[i]=r,r.font&&(r.font=e.extend({},c,r.font),r.font.color||(r.font.color=r.color),r.font.lineHeight||(r.font.lineHeight=Math.round(1.15*r.font.size)));for(o=s.yaxes.length||1,i=0;i<o;++i)(r=s.yaxes[i])&&!r.tickColor&&(r.tickColor=r.color),r=e.extend(!0,{},s.yaxis,r),s.yaxes[i]=r,r.font&&(r.font=e.extend({},c,r.font),r.font.color||(r.font.color=r.color),r.font.lineHeight||(r.font.lineHeight=Math.round(1.15*r.font.size)));s.xaxis.noTicks&&null==s.xaxis.ticks&&(s.xaxis.ticks=s.xaxis.noTicks);s.yaxis.noTicks&&null==s.yaxis.ticks&&(s.yaxis.ticks=s.yaxis.noTicks);s.x2axis&&(s.xaxes[1]=e.extend(!0,{},s.xaxis,s.x2axis),s.xaxes[1].position="top",null==s.x2axis.min&&(s.xaxes[1].min=null),null==s.x2axis.max&&(s.xaxes[1].max=null));s.y2axis&&(s.yaxes[1]=e.extend(!0,{},s.yaxis,s.y2axis),s.yaxes[1].position="right",null==s.y2axis.min&&(s.yaxes[1].min=null),null==s.y2axis.max&&(s.yaxes[1].max=null));s.grid.coloredAreas&&(s.grid.markings=s.grid.coloredAreas);s.grid.coloredAreasColor&&(s.grid.markingsColor=s.grid.coloredAreasColor);s.lines&&e.extend(!0,s.series.lines,s.lines);s.points&&e.extend(!0,s.series.points,s.points);s.bars&&e.extend(!0,s.series.bars,s.bars);null!=s.shadowSize&&(s.series.shadowSize=s.shadowSize);null!=s.highlightColor&&(s.series.highlightColor=s.highlightColor);for(i=0;i<s.xaxes.length;++i)k(f,i+1).options=s.xaxes[i];for(i=0;i<s.yaxes.length;++i)k(p,i+1).options=s.yaxes[i];for(var d in y)s.hooks[d]&&s.hooks[d].length&&(y[d]=y[d].concat(s.hooks[d]));w(y.processOptions,[s])}(r),function(){t.css("padding",0).children().filter(function(){return!e(this).hasClass("flot-overlay")&&!e(this).hasClass("flot-base")}).remove(),"static"==t.css("position")&&t.css("position","relative");l=new n("flot-base",t),c=new n("flot-overlay",t),u=l.context,h=c.context,d=e(c.element).unbind();var i=t.data("plot");i&&(i.shutdown(),c.clear());t.data("plot",b)}(),x(i),D(),N(),function(){s.grid.hoverable&&(d.mousemove(L),d.bind("mouseleave",B));s.grid.clickable&&d.click($);w(y.bindEvents,[d])}();var M=[],j=null;function L(e){s.grid.hoverable&&F("plothover",e,function(e){return 0!=e.hoverable})}function B(e){s.grid.hoverable&&F("plothover",e,function(e){return!1})}function $(e){F("plotclick",e,function(e){return 0!=e.clickable})}function F(e,n,i){var r=d.offset(),o=n.pageX-r.left-m.left,l=n.pageY-r.top-m.top,c=S({left:o,top:l});c.pageX=n.pageX,c.pageY=n.pageY;var u=function(e,t,n){var i,r,o,l=s.grid.mouseActiveRadius,c=l*l+1,d=null;for(i=a.length-1;i>=0;--i)if(n(a[i])){var u=a[i],h=u.xaxis,f=u.yaxis,p=u.datapoints.points,m=h.c2p(e),g=f.c2p(t),v=l/h.scale,y=l/f.scale;if(o=u.datapoints.pointsize,h.options.inverseTransform&&(v=Number.MAX_VALUE),f.options.inverseTransform&&(y=Number.MAX_VALUE),u.lines.show||u.points.show)for(r=0;r<p.length;r+=o){var b=p[r],w=p[r+1];if(null!=b&&!(b-m>v||b-m<-v||w-g>y||w-g<-y)){var x=Math.abs(h.p2c(b)-e),_=Math.abs(f.p2c(w)-t),C=x*x+_*_;C<c&&(c=C,d=[i,r/o])}}if(u.bars.show&&!d){var S,k;switch(u.bars.align){case"left":S=0;break;case"right":S=-u.bars.barWidth;break;default:S=-u.bars.barWidth/2}for(k=S+u.bars.barWidth,r=0;r<p.length;r+=o){b=p[r],w=p[r+1];var T=p[r+2];null!=b&&(a[i].bars.horizontal?m<=Math.max(T,b)&&m>=Math.min(T,b)&&g>=w+S&&g<=w+k:m>=b+S&&m<=b+k&&g>=Math.min(T,w)&&g<=Math.max(T,w))&&(d=[i,r/o])}}}return d?(i=d[0],r=d[1],o=a[i].datapoints.pointsize,{datapoint:a[i].datapoints.points.slice(r*o,(r+1)*o),dataIndex:r,series:a[i],seriesIndex:i}):null}(o,l,i);if(u&&(u.pageX=parseInt(u.series.xaxis.p2c(u.datapoint[0])+r.left+m.left,10),u.pageY=parseInt(u.series.yaxis.p2c(u.datapoint[1])+r.top+m.top,10)),s.grid.autoHighlight){for(var h=0;h<M.length;++h){var f=M[h];f.auto!=e||u&&f.series==u.series&&f.point[0]==u.datapoint[0]&&f.point[1]==u.datapoint[1]||U(f.series,f.point)}u&&W(u.series,u.datapoint,e)}t.trigger(e,[c,u])}function H(){var e=s.interaction.redrawOverlayInterval;-1!=e?j||(j=setTimeout(z,e)):z()}function z(){var e,t;for(j=null,h.save(),c.clear(),h.translate(m.left,m.top),e=0;e<M.length;++e)(t=M[e]).series.bars.show?Y(t.series,t.point):V(t.series,t.point);h.restore(),w(y.drawOverlay,[h])}function W(e,t,n){if("number"==typeof e&&(e=a[e]),"number"==typeof t){var i=e.datapoints.pointsize;t=e.datapoints.points.slice(i*t,i*(t+1))}var r=q(e,t);-1==r?(M.push({series:e,point:t,auto:n}),H()):n||(M[r].auto=!1)}function U(e,t){if(null==e&&null==t)return M=[],void H();if("number"==typeof e&&(e=a[e]),"number"==typeof t){var n=e.datapoints.pointsize;t=e.datapoints.points.slice(n*t,n*(t+1))}var i=q(e,t);-1!=i&&(M.splice(i,1),H())}function q(e,t){for(var n=0;n<M.length;++n){var i=M[n];if(i.series==e&&i.point[0]==t[0]&&i.point[1]==t[1])return n}return-1}function V(t,n){var i=n[0],r=n[1],o=t.xaxis,a=t.yaxis,s="string"==typeof t.highlightColor?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString();if(!(i<o.min||i>o.max||r<a.min||r>a.max)){var l=t.points.radius+t.points.lineWidth/2;h.lineWidth=l,h.strokeStyle=s;var c=1.5*l;i=o.p2c(i),r=a.p2c(r),h.beginPath(),"circle"==t.points.symbol?h.arc(i,r,c,0,2*Math.PI,!1):t.points.symbol(h,i,r,c,!1),h.closePath(),h.stroke()}}function Y(t,n){var i,r="string"==typeof t.highlightColor?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString(),o=r;switch(t.bars.align){case"left":i=0;break;case"right":i=-t.bars.barWidth;break;default:i=-t.bars.barWidth/2}h.lineWidth=t.bars.lineWidth,h.strokeStyle=r,R(n[0],n[1],n[2]||0,i,i+t.bars.barWidth,function(){return o},t.xaxis,t.yaxis,h,t.bars.horizontal,t.bars.lineWidth)}function X(t,n,i,r){if("string"==typeof t)return t;for(var o=u.createLinearGradient(0,i,0,n),a=0,s=t.colors.length;a<s;++a){var l=t.colors[a];if("string"!=typeof l){var c=e.color.parse(r);null!=l.brightness&&(c=c.scale("rgb",l.brightness)),null!=l.opacity&&(c.a*=l.opacity),l=c.toString()}o.addColorStop(a/(s-1),l)}return o}}e.fn.detach||(e.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})}),n.prototype.resize=function(e,t){if(e<=0||t<=0)throw new Error("Invalid dimensions for plot, width = "+e+", height = "+t);var n=this.element,i=this.context,r=this.pixelRatio;this.width!=e&&(n.width=e*r,n.style.width=e+"px",this.width=e),this.height!=t&&(n.height=t*r,n.style.height=t+"px",this.height=t),i.restore(),i.save(),i.scale(r,r)},n.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},n.prototype.render=function(){var e=this._textCache;for(var n in e)if(t.call(e,n)){var i=this.getTextLayer(n),r=e[n];for(var o in i.hide(),r)if(t.call(r,o)){var a=r[o];for(var s in a)if(t.call(a,s)){for(var l,c=a[s].positions,d=0;l=c[d];d++)l.active?l.rendered||(i.append(l.element),l.rendered=!0):(c.splice(d--,1),l.rendered&&l.element.detach());0==c.length&&delete a[s]}}i.show()}},n.prototype.getTextLayer=function(t){var n=this.text[t];return null==n&&(null==this.textContainer&&(this.textContainer=e("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),n=this.text[t]=e("<div></div>").addClass(t).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),n},n.prototype.getTextInfo=function(t,n,i,r,o){var a,s,l,c;if(n=""+n,a="object"==typeof i?i.style+" "+i.variant+" "+i.weight+" "+i.size+"px/"+i.lineHeight+"px "+i.family:i,null==(s=this._textCache[t])&&(s=this._textCache[t]={}),null==(l=s[a])&&(l=s[a]={}),null==(c=l[n])){var d=e("<div></div>").html(n).css({position:"absolute","max-width":o,top:-9999}).appendTo(this.getTextLayer(t));"object"==typeof i?d.css({font:a,color:i.color}):"string"==typeof i&&d.addClass(i),c=l[n]={width:d.outerWidth(!0),height:d.outerHeight(!0),element:d,positions:[]},d.detach()}return c},n.prototype.addText=function(e,t,n,i,r,o,a,s,l){var c=this.getTextInfo(e,i,r,o,a),d=c.positions;"center"==s?t-=c.width/2:"right"==s&&(t-=c.width),"middle"==l?n-=c.height/2:"bottom"==l&&(n-=c.height);for(var u,h=0;u=d[h];h++)if(u.x==t&&u.y==n)return void(u.active=!0);u={active:!0,rendered:!1,element:d.length?c.element.clone():c.element,x:t,y:n},d.push(u),u.element.css({top:Math.round(n),left:Math.round(t),"text-align":s})},n.prototype.removeText=function(e,n,i,r,o,a){if(null==r){var s=this._textCache[e];if(null!=s)for(var l in s)if(t.call(s,l)){var c=s[l];for(var d in c)if(t.call(c,d))for(var u=c[d].positions,h=0;f=u[h];h++)f.active=!1}}else{var f;for(u=this.getTextInfo(e,r,o,a).positions,h=0;f=u[h];h++)f.x==n&&f.y==i&&(f.active=!1)}},e.plot=function(t,n,r){return new i(e(t),n,r,e.plot.plugins)},e.plot.version="0.8.3",e.plot.plugins=[],e.fn.plot=function(t,n){return this.each(function(){e.plot(this,t,n)})}}(jQuery),function(e,t,n){var i,r=[],o=e.resize=e.extend(e.resize,{}),a=!1,s="setTimeout",l="resize",c=l+"-special-event",d="pendingDelay",u="activeDelay",h="throttleWindow";function f(n){!0===a&&(a=n||1);for(var s=r.length-1;s>=0;s--){var u=e(r[s]);if(u[0]==t||u.is(":visible")){var h=u.width(),p=u.height(),m=u.data(c);!m||h===m.w&&p===m.h||(u.trigger(l,[m.w=h,m.h=p]),a=n||!0)}else(m=u.data(c)).w=0,m.h=0}null!==i&&(a&&(null==n||n-a<1e3)?i=t.requestAnimationFrame(f):(i=setTimeout(f,o[d]),a=!1))}o[d]=200,o[u]=20,o[h]=!0,e.event.special[l]={setup:function(){if(!o[h]&&this[s])return!1;var t=e(this);r.push(this),t.data(c,{w:t.width(),h:t.height()}),1===r.length&&(i=n,f())},teardown:function(){if(!o[h]&&this[s])return!1;for(var t=e(this),n=r.length-1;n>=0;n--)if(r[n]==this){r.splice(n,1);break}t.removeData(c),r.length||(a?cancelAnimationFrame(i):clearTimeout(i),i=null)},add:function(t){if(!o[h]&&this[s])return!1;var i;function r(t,r,o){var a=e(this),s=a.data(c)||{};s.w=r!==n?r:a.width(),s.h=o!==n?o:a.height(),i.apply(this,arguments)}if(e.isFunction(t))return i=t,r;i=t.handler,t.handler=r}},t.requestAnimationFrame||(t.requestAnimationFrame=t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e,n){return t.setTimeout(function(){e((new Date).getTime())},o[u])}),t.cancelAnimationFrame||(t.cancelAnimationFrame=t.webkitCancelRequestAnimationFrame||t.mozCancelRequestAnimationFrame||t.oCancelRequestAnimationFrame||t.msCancelRequestAnimationFrame||clearTimeout)}(jQuery,this),function(e){jQuery.plot.plugins.push({init:function(e){function t(){var t=e.getPlaceholder();0!=t.width()&&0!=t.height()&&(e.resize(),e.setupGrid(),e.draw())}e.hooks.bindEvents.push(function(e,n){e.getPlaceholder().resize(t)}),e.hooks.shutdown.push(function(e,n){e.getPlaceholder().unbind("resize",t)})},options:{},name:"resize",version:"1.0"})}(),function(e){var t={tooltip:{show:!1,cssClass:"flotTip",content:"%s | X: %x | Y: %y",xDateFormat:null,yDateFormat:null,monthNames:null,dayNames:null,shifts:{x:10,y:20},defaultTheme:!0,snap:!0,lines:!1,clickTips:!1,onHover:function(e,t){},$compat:!1}};t.tooltipOpts=t.tooltip;var n=function(e){this.tipPosition={x:0,y:0},this.init(e)};n.prototype.init=function(t){function n(e){var n={};n.x=e.pageX,n.y=e.pageY,t.setTooltipPosition(n)}function i(n,i,a){o.clickmode?(e(t.getPlaceholder()).bind("plothover",r),t.hideTooltip(),o.clickmode=!1):(r(n,i,a),o.getDomElement().is(":visible")&&(e(t.getPlaceholder()).unbind("plothover",r),o.clickmode=!0))}function r(n,i,r){var a=function(e,t,n,i){return Math.sqrt((n-e)*(n-e)+(i-t)*(i-t))};if(r)t.showTooltip(r,o.tooltipOptions.snap?r:i);else if(o.plotOptions.series.lines.show&&!0===o.tooltipOptions.lines){var s=o.plotOptions.grid.mouseActiveRadius,l={distance:s+1},c=i;e.each(t.getData(),function(e,n){for(var r=0,s=-1,d=1;d<n.data.length;d++)n.data[d-1][0]<=i.x&&n.data[d][0]>=i.x&&(r=d-1,s=d);if(-1!==s){var u={x:n.data[r][0],y:n.data[r][1]},h={x:n.data[s][0],y:n.data[s][1]},f=function(e,t,n,i,r,o,s){if(!s||(s=function(e,t,n,i,r,o){if(void 0!==n)return{x:n,y:t};if(void 0!==i)return{x:e,y:i};var a,s=-1/((o-i)/(r-n));return{x:a=(r*(e*s-t+i)+n*(e*-s+t-o))/(s*(r-n)+i-o),y:s*a-s*e+t}}(e,t,n,i,r,o)).x>=Math.min(n,r)&&s.x<=Math.max(n,r)&&s.y>=Math.min(i,o)&&s.y<=Math.max(i,o)){var l=i-o,c=r-n,d=n*o-i*r;return Math.abs(l*e+c*t+d)/Math.sqrt(l*l+c*c)}var u=a(e,t,n,i),h=a(e,t,r,o);return u>h?h:u}(n.xaxis.p2c(i.x),n.yaxis.p2c(i.y),n.xaxis.p2c(u.x),n.yaxis.p2c(u.y),n.xaxis.p2c(h.x),n.yaxis.p2c(h.y),!1);if(f<l.distance){var p=a(u.x,u.y,i.x,i.y)<a(i.x,i.y,h.x,h.y)?r:s,m=(n.datapoints.pointsize,[i.x,u.y+(h.y-u.y)*((i.x-u.x)/(h.x-u.x))]);l={distance:f,item:{datapoint:m,dataIndex:p,series:n,seriesIndex:e}},o.tooltipOptions.snap&&(c={pageX:n.xaxis.p2c(m[0]),pageY:n.yaxis.p2c(m[1])})}}else t.hideTooltip()}),l.distance<s+1?t.showTooltip(l.item,c):t.hideTooltip()}else t.hideTooltip()}var o=this,a=e.plot.plugins.length;if(this.plotPlugins=[],a)for(var s=0;a>s;s++)this.plotPlugins.push(e.plot.plugins[s].name);t.hooks.bindEvents.push(function(t,a){o.plotOptions=t.getOptions(),"boolean"==typeof o.plotOptions.tooltip&&(o.plotOptions.tooltipOpts.show=o.plotOptions.tooltip,o.plotOptions.tooltip=o.plotOptions.tooltipOpts,delete o.plotOptions.tooltipOpts),!1!==o.plotOptions.tooltip.show&&void 0!==o.plotOptions.tooltip.show&&(o.tooltipOptions=o.plotOptions.tooltip,o.tooltipOptions.$compat?(o.wfunc="width",o.hfunc="height"):(o.wfunc="innerWidth",o.hfunc="innerHeight"),o.getDomElement(),e(t.getPlaceholder()).bind("plothover",r),o.tooltipOptions.clickTips&&e(t.getPlaceholder()).bind("plotclick",i),o.clickmode=!1,e(a).bind("mousemove",n))}),t.hooks.shutdown.push(function(t,o){e(t.getPlaceholder()).unbind("plothover",r),e(t.getPlaceholder()).unbind("plotclick",i),t.removeTooltip(),e(o).unbind("mousemove",n)}),t.setTooltipPosition=function(t){var n=o.getDomElement(),i=n.outerWidth()+o.tooltipOptions.shifts.x,r=n.outerHeight()+o.tooltipOptions.shifts.y;t.x-e(window).scrollLeft()>e(window)[o.wfunc]()-i&&(t.x-=i,t.x=Math.max(t.x,0)),t.y-e(window).scrollTop()>e(window)[o.hfunc]()-r&&(t.y-=r),isNaN(t.x)?o.tipPosition.x=o.tipPosition.xPrev:(o.tipPosition.x=t.x,o.tipPosition.xPrev=t.x),isNaN(t.y)?o.tipPosition.y=o.tipPosition.yPrev:(o.tipPosition.y=t.y,o.tipPosition.yPrev=t.y)},t.showTooltip=function(e,n,i){var r=o.getDomElement(),a=o.stringFormat(o.tooltipOptions.content,e);""!==a&&(r.html(a),t.setTooltipPosition({x:o.tipPosition.x,y:o.tipPosition.y}),r.css({left:o.tipPosition.x+o.tooltipOptions.shifts.x,top:o.tipPosition.y+o.tooltipOptions.shifts.y}).show(),"function"==typeof o.tooltipOptions.onHover&&o.tooltipOptions.onHover(e,r))},t.hideTooltip=function(){o.getDomElement().hide().html("")},t.removeTooltip=function(){o.getDomElement().remove()}},n.prototype.getDomElement=function(){var t=e("<div>");return this.tooltipOptions&&this.tooltipOptions.cssClass&&(0===(t=e("."+this.tooltipOptions.cssClass)).length&&((t=e("<div />").addClass(this.tooltipOptions.cssClass)).appendTo("body").hide().css({position:"absolute"}),this.tooltipOptions.defaultTheme&&t.css({background:"#fff","z-index":"1040",padding:"0.4em 0.6em","border-radius":"0.5em","font-size":"0.8em",border:"1px solid #111",display:"none","white-space":"nowrap"}))),t},n.prototype.stringFormat=function(e,t){var n,i,r,o,a,s=/%s/,l=/%c/,c=/%lx/,d=/%ly/,u=/%x\.{0,1}(\d{0,})/,h=/%y\.{0,1}(\d{0,})/;if(void 0!==t.series.threshold?(n=t.datapoint[0],i=t.datapoint[1],r=t.datapoint[2]):void 0!==t.series.curvedLines?(n=t.datapoint[0],i=t.datapoint[1]):void 0!==t.series.lines&&t.series.lines.steps?(n=t.series.datapoints.points[2*t.dataIndex],i=t.series.datapoints.points[2*t.dataIndex+1],r=""):(n=t.series.data[t.dataIndex][0],i=t.series.data[t.dataIndex][1],r=t.series.data[t.dataIndex][2]),null===t.series.label&&t.series.originSeries&&(t.series.label=t.series.originSeries.label),"function"==typeof e&&(e=e(t.series.label,n,i,t)),"boolean"==typeof e&&!e)return"";if(r&&(e=e.replace("%ct",r)),void 0!==t.series.percent?o=t.series.percent:void 0!==t.series.percents&&(o=t.series.percents[t.dataIndex]),"number"==typeof o&&(e=this.adjustValPrecision(/%p\.{0,1}(\d{0,})/,e,o)),t.series.hasOwnProperty("pie")&&void 0!==t.series.data[0][1]&&(a=t.series.data[0][1]),"number"==typeof a&&(e=e.replace("%n",a)),e=void 0!==t.series.label?e.replace(s,t.series.label):e.replace(s,""),e=void 0!==t.series.color?e.replace(l,t.series.color):e.replace(l,""),e=this.hasAxisLabel("xaxis",t)?e.replace(c,t.series.xaxis.options.axisLabel):e.replace(c,""),e=this.hasAxisLabel("yaxis",t)?e.replace(d,t.series.yaxis.options.axisLabel):e.replace(d,""),this.isTimeMode("xaxis",t)&&this.isXDateFormat(t)&&(e=e.replace(u,this.timestampToDate(n,this.tooltipOptions.xDateFormat,t.series.xaxis.options))),this.isTimeMode("yaxis",t)&&this.isYDateFormat(t)&&(e=e.replace(h,this.timestampToDate(i,this.tooltipOptions.yDateFormat,t.series.yaxis.options))),"number"==typeof n&&(e=this.adjustValPrecision(u,e,n)),"number"==typeof i&&(e=this.adjustValPrecision(h,e,i)),void 0!==t.series.xaxis.ticks){var f;f=this.hasRotatedXAxisTicks(t)?"rotatedTicks":"ticks";var p=t.dataIndex+t.seriesIndex;for(var m in t.series.xaxis[f])if(t.series.xaxis[f].hasOwnProperty(p)&&!this.isTimeMode("xaxis",t)){(this.isCategoriesMode("xaxis",t)?t.series.xaxis[f][p].label:t.series.xaxis[f][p].v)===n&&(e=e.replace(u,t.series.xaxis[f][p].label.replace(/\$/g,"$$$$")))}}if(void 0!==t.series.yaxis.ticks)for(var g in t.series.yaxis.ticks)if(t.series.yaxis.ticks.hasOwnProperty(g)){(this.isCategoriesMode("yaxis",t)?t.series.yaxis.ticks[g].label:t.series.yaxis.ticks[g].v)===i&&(e=e.replace(h,t.series.yaxis.ticks[g].label.replace(/\$/g,"$$$$")))}return void 0!==t.series.xaxis.tickFormatter&&(e=e.replace("%x",t.series.xaxis.tickFormatter(n,t.series.xaxis).replace(/\$/g,"$$"))),void 0!==t.series.yaxis.tickFormatter&&(e=e.replace("%y",t.series.yaxis.tickFormatter(i,t.series.yaxis).replace(/\$/g,"$$"))),e},n.prototype.isTimeMode=function(e,t){return void 0!==t.series[e].options.mode&&"time"===t.series[e].options.mode},n.prototype.isXDateFormat=function(e){return void 0!==this.tooltipOptions.xDateFormat&&null!==this.tooltipOptions.xDateFormat},n.prototype.isYDateFormat=function(e){return void 0!==this.tooltipOptions.yDateFormat&&null!==this.tooltipOptions.yDateFormat},n.prototype.isCategoriesMode=function(e,t){return void 0!==t.series[e].options.mode&&"categories"===t.series[e].options.mode},n.prototype.timestampToDate=function(t,n,i){var r=e.plot.dateGenerator(t,i);return e.plot.formatDate(r,n,this.tooltipOptions.monthNames,this.tooltipOptions.dayNames)},n.prototype.adjustValPrecision=function(e,t,n){var i;return null!==t.match(e)&&""!==RegExp.$1&&(i=RegExp.$1,n=n.toFixed(i),t=t.replace(e,n)),t},n.prototype.hasAxisLabel=function(t,n){return-1!==e.inArray("axisLabels",this.plotPlugins)&&void 0!==n.series[t].options.axisLabel&&n.series[t].options.axisLabel.length>0},n.prototype.hasRotatedXAxisTicks=function(t){return-1!==e.inArray("tickRotor",this.plotPlugins)&&void 0!==t.series.xaxis.rotatedTicks};e.plot.plugins.push({init:function(e){new n(e)},options:t,name:"tooltip",version:"0.8.5"})}(jQuery),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(0,function(e){var t=function(e,t){var n,i=document.createElement("canvas");e.appendChild(i),"object"==typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(i);var r=i.getContext("2d");i.width=i.height=t.size;var o=1;window.devicePixelRatio>1&&(o=window.devicePixelRatio,i.style.width=i.style.height=[t.size,"px"].join(""),i.width=i.height=t.size*o,r.scale(o,o)),r.translate(t.size/2,t.size/2),r.rotate((t.rotate/180-.5)*Math.PI);var a=(t.size-t.lineWidth)/2;t.scaleColor&&t.scaleLength&&(a-=t.scaleLength+2),Date.now=Date.now||function(){return+new Date};var s=function(e,t,n){var i=0>=(n=Math.min(Math.max(-1,n||0),1));r.beginPath(),r.arc(0,0,a,0,2*Math.PI*n,i),r.strokeStyle=e,r.lineWidth=t,r.stroke()},l=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},c=function(){t.scaleColor&&function(){var e,n;r.lineWidth=1,r.fillStyle=t.scaleColor,r.save();for(var i=24;i>0;--i)i%6==0?(n=t.scaleLength,e=0):(n=.6*t.scaleLength,e=t.scaleLength-n),r.fillRect(-t.size/2+e,0,n,1),r.rotate(Math.PI/12);r.restore()}(),t.trackColor&&s(t.trackColor,t.trackWidth||t.lineWidth,1)};this.getCanvas=function(){return i},this.getCtx=function(){return r},this.clear=function(){r.clearRect(t.size/-2,t.size/-2,t.size,t.size)},this.draw=function(e){var i;t.scaleColor||t.trackColor?r.getImageData&&r.putImageData?n?r.putImageData(n,0,0):(c(),n=r.getImageData(0,0,t.size*o,t.size*o)):(this.clear(),c()):this.clear(),r.lineCap=t.lineCap,i="function"==typeof t.barColor?t.barColor(e):t.barColor,s(i,t.lineWidth,e/100)}.bind(this),this.animate=function(e,n){var i=Date.now();t.onStart(e,n);var r=function(){var o=Math.min(Date.now()-i,t.animate.duration),a=t.easing(this,o,e,n-e,t.animate.duration);this.draw(a),t.onStep(e,n,a),o>=t.animate.duration?t.onStop(e,n):l(r)}.bind(this);l(r)}.bind(this)},n=function(e,n){var i={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,trackWidth:void 0,size:110,rotate:0,animate:{duration:1e3,enabled:!0},easing:function(e,t,n,i,r){return 1>(t/=r/2)?i/2*t*t+n:-i/2*(--t*(t-2)-1)+n},onStart:function(e,t){},onStep:function(e,t,n){},onStop:function(e,t){}};if(void 0!==t)i.renderer=t;else{if("undefined"==typeof SVGRenderer)throw new Error("Please load either the SVG- or the CanvasRenderer");i.renderer=SVGRenderer}var r={},o=0,a=function(){for(var t in this.el=e,this.options=r,i)i.hasOwnProperty(t)&&(r[t]=n&&void 0!==n[t]?n[t]:i[t],"function"==typeof r[t]&&(r[t]=r[t].bind(this)));"string"==typeof r.easing&&"undefined"!=typeof jQuery&&jQuery.isFunction(jQuery.easing[r.easing])?r.easing=jQuery.easing[r.easing]:r.easing=i.easing,"number"==typeof r.animate&&(r.animate={duration:r.animate,enabled:!0}),"boolean"!=typeof r.animate||r.animate||(r.animate={duration:1e3,enabled:r.animate}),this.renderer=new r.renderer(e,r),this.renderer.draw(o),e.dataset&&e.dataset.percent?this.update(parseFloat(e.dataset.percent)):e.getAttribute&&e.getAttribute("data-percent")&&this.update(parseFloat(e.getAttribute("data-percent")))}.bind(this);this.update=function(e){return e=parseFloat(e),r.animate.enabled?this.renderer.animate(o,e):this.renderer.draw(e),o=e,this}.bind(this),this.disableAnimation=function(){return r.animate.enabled=!1,this},this.enableAnimation=function(){return r.animate.enabled=!0,this},a()};e.fn.easyPieChart=function(t){return this.each(function(){var i;e.data(this,"easyPieChart")||(i=e.extend({},t,e(this).data()),e.data(this,"easyPieChart",new n(this,i)))})}}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e,t){"use strict";if(!e.jstree){var n=0,i=!1,r=!1,o=!1,a=[],s=e("script:last").attr("src"),l=window.document;e.jstree={version:"3.3.8",defaults:{plugins:[]},plugins:{},path:s&&-1!==s.indexOf("/")?s.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%?`]/g,root:"#"},e.jstree.create=function(t,i){var r=new e.jstree.core(++n),o=i;return i=e.extend(!0,{},e.jstree.defaults,i),o&&o.plugins&&(i.plugins=o.plugins),e.each(i.plugins,function(e,t){"core"!==e&&(r=r.plugin(t,i[t]))}),e(t).data("jstree",r),r.init(t,i),r},e.jstree.destroy=function(){e(".jstree:jstree").jstree("destroy"),e(l).off(".jstree")},e.jstree.core=function(e){this._id=e,this._cnt=0,this._wrk=null,this._data={core:{themes:{name:!1,dots:!1,icons:!1,ellipsis:!1},selected:[],last_error:{},working:!1,worker_queue:[],focused:null}}},e.jstree.reference=function(t){var n=null,i=null;if(!t||!t.id||t.tagName&&t.nodeType||(t=t.id),!i||!i.length)try{i=e(t)}catch(e){}if(!i||!i.length)try{i=e("#"+t.replace(e.jstree.idregex,"\\$&"))}catch(e){}return i&&i.length&&(i=i.closest(".jstree")).length&&(i=i.data("jstree"))?n=i:e(".jstree").each(function(){var i=e(this).data("jstree");return i&&i._model.data[t]?(n=i,!1):void 0}),n},e.fn.jstree=function(n){var i="string"==typeof n,r=Array.prototype.slice.call(arguments,1),o=null;return!(!0===n&&!this.length)&&(this.each(function(){var a=e.jstree.reference(this),s=i&&a?a[n]:null;return o=i&&s?s.apply(a,r):null,a||i||n!==t&&!e.isPlainObject(n)||e.jstree.create(this,n),(a&&!i||!0===n)&&(o=a||!1),(null===o||o===t)&&void 0}),null!==o&&o!==t?o:this)},e.expr.pseudos.jstree=e.expr.createPseudo(function(n){return function(n){return e(n).hasClass("jstree")&&e(n).data("jstree")!==t}}),e.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:e.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,ellipsis:!1,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1,dblclick_toggle:!0,loaded_state:!1,restore_focus:!0,keyboard:{"ctrl-space":function(t){t.type="click",e(t.currentTarget).trigger(t)},enter:function(t){t.type="click",e(t.currentTarget).trigger(t)},left:function(t){if(t.preventDefault(),this.is_open(t.currentTarget))this.close_node(t.currentTarget);else{var n=this.get_parent(t.currentTarget);n&&n.id!==e.jstree.root&&this.get_node(n,!0).children(".jstree-anchor").focus()}},up:function(e){e.preventDefault();var t=this.get_prev_dom(e.currentTarget);t&&t.length&&t.children(".jstree-anchor").focus()},right:function(t){if(t.preventDefault(),this.is_closed(t.currentTarget))this.open_node(t.currentTarget,function(e){this.get_node(e,!0).children(".jstree-anchor").focus()});else if(this.is_open(t.currentTarget)){var n=this.get_node(t.currentTarget,!0).children(".jstree-children")[0];n&&e(this._firstChild(n)).children(".jstree-anchor").focus()}},down:function(e){e.preventDefault();var t=this.get_next_dom(e.currentTarget);t&&t.length&&t.children(".jstree-anchor").focus()},"*":function(e){this.open_all()},home:function(t){t.preventDefault();var n=this._firstChild(this.get_container_ul()[0]);n&&e(n).children(".jstree-anchor").filter(":visible").focus()},end:function(e){e.preventDefault(),this.element.find(".jstree-anchor").filter(":visible").last().focus()},f2:function(e){e.preventDefault(),this.edit(e.currentTarget)}}},e.jstree.core.prototype={plugin:function(t,n){var i=e.jstree.plugins[t];return i?(this._data[t]={},i.prototype=this,new i(n,this)):this},init:function(t,n){this._model={data:{},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this.element=e(t).addClass("jstree jstree-"+this._id),this.settings=n,this._data.core.ready=!1,this._data.core.loaded=!1,this._data.core.rtl="rtl"===this.element.css("direction"),this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl"),this.element.attr("role","tree"),this.settings.core.multiple&&this.element.attr("aria-multiselectable",!0),this.element.attr("tabindex")||this.element.attr("tabindex","0"),this.bind(),this.trigger("init"),this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0),this._data.core.original_container_html.find("li").addBack().contents().filter(function(){return 3===this.nodeType&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove(),this.element.html("<ul class='jstree-container-ul jstree-children' role='group'><li id='j"+this._id+"_loading' class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='tree-item'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading"),this._data.core.li_height=this.get_container_ul().children("li").first().outerHeight()||24,this._data.core.node=this._create_prototype_node(),this.trigger("loading"),this.load_node(e.jstree.root)},destroy:function(e){if(this.trigger("destroy"),this._wrk)try{window.URL.revokeObjectURL(this._wrk),this._wrk=null}catch(e){}e||this.element.empty(),this.teardown()},_create_prototype_node:function(){var e,t,n=l.createElement("LI");return n.setAttribute("role","treeitem"),(e=l.createElement("I")).className="jstree-icon jstree-ocl",e.setAttribute("role","presentation"),n.appendChild(e),(e=l.createElement("A")).className="jstree-anchor",e.setAttribute("href","#"),e.setAttribute("tabindex","-1"),(t=l.createElement("I")).className="jstree-icon jstree-themeicon",t.setAttribute("role","presentation"),e.appendChild(t),n.appendChild(e),e=t=null,n},_kbevent_to_func:function(e){var t=[];e.ctrlKey&&t.push("ctrl"),e.altKey&&t.push("alt"),e.shiftKey&&t.push("shift"),t.push({8:"Backspace",9:"Tab",13:"Enter",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock",16:"Shift",17:"Ctrl",18:"Alt",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*",173:"-"}[e.which]||e.which),t=t.sort().join("-").toLowerCase();var n,i,r=this.settings.core.keyboard;for(n in r)if(r.hasOwnProperty(n)&&("-"!==(i=n)&&"+"!==i&&(i=(i=i.replace("--","-MINUS").replace("+-","-MINUS").replace("++","-PLUS").replace("-+","-PLUS")).split(/-|\+/).sort().join("-").replace("MINUS","-").replace("PLUS","+").toLowerCase()),i===t))return r[n];return null},teardown:function(){this.unbind(),this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/gi,"")}),this.element=null},bind:function(){var t="",n=null,i=0;this.element.on("dblclick.jstree",function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;if(l.selection&&l.selection.empty)l.selection.empty();else if(window.getSelection){var t=window.getSelection();try{t.removeAllRanges(),t.collapse()}catch(e){}}}).on("mousedown.jstree",e.proxy(function(e){e.target===this.element[0]&&(e.preventDefault(),i=+new Date)},this)).on("mousedown.jstree",".jstree-ocl",function(e){e.preventDefault()}).on("click.jstree",".jstree-ocl",e.proxy(function(e){this.toggle_node(e.target)},this)).on("dblclick.jstree",".jstree-anchor",e.proxy(function(e){return!(!e.target.tagName||"input"!==e.target.tagName.toLowerCase())||void(this.settings.core.dblclick_toggle&&this.toggle_node(e.target))},this)).on("click.jstree",".jstree-anchor",e.proxy(function(t){t.preventDefault(),t.currentTarget!==l.activeElement&&e(t.currentTarget).focus(),this.activate_node(t.currentTarget,t)},this)).on("keydown.jstree",".jstree-anchor",e.proxy(function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;this._data.core.rtl&&(37===e.which?e.which=39:39===e.which&&(e.which=37));var t=this._kbevent_to_func(e);if(t){var n=t.call(this,e);if(!1===n||!0===n)return n}},this)).on("load_node.jstree",e.proxy(function(t,n){n.status&&(n.node.id!==e.jstree.root||this._data.core.loaded||(this._data.core.loaded=!0,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.trigger("loaded")),this._data.core.ready||setTimeout(e.proxy(function(){if(this.element&&!this.get_container_ul().find(".jstree-loading").length){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){var t,n,i=[];for(t=0,n=this._data.core.selected.length;n>t;t++)i=i.concat(this._model.data[this._data.core.selected[t]].parents);for(t=0,n=(i=e.vakata.array_unique(i)).length;n>t;t++)this.open_node(i[t],!1,0)}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}this.trigger("ready")}},this),0))},this)).on("keypress.jstree",e.proxy(function(i){if(i.target.tagName&&"input"===i.target.tagName.toLowerCase())return!0;n&&clearTimeout(n),n=setTimeout(function(){t=""},500);var r=String.fromCharCode(i.which).toLowerCase(),o=this.element.find(".jstree-anchor").filter(":visible"),a=o.index(l.activeElement)||0,s=!1;if((t+=r).length>1){if(o.slice(a).each(e.proxy(function(n,i){return 0===e(i).text().toLowerCase().indexOf(t)?(e(i).focus(),s=!0,!1):void 0},this)),s)return;if(o.slice(0,a).each(e.proxy(function(n,i){return 0===e(i).text().toLowerCase().indexOf(t)?(e(i).focus(),s=!0,!1):void 0},this)),s)return}if(new RegExp("^"+r.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"+$").test(t)){if(o.slice(a+1).each(e.proxy(function(t,n){return e(n).text().toLowerCase().charAt(0)===r?(e(n).focus(),s=!0,!1):void 0},this)),s)return;if(o.slice(0,a+1).each(e.proxy(function(t,n){return e(n).text().toLowerCase().charAt(0)===r?(e(n).focus(),s=!0,!1):void 0},this)),s)return}},this)).on("init.jstree",e.proxy(function(){var e=this.settings.core.themes;this._data.core.themes.dots=e.dots,this._data.core.themes.stripes=e.stripes,this._data.core.themes.icons=e.icons,this._data.core.themes.ellipsis=e.ellipsis,this.set_theme(e.name||"default",e.url),this.set_theme_variant(e.variant)},this)).on("loading.jstree",e.proxy(function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"](),this[this._data.core.themes.icons?"show_icons":"hide_icons"](),this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"](),this[this._data.core.themes.ellipsis?"show_ellipsis":"hide_ellipsis"]()},this)).on("blur.jstree",".jstree-anchor",e.proxy(function(t){this._data.core.focused=null,e(t.currentTarget).filter(".jstree-hovered").trigger("mouseleave"),this.element.attr("tabindex","0")},this)).on("focus.jstree",".jstree-anchor",e.proxy(function(t){var n=this.get_node(t.currentTarget);n&&n.id&&(this._data.core.focused=n.id),this.element.find(".jstree-hovered").not(t.currentTarget).trigger("mouseleave"),e(t.currentTarget).trigger("mouseenter"),this.element.attr("tabindex","-1")},this)).on("focus.jstree",e.proxy(function(){if(+new Date-i>500&&!this._data.core.focused&&this.settings.core.restore_focus){i=0;var e=this.get_node(this.element.attr("aria-activedescendant"),!0);e&&e.find("> .jstree-anchor").focus()}},this)).on("mouseenter.jstree",".jstree-anchor",e.proxy(function(e){this.hover_node(e.currentTarget)},this)).on("mouseleave.jstree",".jstree-anchor",e.proxy(function(e){this.dehover_node(e.currentTarget)},this))},unbind:function(){this.element.off(".jstree"),e(l).off(".jstree-"+this._id)},trigger:function(e,t){t||(t={}),t.instance=this,this.element.triggerHandler(e.replace(".jstree","")+".jstree",t)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children").first()},get_string:function(t){var n=this.settings.core.strings;return e.isFunction(n)?n.call(this,t):n&&n[t]?n[t]:t},_firstChild:function(e){for(e=e?e.firstChild:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_nextSibling:function(e){for(e=e?e.nextSibling:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_previousSibling:function(e){for(e=e?e.previousSibling:null;null!==e&&1!==e.nodeType;)e=e.previousSibling;return e},get_node:function(t,n){var i;t&&t.id&&(t=t.id),t instanceof e&&t.length&&t[0].id&&(t=t[0].id);try{if(this._model.data[t])t=this._model.data[t];else if("string"==typeof t&&this._model.data[t.replace(/^#/,"")])t=this._model.data[t.replace(/^#/,"")];else if("string"==typeof t&&(i=e("#"+t.replace(e.jstree.idregex,"\\$&"),this.element)).length&&this._model.data[i.closest(".jstree-node").attr("id")])t=this._model.data[i.closest(".jstree-node").attr("id")];else if((i=this.element.find(t)).length&&this._model.data[i.closest(".jstree-node").attr("id")])t=this._model.data[i.closest(".jstree-node").attr("id")];else{if(!(i=this.element.find(t)).length||!i.hasClass("jstree"))return!1;t=this._model.data[e.jstree.root]}return n&&(t=t.id===e.jstree.root?this.element:e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)),t}catch(e){return!1}},get_path:function(t,n,i){if(!(t=t.parents?t:this.get_node(t))||t.id===e.jstree.root||!t.parents)return!1;var r,o,a=[];for(a.push(i?t.id:t.text),r=0,o=t.parents.length;o>r;r++)a.push(i?t.parents[r]:this.get_text(t.parents[r]));return a=a.reverse().slice(1),n?a.join(n):a},get_next_dom:function(t,n){var i;if((t=this.get_node(t,!0))[0]===this.element[0]){for(i=this._firstChild(this.get_container_ul()[0]);i&&0===i.offsetHeight;)i=this._nextSibling(i);return!!i&&e(i)}if(!t||!t.length)return!1;if(n){i=t[0];do{i=this._nextSibling(i)}while(i&&0===i.offsetHeight);return!!i&&e(i)}if(t.hasClass("jstree-open")){for(i=this._firstChild(t.children(".jstree-children")[0]);i&&0===i.offsetHeight;)i=this._nextSibling(i);if(null!==i)return e(i)}i=t[0];do{i=this._nextSibling(i)}while(i&&0===i.offsetHeight);return null!==i?e(i):t.parentsUntil(".jstree",".jstree-node").nextAll(".jstree-node:visible").first()},get_prev_dom:function(t,n){var i;if((t=this.get_node(t,!0))[0]===this.element[0]){for(i=this.get_container_ul()[0].lastChild;i&&0===i.offsetHeight;)i=this._previousSibling(i);return!!i&&e(i)}if(!t||!t.length)return!1;if(n){i=t[0];do{i=this._previousSibling(i)}while(i&&0===i.offsetHeight);return!!i&&e(i)}i=t[0];do{i=this._previousSibling(i)}while(i&&0===i.offsetHeight);if(null!==i){for(t=e(i);t.hasClass("jstree-open");)t=t.children(".jstree-children").first().children(".jstree-node:visible:last");return t}return!(!(i=t[0].parentNode.parentNode)||!i.className||-1===i.className.indexOf("jstree-node"))&&e(i)},get_parent:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.parent},get_children_dom:function(e){return(e=this.get_node(e,!0))[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):!(!e||!e.length)&&e.children(".jstree-children").children(".jstree-node")},is_parent:function(e){return(e=this.get_node(e))&&(!1===e.state.loaded||e.children.length>0)},is_loaded:function(e){return(e=this.get_node(e))&&e.state.loaded},is_loading:function(e){return(e=this.get_node(e))&&e.state&&e.state.loading},is_open:function(e){return(e=this.get_node(e))&&e.state.opened},is_closed:function(e){return(e=this.get_node(e))&&this.is_parent(e)&&!e.state.opened},is_leaf:function(e){return!this.is_parent(e)},load_node:function(t,n){var i,r,o,a,s;if(e.isArray(t))return this._load_nodes(t.slice(),n),!0;if(!(t=this.get_node(t)))return n&&n.call(this,t,!1),!1;if(t.state.loaded){for(t.state.loaded=!1,o=0,a=t.parents.length;a>o;o++)this._model.data[t.parents[o]].children_d=e.vakata.array_filter(this._model.data[t.parents[o]].children_d,function(n){return-1===e.inArray(n,t.children_d)});for(i=0,r=t.children_d.length;r>i;i++)this._model.data[t.children_d[i]].state.selected&&(s=!0),delete this._model.data[t.children_d[i]];s&&(this._data.core.selected=e.vakata.array_filter(this._data.core.selected,function(n){return-1===e.inArray(n,t.children_d)})),t.children=[],t.children_d=[],s&&this.trigger("changed",{action:"load_node",node:t,selected:this._data.core.selected})}return t.state.failed=!1,t.state.loading=!0,this.get_node(t,!0).addClass("jstree-loading").attr("aria-busy",!0),this._load_node(t,e.proxy(function(e){(t=this._model.data[t.id]).state.loading=!1,t.state.loaded=e,t.state.failed=!t.state.loaded;var i,r=this.get_node(t,!0),o=0,a=this._model.data,s=!1;for(o=0,i=t.children.length;i>o;o++)if(a[t.children[o]]&&!a[t.children[o]].state.hidden){s=!0;break}t.state.loaded&&r&&r.length&&(r.removeClass("jstree-closed jstree-open jstree-leaf"),s?"#"!==t.id&&r.addClass(t.state.opened?"jstree-open":"jstree-closed"):r.addClass("jstree-leaf")),r.removeClass("jstree-loading").attr("aria-busy",!1),this.trigger("load_node",{node:t,status:e}),n&&n.call(this,t,e)},this)),!0},_load_nodes:function(e,t,n,i){var r,o,a=!0,s=function(){this._load_nodes(e,t,!0)},l=this._model.data,c=[];for(r=0,o=e.length;o>r;r++)l[e[r]]&&(!l[e[r]].state.loaded&&!l[e[r]].state.failed||!n&&i)&&(this.is_loading(e[r])||this.load_node(e[r],s),a=!1);if(a){for(r=0,o=e.length;o>r;r++)l[e[r]]&&l[e[r]].state.loaded&&c.push(e[r]);t&&!t.done&&(t.call(this,c),t.done=!0)}},load_all:function(t,n){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var i,r,o=[],a=this._model.data,s=a[t.id].children_d;for(t.state&&!t.state.loaded&&o.push(t.id),i=0,r=s.length;r>i;i++)a[s[i]]&&a[s[i]].state&&!a[s[i]].state.loaded&&o.push(s[i]);o.length?this._load_nodes(o,function(){this.load_all(t,n)}):(n&&n.call(this,t),this.trigger("load_all",{node:t}))},_load_node:function(t,n){var i,r=this.settings.core.data,o=function(){return 3!==this.nodeType&&8!==this.nodeType};return r?e.isFunction(r)?r.call(this,t,e.proxy(function(i){!1===i?n.call(this,!1):this["string"==typeof i?"_append_html_data":"_append_json_data"](t,"string"==typeof i?e(e.parseHTML(i)).filter(o):i,function(e){n.call(this,e)})},this)):"object"==typeof r?r.url?(r=e.extend(!0,{},r),e.isFunction(r.url)&&(r.url=r.url.call(this,t)),e.isFunction(r.data)&&(r.data=r.data.call(this,t)),e.ajax(r).done(e.proxy(function(i,r,a){var s=a.getResponseHeader("Content-Type");return s&&-1!==s.indexOf("json")||"object"==typeof i?this._append_json_data(t,i,function(e){n.call(this,e)}):s&&-1!==s.indexOf("html")||"string"==typeof i?this._append_html_data(t,e(e.parseHTML(i)).filter(o),function(e){n.call(this,e)}):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:a})},this.settings.core.error.call(this,this._data.core.last_error),n.call(this,!1))},this)).fail(e.proxy(function(e){this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:e})},n.call(this,!1),this.settings.core.error.call(this,this._data.core.last_error)},this))):(i=e.isArray(r)?e.extend(!0,[],r):e.isPlainObject(r)?e.extend(!0,{},r):r,t.id===e.jstree.root?this._append_json_data(t,i,function(e){n.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),n.call(this,!1))):"string"==typeof r?t.id===e.jstree.root?this._append_html_data(t,e(e.parseHTML(r)).filter(o),function(e){n.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),n.call(this,!1)):n.call(this,!1):t.id===e.jstree.root?this._append_html_data(t,this._data.core.original_container_html.clone(!0),function(e){n.call(this,e)}):n.call(this,!1)},_node_changed:function(t){(t=this.get_node(t))&&-1===e.inArray(t.id,this._model.changed)&&this._model.changed.push(t.id)},_append_html_data:function(t,n,i){(t=this.get_node(t)).children=[],t.children_d=[];var r,o,a,s=n.is("ul")?n.children():n,l=t.id,c=[],d=[],u=this._model.data,h=u[l],f=this._data.core.selected.length;for(s.each(e.proxy(function(t,n){(r=this._parse_model_from_html(e(n),l,h.parents.concat()))&&(c.push(r),d.push(r),u[r].children_d.length&&(d=d.concat(u[r].children_d)))},this)),h.children=c,h.children_d=d,o=0,a=h.parents.length;a>o;o++)u[h.parents[o]].children_d=u[h.parents[o]].children_d.concat(d);this.trigger("model",{nodes:d,parent:l}),l!==e.jstree.root?(this._node_changed(l),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0)),this._data.core.selected.length!==f&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),i.call(this,!0)},_append_json_data:function(t,n,i,r){if(null!==this.element){(t=this.get_node(t)).children=[],t.children_d=[],n.d&&("string"==typeof(n=n.d)&&(n=JSON.parse(n))),e.isArray(n)||(n=[n]);var o=null,a={df:this._model.default_state,dat:n,par:t.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},s=this,l=function(e,t){e.data&&(e=e.data);var n,i,r,o,a=e.dat,l=e.par,c=[],d=[],u=[],h=e.df,f=e.t_id,p=e.t_cnt,m=e.m,g=m[l],v=e.sel,y=function(e,n,i){i=i?i.concat():[],n&&i.unshift(n);var r,o,a,s,l=e.id.toString(),c={id:l,text:e.text||"",icon:e.icon===t||e.icon,parent:n,parents:i,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(r in h)h.hasOwnProperty(r)&&(c.state[r]=h[r]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(c.icon=e.data.jstree.icon),(c.icon===t||null===c.icon||""===c.icon)&&(c.icon=!0),e&&e.data&&(c.data=e.data,e.data.jstree))for(r in e.data.jstree)e.data.jstree.hasOwnProperty(r)&&(c.state[r]=e.data.jstree[r]);if(e&&"object"==typeof e.state)for(r in e.state)e.state.hasOwnProperty(r)&&(c.state[r]=e.state[r]);if(e&&"object"==typeof e.li_attr)for(r in e.li_attr)e.li_attr.hasOwnProperty(r)&&(c.li_attr[r]=e.li_attr[r]);if(c.li_attr.id||(c.li_attr.id=l),e&&"object"==typeof e.a_attr)for(r in e.a_attr)e.a_attr.hasOwnProperty(r)&&(c.a_attr[r]=e.a_attr[r]);for(e&&e.children&&!0===e.children&&(c.state.loaded=!1,c.children=[],c.children_d=[]),m[c.id]=c,r=0,o=c.children.length;o>r;r++)a=y(m[c.children[r]],c.id,i),s=m[a],c.children_d.push(a),s.children_d.length&&(c.children_d=c.children_d.concat(s.children_d));return delete e.data,delete e.children,m[c.id].original=e,c.state.selected&&u.push(c.id),c.id},b=function(e,n,i){i=i?i.concat():[],n&&i.unshift(n);var r,o,a,s,l,c=!1;do{c="j"+f+"_"+ ++p}while(m[c]);for(r in l={id:!1,text:"string"==typeof e?e:"",icon:"object"!=typeof e||e.icon===t||e.icon,parent:n,parents:i,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},h)h.hasOwnProperty(r)&&(l.state[r]=h[r]);if(e&&e.id&&(l.id=e.id.toString()),e&&e.text&&(l.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(l.icon=e.data.jstree.icon),(l.icon===t||null===l.icon||""===l.icon)&&(l.icon=!0),e&&e.data&&(l.data=e.data,e.data.jstree))for(r in e.data.jstree)e.data.jstree.hasOwnProperty(r)&&(l.state[r]=e.data.jstree[r]);if(e&&"object"==typeof e.state)for(r in e.state)e.state.hasOwnProperty(r)&&(l.state[r]=e.state[r]);if(e&&"object"==typeof e.li_attr)for(r in e.li_attr)e.li_attr.hasOwnProperty(r)&&(l.li_attr[r]=e.li_attr[r]);if(l.li_attr.id&&!l.id&&(l.id=l.li_attr.id.toString()),l.id||(l.id=c),l.li_attr.id||(l.li_attr.id=l.id),e&&"object"==typeof e.a_attr)for(r in e.a_attr)e.a_attr.hasOwnProperty(r)&&(l.a_attr[r]=e.a_attr[r]);if(e&&e.children&&e.children.length){for(r=0,o=e.children.length;o>r;r++)a=b(e.children[r],l.id,i),s=m[a],l.children.push(a),s.children_d.length&&(l.children_d=l.children_d.concat(s.children_d));l.children_d=l.children_d.concat(l.children)}return e&&e.children&&!0===e.children&&(l.state.loaded=!1,l.children=[],l.children_d=[]),delete e.data,delete e.children,l.original=e,m[l.id]=l,l.state.selected&&u.push(l.id),l.id};if(a.length&&a[0].id!==t&&a[0].parent!==t){for(i=0,r=a.length;r>i;i++)a[i].children||(a[i].children=[]),a[i].state||(a[i].state={}),m[a[i].id.toString()]=a[i];for(i=0,r=a.length;r>i;i++)m[a[i].parent.toString()]?(m[a[i].parent.toString()].children.push(a[i].id.toString()),g.children_d.push(a[i].id.toString())):void 0!==s&&(s._data.core.last_error={error:"parse",plugin:"core",id:"core_07",reason:"Node with invalid parent",data:JSON.stringify({id:a[i].id.toString(),parent:a[i].parent.toString()})},s.settings.core.error.call(s,s._data.core.last_error));for(i=0,r=g.children.length;r>i;i++)n=y(m[g.children[i]],l,g.parents.concat()),d.push(n),m[n].children_d.length&&(d=d.concat(m[n].children_d));for(i=0,r=g.parents.length;r>i;i++)m[g.parents[i]].children_d=m[g.parents[i]].children_d.concat(d);o={cnt:p,mod:m,sel:v,par:l,dpc:d,add:u}}else{for(i=0,r=a.length;r>i;i++)(n=b(a[i],l,g.parents.concat()))&&(c.push(n),d.push(n),m[n].children_d.length&&(d=d.concat(m[n].children_d)));for(g.children=c,g.children_d=d,i=0,r=g.parents.length;r>i;i++)m[g.parents[i]].children_d=m[g.parents[i]].children_d.concat(d);o={cnt:p,mod:m,sel:v,par:l,dpc:d,add:u}}return"undefined"!=typeof window&&void 0!==window.document?o:void postMessage(o)},c=function(t,n){if(null!==this.element){this._cnt=t.cnt;var r,o=this._model.data;for(r in o)o.hasOwnProperty(r)&&o[r].state&&o[r].state.loading&&t.mod[r]&&(t.mod[r].state.loading=!0);if(this._model.data=t.mod,n){var a,s=t.add,l=t.sel,c=this._data.core.selected.slice();if(o=this._model.data,l.length!==c.length||e.vakata.array_unique(l.concat(c)).length!==l.length){for(r=0,a=l.length;a>r;r++)-1===e.inArray(l[r],s)&&-1===e.inArray(l[r],c)&&(o[l[r]].state.selected=!1);for(r=0,a=c.length;a>r;r++)-1===e.inArray(c[r],l)&&(o[c[r]].state.selected=!0)}}t.add.length&&(this._data.core.selected=this._data.core.selected.concat(t.add)),this.trigger("model",{nodes:t.dpc,parent:t.par}),t.par!==e.jstree.root?(this._node_changed(t.par),this.redraw()):this.redraw(!0),t.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),i.call(this,!0)}};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker)try{null===this._wrk&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+l.toString()],{type:"text/javascript"}))),!this._data.core.working||r?(this._data.core.working=!0,(o=new window.Worker(this._wrk)).onmessage=e.proxy(function(e){c.call(this,e.data,!0);try{o.terminate(),o=null}catch(e){}this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1},this),a.par?o.postMessage(a):this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1):this._data.core.worker_queue.push([t,n,i,!0])}catch(e){c.call(this,l(a),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}else c.call(this,l(a),!1)}},_parse_model_from_html:function(n,i,r){r=r?[].concat(r):[],i&&r.unshift(i);var o,a,s,l,c,d=this._model.data,u={id:!1,text:!1,icon:!0,parent:i,parents:r,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(s in this._model.default_state)this._model.default_state.hasOwnProperty(s)&&(u.state[s]=this._model.default_state[s]);if(l=e.vakata.attributes(n,!0),e.each(l,function(t,n){return!(n=e.trim(n)).length||(u.li_attr[t]=n,void("id"===t&&(u.id=n.toString())))}),(l=n.children("a").first()).length&&(l=e.vakata.attributes(l,!0),e.each(l,function(t,n){(n=e.trim(n)).length&&(u.a_attr[t]=n)})),(l=n.children("a").first().length?n.children("a").first().clone():n.clone()).children("ins, i, ul").remove(),l=l.html(),l=e("<div />").html(l),u.text=this.settings.core.force_text?l.text():l.html(),l=n.data(),u.data=l?e.extend(!0,{},l):null,u.state.opened=n.hasClass("jstree-open"),u.state.selected=n.children("a").hasClass("jstree-clicked"),u.state.disabled=n.children("a").hasClass("jstree-disabled"),u.data&&u.data.jstree)for(s in u.data.jstree)u.data.jstree.hasOwnProperty(s)&&(u.state[s]=u.data.jstree[s]);(l=n.children("a").children(".jstree-themeicon")).length&&(u.icon=!l.hasClass("jstree-themeicon-hidden")&&l.attr("rel")),u.state.icon!==t&&(u.icon=u.state.icon),(u.icon===t||null===u.icon||""===u.icon)&&(u.icon=!0),l=n.children("ul").children("li");do{c="j"+this._id+"_"+ ++this._cnt}while(d[c]);return u.id=u.li_attr.id?u.li_attr.id.toString():c,l.length?(l.each(e.proxy(function(t,n){o=this._parse_model_from_html(e(n),u.id,r),a=this._model.data[o],u.children.push(o),a.children_d.length&&(u.children_d=u.children_d.concat(a.children_d))},this)),u.children_d=u.children_d.concat(u.children)):n.hasClass("jstree-closed")&&(u.state.loaded=!1),u.li_attr.class&&(u.li_attr.class=u.li_attr.class.replace("jstree-closed","").replace("jstree-open","")),u.a_attr.class&&(u.a_attr.class=u.a_attr.class.replace("jstree-clicked","").replace("jstree-disabled","")),d[u.id]=u,u.state.selected&&this._data.core.selected.push(u.id),u.id},_parse_model_from_flat_json:function(e,n,i){i=i?i.concat():[],n&&i.unshift(n);var r,o,a,s,l=e.id.toString(),c=this._model.data,d=this._model.default_state,u={id:l,text:e.text||"",icon:e.icon===t||e.icon,parent:n,parents:i,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(r in d)d.hasOwnProperty(r)&&(u.state[r]=d[r]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(u.icon=e.data.jstree.icon),(u.icon===t||null===u.icon||""===u.icon)&&(u.icon=!0),e&&e.data&&(u.data=e.data,e.data.jstree))for(r in e.data.jstree)e.data.jstree.hasOwnProperty(r)&&(u.state[r]=e.data.jstree[r]);if(e&&"object"==typeof e.state)for(r in e.state)e.state.hasOwnProperty(r)&&(u.state[r]=e.state[r]);if(e&&"object"==typeof e.li_attr)for(r in e.li_attr)e.li_attr.hasOwnProperty(r)&&(u.li_attr[r]=e.li_attr[r]);if(u.li_attr.id||(u.li_attr.id=l),e&&"object"==typeof e.a_attr)for(r in e.a_attr)e.a_attr.hasOwnProperty(r)&&(u.a_attr[r]=e.a_attr[r]);for(e&&e.children&&!0===e.children&&(u.state.loaded=!1,u.children=[],u.children_d=[]),c[u.id]=u,r=0,o=u.children.length;o>r;r++)s=c[a=this._parse_model_from_flat_json(c[u.children[r]],u.id,i)],u.children_d.push(a),s.children_d.length&&(u.children_d=u.children_d.concat(s.children_d));return delete e.data,delete e.children,c[u.id].original=e,u.state.selected&&this._data.core.selected.push(u.id),u.id},_parse_model_from_json:function(e,n,i){i=i?i.concat():[],n&&i.unshift(n);var r,o,a,s,l,c=!1,d=this._model.data,u=this._model.default_state;do{c="j"+this._id+"_"+ ++this._cnt}while(d[c]);for(r in l={id:!1,text:"string"==typeof e?e:"",icon:"object"!=typeof e||e.icon===t||e.icon,parent:n,parents:i,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},u)u.hasOwnProperty(r)&&(l.state[r]=u[r]);if(e&&e.id&&(l.id=e.id.toString()),e&&e.text&&(l.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(l.icon=e.data.jstree.icon),(l.icon===t||null===l.icon||""===l.icon)&&(l.icon=!0),e&&e.data&&(l.data=e.data,e.data.jstree))for(r in e.data.jstree)e.data.jstree.hasOwnProperty(r)&&(l.state[r]=e.data.jstree[r]);if(e&&"object"==typeof e.state)for(r in e.state)e.state.hasOwnProperty(r)&&(l.state[r]=e.state[r]);if(e&&"object"==typeof e.li_attr)for(r in e.li_attr)e.li_attr.hasOwnProperty(r)&&(l.li_attr[r]=e.li_attr[r]);if(l.li_attr.id&&!l.id&&(l.id=l.li_attr.id.toString()),l.id||(l.id=c),l.li_attr.id||(l.li_attr.id=l.id),e&&"object"==typeof e.a_attr)for(r in e.a_attr)e.a_attr.hasOwnProperty(r)&&(l.a_attr[r]=e.a_attr[r]);if(e&&e.children&&e.children.length){for(r=0,o=e.children.length;o>r;r++)s=d[a=this._parse_model_from_json(e.children[r],l.id,i)],l.children.push(a),s.children_d.length&&(l.children_d=l.children_d.concat(s.children_d));l.children_d=l.children.concat(l.children_d)}return e&&e.children&&!0===e.children&&(l.state.loaded=!1,l.children=[],l.children_d=[]),delete e.data,delete e.children,l.original=e,d[l.id]=l,l.state.selected&&this._data.core.selected.push(l.id),l.id},_redraw:function(){var t,n,i,r=this._model.force_full_redraw?this._model.data[e.jstree.root].children.concat([]):this._model.changed.concat([]),o=l.createElement("UL"),a=this._data.core.focused;for(n=0,i=r.length;i>n;n++)(t=this.redraw_node(r[n],!0,this._model.force_full_redraw))&&this._model.force_full_redraw&&o.appendChild(t);this._model.force_full_redraw&&(o.className=this.get_container_ul()[0].className,o.setAttribute("role","group"),this.element.empty().append(o)),null!==a&&this.settings.core.restore_focus&&((t=this.get_node(a,!0))&&t.length&&t.children(".jstree-anchor")[0]!==l.activeElement?t.children(".jstree-anchor").focus():this._data.core.focused=null),this._model.force_full_redraw=!1,this._model.changed=[],this.trigger("redraw",{nodes:r})},redraw:function(e){e&&(this._model.force_full_redraw=!0),this._redraw()},draw_children:function(t){var n=this.get_node(t),i=!1,r=!1,o=!1,a=l;if(!n)return!1;if(n.id===e.jstree.root)return this.redraw(!0);if(!(t=this.get_node(t,!0))||!t.length)return!1;if(t.children(".jstree-children").remove(),t=t[0],n.children.length&&n.state.loaded){for((o=a.createElement("UL")).setAttribute("role","group"),o.className="jstree-children",i=0,r=n.children.length;r>i;i++)o.appendChild(this.redraw_node(n.children[i],!0,!0));t.appendChild(o)}},redraw_node:function(t,n,i,r){var o=this.get_node(t),a=!1,s=!1,c=!1,d=!1,u=!1,h=!1,f="",p=l,m=this._model.data,g=!1,v=null,y=0,b=0,w=!1,x=!1;if(!o)return!1;if(o.id===e.jstree.root)return this.redraw(!0);if(n=n||0===o.children.length,t=l.querySelector?this.element[0].querySelector("#"+(-1!=="0123456789".indexOf(o.id[0])?"\\3"+o.id[0]+" "+o.id.substr(1).replace(e.jstree.idregex,"\\$&"):o.id.replace(e.jstree.idregex,"\\$&"))):l.getElementById(o.id))t=e(t),i||((a=t.parent().parent()[0])===this.element[0]&&(a=null),s=t.index()),n||!o.children.length||t.children(".jstree-children").length||(n=!0),n||(c=t.children(".jstree-children")[0]),g=t.children(".jstree-anchor")[0]===l.activeElement,t.remove();else if(n=!0,!i){if(!(null===(a=o.parent!==e.jstree.root?e("#"+o.parent.replace(e.jstree.idregex,"\\$&"),this.element)[0]:null)||a&&m[o.parent].state.opened))return!1;s=e.inArray(o.id,null===a?m[e.jstree.root].children:m[o.parent].children)}for(d in t=this._data.core.node.cloneNode(!0),f="jstree-node ",o.li_attr)if(o.li_attr.hasOwnProperty(d)){if("id"===d)continue;"class"!==d?t.setAttribute(d,o.li_attr[d]):f+=o.li_attr[d]}for(o.a_attr.id||(o.a_attr.id=o.id+"_anchor"),t.setAttribute("aria-selected",!!o.state.selected),t.setAttribute("aria-level",o.parents.length),t.setAttribute("aria-labelledby",o.a_attr.id),o.state.disabled&&t.setAttribute("aria-disabled",!0),d=0,u=o.children.length;u>d;d++)if(!m[o.children[d]].state.hidden){w=!0;break}if(null!==o.parent&&m[o.parent]&&!o.state.hidden&&(d=e.inArray(o.id,m[o.parent].children),x=o.id,-1!==d))for(d++,u=m[o.parent].children.length;u>d&&(m[m[o.parent].children[d]].state.hidden||(x=m[o.parent].children[d]),x===o.id);d++);for(u in o.state.hidden&&(f+=" jstree-hidden"),o.state.loading&&(f+=" jstree-loading"),o.state.loaded&&!w?f+=" jstree-leaf":(f+=o.state.opened&&o.state.loaded?" jstree-open":" jstree-closed",t.setAttribute("aria-expanded",o.state.opened&&o.state.loaded)),x===o.id&&(f+=" jstree-last"),t.id=o.id,t.className=f,f=(o.state.selected?" jstree-clicked":"")+(o.state.disabled?" jstree-disabled":""),o.a_attr)if(o.a_attr.hasOwnProperty(u)){if("href"===u&&"#"===o.a_attr[u])continue;"class"!==u?t.childNodes[1].setAttribute(u,o.a_attr[u]):f+=" "+o.a_attr[u]}if(f.length&&(t.childNodes[1].className="jstree-anchor "+f),(o.icon&&!0!==o.icon||!1===o.icon)&&(!1===o.icon?t.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":-1===o.icon.indexOf("/")&&-1===o.icon.indexOf(".")?t.childNodes[1].childNodes[0].className+=" "+o.icon+" jstree-themeicon-custom":(t.childNodes[1].childNodes[0].style.backgroundImage='url("'+o.icon+'")',t.childNodes[1].childNodes[0].style.backgroundPosition="center center",t.childNodes[1].childNodes[0].style.backgroundSize="auto",t.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),this.settings.core.force_text?t.childNodes[1].appendChild(p.createTextNode(o.text)):t.childNodes[1].innerHTML+=o.text,n&&o.children.length&&(o.state.opened||r)&&o.state.loaded){for((h=p.createElement("UL")).setAttribute("role","group"),h.className="jstree-children",d=0,u=o.children.length;u>d;d++)h.appendChild(this.redraw_node(o.children[d],n,!0));t.appendChild(h)}if(c&&t.appendChild(c),!i){for(a||(a=this.element[0]),d=0,u=a.childNodes.length;u>d;d++)if(a.childNodes[d]&&a.childNodes[d].className&&-1!==a.childNodes[d].className.indexOf("jstree-children")){v=a.childNodes[d];break}v||((v=p.createElement("UL")).setAttribute("role","group"),v.className="jstree-children",a.appendChild(v)),s<(a=v).childNodes.length?a.insertBefore(t,a.childNodes[s]):a.appendChild(t),g&&(y=this.element[0].scrollTop,b=this.element[0].scrollLeft,t.childNodes[1].focus(),this.element[0].scrollTop=y,this.element[0].scrollLeft=b)}return o.state.opened&&!o.state.loaded&&(o.state.opened=!1,setTimeout(e.proxy(function(){this.open_node(o.id,!1,0)},this),0)),t},open_node:function(n,i,r){var o,a,s,l;if(e.isArray(n)){for(o=0,a=(n=n.slice()).length;a>o;o++)this.open_node(n[o],i,r);return!0}return!(!(n=this.get_node(n))||n.id===e.jstree.root)&&(r=r===t?this.settings.core.animation:r,this.is_closed(n)?this.is_loaded(n)?(s=this.get_node(n,!0),l=this,s.length&&(r&&s.children(".jstree-children").length&&s.children(".jstree-children").stop(!0,!0),n.children.length&&!this._firstChild(s.children(".jstree-children")[0])&&this.draw_children(n),r?(this.trigger("before_open",{node:n}),s.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").attr("aria-expanded",!0).children(".jstree-children").stop(!0,!0).slideDown(r,function(){this.style.display="",l.element&&l.trigger("after_open",{node:n})})):(this.trigger("before_open",{node:n}),s[0].className=s[0].className.replace("jstree-closed","jstree-open"),s[0].setAttribute("aria-expanded",!0))),n.state.opened=!0,i&&i.call(this,n,!0),s.length||this.trigger("before_open",{node:n}),this.trigger("open_node",{node:n}),r&&s.length||this.trigger("after_open",{node:n}),!0):this.is_loading(n)?setTimeout(e.proxy(function(){this.open_node(n,i,r)},this),500):void this.load_node(n,function(e,t){return t?this.open_node(e,i,r):!!i&&i.call(this,e,!1)}):(i&&i.call(this,n,!1),!1))},_open_to:function(t){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var n,i,r=t.parents;for(n=0,i=r.length;i>n;n+=1)n!==e.jstree.root&&this.open_node(r[n],!1,0);return e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)},close_node:function(n,i){var r,o,a,s;if(e.isArray(n)){for(r=0,o=(n=n.slice()).length;o>r;r++)this.close_node(n[r],i);return!0}return!(!(n=this.get_node(n))||n.id===e.jstree.root)&&(!this.is_closed(n)&&(i=i===t?this.settings.core.animation:i,a=this,s=this.get_node(n,!0),n.state.opened=!1,this.trigger("close_node",{node:n}),void(s.length?i?s.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").attr("aria-expanded",!1).children(".jstree-children").stop(!0,!0).slideUp(i,function(){this.style.display="",s.children(".jstree-children").remove(),a.element&&a.trigger("after_close",{node:n})}):(s[0].className=s[0].className.replace("jstree-open","jstree-closed"),s.attr("aria-expanded",!1).children(".jstree-children").remove(),this.trigger("after_close",{node:n})):this.trigger("after_close",{node:n}))))},toggle_node:function(t){var n,i;if(e.isArray(t)){for(n=0,i=(t=t.slice()).length;i>n;n++)this.toggle_node(t[n]);return!0}return this.is_closed(t)?this.open_node(t):this.is_open(t)?this.close_node(t):void 0},open_all:function(t,n,i){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var r,o,a,s=t.id===e.jstree.root?this.get_container_ul():this.get_node(t,!0);if(!s.length){for(r=0,o=t.children_d.length;o>r;r++)this.is_closed(this._model.data[t.children_d[r]])&&(this._model.data[t.children_d[r]].state.opened=!0);return this.trigger("open_all",{node:t})}i=i||s,a=this,(s=this.is_closed(t)?s.find(".jstree-closed").addBack():s.find(".jstree-closed")).each(function(){a.open_node(this,function(e,t){t&&this.is_parent(e)&&this.open_all(e,n,i)},n||0)}),0===i.find(".jstree-closed").length&&this.trigger("open_all",{node:this.get_node(i)})},close_all:function(t,n){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var i,r,o=t.id===e.jstree.root?this.get_container_ul():this.get_node(t,!0),a=this;for(o.length&&(o=this.is_open(t)?o.find(".jstree-open").addBack():o.find(".jstree-open"),e(o.get().reverse()).each(function(){a.close_node(this,n||0)})),i=0,r=t.children_d.length;r>i;i++)this._model.data[t.children_d[i]].state.opened=!1;this.trigger("close_all",{node:t})},is_disabled:function(e){return(e=this.get_node(e))&&e.state&&e.state.disabled},enable_node:function(t){var n,i;if(e.isArray(t)){for(n=0,i=(t=t.slice()).length;i>n;n++)this.enable_node(t[n]);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(t.state.disabled=!1,this.get_node(t,!0).children(".jstree-anchor").removeClass("jstree-disabled").attr("aria-disabled",!1),void this.trigger("enable_node",{node:t}))},disable_node:function(t){var n,i;if(e.isArray(t)){for(n=0,i=(t=t.slice()).length;i>n;n++)this.disable_node(t[n]);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(t.state.disabled=!0,this.get_node(t,!0).children(".jstree-anchor").addClass("jstree-disabled").attr("aria-disabled",!0),void this.trigger("disable_node",{node:t}))},is_hidden:function(e){return!0===(e=this.get_node(e)).state.hidden},hide_node:function(t,n){var i,r;if(e.isArray(t)){for(i=0,r=(t=t.slice()).length;r>i;i++)this.hide_node(t[i],!0);return n||this.redraw(),!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&void(t.state.hidden||(t.state.hidden=!0,this._node_changed(t.parent),n||this.redraw(),this.trigger("hide_node",{node:t})))},show_node:function(t,n){var i,r;if(e.isArray(t)){for(i=0,r=(t=t.slice()).length;r>i;i++)this.show_node(t[i],!0);return n||this.redraw(),!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&void(t.state.hidden&&(t.state.hidden=!1,this._node_changed(t.parent),n||this.redraw(),this.trigger("show_node",{node:t})))},hide_all:function(t){var n,i=this._model.data,r=[];for(n in i)i.hasOwnProperty(n)&&n!==e.jstree.root&&!i[n].state.hidden&&(i[n].state.hidden=!0,r.push(n));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("hide_all",{nodes:r}),r},show_all:function(t){var n,i=this._model.data,r=[];for(n in i)i.hasOwnProperty(n)&&n!==e.jstree.root&&i[n].state.hidden&&(i[n].state.hidden=!1,r.push(n));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("show_all",{nodes:r}),r},activate_node:function(e,n){if(this.is_disabled(e))return!1;if(n&&"object"==typeof n||(n={}),this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==t?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),this.settings.core.multiple&&(n.metaKey||n.ctrlKey||n.shiftKey)&&(!n.shiftKey||this._data.core.last_clicked&&this.get_parent(e)&&this.get_parent(e)===this._data.core.last_clicked.parent))if(n.shiftKey){var i,r,o=this.get_node(e).id,a=this._data.core.last_clicked.id,s=this.get_node(this._data.core.last_clicked.parent).children,l=!1;for(i=0,r=s.length;r>i;i+=1)s[i]===o&&(l=!l),s[i]===a&&(l=!l),this.is_disabled(s[i])||!l&&s[i]!==o&&s[i]!==a?this.deselect_node(s[i],!0,n):this.is_hidden(s[i])||this.select_node(s[i],!0,!1,n);this.trigger("changed",{action:"select_node",node:this.get_node(e),selected:this._data.core.selected,event:n})}else this.is_selected(e)?this.deselect_node(e,!1,n):this.select_node(e,!1,!1,n);else!this.settings.core.multiple&&(n.metaKey||n.ctrlKey||n.shiftKey)&&this.is_selected(e)?this.deselect_node(e,!1,n):(this.deselect_all(!0),this.select_node(e,!1,!1,n),this._data.core.last_clicked=this.get_node(e));this.trigger("activate_node",{node:this.get_node(e),event:n})},hover_node:function(e){if(!(e=this.get_node(e,!0))||!e.length||e.children(".jstree-hovered").length)return!1;var t=this.element.find(".jstree-hovered"),n=this.element;t&&t.length&&this.dehover_node(t),e.children(".jstree-anchor").addClass("jstree-hovered"),this.trigger("hover_node",{node:this.get_node(e)}),setTimeout(function(){n.attr("aria-activedescendant",e[0].id)},0)},dehover_node:function(e){return!!((e=this.get_node(e,!0))&&e.length&&e.children(".jstree-hovered").length)&&(e.children(".jstree-anchor").removeClass("jstree-hovered"),void this.trigger("dehover_node",{node:this.get_node(e)}))},select_node:function(t,n,i,r){var o,a,s;if(e.isArray(t)){for(a=0,s=(t=t.slice()).length;s>a;a++)this.select_node(t[a],n,i,r);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(o=this.get_node(t,!0),void(t.state.selected||(t.state.selected=!0,this._data.core.selected.push(t.id),i||(o=this._open_to(t)),o&&o.length&&o.attr("aria-selected",!0).children(".jstree-anchor").addClass("jstree-clicked"),this.trigger("select_node",{node:t,selected:this._data.core.selected,event:r}),n||this.trigger("changed",{action:"select_node",node:t,selected:this._data.core.selected,event:r}))))},deselect_node:function(t,n,i){var r,o,a;if(e.isArray(t)){for(r=0,o=(t=t.slice()).length;o>r;r++)this.deselect_node(t[r],n,i);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(a=this.get_node(t,!0),void(t.state.selected&&(t.state.selected=!1,this._data.core.selected=e.vakata.array_remove_item(this._data.core.selected,t.id),a.length&&a.attr("aria-selected",!1).children(".jstree-anchor").removeClass("jstree-clicked"),this.trigger("deselect_node",{node:t,selected:this._data.core.selected,event:i}),n||this.trigger("changed",{action:"deselect_node",node:t,selected:this._data.core.selected,event:i}))))},select_all:function(t){var n,i,r=this._data.core.selected.concat([]);for(this._data.core.selected=this._model.data[e.jstree.root].children_d.concat(),n=0,i=this._data.core.selected.length;i>n;n++)this._model.data[this._data.core.selected[n]]&&(this._model.data[this._data.core.selected[n]].state.selected=!0);this.redraw(!0),this.trigger("select_all",{selected:this._data.core.selected}),t||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:r})},deselect_all:function(e){var t,n,i=this._data.core.selected.concat([]);for(t=0,n=this._data.core.selected.length;n>t;t++)this._model.data[this._data.core.selected[t]]&&(this._model.data[this._data.core.selected[t]].state.selected=!1);this._data.core.selected=[],this.element.find(".jstree-clicked").removeClass("jstree-clicked").parent().attr("aria-selected",!1),this.trigger("deselect_all",{selected:this._data.core.selected,node:i}),e||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:i})},is_selected:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.state.selected},get_selected:function(t){return t?e.map(this._data.core.selected,e.proxy(function(e){return this.get_node(e)},this)):this._data.core.selected.slice()},get_top_selected:function(t){var n,i,r,o,a=this.get_selected(!0),s={};for(n=0,i=a.length;i>n;n++)s[a[n].id]=a[n];for(n=0,i=a.length;i>n;n++)for(r=0,o=a[n].children_d.length;o>r;r++)s[a[n].children_d[r]]&&delete s[a[n].children_d[r]];for(n in a=[],s)s.hasOwnProperty(n)&&a.push(n);return t?e.map(a,e.proxy(function(e){return this.get_node(e)},this)):a},get_bottom_selected:function(t){var n,i,r=this.get_selected(!0),o=[];for(n=0,i=r.length;i>n;n++)r[n].children.length||o.push(r[n].id);return t?e.map(o,e.proxy(function(e){return this.get_node(e)},this)):o},get_state:function(){var t,n={core:{open:[],loaded:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},selected:[]}};for(t in this._model.data)this._model.data.hasOwnProperty(t)&&t!==e.jstree.root&&(this._model.data[t].state.loaded&&this.settings.core.loaded_state&&n.core.loaded.push(t),this._model.data[t].state.opened&&n.core.open.push(t),this._model.data[t].state.selected&&n.core.selected.push(t));return n},set_state:function(n,i){if(n){if(n.core&&n.core.selected&&n.core.initial_selection===t&&(n.core.initial_selection=this._data.core.selected.concat([]).sort().join(",")),n.core){var r,o;if(n.core.loaded)return this.settings.core.loaded_state&&e.isArray(n.core.loaded)&&n.core.loaded.length?this._load_nodes(n.core.loaded,function(e){delete n.core.loaded,this.set_state(n,i)}):(delete n.core.loaded,this.set_state(n,i)),!1;if(n.core.open)return e.isArray(n.core.open)&&n.core.open.length?this._load_nodes(n.core.open,function(e){this.open_node(e,!1,0),delete n.core.open,this.set_state(n,i)}):(delete n.core.open,this.set_state(n,i)),!1;if(n.core.scroll)return n.core.scroll&&n.core.scroll.left!==t&&this.element.scrollLeft(n.core.scroll.left),n.core.scroll&&n.core.scroll.top!==t&&this.element.scrollTop(n.core.scroll.top),delete n.core.scroll,this.set_state(n,i),!1;if(n.core.selected)return r=this,(n.core.initial_selection===t||n.core.initial_selection===this._data.core.selected.concat([]).sort().join(","))&&(this.deselect_all(),e.each(n.core.selected,function(e,t){r.select_node(t,!1,!0)})),delete n.core.initial_selection,delete n.core.selected,this.set_state(n,i),!1;for(o in n)n.hasOwnProperty(o)&&"core"!==o&&-1===e.inArray(o,this.settings.plugins)&&delete n[o];if(e.isEmptyObject(n.core))return delete n.core,this.set_state(n,i),!1}return!e.isEmptyObject(n)||(n=null,i&&i.call(this),this.trigger("set_state"),!1)}return!1},refresh:function(t,n){this._data.core.state=!0===n?{}:this.get_state(),n&&e.isFunction(n)&&(this._data.core.state=n.call(this,this._data.core.state)),this._cnt=0,this._model.data={},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this._data.core.selected=[],this._data.core.last_clicked=null,this._data.core.focused=null;var i=this.get_container_ul()[0].className;t||(this.element.html("<ul class='"+i+"' role='group'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='treeitem' id='j"+this._id+"_loading'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading")),this.load_node(e.jstree.root,function(t,n){n&&(this.get_container_ul()[0].className=i,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.set_state(e.extend(!0,{},this._data.core.state),function(){this.trigger("refresh")})),this._data.core.state=null})},refresh_node:function(t){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var n=[],i=[],r=this._data.core.selected.concat([]);i.push(t.id),!0===t.state.opened&&n.push(t.id),this.get_node(t,!0).find(".jstree-open").each(function(){i.push(this.id),n.push(this.id)}),this._load_nodes(i,e.proxy(function(e){this.open_node(n,!1,0),this.select_node(r),this.trigger("refresh_node",{node:t,nodes:e})},this),!1,!0)},set_id:function(t,n){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var i,r,o=this._model.data,a=t.id;for(n=n.toString(),o[t.parent].children[e.inArray(t.id,o[t.parent].children)]=n,i=0,r=t.parents.length;r>i;i++)o[t.parents[i]].children_d[e.inArray(t.id,o[t.parents[i]].children_d)]=n;for(i=0,r=t.children.length;r>i;i++)o[t.children[i]].parent=n;for(i=0,r=t.children_d.length;r>i;i++)o[t.children_d[i]].parents[e.inArray(t.id,o[t.children_d[i]].parents)]=n;return-1!==(i=e.inArray(t.id,this._data.core.selected))&&(this._data.core.selected[i]=n),(i=this.get_node(t.id,!0))&&(i.attr("id",n),this.element.attr("aria-activedescendant")===t.id&&this.element.attr("aria-activedescendant",n)),delete o[t.id],t.id=n,t.li_attr.id=n,o[n]=t,this.trigger("set_id",{node:t,new:t.id,old:a}),!0},get_text:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.text},set_text:function(t,n){var i,r;if(e.isArray(t)){for(i=0,r=(t=t.slice()).length;r>i;i++)this.set_text(t[i],n);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(t.text=n,this.get_node(t,!0).length&&this.redraw_node(t.id),this.trigger("set_text",{obj:t,text:n}),!0)},get_json:function(t,n,i){if(!(t=this.get_node(t||e.jstree.root)))return!1;n&&n.flat&&!i&&(i=[]);var r,o,a={id:t.id,text:t.text,icon:this.get_icon(t),li_attr:e.extend(!0,{},t.li_attr),a_attr:e.extend(!0,{},t.a_attr),state:{},data:(!n||!n.no_data)&&e.extend(!0,e.isArray(t.data)?[]:{},t.data)};if(n&&n.flat?a.parent=t.parent:a.children=[],n&&n.no_state)delete a.state;else for(r in t.state)t.state.hasOwnProperty(r)&&(a.state[r]=t.state[r]);if(n&&n.no_li_attr&&delete a.li_attr,n&&n.no_a_attr&&delete a.a_attr,n&&n.no_id&&(delete a.id,a.li_attr&&a.li_attr.id&&delete a.li_attr.id,a.a_attr&&a.a_attr.id&&delete a.a_attr.id),n&&n.flat&&t.id!==e.jstree.root&&i.push(a),!n||!n.no_children)for(r=0,o=t.children.length;o>r;r++)n&&n.flat?this.get_json(t.children[r],n,i):a.children.push(this.get_json(t.children[r],n));return n&&n.flat?i:t.id===e.jstree.root?a.children:a},create_node:function(n,i,r,o,a){if(null===n&&(n=e.jstree.root),!(n=this.get_node(n)))return!1;if(!(r=r===t?"last":r).toString().match(/^(before|after)$/)&&!a&&!this.is_loaded(n))return this.load_node(n,function(){this.create_node(n,i,r,o,!0)});var s,l,c,d;switch(i||(i={text:this.get_string("New node")}),(i="string"==typeof i?{text:i}:e.extend(!0,{},i)).text===t&&(i.text=this.get_string("New node")),n.id===e.jstree.root&&("before"===r&&(r="first"),"after"===r&&(r="last")),r){case"before":s=this.get_node(n.parent),r=e.inArray(n.id,s.children),n=s;break;case"after":s=this.get_node(n.parent),r=e.inArray(n.id,s.children)+1,n=s;break;case"inside":case"first":r=0;break;case"last":r=n.children.length;break;default:r||(r=0)}if(r>n.children.length&&(r=n.children.length),i.id||(i.id=!0),!this.check("create_node",i,n,r))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!0===i.id&&delete i.id,!(i=this._parse_model_from_json(i,n.id,n.parents.concat())))return!1;for(s=this.get_node(i),(l=[]).push(i),l=l.concat(s.children_d),this.trigger("model",{nodes:l,parent:n.id}),n.children_d=n.children_d.concat(l),c=0,d=n.parents.length;d>c;c++)this._model.data[n.parents[c]].children_d=this._model.data[n.parents[c]].children_d.concat(l);for(i=s,s=[],c=0,d=n.children.length;d>c;c++)s[c>=r?c+1:c]=n.children[c];return s[r]=i.id,n.children=s,this.redraw_node(n,!0),this.trigger("create_node",{node:this.get_node(i),parent:n.id,position:r}),o&&o.call(this,this.get_node(i)),i.id},rename_node:function(t,n){var i,r,o;if(e.isArray(t)){for(i=0,r=(t=t.slice()).length;r>i;i++)this.rename_node(t[i],n);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(o=t.text,this.check("rename_node",t,this.get_parent(t),n)?(this.set_text(t,n),this.trigger("rename_node",{node:t,text:n,old:o}),!0):(this.settings.core.error.call(this,this._data.core.last_error),!1))},delete_node:function(t){var n,i,r,o,a,s,l,c,d,u,h,f;if(e.isArray(t)){for(n=0,i=(t=t.slice()).length;i>n;n++)this.delete_node(t[n]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;if(r=this.get_node(t.parent),o=e.inArray(t.id,r.children),u=!1,!this.check("delete_node",t,r,o))return this.settings.core.error.call(this,this._data.core.last_error),!1;for(-1!==o&&(r.children=e.vakata.array_remove(r.children,o)),(a=t.children_d.concat([])).push(t.id),s=0,l=t.parents.length;l>s;s++)this._model.data[t.parents[s]].children_d=e.vakata.array_filter(this._model.data[t.parents[s]].children_d,function(t){return-1===e.inArray(t,a)});for(c=0,d=a.length;d>c;c++)if(this._model.data[a[c]].state.selected){u=!0;break}for(u&&(this._data.core.selected=e.vakata.array_filter(this._data.core.selected,function(t){return-1===e.inArray(t,a)})),this.trigger("delete_node",{node:t,parent:r.id}),u&&this.trigger("changed",{action:"delete_node",node:t,selected:this._data.core.selected,parent:r.id}),c=0,d=a.length;d>c;c++)delete this._model.data[a[c]];return-1!==e.inArray(this._data.core.focused,a)&&(this._data.core.focused=null,h=this.element[0].scrollTop,f=this.element[0].scrollLeft,r.id===e.jstree.root?this._model.data[e.jstree.root].children[0]&&this.get_node(this._model.data[e.jstree.root].children[0],!0).children(".jstree-anchor").focus():this.get_node(r,!0).children(".jstree-anchor").focus(),this.element[0].scrollTop=h,this.element[0].scrollLeft=f),this.redraw_node(r,!0),!0},check:function(t,n,i,r,o){n=n&&n.id?n:this.get_node(n),i=i&&i.id?i:this.get_node(i);var a=t.match(/^move_node|copy_node|create_node$/i)?i:n,s=this.settings.core.check_callback;if("move_node"===t||"copy_node"===t){if(!(o&&o.is_multi||"move_node"!==t||e.inArray(n.id,i.children)!==r))return this._data.core.last_error={error:"check",plugin:"core",id:"core_08",reason:"Moving node to its current position",data:JSON.stringify({chk:t,pos:r,obj:!(!n||!n.id)&&n.id,par:!(!i||!i.id)&&i.id})},!1;if(!(o&&o.is_multi||n.id!==i.id&&("move_node"!==t||e.inArray(n.id,i.children)!==r)&&-1===e.inArray(i.id,n.children_d)))return this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:t,pos:r,obj:!(!n||!n.id)&&n.id,par:!(!i||!i.id)&&i.id})},!1}return a&&a.data&&(a=a.data),a&&a.functions&&(!1===a.functions[t]||!0===a.functions[t])?(!1===a.functions[t]&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+t,data:JSON.stringify({chk:t,pos:r,obj:!(!n||!n.id)&&n.id,par:!(!i||!i.id)&&i.id})}),a.functions[t]):!(!1===s||e.isFunction(s)&&!1===s.call(this,t,n,i,r,o)||s&&!1===s[t])||(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+t,data:JSON.stringify({chk:t,pos:r,obj:!(!n||!n.id)&&n.id,par:!(!i||!i.id)&&i.id})},!1)},last_error:function(){return this._data.core.last_error},move_node:function(n,i,r,o,a,s,l){var c,d,u,h,f,p,m,g,v,y,b,w,x,_;if(i=this.get_node(i),r=r===t?0:r,!i)return!1;if(!r.toString().match(/^(before|after)$/)&&!a&&!this.is_loaded(i))return this.load_node(i,function(){this.move_node(n,i,r,o,!0,!1,l)});if(e.isArray(n)){if(1!==n.length){for(c=0,d=n.length;d>c;c++)(v=this.move_node(n[c],i,r,o,a,!1,l))&&(i=v,r="after");return this.redraw(),!0}n=n[0]}if(!(n=n&&n.id?n:this.get_node(n))||n.id===e.jstree.root)return!1;if(u=(n.parent||e.jstree.root).toString(),f=r.toString().match(/^(before|after)$/)&&i.id!==e.jstree.root?this.get_node(i.parent):i,m=!(p=l||(this._model.data[n.id]?this:e.jstree.reference(n.id)))||!p._id||this._id!==p._id,h=p&&p._id&&u&&p._model.data[u]&&p._model.data[u].children?e.inArray(n.id,p._model.data[u].children):-1,p&&p._id&&(n=p._model.data[n.id]),m)return!!(v=this.copy_node(n,i,r,o,a,!1,l))&&(p&&p.delete_node(n),v);switch(i.id===e.jstree.root&&("before"===r&&(r="first"),"after"===r&&(r="last")),r){case"before":r=e.inArray(i.id,f.children);break;case"after":r=e.inArray(i.id,f.children)+1;break;case"inside":case"first":r=0;break;case"last":r=f.children.length;break;default:r||(r=0)}if(r>f.children.length&&(r=f.children.length),!this.check("move_node",n,f,r,{core:!0,origin:l,is_multi:p&&p._id&&p._id!==this._id,is_foreign:!p||!p._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(n.parent===f.id){for(g=f.children.concat(),-1!==(v=e.inArray(n.id,g))&&(g=e.vakata.array_remove(g,v),r>v&&r--),v=[],y=0,b=g.length;b>y;y++)v[y>=r?y+1:y]=g[y];v[r]=n.id,f.children=v,this._node_changed(f.id),this.redraw(f.id===e.jstree.root)}else{for((v=n.children_d.concat()).push(n.id),y=0,b=n.parents.length;b>y;y++){for(g=[],w=0,x=(_=p._model.data[n.parents[y]].children_d).length;x>w;w++)-1===e.inArray(_[w],v)&&g.push(_[w]);p._model.data[n.parents[y]].children_d=g}for(p._model.data[u].children=e.vakata.array_remove_item(p._model.data[u].children,n.id),y=0,b=f.parents.length;b>y;y++)this._model.data[f.parents[y]].children_d=this._model.data[f.parents[y]].children_d.concat(v);for(g=[],y=0,b=f.children.length;b>y;y++)g[y>=r?y+1:y]=f.children[y];for(g[r]=n.id,f.children=g,f.children_d.push(n.id),f.children_d=f.children_d.concat(n.children_d),n.parent=f.id,(v=f.parents.concat()).unshift(f.id),_=n.parents.length,n.parents=v,v=v.concat(),y=0,b=n.children_d.length;b>y;y++)this._model.data[n.children_d[y]].parents=this._model.data[n.children_d[y]].parents.slice(0,-1*_),Array.prototype.push.apply(this._model.data[n.children_d[y]].parents,v);(u===e.jstree.root||f.id===e.jstree.root)&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||(this._node_changed(u),this._node_changed(f.id)),s||this.redraw()}return o&&o.call(this,n,f,r),this.trigger("move_node",{node:n,parent:f.id,position:r,old_parent:u,old_position:h,is_multi:p&&p._id&&p._id!==this._id,is_foreign:!p||!p._id,old_instance:p,new_instance:this}),n.id},copy_node:function(n,i,r,o,a,s,l){var c,d,u,h,f,p,m,g,v,y;if(i=this.get_node(i),r=r===t?0:r,!i)return!1;if(!r.toString().match(/^(before|after)$/)&&!a&&!this.is_loaded(i))return this.load_node(i,function(){this.copy_node(n,i,r,o,!0,!1,l)});if(e.isArray(n)){if(1!==n.length){for(c=0,d=n.length;d>c;c++)(h=this.copy_node(n[c],i,r,o,a,!0,l))&&(i=h,r="after");return this.redraw(),!0}n=n[0]}if(!(n=n&&n.id?n:this.get_node(n))||n.id===e.jstree.root)return!1;switch(g=(n.parent||e.jstree.root).toString(),v=r.toString().match(/^(before|after)$/)&&i.id!==e.jstree.root?this.get_node(i.parent):i,!(y=l||(this._model.data[n.id]?this:e.jstree.reference(n.id)))||!y._id||this._id!==y._id,y&&y._id&&(n=y._model.data[n.id]),i.id===e.jstree.root&&("before"===r&&(r="first"),"after"===r&&(r="last")),r){case"before":r=e.inArray(i.id,v.children);break;case"after":r=e.inArray(i.id,v.children)+1;break;case"inside":case"first":r=0;break;case"last":r=v.children.length;break;default:r||(r=0)}if(r>v.children.length&&(r=v.children.length),!this.check("copy_node",n,v,r,{core:!0,origin:l,is_multi:y&&y._id&&y._id!==this._id,is_foreign:!y||!y._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!(m=y?y.get_json(n,{no_id:!0,no_data:!0,no_state:!0}):n))return!1;if(!0===m.id&&delete m.id,!(m=this._parse_model_from_json(m,v.id,v.parents.concat())))return!1;for(h=this.get_node(m),n&&n.state&&!1===n.state.loaded&&(h.state.loaded=!1),(u=[]).push(m),u=u.concat(h.children_d),this.trigger("model",{nodes:u,parent:v.id}),f=0,p=v.parents.length;p>f;f++)this._model.data[v.parents[f]].children_d=this._model.data[v.parents[f]].children_d.concat(u);for(u=[],f=0,p=v.children.length;p>f;f++)u[f>=r?f+1:f]=v.children[f];return u[r]=h.id,v.children=u,v.children_d.push(h.id),v.children_d=v.children_d.concat(h.children_d),v.id===e.jstree.root&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||this._node_changed(v.id),s||this.redraw(v.id===e.jstree.root),o&&o.call(this,h,v,r),this.trigger("copy_node",{node:h,original:n,parent:v.id,position:r,old_parent:g,old_position:y&&y._id&&g&&y._model.data[g]&&y._model.data[g].children?e.inArray(n.id,y._model.data[g].children):-1,is_multi:y&&y._id&&y._id!==this._id,is_foreign:!y||!y._id,old_instance:y,new_instance:this}),h.id},cut:function(t){if(t||(t=this._data.core.selected.concat()),e.isArray(t)||(t=[t]),!t.length)return!1;var n,a,s,l=[];for(a=0,s=t.length;s>a;a++)(n=this.get_node(t[a]))&&n.id&&n.id!==e.jstree.root&&l.push(n);return!!l.length&&(i=l,o=this,r="move_node",void this.trigger("cut",{node:t}))},copy:function(t){if(t||(t=this._data.core.selected.concat()),e.isArray(t)||(t=[t]),!t.length)return!1;var n,a,s,l=[];for(a=0,s=t.length;s>a;a++)(n=this.get_node(t[a]))&&n.id&&n.id!==e.jstree.root&&l.push(n);return!!l.length&&(i=l,o=this,r="copy_node",void this.trigger("copy",{node:t}))},get_buffer:function(){return{mode:r,node:i,inst:o}},can_paste:function(){return!1!==r&&!1!==i},paste:function(e,t){return!!((e=this.get_node(e))&&r&&r.match(/^(copy_node|move_node)$/)&&i)&&(this[r](i,e,t,!1,!1,!1,o)&&this.trigger("paste",{parent:e.id,node:i,mode:r}),i=!1,r=!1,void(o=!1))},clear_buffer:function(){i=!1,r=!1,o=!1,this.trigger("clear_buffer")},edit:function(t,n,i){var r,o,a,s,c,d,u,h,f,p=!1;return!!(t=this.get_node(t))&&(this.check("edit",t,this.get_parent(t))?(f=t,n="string"==typeof n?n:t.text,this.set_text(t,""),t=this._open_to(t),f.text=n,r=this._data.core.rtl,o=this.element.width(),this._data.core.focused=f.id,a=t.children(".jstree-anchor").focus(),s=e("<span>"),c=n,d=e("<div />",{css:{position:"absolute",top:"-200px",left:r?"0px":"-1000px",visibility:"hidden"}}).appendTo(l.body),u=e("<input />",{value:c,class:"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},blur:e.proxy(function(n){n.stopImmediatePropagation(),n.preventDefault();var r,o=s.children(".jstree-rename-input").val(),l=this.settings.core.force_text;""===o&&(o=c),d.remove(),s.replaceWith(a),s.remove(),c=l?c:e("<div></div>").append(e.parseHTML(c)).html(),t=this.get_node(t),this.set_text(t,c),(r=!!this.rename_node(t,l?e("<div></div>").text(o).text():e("<div></div>").append(e.parseHTML(o)).html()))||this.set_text(t,c),this._data.core.focused=f.id,setTimeout(e.proxy(function(){var e=this.get_node(f.id,!0);e.length&&(this._data.core.focused=f.id,e.children(".jstree-anchor").focus())},this),0),i&&i.call(this,f,r,p),u=null},this),keydown:function(e){var t=e.which;27===t&&(p=!0,this.value=c),(27===t||13===t||37===t||38===t||39===t||40===t||32===t)&&e.stopImmediatePropagation(),(27===t||13===t)&&(e.preventDefault(),this.blur())},click:function(e){e.stopImmediatePropagation()},mousedown:function(e){e.stopImmediatePropagation()},keyup:function(e){u.width(Math.min(d.text("pW"+this.value).width(),o))},keypress:function(e){return 13!==e.which&&void 0}}),h={fontFamily:a.css("fontFamily")||"",fontSize:a.css("fontSize")||"",fontWeight:a.css("fontWeight")||"",fontStyle:a.css("fontStyle")||"",fontStretch:a.css("fontStretch")||"",fontVariant:a.css("fontVariant")||"",letterSpacing:a.css("letterSpacing")||"",wordSpacing:a.css("wordSpacing")||""},s.attr("class",a.attr("class")).append(a.contents().clone()).append(u),a.replaceWith(s),d.css(h),u.css(h).width(Math.min(d.text("pW"+u[0].value).width(),o))[0].select(),void e(l).one("mousedown.jstree touchstart.jstree dnd_start.vakata",function(t){u&&t.target!==u&&e(u).blur()})):(this.settings.core.error.call(this,this._data.core.last_error),!1))},set_theme:function(t,n){if(!t)return!1;if(!0===n){var i=this.settings.core.themes.dir;i||(i=e.jstree.path+"/themes"),n=i+"/"+t+"/style.css"}n&&-1===e.inArray(n,a)&&(e("head").append('<link rel="stylesheet" href="'+n+'" type="text/css" />'),a.push(n)),this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name),this._data.core.themes.name=t,this.element.addClass("jstree-"+t),this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+t+"-responsive"),this.trigger("set_theme",{theme:t})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(e){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant),this._data.core.themes.variant=e,e&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0,this.get_container_ul().addClass("jstree-striped"),this.trigger("show_stripes")},hide_stripes:function(){this._data.core.themes.stripes=!1,this.get_container_ul().removeClass("jstree-striped"),this.trigger("hide_stripes")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0,this.get_container_ul().removeClass("jstree-no-dots"),this.trigger("show_dots")},hide_dots:function(){this._data.core.themes.dots=!1,this.get_container_ul().addClass("jstree-no-dots"),this.trigger("hide_dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0,this.get_container_ul().removeClass("jstree-no-icons"),this.trigger("show_icons")},hide_icons:function(){this._data.core.themes.icons=!1,this.get_container_ul().addClass("jstree-no-icons"),this.trigger("hide_icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},show_ellipsis:function(){this._data.core.themes.ellipsis=!0,this.get_container_ul().addClass("jstree-ellipsis"),this.trigger("show_ellipsis")},hide_ellipsis:function(){this._data.core.themes.ellipsis=!1,this.get_container_ul().removeClass("jstree-ellipsis"),this.trigger("hide_ellipsis")},toggle_ellipsis:function(){this._data.core.themes.ellipsis?this.hide_ellipsis():this.show_ellipsis()},set_icon:function(n,i){var r,o,a,s;if(e.isArray(n)){for(r=0,o=(n=n.slice()).length;o>r;r++)this.set_icon(n[r],i);return!0}return!(!(n=this.get_node(n))||n.id===e.jstree.root)&&(s=n.icon,n.icon=!0===i||null===i||i===t||""===i||i,a=this.get_node(n,!0).children(".jstree-anchor").children(".jstree-themeicon"),!1===i?(a.removeClass("jstree-themeicon-custom "+s).css("background","").removeAttr("rel"),this.hide_icon(n)):!0===i||null===i||i===t||""===i?(a.removeClass("jstree-themeicon-custom "+s).css("background","").removeAttr("rel"),!1===s&&this.show_icon(n)):-1===i.indexOf("/")&&-1===i.indexOf(".")?(a.removeClass(s).css("background",""),a.addClass(i+" jstree-themeicon-custom").attr("rel",i),!1===s&&this.show_icon(n)):(a.removeClass(s).css("background",""),a.addClass("jstree-themeicon-custom").css("background","url('"+i+"') center center no-repeat").attr("rel",i),!1===s&&this.show_icon(n)),!0)},get_icon:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.icon},hide_icon:function(t){var n,i;if(e.isArray(t)){for(n=0,i=(t=t.slice()).length;i>n;n++)this.hide_icon(t[n]);return!0}return!(!(t=this.get_node(t))||t===e.jstree.root)&&(t.icon=!1,this.get_node(t,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),!0)},show_icon:function(t){var n,i,r;if(e.isArray(t)){for(n=0,i=(t=t.slice()).length;i>n;n++)this.show_icon(t[n]);return!0}return!(!(t=this.get_node(t))||t===e.jstree.root)&&(r=this.get_node(t,!0),t.icon=!r.length||r.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"),t.icon||(t.icon=!0),r.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),!0)}},e.vakata={},e.vakata.attributes=function(t,n){t=e(t)[0];var i=n?{}:[];return t&&t.attributes&&e.each(t.attributes,function(t,r){-1===e.inArray(r.name.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])&&null!==r.value&&""!==e.trim(r.value)&&(n?i[r.name]=r.value:i.push(r.name))}),i},e.vakata.array_unique=function(e){var n,i,r=[],o={};for(n=0,i=e.length;i>n;n++)o[e[n]]===t&&(r.push(e[n]),o[e[n]]=!0);return r},e.vakata.array_remove=function(e,t){return e.splice(t,1),e},e.vakata.array_remove_item=function(t,n){var i=e.inArray(n,t);return-1!==i?e.vakata.array_remove(t,i):t},e.vakata.array_filter=function(e,t,n,i,r){if(e.filter)return e.filter(t,n);for(r in i=[],e)~~r+""==r+""&&r>=0&&t.call(n,e[r],+r,e)&&i.push(e[r]);return i},e.jstree.plugins.changed=function(e,t){var n=[];this.trigger=function(e,i){var r,o;if(i||(i={}),"changed"===e.replace(".jstree","")){i.changed={selected:[],deselected:[]};var a={};for(r=0,o=n.length;o>r;r++)a[n[r]]=1;for(r=0,o=i.selected.length;o>r;r++)a[i.selected[r]]?a[i.selected[r]]=2:i.changed.selected.push(i.selected[r]);for(r=0,o=n.length;o>r;r++)1===a[n[r]]&&i.changed.deselected.push(n[r]);n=i.selected.slice()}t.trigger.call(this,e,i)},this.refresh=function(e,i){return n=[],t.refresh.apply(this,arguments)}};var c,d,u=l.createElement("I");u.className="jstree-icon jstree-checkbox",u.setAttribute("role","presentation"),e.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0,cascade_to_disabled:!0,cascade_to_hidden:!0},e.jstree.plugins.checkbox=function(n,i){this.bind=function(){i.bind.call(this),this._data.checkbox.uto=!1,this._data.checkbox.selected=[],this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined"),this.element.on("init.jstree",e.proxy(function(){this._data.checkbox.visible=this.settings.checkbox.visible,this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked"),this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")},this)).on("loading.jstree",e.proxy(function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()},this)),-1!==this.settings.checkbox.cascade.indexOf("undetermined")&&this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",e.proxy(function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(e.proxy(this._undetermined,this),50)},this)),this.settings.checkbox.tie_selection||this.element.on("model.jstree",e.proxy(function(e,t){var n,i,r=this._model.data,o=(r[t.parent],t.nodes);for(n=0,i=o.length;i>n;n++)r[o[n]].state.checked=r[o[n]].state.checked||r[o[n]].original&&r[o[n]].original.state&&r[o[n]].original.state.checked,r[o[n]].state.checked&&this._data.checkbox.selected.push(o[n])},this)),(-1!==this.settings.checkbox.cascade.indexOf("up")||-1!==this.settings.checkbox.cascade.indexOf("down"))&&this.element.on("model.jstree",e.proxy(function(t,n){var i,r,o,a,s,l,c=this._model.data,d=c[n.parent],u=n.nodes,h=[],f=this.settings.checkbox.cascade,p=this.settings.checkbox.tie_selection;if(-1!==f.indexOf("down"))if(d.state[p?"selected":"checked"]){for(r=0,o=u.length;o>r;r++)c[u[r]].state[p?"selected":"checked"]=!0;this._data[p?"core":"checkbox"].selected=this._data[p?"core":"checkbox"].selected.concat(u)}else for(r=0,o=u.length;o>r;r++)if(c[u[r]].state[p?"selected":"checked"]){for(a=0,s=c[u[r]].children_d.length;s>a;a++)c[c[u[r]].children_d[a]].state[p?"selected":"checked"]=!0;this._data[p?"core":"checkbox"].selected=this._data[p?"core":"checkbox"].selected.concat(c[u[r]].children_d)}if(-1!==f.indexOf("up")){for(r=0,o=d.children_d.length;o>r;r++)c[d.children_d[r]].children.length||h.push(c[d.children_d[r]].parent);for(a=0,s=(h=e.vakata.array_unique(h)).length;s>a;a++)for(d=c[h[a]];d&&d.id!==e.jstree.root;){for(i=0,r=0,o=d.children.length;o>r;r++)i+=c[d.children[r]].state[p?"selected":"checked"];if(i!==o)break;d.state[p?"selected":"checked"]=!0,this._data[p?"core":"checkbox"].selected.push(d.id),(l=this.get_node(d,!0))&&l.length&&l.attr("aria-selected",!0).children(".jstree-anchor").addClass(p?"jstree-clicked":"jstree-checked"),d=this.get_node(d.parent)}}this._data[p?"core":"checkbox"].selected=e.vakata.array_unique(this._data[p?"core":"checkbox"].selected)},this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",e.proxy(function(t,n){var i,r,o,a,s=n.node,l=this._model.data,c=this.get_node(s.parent),d=this.settings.checkbox.cascade,u=this.settings.checkbox.tie_selection,h={},f=this._data[u?"core":"checkbox"].selected;for(i=0,r=f.length;r>i;i++)h[f[i]]=!0;if(-1!==d.indexOf("down")){var p=this._cascade_new_checked_state(s.id,!0),m=s.children_d.concat(s.id);for(i=0,r=m.length;r>i;i++)p.indexOf(m[i])>-1?h[m[i]]=!0:delete h[m[i]]}if(-1!==d.indexOf("up"))for(;c&&c.id!==e.jstree.root;){for(o=0,i=0,r=c.children.length;r>i;i++)o+=l[c.children[i]].state[u?"selected":"checked"];if(o!==r)break;c.state[u?"selected":"checked"]=!0,h[c.id]=!0,(a=this.get_node(c,!0))&&a.length&&a.attr("aria-selected",!0).children(".jstree-anchor").addClass(u?"jstree-clicked":"jstree-checked"),c=this.get_node(c.parent)}for(i in f=[],h)h.hasOwnProperty(i)&&f.push(i);this._data[u?"core":"checkbox"].selected=f},this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",e.proxy(function(t,n){var i,r,o,a=this.get_node(e.jstree.root),s=this._model.data;for(i=0,r=a.children_d.length;r>i;i++)(o=s[a.children_d[i]])&&o.original&&o.original.state&&o.original.state.undetermined&&(o.original.state.undetermined=!1)},this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",e.proxy(function(t,n){var i,r,o,a=n.node,s=(this.get_node(a,!0),this.settings.checkbox.cascade),l=this.settings.checkbox.tie_selection,c=this._data[l?"core":"checkbox"].selected,d=a.children_d.concat(a.id);if(-1!==s.indexOf("down")){var u=this._cascade_new_checked_state(a.id,!1);c=e.vakata.array_filter(c,function(e){return-1===d.indexOf(e)||u.indexOf(e)>-1})}if(-1!==s.indexOf("up")&&-1===c.indexOf(a.id)){for(i=0,r=a.parents.length;r>i;i++)(o=this._model.data[a.parents[i]]).state[l?"selected":"checked"]=!1,o&&o.original&&o.original.state&&o.original.state.undetermined&&(o.original.state.undetermined=!1),(o=this.get_node(a.parents[i],!0))&&o.length&&o.attr("aria-selected",!1).children(".jstree-anchor").removeClass(l?"jstree-clicked":"jstree-checked");c=e.vakata.array_filter(c,function(e){return-1===a.parents.indexOf(e)})}this._data[l?"core":"checkbox"].selected=c},this)),-1!==this.settings.checkbox.cascade.indexOf("up")&&this.element.on("delete_node.jstree",e.proxy(function(t,n){for(var i,r,o,a,s=this.get_node(n.parent),l=this._model.data,c=this.settings.checkbox.tie_selection;s&&s.id!==e.jstree.root&&!s.state[c?"selected":"checked"];){for(o=0,i=0,r=s.children.length;r>i;i++)o+=l[s.children[i]].state[c?"selected":"checked"];if(!(r>0&&o===r))break;s.state[c?"selected":"checked"]=!0,this._data[c?"core":"checkbox"].selected.push(s.id),(a=this.get_node(s,!0))&&a.length&&a.attr("aria-selected",!0).children(".jstree-anchor").addClass(c?"jstree-clicked":"jstree-checked"),s=this.get_node(s.parent)}},this)).on("move_node.jstree",e.proxy(function(t,n){var i,r,o,a,s,l=n.is_multi,c=n.old_parent,d=this.get_node(n.parent),u=this._model.data,h=this.settings.checkbox.tie_selection;if(!l)for(i=this.get_node(c);i&&i.id!==e.jstree.root&&!i.state[h?"selected":"checked"];){for(r=0,o=0,a=i.children.length;a>o;o++)r+=u[i.children[o]].state[h?"selected":"checked"];if(!(a>0&&r===a))break;i.state[h?"selected":"checked"]=!0,this._data[h?"core":"checkbox"].selected.push(i.id),(s=this.get_node(i,!0))&&s.length&&s.attr("aria-selected",!0).children(".jstree-anchor").addClass(h?"jstree-clicked":"jstree-checked"),i=this.get_node(i.parent)}for(i=d;i&&i.id!==e.jstree.root;){for(r=0,o=0,a=i.children.length;a>o;o++)r+=u[i.children[o]].state[h?"selected":"checked"];if(r===a)i.state[h?"selected":"checked"]||(i.state[h?"selected":"checked"]=!0,this._data[h?"core":"checkbox"].selected.push(i.id),(s=this.get_node(i,!0))&&s.length&&s.attr("aria-selected",!0).children(".jstree-anchor").addClass(h?"jstree-clicked":"jstree-checked"));else{if(!i.state[h?"selected":"checked"])break;i.state[h?"selected":"checked"]=!1,this._data[h?"core":"checkbox"].selected=e.vakata.array_remove_item(this._data[h?"core":"checkbox"].selected,i.id),(s=this.get_node(i,!0))&&s.length&&s.attr("aria-selected",!1).children(".jstree-anchor").removeClass(h?"jstree-clicked":"jstree-checked")}i=this.get_node(i.parent)}},this))},this.get_undetermined=function(n){if(-1===this.settings.checkbox.cascade.indexOf("undetermined"))return[];var i,r,o,a,s={},l=this._model.data,c=this.settings.checkbox.tie_selection,d=this._data[c?"core":"checkbox"].selected,u=[],h=this,f=[];for(i=0,r=d.length;r>i;i++)if(l[d[i]]&&l[d[i]].parents)for(o=0,a=l[d[i]].parents.length;a>o&&s[l[d[i]].parents[o]]===t;o++)l[d[i]].parents[o]!==e.jstree.root&&(s[l[d[i]].parents[o]]=!0,u.push(l[d[i]].parents[o]));for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each(function(){var n,c=h.get_node(this);if(c)if(c.state.loaded){for(i=0,r=c.children_d.length;r>i;i++)if(!(n=l[c.children_d[i]]).state.loaded&&n.original&&n.original.state&&n.original.state.undetermined&&!0===n.original.state.undetermined)for(s[n.id]===t&&n.id!==e.jstree.root&&(s[n.id]=!0,u.push(n.id)),o=0,a=n.parents.length;a>o;o++)s[n.parents[o]]===t&&n.parents[o]!==e.jstree.root&&(s[n.parents[o]]=!0,u.push(n.parents[o]))}else if(c.original&&c.original.state&&c.original.state.undetermined&&!0===c.original.state.undetermined)for(s[c.id]===t&&c.id!==e.jstree.root&&(s[c.id]=!0,u.push(c.id)),o=0,a=c.parents.length;a>o;o++)s[c.parents[o]]===t&&c.parents[o]!==e.jstree.root&&(s[c.parents[o]]=!0,u.push(c.parents[o]))}),i=0,r=u.length;r>i;i++)l[u[i]].state[c?"selected":"checked"]||f.push(n?l[u[i]]:u[i]);return f},this._undetermined=function(){if(null!==this.element){var e,t,n,i=this.get_undetermined(!1);for(this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),e=0,t=i.length;t>e;e++)(n=this.get_node(i[e],!0))&&n.length&&n.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined")}},this.redraw_node=function(t,n,r,o){if(t=i.redraw_node.apply(this,arguments)){var a,s,l=null,c=null;for(a=0,s=t.childNodes.length;s>a;a++)if(t.childNodes[a]&&t.childNodes[a].className&&-1!==t.childNodes[a].className.indexOf("jstree-anchor")){l=t.childNodes[a];break}l&&(!this.settings.checkbox.tie_selection&&this._model.data[t.id].state.checked&&(l.className+=" jstree-checked"),c=u.cloneNode(!1),this._model.data[t.id].state.checkbox_disabled&&(c.className+=" jstree-checkbox-disabled"),l.insertBefore(c,l.childNodes[0]))}return r||-1===this.settings.checkbox.cascade.indexOf("undetermined")||(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(e.proxy(this._undetermined,this),50)),t},this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0,this.get_container_ul().removeClass("jstree-no-checkboxes")},this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1,this.get_container_ul().addClass("jstree-no-checkboxes")},this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()},this.is_undetermined=function(t){t=this.get_node(t);var n,i,r=this.settings.checkbox.cascade,o=this.settings.checkbox.tie_selection,a=this._data[o?"core":"checkbox"].selected,s=this._model.data;if(!t||!0===t.state[o?"selected":"checked"]||-1===r.indexOf("undetermined")||-1===r.indexOf("down")&&-1===r.indexOf("up"))return!1;if(!t.state.loaded&&!0===t.original.state.undetermined)return!0;for(n=0,i=t.children_d.length;i>n;n++)if(-1!==e.inArray(t.children_d[n],a)||!s[t.children_d[n]].state.loaded&&s[t.children_d[n]].original.state.undetermined)return!0;return!1},this.disable_checkbox=function(t){var n,i,r;if(e.isArray(t)){for(n=0,i=(t=t.slice()).length;i>n;n++)this.disable_checkbox(t[n]);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(r=this.get_node(t,!0),void(t.state.checkbox_disabled||(t.state.checkbox_disabled=!0,r&&r.length&&r.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-checkbox-disabled"),this.trigger("disable_checkbox",{node:t}))))},this.enable_checkbox=function(t){var n,i,r;if(e.isArray(t)){for(n=0,i=(t=t.slice()).length;i>n;n++)this.enable_checkbox(t[n]);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(r=this.get_node(t,!0),void(t.state.checkbox_disabled&&(t.state.checkbox_disabled=!1,r&&r.length&&r.children(".jstree-anchor").children(".jstree-checkbox").removeClass("jstree-checkbox-disabled"),this.trigger("enable_checkbox",{node:t}))))},this.activate_node=function(t,n){return!e(n.target).hasClass("jstree-checkbox-disabled")&&(this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||e(n.target).hasClass("jstree-checkbox"))&&(n.ctrlKey=!0),this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!e(n.target).hasClass("jstree-checkbox")?i.activate_node.call(this,t,n):!this.is_disabled(t)&&(this.is_checked(t)?this.uncheck_node(t,n):this.check_node(t,n),void this.trigger("activate_node",{node:this.get_node(t)})))},this._cascade_new_checked_state=function(e,t){var n,i,r,o=this.settings.checkbox.tie_selection,a=this._model.data[e],s=[],l=[];if(!this.settings.checkbox.cascade_to_disabled&&a.state.disabled||!this.settings.checkbox.cascade_to_hidden&&a.state.hidden)r=this.get_checked_descendants(e),a.state[o?"selected":"checked"]&&r.push(a.id),s=s.concat(r);else{if(a.children)for(n=0,i=a.children.length;i>n;n++){var c=a.children[n];r=this._cascade_new_checked_state(c,t),s=s.concat(r),r.indexOf(c)>-1&&l.push(c)}var d=this.get_node(a,!0),u=l.length>0&&l.length<a.children.length;a.original&&a.original.state&&a.original.state.undetermined&&(a.original.state.undetermined=u),u?(a.state[o?"selected":"checked"]=!1,d.attr("aria-selected",!1).children(".jstree-anchor").removeClass(o?"jstree-clicked":"jstree-checked")):t&&l.length===a.children.length?(a.state[o?"selected":"checked"]=t,s.push(a.id),d.attr("aria-selected",!0).children(".jstree-anchor").addClass(o?"jstree-clicked":"jstree-checked")):(a.state[o?"selected":"checked"]=!1,d.attr("aria-selected",!1).children(".jstree-anchor").removeClass(o?"jstree-clicked":"jstree-checked"))}return s},this.get_checked_descendants=function(t){var n=this,i=n.settings.checkbox.tie_selection,r=n._model.data[t];return e.vakata.array_filter(r.children_d,function(e){return n._model.data[e].state[i?"selected":"checked"]})},this.check_node=function(t,n){if(this.settings.checkbox.tie_selection)return this.select_node(t,!1,!0,n);var i,r,o;if(e.isArray(t)){for(r=0,o=(t=t.slice()).length;o>r;r++)this.check_node(t[r],n);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(i=this.get_node(t,!0),void(t.state.checked||(t.state.checked=!0,this._data.checkbox.selected.push(t.id),i&&i.length&&i.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:t,selected:this._data.checkbox.selected,event:n}))))},this.uncheck_node=function(t,n){if(this.settings.checkbox.tie_selection)return this.deselect_node(t,!1,n);var i,r,o;if(e.isArray(t)){for(i=0,r=(t=t.slice()).length;r>i;i++)this.uncheck_node(t[i],n);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(o=this.get_node(t,!0),void(t.state.checked&&(t.state.checked=!1,this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,t.id),o.length&&o.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:t,selected:this._data.checkbox.selected,event:n}))))},this.check_all=function(){if(this.settings.checkbox.tie_selection)return this.select_all();var t,n;this._data.checkbox.selected.concat([]);for(this._data.checkbox.selected=this._model.data[e.jstree.root].children_d.concat(),t=0,n=this._data.checkbox.selected.length;n>t;t++)this._model.data[this._data.checkbox.selected[t]]&&(this._model.data[this._data.checkbox.selected[t]].state.checked=!0);this.redraw(!0),this.trigger("check_all",{selected:this._data.checkbox.selected})},this.uncheck_all=function(){if(this.settings.checkbox.tie_selection)return this.deselect_all();var e,t,n=this._data.checkbox.selected.concat([]);for(e=0,t=this._data.checkbox.selected.length;t>e;e++)this._model.data[this._data.checkbox.selected[e]]&&(this._model.data[this._data.checkbox.selected[e]].state.checked=!1);this._data.checkbox.selected=[],this.element.find(".jstree-checked").removeClass("jstree-checked"),this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:n})},this.is_checked=function(t){return this.settings.checkbox.tie_selection?this.is_selected(t):!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.state.checked},this.get_checked=function(t){return this.settings.checkbox.tie_selection?this.get_selected(t):t?e.map(this._data.checkbox.selected,e.proxy(function(e){return this.get_node(e)},this)):this._data.checkbox.selected.slice()},this.get_top_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_top_selected(t);var n,i,r,o,a=this.get_checked(!0),s={};for(n=0,i=a.length;i>n;n++)s[a[n].id]=a[n];for(n=0,i=a.length;i>n;n++)for(r=0,o=a[n].children_d.length;o>r;r++)s[a[n].children_d[r]]&&delete s[a[n].children_d[r]];for(n in a=[],s)s.hasOwnProperty(n)&&a.push(n);return t?e.map(a,e.proxy(function(e){return this.get_node(e)},this)):a},this.get_bottom_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_bottom_selected(t);var n,i,r=this.get_checked(!0),o=[];for(n=0,i=r.length;i>n;n++)r[n].children.length||o.push(r[n].id);return t?e.map(o,e.proxy(function(e){return this.get_node(e)},this)):o},this.load_node=function(t,n){var r,o,a;if(!e.isArray(t)&&!this.settings.checkbox.tie_selection&&((a=this.get_node(t))&&a.state.loaded))for(r=0,o=a.children_d.length;o>r;r++)this._model.data[a.children_d[r]].state.checked&&(!0,this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,a.children_d[r]));return i.load_node.apply(this,arguments)},this.get_state=function(){var e=i.get_state.apply(this,arguments);return this.settings.checkbox.tie_selection?e:(e.checkbox=this._data.checkbox.selected.slice(),e)},this.set_state=function(t,n){var r=i.set_state.apply(this,arguments);if(r&&t.checkbox){if(!this.settings.checkbox.tie_selection){this.uncheck_all();var o=this;e.each(t.checkbox,function(e,t){o.check_node(t)})}return delete t.checkbox,this.set_state(t,n),!1}return r},this.refresh=function(e,t){return this.settings.checkbox.tie_selection&&(this._data.checkbox.selected=[]),i.refresh.apply(this,arguments)}},e.jstree.defaults.conditionalselect=function(){return!0},e.jstree.plugins.conditionalselect=function(e,t){this.activate_node=function(e,n){return this.settings.conditionalselect.call(this,this.get_node(e),n)?t.activate_node.call(this,e,n):void 0}},e.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(t,n){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(t){var n=e.jstree.reference(t.reference),i=n.get_node(t.reference);n.create_node(i,{},"last",function(e){try{n.edit(e)}catch(t){setTimeout(function(){n.edit(e)},0)}})}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",action:function(t){var n=e.jstree.reference(t.reference),i=n.get_node(t.reference);n.edit(i)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(t){var n=e.jstree.reference(t.reference),i=n.get_node(t.reference);n.is_selected(i)?n.delete_node(n.get_selected()):n.delete_node(i)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(t){var n=e.jstree.reference(t.reference),i=n.get_node(t.reference);n.is_selected(i)?n.cut(n.get_top_selected()):n.cut(i)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(t){var n=e.jstree.reference(t.reference),i=n.get_node(t.reference);n.is_selected(i)?n.copy(n.get_top_selected()):n.copy(i)}},paste:{separator_before:!1,icon:!1,_disabled:function(t){return!e.jstree.reference(t.reference).can_paste()},separator_after:!1,label:"Paste",action:function(t){var n=e.jstree.reference(t.reference),i=n.get_node(t.reference);n.paste(i)}}}}}}},e.jstree.plugins.contextmenu=function(n,i){this.bind=function(){i.bind.call(this);var t,n,r=0,o=null;this.element.on("init.jstree loading.jstree ready.jstree",e.proxy(function(){this.get_container_ul().addClass("jstree-contextmenu")},this)).on("contextmenu.jstree",".jstree-anchor",e.proxy(function(e,t){"input"!==e.target.tagName.toLowerCase()&&(e.preventDefault(),r=e.ctrlKey?+new Date:0,(t||o)&&(r=+new Date+1e4),o&&clearTimeout(o),this.is_loading(e.currentTarget)||this.show_contextmenu(e.currentTarget,e.pageX,e.pageY,e))},this)).on("click.jstree",".jstree-anchor",e.proxy(function(t){this._data.contextmenu.visible&&(!r||+new Date-r>250)&&e.vakata.context.hide(),r=0},this)).on("touchstart.jstree",".jstree-anchor",function(i){i.originalEvent&&i.originalEvent.changedTouches&&i.originalEvent.changedTouches[0]&&(t=i.originalEvent.changedTouches[0].clientX,n=i.originalEvent.changedTouches[0].clientY,o=setTimeout(function(){e(i.currentTarget).trigger("contextmenu",!0)},750))}).on("touchmove.vakata.jstree",function(i){o&&i.originalEvent&&i.originalEvent.changedTouches&&i.originalEvent.changedTouches[0]&&(Math.abs(t-i.originalEvent.changedTouches[0].clientX)>10||Math.abs(n-i.originalEvent.changedTouches[0].clientY)>10)&&(clearTimeout(o),e.vakata.context.hide())}).on("touchend.vakata.jstree",function(e){o&&clearTimeout(o)}),e(l).on("context_hide.vakata.jstree",e.proxy(function(t,n){this._data.contextmenu.visible=!1,e(n.reference).removeClass("jstree-context")},this))},this.teardown=function(){this._data.contextmenu.visible&&e.vakata.context.hide(),i.teardown.call(this)},this.show_contextmenu=function(n,i,r,o){if(!(n=this.get_node(n))||n.id===e.jstree.root)return!1;var a=this.settings.contextmenu,s=this.get_node(n,!0).children(".jstree-anchor"),l=!1,c=!1;(a.show_at_node||i===t||r===t)&&(l=s.offset(),i=l.left,r=l.top+this._data.core.li_height),this.settings.contextmenu.select_node&&!this.is_selected(n)&&this.activate_node(n,o),c=a.items,e.isFunction(c)&&(c=c.call(this,n,e.proxy(function(e){this._show_contextmenu(n,i,r,e)},this))),e.isPlainObject(c)&&this._show_contextmenu(n,i,r,c)},this._show_contextmenu=function(t,n,i,r){var o=this.get_node(t,!0).children(".jstree-anchor");e(l).one("context_show.vakata.jstree",e.proxy(function(t,n){var i="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";e(n.element).addClass(i),o.addClass("jstree-context")},this)),this._data.contextmenu.visible=!0,e.vakata.context.show(o,{x:n,y:i},r),this.trigger("show_contextmenu",{node:t,x:n,y:i})}},function(e){var t=!1,n={element:!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1};e.vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(t){e(l).triggerHandler("context_"+t+".vakata",{reference:n.reference,element:n.element,position:{x:n.position_x,y:n.position_y}})},_execute:function(t){return!(!(t=n.items[t])||t._disabled&&(!e.isFunction(t._disabled)||t._disabled({item:t,reference:n.reference,element:n.element}))||!t.action)&&t.action.call(null,{item:t,reference:n.reference,element:n.element,position:{x:n.position_x,y:n.position_y}})},_parse:function(t,i){if(!t)return!1;i||(n.html="",n.items=[]);var r,o="",a=!1;return i&&(o+="<ul>"),e.each(t,function(t,i){return!i||(n.items.push(i),!a&&i.separator_before&&(o+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>"),a=!1,o+="<li class='"+(i._class||"")+(!0===i._disabled||e.isFunction(i._disabled)&&i._disabled({item:i,reference:n.reference,element:n.element})?" vakata-contextmenu-disabled ":"")+"' "+(i.shortcut?" data-shortcut='"+i.shortcut+"' ":"")+">",o+="<a href='#' rel='"+(n.items.length-1)+"' "+(i.title?"title='"+i.title+"'":"")+">",e.vakata.context.settings.icons&&(o+="<i ",i.icon&&(o+=-1!==i.icon.indexOf("/")||-1!==i.icon.indexOf(".")?" style='background:url(\""+i.icon+"\") center center no-repeat' ":" class='"+i.icon+"' "),o+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"),o+=(e.isFunction(i.label)?i.label({item:t,reference:n.reference,element:n.element}):i.label)+(i.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+i.shortcut+'">'+(i.shortcut_label||"")+"</span>":"")+"</a>",i.submenu&&((r=e.vakata.context._parse(i.submenu,!0))&&(o+=r)),o+="</li>",void(i.separator_after&&(o+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>",a=!0)))}),o=o.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),i&&(o+="</ul>"),i||(n.html=o,e.vakata.context._trigger("parse")),o.length>10&&o},_show_submenu:function(n){if((n=e(n)).length&&n.children("ul").length){var i=n.children("ul"),r=n.offset().left,o=r+n.outerWidth(),a=n.offset().top,s=i.width(),l=i.height(),c=e(window).width()+e(window).scrollLeft(),d=e(window).height()+e(window).scrollTop();t?n[o-(s+10+n.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):n[o+s>c&&r>c-o?"addClass":"removeClass"]("vakata-context-right"),a+l+10>d&&i.css("bottom","-1px"),n.hasClass("vakata-context-right")?s>r&&i.css("margin-right",r-s):s>c-o&&i.css("margin-left",c-o-s),i.show()}},show:function(i,r,o){var a,s,c,d,u,h,f,p;switch(n.element&&n.element.length&&n.element.width(""),!0){case!r&&!i:return!1;case!!r&&!!i:n.reference=i,n.position_x=r.x,n.position_y=r.y;break;case!r&&!!i:n.reference=i,a=i.offset(),n.position_x=a.left+i.outerHeight(),n.position_y=a.top;break;case!!r&&!i:n.position_x=r.x,n.position_y=r.y}i&&!o&&e(i).data("vakata_contextmenu")&&(o=e(i).data("vakata_contextmenu")),e.vakata.context._parse(o)&&n.element.html(n.html),n.items.length&&(n.element.appendTo(l.body),s=n.element,c=n.position_x,d=n.position_y,u=s.width(),h=s.height(),f=e(window).width()+e(window).scrollLeft(),p=e(window).height()+e(window).scrollTop(),t&&((c-=s.outerWidth()-e(i).outerWidth())<e(window).scrollLeft()+20&&(c=e(window).scrollLeft()+20)),c+u+20>f&&(c=f-(u+20)),d+h+20>p&&(d=p-(h+20)),n.element.css({left:c,top:d}).show().find("a").first().focus().parent().addClass("vakata-context-hover"),n.is_visible=!0,e.vakata.context._trigger("show"))},hide:function(){n.is_visible&&(n.element.hide().find("ul").hide().end().find(":focus").blur().end().detach(),n.is_visible=!1,e.vakata.context._trigger("hide"))}},e(function(){t="rtl"===e(l.body).css("direction");var i=!1;n.element=e("<ul class='vakata-context'></ul>"),n.element.on("mouseenter","li",function(t){t.stopImmediatePropagation(),e.contains(this,t.relatedTarget)||(i&&clearTimeout(i),n.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),e(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),e.vakata.context._show_submenu(this))}).on("mouseleave","li",function(t){e.contains(this,t.relatedTarget)||e(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(t){e(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),e.vakata.context.settings.hide_onmouseleave&&(i=setTimeout(function(){e.vakata.context.hide()},e.vakata.context.settings.hide_onmouseleave))}).on("click","a",function(t){t.preventDefault(),e(this).blur().parent().hasClass("vakata-context-disabled")||!1===e.vakata.context._execute(e(this).attr("rel"))||e.vakata.context.hide()}).on("keydown","a",function(t){var i=null;switch(t.which){case 13:case 32:t.type="click",t.preventDefault(),e(t.currentTarget).trigger(t);break;case 37:n.is_visible&&(n.element.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 38:n.is_visible&&((i=n.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first()).length||(i=n.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()),i.addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 39:n.is_visible&&(n.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 40:n.is_visible&&((i=n.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first()).length||(i=n.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()),i.addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 27:e.vakata.context.hide(),t.preventDefault()}}).on("keydown",function(e){e.preventDefault();var t=n.element.find(".vakata-contextmenu-shortcut-"+e.which).parent();t.parent().not(".vakata-context-disabled")&&t.click()}),e(l).on("mousedown.vakata.jstree",function(t){n.is_visible&&n.element[0]!==t.target&&!e.contains(n.element[0],t.target)&&e.vakata.context.hide()}).on("context_show.vakata.jstree",function(e,i){n.element.find("li:has(ul)").children("a").addClass("vakata-context-parent"),t&&n.element.addClass("vakata-context-rtl").css("direction","rtl"),n.element.find("ul").hide().end()})})}(e),e.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0,drag_selection:!0,touch:!0,large_drop_target:!1,large_drag_target:!1,use_html5:!1},e.jstree.plugins.dnd=function(t,n){this.init=function(e,t){n.init.call(this,e,t),this.settings.dnd.use_html5=this.settings.dnd.use_html5&&"draggable"in l.createElement("span")},this.bind=function(){n.bind.call(this),this.element.on(this.settings.dnd.use_html5?"dragstart.jstree":"mousedown.jstree touchstart.jstree",this.settings.dnd.large_drag_target?".jstree-node":".jstree-anchor",e.proxy(function(t){if(this.settings.dnd.large_drag_target&&e(t.target).closest(".jstree-node")[0]!==t.currentTarget)return!0;if("touchstart"===t.type&&(!this.settings.dnd.touch||"selected"===this.settings.dnd.touch&&!e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").hasClass("jstree-clicked")))return!0;var n=this.get_node(t.target),i=this.is_selected(n)&&this.settings.dnd.drag_selection?this.get_top_selected().length:1,r=i>1?i+" "+this.get_string("nodes"):this.get_text(t.currentTarget);if(this.settings.core.force_text&&(r=e.vakata.html.escape(r)),n&&n.id&&n.id!==e.jstree.root&&(1===t.which||"touchstart"===t.type||"dragstart"===t.type)&&(!0===this.settings.dnd.is_draggable||e.isFunction(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,i>1?this.get_top_selected(!0):[n],t))){if(c={jstree:!0,origin:this,obj:this.get_node(n,!0),nodes:i>1?this.get_top_selected():[n.id]},d=t.currentTarget,!this.settings.dnd.use_html5)return this.element.trigger("mousedown.jstree"),e.vakata.dnd.start(t,c,'<div id="jstree-dnd" class="jstree-'+this.get_theme()+" jstree-"+this.get_theme()+"-"+this.get_theme_variant()+" "+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"></i>'+r+'<ins class="jstree-copy" style="display:none;">+</ins></div>');e.vakata.dnd._trigger("start",t,{helper:e(),element:d,data:c})}},this)),this.settings.dnd.use_html5&&this.element.on("dragover.jstree",function(t){return t.preventDefault(),e.vakata.dnd._trigger("move",t,{helper:e(),element:d,data:c}),!1}).on("drop.jstree",e.proxy(function(t){return t.preventDefault(),e.vakata.dnd._trigger("stop",t,{helper:e(),element:d,data:c}),!1},this))},this.redraw_node=function(e,t,i,r){if((e=n.redraw_node.apply(this,arguments))&&this.settings.dnd.use_html5)if(this.settings.dnd.large_drag_target)e.setAttribute("draggable",!0);else{var o,a,s=null;for(o=0,a=e.childNodes.length;a>o;o++)if(e.childNodes[o]&&e.childNodes[o].className&&-1!==e.childNodes[o].className.indexOf("jstree-anchor")){s=e.childNodes[o];break}s&&s.setAttribute("draggable",!0)}return e}},e(function(){var n=!1,i=!1,r=!1,o=!1,a=e('<div id="jstree-marker">&#160;</div>').hide();e(l).on("dragover.vakata.jstree",function(t){d&&e.vakata.dnd._trigger("move",t,{helper:e(),element:d,data:c})}).on("drop.vakata.jstree",function(t){d&&(e.vakata.dnd._trigger("stop",t,{helper:e(),element:d,data:c}),d=null,c=null)}).on("dnd_start.vakata.jstree",function(e,t){n=!1,r=!1,t&&t.data&&t.data.jstree&&a.appendTo(l.body)}).on("dnd_move.vakata.jstree",function(s,l){var c=l.event.target!==r.target;if(o&&(!l.event||"dragover"!==l.event.type||c)&&clearTimeout(o),l&&l.data&&l.data.jstree&&(!l.event.target.id||"jstree-marker"!==l.event.target.id)){r=l.event;var d,u,h,f,p,m,g,v,y,b,w,x,_,C,S,k,T=e.jstree.reference(l.event.target),E=!1,D=!1,N=!1;if(T&&T._data&&T._data.dnd)if(a.attr("class","jstree-"+T.get_theme()+(T.settings.core.themes.responsive?" jstree-dnd-responsive":"")),S=l.data.origin&&(l.data.origin.settings.dnd.always_copy||l.data.origin.settings.dnd.copy&&(l.event.metaKey||l.event.ctrlKey)),l.helper.children().attr("class","jstree-"+T.get_theme()+" jstree-"+T.get_theme()+"-"+T.get_theme_variant()+" "+(T.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy").first()[S?"show":"hide"](),l.event.target!==T.element[0]&&l.event.target!==T.get_container_ul()[0]||0!==T.get_container_ul().children().length){if((E=T.settings.dnd.large_drop_target?e(l.event.target).closest(".jstree-node").children(".jstree-anchor"):e(l.event.target).closest(".jstree-anchor"))&&E.length&&E.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(D=E.offset(),N=(l.event.pageY!==t?l.event.pageY:l.event.originalEvent.pageY)-D.top,h=E.outerHeight(),m=h/3>N?["b","i","a"]:N>h-h/3?["a","i","b"]:N>h/2?["i","a","b"]:["i","b","a"],e.each(m,function(t,r){switch(r){case"b":d=D.left-6,u=D.top,f=T.get_parent(E),p=E.parent().index();break;case"i":_=T.settings.dnd.inside_pos,C=T.get_node(E.parent()),d=D.left-2,u=D.top+h/2+1,f=C.id,p="first"===_?0:"last"===_?C.children.length:Math.min(_,C.children.length);break;case"a":d=D.left-6,u=D.top+h,f=T.get_parent(E),p=E.parent().index()+1}for(g=!0,v=0,y=l.data.nodes.length;y>v;v++)if(b=l.data.origin&&(l.data.origin.settings.dnd.always_copy||l.data.origin.settings.dnd.copy&&(l.event.metaKey||l.event.ctrlKey))?"copy_node":"move_node",w=p,"move_node"===b&&"a"===r&&l.data.origin&&l.data.origin===T&&f===T.get_parent(l.data.nodes[v])&&(x=T.get_node(f),w>e.inArray(l.data.nodes[v],x.children)&&(w-=1)),!(g=g&&(T&&T.settings&&T.settings.dnd&&!1===T.settings.dnd.check_while_dragging||T.check(b,l.data.origin&&l.data.origin!==T?l.data.origin.get_node(l.data.nodes[v]):l.data.nodes[v],f,w,{dnd:!0,ref:T.get_node(E.parent()),pos:r,origin:l.data.origin,is_multi:l.data.origin&&l.data.origin!==T,is_foreign:!l.data.origin})))){T&&T.last_error&&(i=T.last_error());break}return"i"===r&&E.parent().is(".jstree-closed")&&T.settings.dnd.open_timeout&&(!l.event||"dragover"!==l.event.type||c)&&(o&&clearTimeout(o),o=setTimeout(function(e,t){return function(){e.open_node(t)}}(T,E),T.settings.dnd.open_timeout)),g?((k=T.get_node(f,!0)).hasClass(".jstree-dnd-parent")||(e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),k.addClass("jstree-dnd-parent")),n={ins:T,par:f,pos:"i"!==r||"last"!==_||0!==p||T.is_loaded(C)?p:"last"},a.css({left:d+"px",top:u+"px"}).show(),l.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),l.event.originalEvent&&l.event.originalEvent.dataTransfer&&(l.event.originalEvent.dataTransfer.dropEffect=S?"copy":"move"),i={},m=!0,!1):void 0}),!0===m))return}else{for(g=!0,v=0,y=l.data.nodes.length;y>v&&(g=g&&T.check(l.data.origin&&(l.data.origin.settings.dnd.always_copy||l.data.origin.settings.dnd.copy&&(l.event.metaKey||l.event.ctrlKey))?"copy_node":"move_node",l.data.origin&&l.data.origin!==T?l.data.origin.get_node(l.data.nodes[v]):l.data.nodes[v],e.jstree.root,"last",{dnd:!0,ref:T.get_node(e.jstree.root),pos:"i",origin:l.data.origin,is_multi:l.data.origin&&l.data.origin!==T,is_foreign:!l.data.origin}));v++);if(g)return n={ins:T,par:e.jstree.root,pos:"last"},a.hide(),l.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),void(l.event.originalEvent&&l.event.originalEvent.dataTransfer&&(l.event.originalEvent.dataTransfer.dropEffect=S?"copy":"move"))}e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),n=!1,l.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er"),l.event.originalEvent&&l.event.originalEvent.dataTransfer,a.hide()}}).on("dnd_scroll.vakata.jstree",function(e,t){t&&t.data&&t.data.jstree&&(a.hide(),n=!1,r=!1,t.helper.find(".jstree-icon").first().removeClass("jstree-ok").addClass("jstree-er"))}).on("dnd_stop.vakata.jstree",function(t,s){if(e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),o&&clearTimeout(o),s&&s.data&&s.data.jstree){a.hide().detach();var l,c,d=[];if(n){for(l=0,c=s.data.nodes.length;c>l;l++)d[l]=s.data.origin?s.data.origin.get_node(s.data.nodes[l]):s.data.nodes[l];n.ins[s.data.origin&&(s.data.origin.settings.dnd.always_copy||s.data.origin.settings.dnd.copy&&(s.event.metaKey||s.event.ctrlKey))?"copy_node":"move_node"](d,n.par,n.pos,!1,!1,!1,s.data.origin)}else(l=e(s.event.target).closest(".jstree")).length&&i&&i.error&&"check"===i.error&&((l=l.jstree(!0))&&l.settings.core.error.call(this,i));r=!1,n=!1}}).on("keyup.jstree keydown.jstree",function(t,s){(s=e.vakata.dnd._get())&&s.data&&s.data.jstree&&("keyup"===t.type&&27===t.which?(o&&clearTimeout(o),n=!1,i=!1,r=!1,o=!1,a.hide().detach(),e.vakata.dnd._clean()):(s.helper.find(".jstree-copy").first()[s.data.origin&&(s.data.origin.settings.dnd.always_copy||s.data.origin.settings.dnd.copy&&(t.metaKey||t.ctrlKey))?"show":"hide"](),r&&(r.metaKey=t.metaKey,r.ctrlKey=t.ctrlKey,e.vakata.dnd._trigger("move",r))))})}),function(e){e.vakata.html={div:e("<div />"),escape:function(t){return e.vakata.html.div.text(t).html()},strip:function(t){return e.vakata.html.div.empty().append(e.parseHTML(t)).text()}};var n={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1};e.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:10},_trigger:function(n,i,r){r===t&&(r=e.vakata.dnd._get()),r.event=i,e(l).triggerHandler("dnd_"+n+".vakata",r)},_get:function(){return{data:n.data,element:n.element,helper:n.helper}},_clean:function(){n.helper&&n.helper.remove(),n.scroll_i&&(clearInterval(n.scroll_i),n.scroll_i=!1),n={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},e(l).off("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(l).off("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop)},_scroll:function(t){if(!n.scroll_e||!n.scroll_l&&!n.scroll_t)return n.scroll_i&&(clearInterval(n.scroll_i),n.scroll_i=!1),!1;if(!n.scroll_i)return n.scroll_i=setInterval(e.vakata.dnd._scroll,100),!1;if(!0===t)return!1;var i=n.scroll_e.scrollTop(),r=n.scroll_e.scrollLeft();n.scroll_e.scrollTop(i+n.scroll_t*e.vakata.dnd.settings.scroll_speed),n.scroll_e.scrollLeft(r+n.scroll_l*e.vakata.dnd.settings.scroll_speed),(i!==n.scroll_e.scrollTop()||r!==n.scroll_e.scrollLeft())&&e.vakata.dnd._trigger("scroll",n.scroll_e)},start:function(t,i,r){"touchstart"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=l.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),n.is_drag&&e.vakata.dnd.stop({});try{t.currentTarget.unselectable="on",t.currentTarget.onselectstart=function(){return!1},t.currentTarget.style&&(t.currentTarget.style.touchAction="none",t.currentTarget.style.msTouchAction="none",t.currentTarget.style.MozUserSelect="none")}catch(e){}return n.init_x=t.pageX,n.init_y=t.pageY,n.data=i,n.is_down=!0,n.element=t.currentTarget,n.target=t.target,n.is_touch="touchstart"===t.type,!1!==r&&(n.helper=e("<div id='vakata-dnd'></div>").html(r).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),e(l).on("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(l).on("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop),!1},drag:function(t){if("touchmove"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=l.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),n.is_down){if(!n.is_drag){if(!(Math.abs(t.pageX-n.init_x)>(n.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)||Math.abs(t.pageY-n.init_y)>(n.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)))return;n.helper&&(n.helper.appendTo(l.body),n.helper_w=n.helper.outerWidth()),n.is_drag=!0,e(n.target).one("click.vakata",!1),e.vakata.dnd._trigger("start",t)}var i=!1,r=!1,o=!1,a=!1,s=!1,c=!1,d=!1,u=!1,h=!1,f=!1;return n.scroll_t=0,n.scroll_l=0,n.scroll_e=!1,e(e(t.target).parentsUntil("body").addBack().get().reverse()).filter(function(){return/^auto|scroll$/.test(e(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var i=e(this),r=i.offset();return this.scrollHeight>this.offsetHeight&&(r.top+i.height()-t.pageY<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=1),t.pageY-r.top<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(r.left+i.width()-t.pageX<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=1),t.pageX-r.left<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=-1)),n.scroll_t||n.scroll_l?(n.scroll_e=e(this),!1):void 0}),n.scroll_e||(i=e(l),r=e(window),o=i.height(),a=r.height(),s=i.width(),c=r.width(),d=i.scrollTop(),u=i.scrollLeft(),o>a&&t.pageY-d<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=-1),o>a&&a-(t.pageY-d)<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=1),s>c&&t.pageX-u<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=-1),s>c&&c-(t.pageX-u)<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=1),(n.scroll_t||n.scroll_l)&&(n.scroll_e=i)),n.scroll_e&&e.vakata.dnd._scroll(!0),n.helper&&(h=parseInt(t.pageY+e.vakata.dnd.settings.helper_top,10),f=parseInt(t.pageX+e.vakata.dnd.settings.helper_left,10),o&&h+25>o&&(h=o-50),s&&f+n.helper_w>s&&(f=s-(n.helper_w+2)),n.helper.css({left:f+"px",top:h+"px"})),e.vakata.dnd._trigger("move",t),!1}},stop:function(t){if("touchend"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=l.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),n.is_drag)t.target!==n.target&&e(n.target).off("click.vakata"),e.vakata.dnd._trigger("stop",t);else if("touchend"===t.type&&t.target===n.target){var i=setTimeout(function(){e(t.target).click()},100);e(t.target).one("click",function(){i&&clearTimeout(i)})}return e.vakata.dnd._clean(),!1}}}(e),e.jstree.defaults.massload=null,e.jstree.plugins.massload=function(t,n){this.init=function(e,t){this._data.massload={},n.init.call(this,e,t)},this._load_nodes=function(t,i,r,o){var a,s,l,c=this.settings.massload,d=(JSON.stringify(t),[]),u=this._model.data;if(!r){for(a=0,s=t.length;s>a;a++)(!u[t[a]]||!u[t[a]].state.loaded&&!u[t[a]].state.failed||o)&&(d.push(t[a]),(l=this.get_node(t[a],!0))&&l.length&&l.addClass("jstree-loading").attr("aria-busy",!0));if(this._data.massload={},d.length){if(e.isFunction(c))return c.call(this,d,e.proxy(function(e){var a,s;if(e)for(a in e)e.hasOwnProperty(a)&&(this._data.massload[a]=e[a]);for(a=0,s=t.length;s>a;a++)(l=this.get_node(t[a],!0))&&l.length&&l.removeClass("jstree-loading").attr("aria-busy",!1);n._load_nodes.call(this,t,i,r,o)},this));if("object"==typeof c&&c&&c.url)return c=e.extend(!0,{},c),e.isFunction(c.url)&&(c.url=c.url.call(this,d)),e.isFunction(c.data)&&(c.data=c.data.call(this,d)),e.ajax(c).done(e.proxy(function(e,a,s){var c,d;if(e)for(c in e)e.hasOwnProperty(c)&&(this._data.massload[c]=e[c]);for(c=0,d=t.length;d>c;c++)(l=this.get_node(t[c],!0))&&l.length&&l.removeClass("jstree-loading").attr("aria-busy",!1);n._load_nodes.call(this,t,i,r,o)},this)).fail(e.proxy(function(e){n._load_nodes.call(this,t,i,r,o)},this))}}return n._load_nodes.call(this,t,i,r,o)},this._load_node=function(t,i){var r,o=this._data.massload[t.id],a=null;return o?(a=this["string"==typeof o?"_append_html_data":"_append_json_data"](t,"string"==typeof o?e(e.parseHTML(o)).filter(function(){return 3!==this.nodeType}):o,function(e){i.call(this,e)}),(r=this.get_node(t.id,!0))&&r.length&&r.removeClass("jstree-loading").attr("aria-busy",!1),delete this._data.massload[t.id],a):n._load_node.call(this,t,i)}},e.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},e.jstree.plugins.search=function(n,i){this.bind=function(){i.bind.call(this),this._data.search.str="",this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=!1,this._data.search.smc=!1,this._data.search.hdn=[],this.element.on("search.jstree",e.proxy(function(t,n){if(this._data.search.som&&n.res.length){var i,r,o,a,s=this._model.data,l=[];for(i=0,r=n.res.length;r>i;i++)if(s[n.res[i]]&&!s[n.res[i]].state.hidden&&(l.push(n.res[i]),l=l.concat(s[n.res[i]].parents),this._data.search.smc))for(o=0,a=s[n.res[i]].children_d.length;a>o;o++)s[s[n.res[i]].children_d[o]]&&!s[s[n.res[i]].children_d[o]].state.hidden&&l.push(s[n.res[i]].children_d[o]);l=e.vakata.array_remove_item(e.vakata.array_unique(l),e.jstree.root),this._data.search.hdn=this.hide_all(!0),this.show_node(l,!0),this.redraw(!0)}},this)).on("clear_search.jstree",e.proxy(function(e,t){this._data.search.som&&t.res.length&&(this.show_node(this._data.search.hdn,!0),this.redraw(!0))},this))},this.search=function(n,i,r,o,a,s){if(!1===n||""===e.trim(n.toString()))return this.clear_search();o=(o=this.get_node(o))&&o.id?o.id:null,n=n.toString();var l,c,d=this.settings.search,u=!!d.ajax&&d.ajax,h=this._model.data,f=null,p=[],m=[];if(this._data.search.res.length&&!a&&this.clear_search(),r===t&&(r=d.show_only_matches),s===t&&(s=d.show_only_matches_children),!i&&!1!==u)return e.isFunction(u)?u.call(this,n,e.proxy(function(t){t&&t.d&&(t=t.d),this._load_nodes(e.isArray(t)?e.vakata.array_unique(t):[],function(){this.search(n,!0,r,o,a,s)})},this),o):((u=e.extend({},u)).data||(u.data={}),u.data.str=n,o&&(u.data.inside=o),this._data.search.lastRequest&&this._data.search.lastRequest.abort(),this._data.search.lastRequest=e.ajax(u).fail(e.proxy(function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(u)},this.settings.core.error.call(this,this._data.core.last_error)},this)).done(e.proxy(function(t){t&&t.d&&(t=t.d),this._load_nodes(e.isArray(t)?e.vakata.array_unique(t):[],function(){this.search(n,!0,r,o,a,s)})},this)),this._data.search.lastRequest);if(a||(this._data.search.str=n,this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=r,this._data.search.smc=s),f=new e.vakata.search(n,!0,{caseSensitive:d.case_sensitive,fuzzy:d.fuzzy}),e.each(h[o||e.jstree.root].children_d,function(e,t){var i=h[t];i.text&&!i.state.hidden&&(!d.search_leaves_only||i.state.loaded&&0===i.children.length)&&(d.search_callback&&d.search_callback.call(this,n,i)||!d.search_callback&&f.search(i.text).isMatch)&&(p.push(t),m=m.concat(i.parents))}),p.length){for(l=0,c=(m=e.vakata.array_unique(m)).length;c>l;l++)m[l]!==e.jstree.root&&h[m[l]]&&!0===this.open_node(m[l],null,0)&&this._data.search.opn.push(m[l]);a?(this._data.search.dom=this._data.search.dom.add(e(this.element[0].querySelectorAll("#"+e.map(p,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #")))),this._data.search.res=e.vakata.array_unique(this._data.search.res.concat(p))):(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(p,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.res=p),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")}this.trigger("search",{nodes:this._data.search.dom,str:n,res:this._data.search.res,show_only_matches:r})},this.clear_search=function(){this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.res.length&&(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(this._data.search.res,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search")),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=e()},this.redraw_node=function(t,n,r,o){if((t=i.redraw_node.apply(this,arguments))&&-1!==e.inArray(t.id,this._data.search.res)){var a,s,l=null;for(a=0,s=t.childNodes.length;s>a;a++)if(t.childNodes[a]&&t.childNodes[a].className&&-1!==t.childNodes[a].className.indexOf("jstree-anchor")){l=t.childNodes[a];break}l&&(l.className+=" jstree-search")}return t}},function(e){e.vakata.search=function(t,n,i){i=i||{},!1!==(i=e.extend({},e.vakata.search.defaults,i)).fuzzy&&(i.fuzzy=!0),t=i.caseSensitive?t:t.toLowerCase();var r,o,a,s,l=i.location,c=i.distance,d=i.threshold,u=t.length;return u>32&&(i.fuzzy=!1),i.fuzzy&&(r=1<<u-1,o=function(){var e={},n=0;for(n=0;u>n;n++)e[t.charAt(n)]=0;for(n=0;u>n;n++)e[t.charAt(n)]|=1<<u-n-1;return e}(),a=function(e,t){var n=e/u,i=Math.abs(l-t);return c?n+i/c:i?1:n}),s=function(e){if(e=i.caseSensitive?e:e.toLowerCase(),t===e||-1!==e.indexOf(t))return{isMatch:!0,score:0};if(!i.fuzzy)return{isMatch:!1,score:1};var n,s,c,h,f,p,m,g,v,y=e.length,b=d,w=e.indexOf(t,l),x=u+y,_=1,C=[];for(-1!==w&&(b=Math.min(a(0,w),b),-1!==(w=e.lastIndexOf(t,l+u))&&(b=Math.min(a(0,w),b))),w=-1,n=0;u>n;n++){for(c=0,h=x;h>c;)a(n,l+h)<=b?c=h:x=h,h=Math.floor((x-c)/2+c);for(x=h,p=Math.max(1,l-h+1),m=Math.min(l+h,y)+u,(g=new Array(m+2))[m+1]=(1<<n)-1,s=m;s>=p;s--)if(v=o[e.charAt(s-1)],g[s]=0===n?(g[s+1]<<1|1)&v:(g[s+1]<<1|1)&v|(f[s+1]|f[s])<<1|1|f[s+1],g[s]&r&&b>=(_=a(n,s-1))){if(b=_,w=s-1,C.push(w),!(w>l))break;p=Math.max(1,2*l-w)}if(a(n+1,l)>b)break;f=g}return{isMatch:w>=0,score:_}},!0===n?{search:s}:s(n)},e.vakata.search.defaults={location:0,distance:100,threshold:.6,fuzzy:!1,caseSensitive:!1}}(e),e.jstree.defaults.sort=function(e,t){return this.get_text(e)>this.get_text(t)?1:-1},e.jstree.plugins.sort=function(t,n){this.bind=function(){n.bind.call(this),this.element.on("model.jstree",e.proxy(function(e,t){this.sort(t.parent,!0)},this)).on("rename_node.jstree create_node.jstree",e.proxy(function(e,t){this.sort(t.parent||t.node.parent,!1),this.redraw_node(t.parent||t.node.parent,!0)},this)).on("move_node.jstree copy_node.jstree",e.proxy(function(e,t){this.sort(t.parent,!1),this.redraw_node(t.parent,!0)},this))},this.sort=function(t,n){var i,r;if((t=this.get_node(t))&&t.children&&t.children.length&&(t.children.sort(e.proxy(this.settings.sort,this)),n))for(i=0,r=t.children_d.length;r>i;i++)this.sort(t.children_d[i],!1)}};var h=!1;e.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1,preserve_loaded:!1},e.jstree.plugins.state=function(t,n){this.bind=function(){n.bind.call(this);var t=e.proxy(function(){this.element.on(this.settings.state.events,e.proxy(function(){h&&clearTimeout(h),h=setTimeout(e.proxy(function(){this.save_state()},this),100)},this)),this.trigger("state_ready")},this);this.element.on("ready.jstree",e.proxy(function(e,n){this.element.one("restore_state.jstree",t),this.restore_state()||t()},this))},this.save_state=function(){var t=this.get_state();this.settings.state.preserve_loaded||delete t.core.loaded;var n={state:t,ttl:this.settings.state.ttl,sec:+new Date};e.vakata.storage.set(this.settings.state.key,JSON.stringify(n))},this.restore_state=function(){var t=e.vakata.storage.get(this.settings.state.key);if(t)try{t=JSON.parse(t)}catch(e){return!1}return!(t&&t.ttl&&t.sec&&+new Date-t.sec>t.ttl)&&(t&&t.state&&(t=t.state),t&&e.isFunction(this.settings.state.filter)&&(t=this.settings.state.filter.call(this,t)),!!t&&(this.settings.state.preserve_loaded||delete t.core.loaded,this.element.one("set_state.jstree",function(n,i){i.instance.trigger("restore_state",{state:e.extend(!0,{},t)})}),this.set_state(t),!0))},this.clear_state=function(){return e.vakata.storage.del(this.settings.state.key)}},function(e,t){e.vakata.storage={set:function(e,t){return window.localStorage.setItem(e,t)},get:function(e){return window.localStorage.getItem(e)},del:function(e){return window.localStorage.removeItem(e)}}}(e),e.jstree.defaults.types={default:{}},e.jstree.defaults.types[e.jstree.root]={},e.jstree.plugins.types=function(n,i){this.init=function(n,r){var o,a;if(r&&r.types&&r.types.default)for(o in r.types)if("default"!==o&&o!==e.jstree.root&&r.types.hasOwnProperty(o))for(a in r.types.default)r.types.default.hasOwnProperty(a)&&r.types[o][a]===t&&(r.types[o][a]=r.types.default[a]);i.init.call(this,n,r),this._model.data[e.jstree.root].type=e.jstree.root},this.refresh=function(t,n){i.refresh.call(this,t,n),this._model.data[e.jstree.root].type=e.jstree.root},this.bind=function(){this.element.on("model.jstree",e.proxy(function(n,i){var r,o,a,s=this._model.data,l=i.nodes,c=this.settings.types,d="default";for(r=0,o=l.length;o>r;r++){if(d="default",s[l[r]].original&&s[l[r]].original.type&&c[s[l[r]].original.type]&&(d=s[l[r]].original.type),s[l[r]].data&&s[l[r]].data.jstree&&s[l[r]].data.jstree.type&&c[s[l[r]].data.jstree.type]&&(d=s[l[r]].data.jstree.type),s[l[r]].type=d,!0===s[l[r]].icon&&c[d].icon!==t&&(s[l[r]].icon=c[d].icon),c[d].li_attr!==t&&"object"==typeof c[d].li_attr)for(a in c[d].li_attr)if(c[d].li_attr.hasOwnProperty(a)){if("id"===a)continue;s[l[r]].li_attr[a]===t?s[l[r]].li_attr[a]=c[d].li_attr[a]:"class"===a&&(s[l[r]].li_attr.class=c[d].li_attr.class+" "+s[l[r]].li_attr.class)}if(c[d].a_attr!==t&&"object"==typeof c[d].a_attr)for(a in c[d].a_attr)if(c[d].a_attr.hasOwnProperty(a)){if("id"===a)continue;s[l[r]].a_attr[a]===t?s[l[r]].a_attr[a]=c[d].a_attr[a]:"href"===a&&"#"===s[l[r]].a_attr[a]?s[l[r]].a_attr.href=c[d].a_attr.href:"class"===a&&(s[l[r]].a_attr.class=c[d].a_attr.class+" "+s[l[r]].a_attr.class)}}s[e.jstree.root].type=e.jstree.root},this)),i.bind.call(this)},this.get_json=function(t,n,r){var o,a,s=this._model.data,l=n?e.extend(!0,{},n,{no_id:!1}):{},c=i.get_json.call(this,t,l,r);if(!1===c)return!1;if(e.isArray(c))for(o=0,a=c.length;a>o;o++)c[o].type=c[o].id&&s[c[o].id]&&s[c[o].id].type?s[c[o].id].type:"default",n&&n.no_id&&(delete c[o].id,c[o].li_attr&&c[o].li_attr.id&&delete c[o].li_attr.id,c[o].a_attr&&c[o].a_attr.id&&delete c[o].a_attr.id);else c.type=c.id&&s[c.id]&&s[c.id].type?s[c.id].type:"default",n&&n.no_id&&(c=this._delete_ids(c));return c},this._delete_ids=function(t){if(e.isArray(t)){for(var n=0,i=t.length;i>n;n++)t[n]=this._delete_ids(t[n]);return t}return delete t.id,t.li_attr&&t.li_attr.id&&delete t.li_attr.id,t.a_attr&&t.a_attr.id&&delete t.a_attr.id,t.children&&e.isArray(t.children)&&(t.children=this._delete_ids(t.children)),t},this.check=function(n,r,o,a,s){if(!1===i.check.call(this,n,r,o,a,s))return!1;r=r&&r.id?r:this.get_node(r),o=o&&o.id?o:this.get_node(o);var l,c,d,u,h=r&&r.id?s&&s.origin?s.origin:e.jstree.reference(r.id):null;switch(h=h&&h._model&&h._model.data?h._model.data:null,n){case"create_node":case"move_node":case"copy_node":if("move_node"!==n||-1===e.inArray(r.id,o.children)){if((l=this.get_rules(o)).max_children!==t&&-1!==l.max_children&&l.max_children===o.children.length)return this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+n,data:JSON.stringify({chk:n,pos:a,obj:!(!r||!r.id)&&r.id,par:!(!o||!o.id)&&o.id})},!1;if(l.valid_children!==t&&-1!==l.valid_children&&-1===e.inArray(r.type||"default",l.valid_children))return this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+n,data:JSON.stringify({chk:n,pos:a,obj:!(!r||!r.id)&&r.id,par:!(!o||!o.id)&&o.id})},!1;if(h&&r.children_d&&r.parents){for(c=0,d=0,u=r.children_d.length;u>d;d++)c=Math.max(c,h[r.children_d[d]].parents.length);c=c-r.parents.length+1}(0>=c||c===t)&&(c=1);do{if(l.max_depth!==t&&-1!==l.max_depth&&l.max_depth<c)return this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+n,data:JSON.stringify({chk:n,pos:a,obj:!(!r||!r.id)&&r.id,par:!(!o||!o.id)&&o.id})},!1;o=this.get_node(o.parent),l=this.get_rules(o),c++}while(o)}}return!0},this.get_rules=function(e){if(!(e=this.get_node(e)))return!1;var n=this.get_type(e,!0);return n.max_depth===t&&(n.max_depth=-1),n.max_children===t&&(n.max_children=-1),n.valid_children===t&&(n.valid_children=-1),n},this.get_type=function(t,n){return!!(t=this.get_node(t))&&(n?e.extend({type:t.type},this.settings.types[t.type]):t.type)},this.set_type=function(n,i){var r,o,a,s,l,c,d,u,h=this._model.data;if(e.isArray(n)){for(o=0,a=(n=n.slice()).length;a>o;o++)this.set_type(n[o],i);return!0}if(r=this.settings.types,n=this.get_node(n),!r[i]||!n)return!1;if((d=this.get_node(n,!0))&&d.length&&(u=d.children(".jstree-anchor")),s=n.type,l=this.get_icon(n),n.type=i,(!0===l||!r[s]||r[s].icon!==t&&l===r[s].icon)&&this.set_icon(n,r[i].icon===t||r[i].icon),r[s]&&r[s].li_attr!==t&&"object"==typeof r[s].li_attr)for(c in r[s].li_attr)if(r[s].li_attr.hasOwnProperty(c)){if("id"===c)continue;"class"===c?(h[n.id].li_attr.class=(h[n.id].li_attr.class||"").replace(r[s].li_attr[c],""),d&&d.removeClass(r[s].li_attr[c])):h[n.id].li_attr[c]===r[s].li_attr[c]&&(h[n.id].li_attr[c]=null,d&&d.removeAttr(c))}if(r[s]&&r[s].a_attr!==t&&"object"==typeof r[s].a_attr)for(c in r[s].a_attr)if(r[s].a_attr.hasOwnProperty(c)){if("id"===c)continue;"class"===c?(h[n.id].a_attr.class=(h[n.id].a_attr.class||"").replace(r[s].a_attr[c],""),u&&u.removeClass(r[s].a_attr[c])):h[n.id].a_attr[c]===r[s].a_attr[c]&&("href"===c?(h[n.id].a_attr[c]="#",u&&u.attr("href","#")):(delete h[n.id].a_attr[c],u&&u.removeAttr(c)))}if(r[i].li_attr!==t&&"object"==typeof r[i].li_attr)for(c in r[i].li_attr)if(r[i].li_attr.hasOwnProperty(c)){if("id"===c)continue;h[n.id].li_attr[c]===t?(h[n.id].li_attr[c]=r[i].li_attr[c],d&&("class"===c?d.addClass(r[i].li_attr[c]):d.attr(c,r[i].li_attr[c]))):"class"===c&&(h[n.id].li_attr.class=r[i].li_attr[c]+" "+h[n.id].li_attr.class,d&&d.addClass(r[i].li_attr[c]))}if(r[i].a_attr!==t&&"object"==typeof r[i].a_attr)for(c in r[i].a_attr)if(r[i].a_attr.hasOwnProperty(c)){if("id"===c)continue;h[n.id].a_attr[c]===t?(h[n.id].a_attr[c]=r[i].a_attr[c],u&&("class"===c?u.addClass(r[i].a_attr[c]):u.attr(c,r[i].a_attr[c]))):"href"===c&&"#"===h[n.id].a_attr[c]?(h[n.id].a_attr.href=r[i].a_attr.href,u&&u.attr("href",r[i].a_attr.href)):"class"===c&&(h[n.id].a_attr.class=r[i].a_attr.class+" "+h[n.id].a_attr.class,u&&u.addClass(r[i].a_attr[c]))}return!0}},e.jstree.defaults.unique={case_sensitive:!1,trim_whitespace:!1,duplicate:function(e,t){return e+" ("+t+")"}},e.jstree.plugins.unique=function(n,i){this.check=function(t,n,r,o,a){if(!1===i.check.call(this,t,n,r,o,a))return!1;if(n=n&&n.id?n:this.get_node(n),!(r=r&&r.id?r:this.get_node(r))||!r.children)return!0;var s,l,c,d="rename_node"===t?o:n.text,u=[],h=this.settings.unique.case_sensitive,f=this.settings.unique.trim_whitespace,p=this._model.data;for(s=0,l=r.children.length;l>s;s++)c=p[r.children[s]].text,h||(c=c.toLowerCase()),f&&(c=c.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),u.push(c);switch(h||(d=d.toLowerCase()),f&&(d=d.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),t){case"delete_node":return!0;case"rename_node":return c=n.text||"",h||(c=c.toLowerCase()),f&&(c=c.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),(s=-1===e.inArray(d,u)||n.text&&c===d)||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+d+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:o,obj:!(!n||!n.id)&&n.id,par:!(!r||!r.id)&&r.id})}),s;case"create_node":return(s=-1===e.inArray(d,u))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+d+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:o,obj:!(!n||!n.id)&&n.id,par:!(!r||!r.id)&&r.id})}),s;case"copy_node":return(s=-1===e.inArray(d,u))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+d+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:o,obj:!(!n||!n.id)&&n.id,par:!(!r||!r.id)&&r.id})}),s;case"move_node":return(s=n.parent===r.id&&(!a||!a.is_multi)||-1===e.inArray(d,u))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+d+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:o,obj:!(!n||!n.id)&&n.id,par:!(!r||!r.id)&&r.id})}),s}return!0},this.create_node=function(n,r,o,a,s){if(!r||r.text===t){if(null===n&&(n=e.jstree.root),!(n=this.get_node(n)))return i.create_node.call(this,n,r,o,a,s);if(!(o=o===t?"last":o).toString().match(/^(before|after)$/)&&!s&&!this.is_loaded(n))return i.create_node.call(this,n,r,o,a,s);r||(r={});var l,c,d,u,h,f,p=this._model.data,m=this.settings.unique.case_sensitive,g=this.settings.unique.trim_whitespace,v=this.settings.unique.duplicate;for(c=l=this.get_string("New node"),d=[],u=0,h=n.children.length;h>u;u++)f=p[n.children[u]].text,m||(f=f.toLowerCase()),g&&(f=f.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),d.push(f);for(u=1,f=c,m||(f=f.toLowerCase()),g&&(f=f.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));-1!==e.inArray(f,d);)f=c=v.call(this,l,++u).toString(),m||(f=f.toLowerCase()),g&&(f=f.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));r.text=c}return i.create_node.call(this,n,r,o,a,s)}};var f=l.createElement("DIV");if(f.setAttribute("unselectable","on"),f.setAttribute("role","presentation"),f.className="jstree-wholerow",f.innerHTML="&#160;",e.jstree.plugins.wholerow=function(t,n){this.bind=function(){n.bind.call(this),this.element.on("ready.jstree set_state.jstree",e.proxy(function(){this.hide_dots()},this)).on("init.jstree loading.jstree ready.jstree",e.proxy(function(){this.get_container_ul().addClass("jstree-wholerow-ul")},this)).on("deselect_all.jstree",e.proxy(function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")},this)).on("changed.jstree",e.proxy(function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");var n,i,r=!1;for(n=0,i=t.selected.length;i>n;n++)(r=this.get_node(t.selected[n],!0))&&r.length&&r.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("open_node.jstree",e.proxy(function(e,t){this.get_node(t.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("hover_node.jstree dehover_node.jstree",e.proxy(function(e,t){"hover_node"===e.type&&this.is_disabled(t.node)||this.get_node(t.node,!0).children(".jstree-wholerow")["hover_node"===e.type?"addClass":"removeClass"]("jstree-wholerow-hovered")},this)).on("contextmenu.jstree",".jstree-wholerow",e.proxy(function(t){if(this._data.contextmenu){t.preventDefault();var n=e.Event("contextmenu",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,pageX:t.pageX,pageY:t.pageY});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n)}},this)).on("click.jstree",".jstree-wholerow",function(t){t.stopImmediatePropagation();var n=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n).focus()}).on("dblclick.jstree",".jstree-wholerow",function(t){t.stopImmediatePropagation();var n=e.Event("dblclick",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n).focus()}).on("click.jstree",".jstree-leaf > .jstree-ocl",e.proxy(function(t){t.stopImmediatePropagation();var n=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n).focus()},this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",e.proxy(function(e){return e.stopImmediatePropagation(),this.is_disabled(e.currentTarget)||this.hover_node(e.currentTarget),!1},this)).on("mouseleave.jstree",".jstree-node",e.proxy(function(e){this.dehover_node(e.currentTarget)},this))},this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove(),n.teardown.call(this)},this.redraw_node=function(t,i,r,o){if(t=n.redraw_node.apply(this,arguments)){var a=f.cloneNode(!0);-1!==e.inArray(t.id,this._data.core.selected)&&(a.className+=" jstree-wholerow-clicked"),this._data.core.focused&&this._data.core.focused===t.id&&(a.className+=" jstree-wholerow-hovered"),t.insertBefore(a,t.childNodes[0])}return t}},window.customElements&&Object&&Object.create){var p=Object.create(HTMLElement.prototype);p.createdCallback=function(){var t,n={core:{},plugins:[]};for(t in e.jstree.plugins)e.jstree.plugins.hasOwnProperty(t)&&this.attributes[t]&&(n.plugins.push(t),this.getAttribute(t)&&JSON.parse(this.getAttribute(t))&&(n[t]=JSON.parse(this.getAttribute(t))));for(t in e.jstree.defaults.core)e.jstree.defaults.core.hasOwnProperty(t)&&this.attributes[t]&&(n.core[t]=JSON.parse(this.getAttribute(t))||this.getAttribute(t));e(this).jstree(n)};try{window.customElements.define("vakata-jstree",function(){},{prototype:p})}catch(e){}}}}),function(e,t){void 0===e&&void 0!==window&&(e=window),"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,function(e){!function(e){"use strict";var t=["sanitize","whiteList","sanitizeFn"],n=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],i=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,r=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function o(t,o){var a=t.nodeName.toLowerCase();if(-1!==e.inArray(a,o))return-1===e.inArray(a,n)||Boolean(t.nodeValue.match(i)||t.nodeValue.match(r));for(var s=e(o).filter(function(e,t){return t instanceof RegExp}),l=0,c=s.length;l<c;l++)if(a.match(s[l]))return!0;return!1}function a(e,t,n){if(n&&"function"==typeof n)return n(e);for(var i=Object.keys(t),r=0,a=e.length;r<a;r++)for(var s=e[r].querySelectorAll("*"),l=0,c=s.length;l<c;l++){var d=s[l],u=d.nodeName.toLowerCase();if(-1!==i.indexOf(u))for(var h=[].slice.call(d.attributes),f=[].concat(t["*"]||[],t[u]||[]),p=0,m=h.length;p<m;p++){var g=h[p];o(g,f)||d.removeAttribute(g.nodeName)}else d.parentNode.removeChild(d)}}"classList"in document.createElement("_")||function(t){if("Element"in t){var n="classList",i="prototype",r=t.Element[i],o=Object,a=function(){var t=e(this);return{add:function(e){return e=Array.prototype.slice.call(arguments).join(" "),t.addClass(e)},remove:function(e){return e=Array.prototype.slice.call(arguments).join(" "),t.removeClass(e)},toggle:function(e,n){return t.toggleClass(e,n)},contains:function(e){return t.hasClass(e)}}};if(o.defineProperty){var s={get:a,enumerable:!0,configurable:!0};try{o.defineProperty(r,n,s)}catch(t){void 0!==t.number&&-2146823252!==t.number||(s.enumerable=!1,o.defineProperty(r,n,s))}}else o[i].__defineGetter__&&r.__defineGetter__(n,a)}}(window);var s,l,c=document.createElement("_");if(c.classList.add("c1","c2"),!c.classList.contains("c2")){var d=DOMTokenList.prototype.add,u=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){Array.prototype.forEach.call(arguments,d.bind(this))},DOMTokenList.prototype.remove=function(){Array.prototype.forEach.call(arguments,u.bind(this))}}if(c.classList.toggle("c3",!1),c.classList.contains("c3")){var h=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:h.call(this,e)}}function f(e){if(null==this)throw new TypeError;var t=String(this);if(e&&"[object RegExp]"==l.call(e))throw new TypeError;var n=t.length,i=String(e),r=i.length,o=1<arguments.length?arguments[1]:void 0,a=o?Number(o):0;a!=a&&(a=0);var s=Math.min(Math.max(a,0),n);if(n<r+s)return!1;for(var c=-1;++c<r;)if(t.charCodeAt(s+c)!=i.charCodeAt(c))return!1;return!0}function p(e,t){var n,i=e.selectedOptions,r=[];if(t){for(var o=0,a=i.length;o<a;o++)(n=i[o]).disabled||"OPTGROUP"===n.parentNode.tagName&&n.parentNode.disabled||r.push(n);return r}return i}function m(e,t){for(var n,i=[],r=t||e.selectedOptions,o=0,a=r.length;o<a;o++)(n=r[o]).disabled||"OPTGROUP"===n.parentNode.tagName&&n.parentNode.disabled||i.push(n.value||n.text);return e.multiple?i:i.length?i[0]:null}c=null,String.prototype.startsWith||(s=function(){try{var e={},t=Object.defineProperty,n=t(e,e,e)&&t}catch(e){}return n}(),l={}.toString,s?s(String.prototype,"startsWith",{value:f,configurable:!0,writable:!0}):String.prototype.startsWith=f),Object.keys||(Object.keys=function(e,t,n){for(t in n=[],e)n.hasOwnProperty.call(e,t)&&n.push(t);return n}),HTMLSelectElement&&!HTMLSelectElement.prototype.hasOwnProperty("selectedOptions")&&Object.defineProperty(HTMLSelectElement.prototype,"selectedOptions",{get:function(){return this.querySelectorAll(":checked")}});var g={useDefault:!1,_set:e.valHooks.select.set};e.valHooks.select.set=function(t,n){return n&&!g.useDefault&&e(t).data("selected",!0),g._set.apply(this,arguments)};var v=null,y=function(){try{return new Event("change"),!0}catch(e){return!1}}();function b(e,t,n,i){for(var r=["display","subtext","tokens"],o=!1,a=0;a<r.length;a++){var s=r[a],l=e[s];if(l&&(l=l.toString(),"display"===s&&(l=l.replace(/<[^>]+>/g,"")),i&&(l=k(l)),l=l.toUpperCase(),o="contains"===n?0<=l.indexOf(t):l.startsWith(t)))break}return o}function w(e){return parseInt(e,10)||0}e.fn.triggerNative=function(e){var t,n=this[0];n.dispatchEvent?(y?t=new Event(e,{bubbles:!0}):(t=document.createEvent("Event")).initEvent(e,!0,!1),n.dispatchEvent(t)):n.fireEvent?((t=document.createEventObject()).eventType=e,n.fireEvent("on"+e,t)):this.trigger(e)};var x={"Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã":"C","Ã§":"c","Ã":"D","Ã°":"d","Ã":"E","Ã":"E","Ã":"E","Ã":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","Ã":"I","Ã":"I","Ã":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã":"N","Ã±":"n","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã":"U","Ã":"U","Ã":"U","Ã":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã":"Ae","Ã¦":"ae","Ã":"Th","Ã¾":"th","Ã":"ss","Ä":"A","Ä":"A","Ä":"A","Ä":"a","Ä":"a","Ä":"a","Ä":"C","Ä":"C","Ä":"C","Ä":"C","Ä":"c","Ä":"c","Ä":"c","Ä":"c","Ä":"D","Ä":"D","Ä":"d","Ä":"d","Ä":"E","Ä":"E","Ä":"E","Ä":"E","Ä":"E","Ä":"e","Ä":"e","Ä":"e","Ä":"e","Ä":"e","Ä":"G","Ä":"G","Ä ":"G","Ä¢":"G","Ä":"g","Ä":"g","Ä¡":"g","Ä£":"g","Ä¤":"H","Ä¦":"H","Ä¥":"h","Ä§":"h","Ä¨":"I","Äª":"I","Ä¬":"I","Ä®":"I","Ä°":"I","Ä©":"i","Ä«":"i","Ä­":"i","Ä¯":"i","Ä±":"i","Ä´":"J","Äµ":"j","Ä¶":"K","Ä·":"k","Ä¸":"k","Ä¹":"L","Ä»":"L","Ä½":"L","Ä¿":"L","Å":"L","Äº":"l","Ä¼":"l","Ä¾":"l","Å":"l","Å":"l","Å":"N","Å":"N","Å":"N","Å":"N","Å":"n","Å":"n","Å":"n","Å":"n","Å":"O","Å":"O","Å":"O","Å":"o","Å":"o","Å":"o","Å":"R","Å":"R","Å":"R","Å":"r","Å":"r","Å":"r","Å":"S","Å":"S","Å":"S","Å ":"S","Å":"s","Å":"s","Å":"s","Å¡":"s","Å¢":"T","Å¤":"T","Å¦":"T","Å£":"t","Å¥":"t","Å§":"t","Å¨":"U","Åª":"U","Å¬":"U","Å®":"U","Å°":"U","Å²":"U","Å©":"u","Å«":"u","Å­":"u","Å¯":"u","Å±":"u","Å³":"u","Å´":"W","Åµ":"w","Å¶":"Y","Å·":"y","Å¸":"Y","Å¹":"Z","Å»":"Z","Å½":"Z","Åº":"z","Å¼":"z","Å¾":"z","Ä²":"IJ","Ä³":"ij","Å":"Oe","Å":"oe","Å":"'n","Å¿":"s"},_=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,C=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]","g");function S(e){return x[e]}function k(e){return(e=e.toString())&&e.replace(_,S).replace(C,"")}var T,E,D,N,A=(T={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},E="(?:"+Object.keys(T).join("|")+")",D=RegExp(E),N=RegExp(E,"g"),function(e){return e=null==e?"":""+e,D.test(e)?e.replace(N,O):e});function O(e){return T[e]}var I={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},R={success:!1,major:"3"};try{R.full=(e.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split("."),R.major=R.full[0],R.success=!0}catch(e){}var P=0,M=".bs.select",j={DISABLED:"disabled",DIVIDER:"divider",SHOW:"open",DROPUP:"dropup",MENU:"dropdown-menu",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",BUTTONCLASS:"btn-default",POPOVERHEADER:"popover-title",ICONBASE:"glyphicon",TICKICON:"glyphicon-ok"},L={MENU:"."+j.MENU},B={span:document.createElement("span"),i:document.createElement("i"),subtext:document.createElement("small"),a:document.createElement("a"),li:document.createElement("li"),whitespace:document.createTextNode("Â "),fragment:document.createDocumentFragment()};B.a.setAttribute("role","option"),B.subtext.className="text-muted",B.text=B.span.cloneNode(!1),B.text.className="text",B.checkMark=B.span.cloneNode(!1);var $=new RegExp("38|40"),F=new RegExp("^9$|27"),H=function(e,t,n){var i=B.li.cloneNode(!1);return e&&(1===e.nodeType||11===e.nodeType?i.appendChild(e):i.innerHTML=e),void 0!==t&&""!==t&&(i.className=t),null!=n&&i.classList.add("optgroup-"+n),i},z=function(e,t,n){var i=B.a.cloneNode(!0);return e&&(11===e.nodeType?i.appendChild(e):i.insertAdjacentHTML("beforeend",e)),void 0!==t&&""!==t&&(i.className=t),"4"===R.major&&i.classList.add("dropdown-item"),n&&i.setAttribute("style",n),i},W=function(e,t){var n,i,r=B.text.cloneNode(!1);if(e.content)r.innerHTML=e.content;else{if(r.textContent=e.text,e.icon){var o=B.whitespace.cloneNode(!1);(i=(!0===t?B.i:B.span).cloneNode(!1)).className=e.iconBase+" "+e.icon,B.fragment.appendChild(i),B.fragment.appendChild(o)}e.subtext&&((n=B.subtext.cloneNode(!1)).textContent=e.subtext,r.appendChild(n))}if(!0===t)for(;0<r.childNodes.length;)B.fragment.appendChild(r.childNodes[0]);else B.fragment.appendChild(r);return B.fragment},U=function(e){var t,n,i=B.text.cloneNode(!1);if(i.innerHTML=e.label,e.icon){var r=B.whitespace.cloneNode(!1);(n=B.span.cloneNode(!1)).className=e.iconBase+" "+e.icon,B.fragment.appendChild(n),B.fragment.appendChild(r)}return e.subtext&&((t=B.subtext.cloneNode(!1)).textContent=e.subtext,i.appendChild(t)),B.fragment.appendChild(i),B.fragment},q=function(t,n){var i=this;g.useDefault||(e.valHooks.select.set=g._set,g.useDefault=!0),this.$element=e(t),this.$newElement=null,this.$button=null,this.$menu=null,this.options=n,this.selectpicker={main:{},search:{},current:{},view:{},keydown:{keyHistory:"",resetKeyHistory:{start:function(){return setTimeout(function(){i.selectpicker.keydown.keyHistory=""},800)}}}},null===this.options.title&&(this.options.title=this.$element.attr("title"));var r=this.options.windowPadding;"number"==typeof r&&(this.options.windowPadding=[r,r,r,r]),this.val=q.prototype.val,this.render=q.prototype.render,this.refresh=q.prototype.refresh,this.setStyle=q.prototype.setStyle,this.selectAll=q.prototype.selectAll,this.deselectAll=q.prototype.deselectAll,this.destroy=q.prototype.destroy,this.remove=q.prototype.remove,this.show=q.prototype.show,this.hide=q.prototype.hide,this.init()};function V(n){var i,r=arguments,o=n;if([].shift.apply(r),!R.success){try{R.full=(e.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split(".")}catch(n){q.BootstrapVersion?R.full=q.BootstrapVersion.split(" ")[0].split("."):(R.full=[R.major,"0","0"],console.warn("There was an issue retrieving Bootstrap's version. Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision. If loading Bootstrap asynchronously, the version may need to be manually specified via $.fn.selectpicker.Constructor.BootstrapVersion.",n))}R.major=R.full[0],R.success=!0}if("4"===R.major){var a=[];q.DEFAULTS.style===j.BUTTONCLASS&&a.push({name:"style",className:"BUTTONCLASS"}),q.DEFAULTS.iconBase===j.ICONBASE&&a.push({name:"iconBase",className:"ICONBASE"}),q.DEFAULTS.tickIcon===j.TICKICON&&a.push({name:"tickIcon",className:"TICKICON"}),j.DIVIDER="dropdown-divider",j.SHOW="show",j.BUTTONCLASS="btn-light",j.POPOVERHEADER="popover-header",j.ICONBASE="",j.TICKICON="bs-ok-default";for(var s=0;s<a.length;s++)n=a[s],q.DEFAULTS[n.name]=j[n.className]}var l=this.each(function(){var n=e(this);if(n.is("select")){var a=n.data("selectpicker"),s="object"==typeof o&&o;if(a){if(s)for(var l in s)s.hasOwnProperty(l)&&(a.options[l]=s[l])}else{var c=n.data();for(var d in c)c.hasOwnProperty(d)&&-1!==e.inArray(d,t)&&delete c[d];var u=e.extend({},q.DEFAULTS,e.fn.selectpicker.defaults||{},c,s);u.template=e.extend({},q.DEFAULTS.template,e.fn.selectpicker.defaults?e.fn.selectpicker.defaults.template:{},c.template,s.template),n.data("selectpicker",a=new q(this,u))}"string"==typeof o&&(i=a[o]instanceof Function?a[o].apply(a,r):a.options[o])}});return void 0!==i?i:l}q.VERSION="1.13.12",q.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(e,t){return 1==e?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[1==e?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:j.BUTTONCLASS,size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:j.ICONBASE,tickIcon:j.TICKICON,showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0,virtualScroll:600,display:!1,sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role","tabindex","style",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]}},q.prototype={constructor:q,init:function(){var e=this,t=this.$element.attr("id");P++,this.selectId="bs-select-"+P,this.$element[0].classList.add("bs-select-hidden"),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$element[0].classList.contains("show-tick")&&(this.options.showTick=!0),this.$newElement=this.createDropdown(),this.$element.after(this.$newElement).prependTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(L.MENU),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element[0].classList.remove("bs-select-hidden"),!0===this.options.dropdownAlignRight&&this.$menu[0].classList.add(j.MENURIGHT),void 0!==t&&this.$button.attr("data-id",t),this.checkDisabled(),this.clickListener(),this.options.liveSearch?(this.liveSearchListener(),this.focusedParent=this.$searchbox[0]):this.focusedParent=this.$menuInner[0],this.setStyle(),this.render(),this.setWidth(),this.options.container?this.selectPosition():this.$element.on("hide"+M,function(){if(e.isVirtual()){var t=e.$menuInner[0],n=t.firstChild.cloneNode(!1);t.replaceChild(n,t.firstChild),t.scrollTop=0}}),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(t){e.$element.trigger("hide"+M,t)},"hidden.bs.dropdown":function(t){e.$element.trigger("hidden"+M,t)},"show.bs.dropdown":function(t){e.$element.trigger("show"+M,t)},"shown.bs.dropdown":function(t){e.$element.trigger("shown"+M,t)}}),e.$element[0].hasAttribute("required")&&this.$element.on("invalid"+M,function(){e.$button[0].classList.add("bs-invalid"),e.$element.on("shown"+M+".invalid",function(){e.$element.val(e.$element.val()).off("shown"+M+".invalid")}).on("rendered"+M,function(){this.validity.valid&&e.$button[0].classList.remove("bs-invalid"),e.$element.off("rendered"+M)}),e.$button.on("blur"+M,function(){e.$element.trigger("focus").trigger("blur"),e.$button.off("blur"+M)})}),setTimeout(function(){e.createLi(),e.$element.trigger("loaded"+M)})},createDropdown:function(){var t=this.multiple||this.options.showTick?" show-tick":"",n=this.multiple?' aria-multiselectable="true"':"",i="",r=this.autofocus?" autofocus":"";R.major<4&&this.$element.parent().hasClass("input-group")&&(i=" input-group-btn");var o,a="",s="",l="",c="";return this.options.header&&(a='<div class="'+j.POPOVERHEADER+'"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>"),this.options.liveSearch&&(s='<div class="bs-searchbox"><input type="search" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+A(this.options.liveSearchPlaceholder)+'"')+' role="combobox" aria-label="Search" aria-controls="'+this.selectId+'" aria-autocomplete="list"></div>'),this.multiple&&this.options.actionsBox&&(l='<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn '+j.BUTTONCLASS+'">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn '+j.BUTTONCLASS+'">'+this.options.deselectAllText+"</button></div></div>"),this.multiple&&this.options.doneButton&&(c='<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm '+j.BUTTONCLASS+'">'+this.options.doneButtonText+"</button></div></div>"),o='<div class="dropdown bootstrap-select'+t+i+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" '+("static"===this.options.display?'data-display="static"':"")+'data-toggle="dropdown"'+r+' role="combobox" aria-owns="'+this.selectId+'" aria-haspopup="listbox" aria-expanded="false"><div class="filter-option"><div class="filter-option-inner"><div class="filter-option-inner-inner"></div></div> </div>'+("4"===R.major?"":'<span class="bs-caret">'+this.options.template.caret+"</span>")+'</button><div class="'+j.MENU+" "+("4"===R.major?"":j.SHOW)+'">'+a+s+l+'<div class="inner '+j.SHOW+'" role="listbox" id="'+this.selectId+'" tabindex="-1" '+n+'><ul class="'+j.MENU+" inner "+("4"===R.major?j.SHOW:"")+'" role="presentation"></ul></div>'+c+"</div></div>",e(o)},setPositionData:function(){this.selectpicker.view.canHighlight=[];for(var e=this.selectpicker.view.size=0;e<this.selectpicker.current.data.length;e++){var t=this.selectpicker.current.data[e],n=!0;"divider"===t.type?(n=!1,t.height=this.sizeInfo.dividerHeight):"optgroup-label"===t.type?(n=!1,t.height=this.sizeInfo.dropdownHeaderHeight):t.height=this.sizeInfo.liHeight,t.disabled&&(n=!1),this.selectpicker.view.canHighlight.push(n),n&&(this.selectpicker.view.size++,t.posinset=this.selectpicker.view.size),t.position=(0===e?0:this.selectpicker.current.data[e-1].position)+t.height}},isVirtual:function(){return!1!==this.options.virtualScroll&&this.selectpicker.main.elements.length>=this.options.virtualScroll||!0===this.options.virtualScroll},createView:function(t,n,i){var r,o,s=this,l=0,c=[];if(this.selectpicker.current=t?this.selectpicker.search:this.selectpicker.main,this.setPositionData(),n)if(i)l=this.$menuInner[0].scrollTop;else if(!s.multiple){var d=s.$element[0],u=(d.options[d.selectedIndex]||{}).liIndex;if("number"==typeof u&&!1!==s.options.size){var h=s.selectpicker.main.data[u],f=h&&h.position;f&&(l=f-(s.sizeInfo.menuInnerHeight+s.sizeInfo.liHeight)/2)}}function p(e,n){var i,l,d,u,h,f,p,m,g=s.selectpicker.current.elements.length,v=[],y=!0,b=s.isVirtual();s.selectpicker.view.scrollTop=e,i=Math.ceil(s.sizeInfo.menuInnerHeight/s.sizeInfo.liHeight*1.5),l=Math.round(g/i)||1;for(var w=0;w<l;w++){var x=(w+1)*i;if(w===l-1&&(x=g),v[w]=[w*i+(w?1:0),x],!g)break;void 0===h&&e-1<=s.selectpicker.current.data[x-1].position-s.sizeInfo.menuInnerHeight&&(h=w)}if(void 0===h&&(h=0),f=[s.selectpicker.view.position0,s.selectpicker.view.position1],d=Math.max(0,h-1),u=Math.min(l-1,h+1),s.selectpicker.view.position0=!1===b?0:Math.max(0,v[d][0])||0,s.selectpicker.view.position1=!1===b?g:Math.min(g,v[u][1])||0,p=f[0]!==s.selectpicker.view.position0||f[1]!==s.selectpicker.view.position1,void 0!==s.activeIndex&&(o=s.selectpicker.main.elements[s.prevActiveIndex],c=s.selectpicker.main.elements[s.activeIndex],r=s.selectpicker.main.elements[s.selectedIndex],n&&(s.activeIndex!==s.selectedIndex&&s.defocusItem(c),s.activeIndex=void 0),s.activeIndex&&s.activeIndex!==s.selectedIndex&&s.defocusItem(r)),void 0!==s.prevActiveIndex&&s.prevActiveIndex!==s.activeIndex&&s.prevActiveIndex!==s.selectedIndex&&s.defocusItem(o),(n||p)&&(m=s.selectpicker.view.visibleElements?s.selectpicker.view.visibleElements.slice():[],s.selectpicker.view.visibleElements=!1===b?s.selectpicker.current.elements:s.selectpicker.current.elements.slice(s.selectpicker.view.position0,s.selectpicker.view.position1),s.setOptionStatus(),(t||!1===b&&n)&&(y=!function(e,t){return e.length===t.length&&e.every(function(e,n){return e===t[n]})}(m,s.selectpicker.view.visibleElements)),(n||!0===b)&&y)){var _,C,S=s.$menuInner[0],k=document.createDocumentFragment(),T=S.firstChild.cloneNode(!1),E=s.selectpicker.view.visibleElements,D=[];S.replaceChild(T,S.firstChild),w=0;for(var N=E.length;w<N;w++){var A,O,I=E[w];s.options.sanitize&&(A=I.lastChild)&&(O=s.selectpicker.current.data[w+s.selectpicker.view.position0])&&O.content&&!O.sanitized&&(D.push(A),O.sanitized=!0),k.appendChild(I)}if(s.options.sanitize&&D.length&&a(D,s.options.whiteList,s.options.sanitizeFn),!0===b?(_=0===s.selectpicker.view.position0?0:s.selectpicker.current.data[s.selectpicker.view.position0-1].position,C=s.selectpicker.view.position1>g-1?0:s.selectpicker.current.data[g-1].position-s.selectpicker.current.data[s.selectpicker.view.position1-1].position,S.firstChild.style.marginTop=_+"px",S.firstChild.style.marginBottom=C+"px"):(S.firstChild.style.marginTop=0,S.firstChild.style.marginBottom=0),S.firstChild.appendChild(k),!0===b&&s.sizeInfo.hasScrollBar){var R=S.firstChild.offsetWidth;if(n&&R<s.sizeInfo.menuInnerInnerWidth&&s.sizeInfo.totalMenuWidth>s.sizeInfo.selectWidth)S.firstChild.style.minWidth=s.sizeInfo.menuInnerInnerWidth+"px";else if(R>s.sizeInfo.menuInnerInnerWidth){s.$menu[0].style.minWidth=0;var P=S.firstChild.offsetWidth;P>s.sizeInfo.menuInnerInnerWidth&&(s.sizeInfo.menuInnerInnerWidth=P,S.firstChild.style.minWidth=s.sizeInfo.menuInnerInnerWidth+"px"),s.$menu[0].style.minWidth=""}}}if(s.prevActiveIndex=s.activeIndex,s.options.liveSearch){if(t&&n){var M,j=0;s.selectpicker.view.canHighlight[j]||(j=1+s.selectpicker.view.canHighlight.slice(1).indexOf(!0)),M=s.selectpicker.view.visibleElements[j],s.defocusItem(s.selectpicker.view.currentActive),s.activeIndex=(s.selectpicker.current.data[j]||{}).index,s.focusItem(M)}}else s.$menuInner.trigger("focus")}p(l,!0),this.$menuInner.off("scroll.createView").on("scroll.createView",function(e,t){s.noScroll||p(this.scrollTop,t),s.noScroll=!1}),e(window).off("resize"+M+"."+this.selectId+".createView").on("resize"+M+"."+this.selectId+".createView",function(){s.$newElement.hasClass(j.SHOW)&&p(s.$menuInner[0].scrollTop)})},focusItem:function(e,t,n){if(e){t=t||this.selectpicker.main.data[this.activeIndex];var i=e.firstChild;i&&(i.setAttribute("aria-setsize",this.selectpicker.view.size),i.setAttribute("aria-posinset",t.posinset),!0!==n&&(this.focusedParent.setAttribute("aria-activedescendant",i.id),e.classList.add("active"),i.classList.add("active")))}},defocusItem:function(e){e&&(e.classList.remove("active"),e.firstChild&&e.firstChild.classList.remove("active"))},setPlaceholder:function(){var t=!1;if(this.options.title&&!this.multiple){this.selectpicker.view.titleOption||(this.selectpicker.view.titleOption=document.createElement("option")),t=!0;var n=this.$element[0],i=!1,r=!this.selectpicker.view.titleOption.parentNode;r&&(this.selectpicker.view.titleOption.className="bs-title-option",this.selectpicker.view.titleOption.value="",i=void 0===e(n.options[n.selectedIndex]).attr("selected")&&void 0===this.$element.data("selected")),!r&&0===this.selectpicker.view.titleOption.index||n.insertBefore(this.selectpicker.view.titleOption,n.firstChild),i&&(n.selectedIndex=0)}return t},createLi:function(){var e=this,t=this.options.iconBase,n=':not([hidden]):not([data-hidden="true"])',i=[],r=[],o=0,a=0,s=this.setPlaceholder()?1:0;this.options.hideDisabled&&(n+=":not(:disabled)"),!e.options.showTick&&!e.multiple||B.checkMark.parentNode||(B.checkMark.className=t+" "+e.options.tickIcon+" check-mark",B.a.appendChild(B.checkMark));var l=this.$element[0].querySelectorAll("select > *"+n);function c(e){var t=r[r.length-1];t&&"divider"===t.type&&(t.optID||e.optID)||((e=e||{}).type="divider",i.push(H(!1,j.DIVIDER,e.optID?e.optID+"div":void 0)),r.push(e))}function d(n,a){if((a=a||{}).divider="true"===n.getAttribute("data-divider"),a.divider)c({optID:a.optID});else{var s=r.length,l=n.style.cssText,d=l?A(l):"",u=(n.className||"")+(a.optgroupClass||"");a.optID&&(u="opt "+u),a.text=n.textContent,a.content=n.getAttribute("data-content"),a.tokens=n.getAttribute("data-tokens"),a.subtext=n.getAttribute("data-subtext"),a.icon=n.getAttribute("data-icon"),a.iconBase=t;var h=W(a),f=H(z(h,u,d),"",a.optID);f.firstChild&&(f.firstChild.id=e.selectId+"-"+s),i.push(f),n.liIndex=s,a.display=a.content||a.text,a.type="option",a.index=s,a.option=n,a.disabled=a.disabled||n.disabled,r.push(a);var p=0;a.display&&(p+=a.display.length),a.subtext&&(p+=a.subtext.length),a.icon&&(p+=1),o<p&&(o=p,e.selectpicker.view.widestOption=i[i.length-1])}}function u(e,o){var s=o[e],l=o[e-1],u=o[e+1],h=s.querySelectorAll("option"+n);if(h.length){var f,p,m={label:A(s.label),subtext:s.getAttribute("data-subtext"),icon:s.getAttribute("data-icon"),iconBase:t},g=" "+(s.className||"");a++,l&&c({optID:a});var v=U(m);i.push(H(v,"dropdown-header"+g,a)),r.push({display:m.label,subtext:m.subtext,type:"optgroup-label",optID:a});for(var y=0,b=h.length;y<b;y++){var w=h[y];0===y&&(p=(f=r.length-1)+b),d(w,{headerIndex:f,lastIndex:p,optID:a,optgroupClass:g,disabled:s.disabled})}u&&c({optID:a})}}for(var h=l.length;s<h;s++){var f=l[s];"OPTGROUP"!==f.tagName?d(f,{}):u(s,l)}this.selectpicker.main.elements=i,this.selectpicker.main.data=r,this.selectpicker.current=this.selectpicker.main},findLis:function(){return this.$menuInner.find(".inner > li")},render:function(){this.setPlaceholder();var e,t=this,n=this.$element[0],i=p(n,this.options.hideDisabled),r=i.length,o=this.$button[0],s=o.querySelector(".filter-option-inner-inner"),l=document.createTextNode(this.options.multipleSeparator),c=B.fragment.cloneNode(!1),d=!1;if(o.classList.toggle("bs-placeholder",t.multiple?!r:!m(n,i)),this.tabIndex(),"static"===this.options.selectedTextFormat)c=W({text:this.options.title},!0);else if(!1===(this.multiple&&-1!==this.options.selectedTextFormat.indexOf("count")&&1<r&&(1<(e=this.options.selectedTextFormat.split(">")).length&&r>e[1]||1===e.length&&2<=r))){for(var u=0;u<r&&u<50;u++){var h=i[u],f={},g={content:h.getAttribute("data-content"),subtext:h.getAttribute("data-subtext"),icon:h.getAttribute("data-icon")};this.multiple&&0<u&&c.appendChild(l.cloneNode(!1)),h.title?f.text=h.title:g.content&&t.options.showContent?(f.content=g.content.toString(),d=!0):(t.options.showIcon&&(f.icon=g.icon,f.iconBase=this.options.iconBase),t.options.showSubtext&&!t.multiple&&g.subtext&&(f.subtext=" "+g.subtext),f.text=h.textContent.trim()),c.appendChild(W(f,!0))}49<r&&c.appendChild(document.createTextNode("..."))}else{var v=':not([hidden]):not([data-hidden="true"]):not([data-divider="true"])';this.options.hideDisabled&&(v+=":not(:disabled)");var y=this.$element[0].querySelectorAll("select > option"+v+", optgroup"+v+" option"+v).length,b="function"==typeof this.options.countSelectedText?this.options.countSelectedText(r,y):this.options.countSelectedText;c=W({text:b.replace("{0}",r.toString()).replace("{1}",y.toString())},!0)}if(null==this.options.title&&(this.options.title=this.$element.attr("title")),c.childNodes.length||(c=W({text:void 0!==this.options.title?this.options.title:this.options.noneSelectedText},!0)),o.title=c.textContent.replace(/<[^>]*>?/g,"").trim(),this.options.sanitize&&d&&a([c],t.options.whiteList,t.options.sanitizeFn),s.innerHTML="",s.appendChild(c),R.major<4&&this.$newElement[0].classList.contains("bs3-has-addon")){var w=o.querySelector(".filter-expand"),x=s.cloneNode(!0);x.className="filter-expand",w?o.replaceChild(x,w):o.appendChild(x)}this.$element.trigger("rendered"+M)},setStyle:function(e,t){var n,i=this.$button[0],r=this.$newElement[0],o=this.options.style.trim();this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,"")),R.major<4&&(r.classList.add("bs3"),r.parentNode.classList.contains("input-group")&&(r.previousElementSibling||r.nextElementSibling)&&(r.previousElementSibling||r.nextElementSibling).classList.contains("input-group-addon")&&r.classList.add("bs3-has-addon")),n=e?e.trim():o,"add"==t?n&&i.classList.add.apply(i.classList,n.split(" ")):"remove"==t?n&&i.classList.remove.apply(i.classList,n.split(" ")):(o&&i.classList.remove.apply(i.classList,o.split(" ")),n&&i.classList.add.apply(i.classList,n.split(" ")))},liHeight:function(t){if(t||!1!==this.options.size&&!this.sizeInfo){this.sizeInfo||(this.sizeInfo={});var n=document.createElement("div"),i=document.createElement("div"),r=document.createElement("div"),o=document.createElement("ul"),a=document.createElement("li"),s=document.createElement("li"),l=document.createElement("li"),c=document.createElement("a"),d=document.createElement("span"),u=this.options.header&&0<this.$menu.find("."+j.POPOVERHEADER).length?this.$menu.find("."+j.POPOVERHEADER)[0].cloneNode(!0):null,h=this.options.liveSearch?document.createElement("div"):null,f=this.options.actionsBox&&this.multiple&&0<this.$menu.find(".bs-actionsbox").length?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,p=this.options.doneButton&&this.multiple&&0<this.$menu.find(".bs-donebutton").length?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null,m=this.$element.find("option")[0];if(this.sizeInfo.selectWidth=this.$newElement[0].offsetWidth,d.className="text",c.className="dropdown-item "+(m?m.className:""),n.className=this.$menu[0].parentNode.className+" "+j.SHOW,n.style.width=0,"auto"===this.options.width&&(i.style.minWidth=0),i.className=j.MENU+" "+j.SHOW,r.className="inner "+j.SHOW,o.className=j.MENU+" inner "+("4"===R.major?j.SHOW:""),a.className=j.DIVIDER,s.className="dropdown-header",d.appendChild(document.createTextNode("â")),c.appendChild(d),l.appendChild(c),s.appendChild(d.cloneNode(!0)),this.selectpicker.view.widestOption&&o.appendChild(this.selectpicker.view.widestOption.cloneNode(!0)),o.appendChild(l),o.appendChild(a),o.appendChild(s),u&&i.appendChild(u),h){var g=document.createElement("input");h.className="bs-searchbox",g.className="form-control",h.appendChild(g),i.appendChild(h)}f&&i.appendChild(f),r.appendChild(o),i.appendChild(r),p&&i.appendChild(p),n.appendChild(i),document.body.appendChild(n);var v,y=l.offsetHeight,b=s?s.offsetHeight:0,x=u?u.offsetHeight:0,_=h?h.offsetHeight:0,C=f?f.offsetHeight:0,S=p?p.offsetHeight:0,k=e(a).outerHeight(!0),T=!!window.getComputedStyle&&window.getComputedStyle(i),E=i.offsetWidth,D=T?null:e(i),N={vert:w(T?T.paddingTop:D.css("paddingTop"))+w(T?T.paddingBottom:D.css("paddingBottom"))+w(T?T.borderTopWidth:D.css("borderTopWidth"))+w(T?T.borderBottomWidth:D.css("borderBottomWidth")),horiz:w(T?T.paddingLeft:D.css("paddingLeft"))+w(T?T.paddingRight:D.css("paddingRight"))+w(T?T.borderLeftWidth:D.css("borderLeftWidth"))+w(T?T.borderRightWidth:D.css("borderRightWidth"))},A={vert:N.vert+w(T?T.marginTop:D.css("marginTop"))+w(T?T.marginBottom:D.css("marginBottom"))+2,horiz:N.horiz+w(T?T.marginLeft:D.css("marginLeft"))+w(T?T.marginRight:D.css("marginRight"))+2};r.style.overflowY="scroll",v=i.offsetWidth-E,document.body.removeChild(n),this.sizeInfo.liHeight=y,this.sizeInfo.dropdownHeaderHeight=b,this.sizeInfo.headerHeight=x,this.sizeInfo.searchHeight=_,this.sizeInfo.actionsHeight=C,this.sizeInfo.doneButtonHeight=S,this.sizeInfo.dividerHeight=k,this.sizeInfo.menuPadding=N,this.sizeInfo.menuExtras=A,this.sizeInfo.menuWidth=E,this.sizeInfo.menuInnerInnerWidth=E-N.horiz,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth,this.sizeInfo.scrollBarWidth=v,this.sizeInfo.selectHeight=this.$newElement[0].offsetHeight,this.setPositionData()}},getSelectPosition:function(){var t,n=e(window),i=this.$newElement.offset(),r=e(this.options.container);this.options.container&&r.length&&!r.is("body")?((t=r.offset()).top+=parseInt(r.css("borderTopWidth")),t.left+=parseInt(r.css("borderLeftWidth"))):t={top:0,left:0};var o=this.options.windowPadding;this.sizeInfo.selectOffsetTop=i.top-t.top-n.scrollTop(),this.sizeInfo.selectOffsetBot=n.height()-this.sizeInfo.selectOffsetTop-this.sizeInfo.selectHeight-t.top-o[2],this.sizeInfo.selectOffsetLeft=i.left-t.left-n.scrollLeft(),this.sizeInfo.selectOffsetRight=n.width()-this.sizeInfo.selectOffsetLeft-this.sizeInfo.selectWidth-t.left-o[1],this.sizeInfo.selectOffsetTop-=o[0],this.sizeInfo.selectOffsetLeft-=o[3]},setMenuSize:function(e){this.getSelectPosition();var t,n,i,r,o,a,s,l=this.sizeInfo.selectWidth,c=this.sizeInfo.liHeight,d=this.sizeInfo.headerHeight,u=this.sizeInfo.searchHeight,h=this.sizeInfo.actionsHeight,f=this.sizeInfo.doneButtonHeight,p=this.sizeInfo.dividerHeight,m=this.sizeInfo.menuPadding,g=0;if(this.options.dropupAuto&&(s=c*this.selectpicker.current.elements.length+m.vert,this.$newElement.toggleClass(j.DROPUP,this.sizeInfo.selectOffsetTop-this.sizeInfo.selectOffsetBot>this.sizeInfo.menuExtras.vert&&s+this.sizeInfo.menuExtras.vert+50>this.sizeInfo.selectOffsetBot)),"auto"===this.options.size)r=3<this.selectpicker.current.elements.length?3*this.sizeInfo.liHeight+this.sizeInfo.menuExtras.vert-2:0,n=this.sizeInfo.selectOffsetBot-this.sizeInfo.menuExtras.vert,i=r+d+u+h+f,a=Math.max(r-m.vert,0),this.$newElement.hasClass(j.DROPUP)&&(n=this.sizeInfo.selectOffsetTop-this.sizeInfo.menuExtras.vert),t=(o=n)-d-u-h-f-m.vert;else if(this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size){for(var v=0;v<this.options.size;v++)"divider"===this.selectpicker.current.data[v].type&&g++;t=(n=c*this.options.size+g*p+m.vert)-m.vert,o=n+d+u+h+f,i=a=""}this.$menu.css({"max-height":o+"px",overflow:"hidden","min-height":i+"px"}),this.$menuInner.css({"max-height":t+"px","overflow-y":"auto","min-height":a+"px"}),this.sizeInfo.menuInnerHeight=Math.max(t,1),this.selectpicker.current.data.length&&this.selectpicker.current.data[this.selectpicker.current.data.length-1].position>this.sizeInfo.menuInnerHeight&&(this.sizeInfo.hasScrollBar=!0,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth+this.sizeInfo.scrollBarWidth),"auto"===this.options.dropdownAlignRight&&this.$menu.toggleClass(j.MENURIGHT,this.sizeInfo.selectOffsetLeft>this.sizeInfo.selectOffsetRight&&this.sizeInfo.selectOffsetRight<this.sizeInfo.totalMenuWidth-l),this.dropdown&&this.dropdown._popper&&this.dropdown._popper.update()},setSize:function(t){if(this.liHeight(t),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size){var n=this,i=e(window);this.setMenuSize(),this.options.liveSearch&&this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize",function(){return n.setMenuSize()}),"auto"===this.options.size?i.off("resize"+M+"."+this.selectId+".setMenuSize scroll"+M+"."+this.selectId+".setMenuSize").on("resize"+M+"."+this.selectId+".setMenuSize scroll"+M+"."+this.selectId+".setMenuSize",function(){return n.setMenuSize()}):this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size&&i.off("resize"+M+"."+this.selectId+".setMenuSize scroll"+M+"."+this.selectId+".setMenuSize"),n.createView(!1,!0,t)}},setWidth:function(){var e=this;"auto"===this.options.width?requestAnimationFrame(function(){e.$menu.css("min-width","0"),e.$element.on("loaded"+M,function(){e.liHeight(),e.setMenuSize();var t=e.$newElement.clone().appendTo("body"),n=t.css("width","auto").children("button").outerWidth();t.remove(),e.sizeInfo.selectWidth=Math.max(e.sizeInfo.totalMenuWidth,n),e.$newElement.css("width",e.sizeInfo.selectWidth+"px")})}):"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width","")),this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement[0].classList.remove("fit-width")},selectPosition:function(){function t(t){var s={},l=o.options.display||!!e.fn.dropdown.Constructor.Default&&e.fn.dropdown.Constructor.Default.display;o.$bsContainer.addClass(t.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass(j.DROPUP,t.hasClass(j.DROPUP)),n=t.offset(),a.is("body")?i={top:0,left:0}:((i=a.offset()).top+=parseInt(a.css("borderTopWidth"))-a.scrollTop(),i.left+=parseInt(a.css("borderLeftWidth"))-a.scrollLeft()),r=t.hasClass(j.DROPUP)?0:t[0].offsetHeight,(R.major<4||"static"===l)&&(s.top=n.top-i.top+r,s.left=n.left-i.left),s.width=t[0].offsetWidth,o.$bsContainer.css(s)}this.$bsContainer=e('<div class="bs-container" />');var n,i,r,o=this,a=e(this.options.container);this.$button.on("click.bs.dropdown.data-api",function(){o.isDisabled()||(t(o.$newElement),o.$bsContainer.appendTo(o.options.container).toggleClass(j.SHOW,!o.$button.hasClass(j.SHOW)).append(o.$menu))}),e(window).off("resize"+M+"."+this.selectId+" scroll"+M+"."+this.selectId).on("resize"+M+"."+this.selectId+" scroll"+M+"."+this.selectId,function(){o.$newElement.hasClass(j.SHOW)&&t(o.$newElement)}),this.$element.on("hide"+M,function(){o.$menu.data("height",o.$menu.height()),o.$bsContainer.detach()})},setOptionStatus:function(e){var t=this;if(t.noScroll=!1,t.selectpicker.view.visibleElements&&t.selectpicker.view.visibleElements.length)for(var n=0;n<t.selectpicker.view.visibleElements.length;n++){var i=t.selectpicker.current.data[n+t.selectpicker.view.position0],r=i.option;r&&(!0!==e&&t.setDisabled(i.index,i.disabled),t.setSelected(i.index,r.selected))}},setSelected:function(e,t){var n,i,r=this.selectpicker.main.elements[e],o=this.selectpicker.main.data[e],a=void 0!==this.activeIndex,s=this.activeIndex===e||t&&!this.multiple&&!a;o.selected=t,i=r.firstChild,t&&(this.selectedIndex=e),r.classList.toggle("selected",t),s?(this.focusItem(r,o),this.selectpicker.view.currentActive=r,this.activeIndex=e):this.defocusItem(r),i&&(i.classList.toggle("selected",t),t?i.setAttribute("aria-selected",!0):this.multiple?i.setAttribute("aria-selected",!1):i.removeAttribute("aria-selected")),s||a||!t||void 0===this.prevActiveIndex||(n=this.selectpicker.main.elements[this.prevActiveIndex],this.defocusItem(n))},setDisabled:function(e,t){var n,i=this.selectpicker.main.elements[e];this.selectpicker.main.data[e].disabled=t,n=i.firstChild,i.classList.toggle(j.DISABLED,t),n&&("4"===R.major&&n.classList.toggle(j.DISABLED,t),t?(n.setAttribute("aria-disabled",t),n.setAttribute("tabindex",-1)):(n.removeAttribute("aria-disabled"),n.setAttribute("tabindex",0)))},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){this.isDisabled()?(this.$newElement[0].classList.add(j.DISABLED),this.$button.addClass(j.DISABLED).attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button[0].classList.contains(j.DISABLED)&&(this.$newElement[0].classList.remove(j.DISABLED),this.$button.removeClass(j.DISABLED).attr("aria-disabled",!1)),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex"))},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var t=this,n=e(document);function i(){t.options.liveSearch?t.$searchbox.trigger("focus"):t.$menuInner.trigger("focus")}function r(){t.dropdown&&t.dropdown._popper&&t.dropdown._popper.state.isCreated?i():requestAnimationFrame(r)}n.data("spaceSelect",!1),this.$button.on("keyup",function(e){/(32)/.test(e.keyCode.toString(10))&&n.data("spaceSelect")&&(e.preventDefault(),n.data("spaceSelect",!1))}),this.$newElement.on("show.bs.dropdown",function(){3<R.major&&!t.dropdown&&(t.dropdown=t.$button.data("bs.dropdown"),t.dropdown._menu=t.$menu[0])}),this.$button.on("click.bs.dropdown.data-api",function(){t.$newElement.hasClass(j.SHOW)||t.setSize()}),this.$element.on("shown"+M,function(){t.$menuInner[0].scrollTop!==t.selectpicker.view.scrollTop&&(t.$menuInner[0].scrollTop=t.selectpicker.view.scrollTop),3<R.major?requestAnimationFrame(r):i()}),this.$menuInner.on("mouseenter","li a",function(e){var n=this.parentElement,i=t.isVirtual()?t.selectpicker.view.position0:0,r=Array.prototype.indexOf.call(n.parentElement.children,n),o=t.selectpicker.current.data[r+i];t.focusItem(n,o,!0)}),this.$menuInner.on("click","li a",function(n,i){var r=e(this),o=t.$element[0],a=t.isVirtual()?t.selectpicker.view.position0:0,s=t.selectpicker.current.data[r.parent().index()+a],l=s.index,c=m(o),d=o.selectedIndex,u=o.options[d],h=!0;if(t.multiple&&1!==t.options.maxOptions&&n.stopPropagation(),n.preventDefault(),!t.isDisabled()&&!r.parent().hasClass(j.DISABLED)){var f=s.option,g=e(f),y=f.selected,b=g.parent("optgroup"),w=b.find("option"),x=t.options.maxOptions,_=b.data("maxOptions")||!1;if(l===t.activeIndex&&(i=!0),i||(t.prevActiveIndex=t.activeIndex,t.activeIndex=void 0),t.multiple){if(f.selected=!y,t.setSelected(l,!y),r.trigger("blur"),!1!==x||!1!==_){var C=x<p(o).length,S=_<b.find("option:selected").length;if(x&&C||_&&S)if(x&&1==x)o.selectedIndex=-1,f.selected=!0,t.setOptionStatus(!0);else if(_&&1==_){for(var k=0;k<w.length;k++){var T=w[k];T.selected=!1,t.setSelected(T.liIndex,!1)}f.selected=!0,t.setSelected(l,!0)}else{var E="string"==typeof t.options.maxOptionsText?[t.options.maxOptionsText,t.options.maxOptionsText]:t.options.maxOptionsText,D="function"==typeof E?E(x,_):E,N=D[0].replace("{n}",x),A=D[1].replace("{n}",_),O=e('<div class="notify"></div>');D[2]&&(N=N.replace("{var}",D[2][1<x?0:1]),A=A.replace("{var}",D[2][1<_?0:1])),f.selected=!1,t.$menu.append(O),x&&C&&(O.append(e("<div>"+N+"</div>")),h=!1,t.$element.trigger("maxReached"+M)),_&&S&&(O.append(e("<div>"+A+"</div>")),h=!1,t.$element.trigger("maxReachedGrp"+M)),setTimeout(function(){t.setSelected(l,!1)},10),O[0].classList.add("fadeOut"),setTimeout(function(){O.remove()},1050)}}}else u&&(u.selected=!1),f.selected=!0,t.setSelected(l,!0);!t.multiple||t.multiple&&1===t.options.maxOptions?t.$button.trigger("focus"):t.options.liveSearch&&t.$searchbox.trigger("focus"),h&&(!t.multiple&&d===o.selectedIndex||(v=[f.index,g.prop("selected"),c],t.$element.triggerNative("change")))}}),this.$menu.on("click","li."+j.DISABLED+" a, ."+j.POPOVERHEADER+", ."+j.POPOVERHEADER+" :not(.close)",function(n){n.currentTarget==this&&(n.preventDefault(),n.stopPropagation(),t.options.liveSearch&&!e(n.target).hasClass("close")?t.$searchbox.trigger("focus"):t.$button.trigger("focus"))}),this.$menuInner.on("click",".divider, .dropdown-header",function(e){e.preventDefault(),e.stopPropagation(),t.options.liveSearch?t.$searchbox.trigger("focus"):t.$button.trigger("focus")}),this.$menu.on("click","."+j.POPOVERHEADER+" .close",function(){t.$button.trigger("click")}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$menu.on("click",".actions-btn",function(n){t.options.liveSearch?t.$searchbox.trigger("focus"):t.$button.trigger("focus"),n.preventDefault(),n.stopPropagation(),e(this).hasClass("bs-select-all")?t.selectAll():t.deselectAll()}),this.$element.on("change"+M,function(){t.render(),t.$element.trigger("changed"+M,v),v=null}).on("focus"+M,function(){t.options.mobile||t.$button.trigger("focus")})},liveSearchListener:function(){var e=this,t=document.createElement("li");this.$button.on("click.bs.dropdown.data-api",function(){e.$searchbox.val()&&e.$searchbox.val("")}),this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api",function(e){e.stopPropagation()}),this.$searchbox.on("input propertychange",function(){var n=e.$searchbox.val();if(e.selectpicker.search.elements=[],e.selectpicker.search.data=[],n){var i=[],r=n.toUpperCase(),o={},a=[],s=e._searchStyle(),l=e.options.liveSearchNormalize;l&&(r=k(r)),e._$lisSelected=e.$menuInner.find(".selected");for(var c=0;c<e.selectpicker.main.data.length;c++){var d=e.selectpicker.main.data[c];o[c]||(o[c]=b(d,r,s,l)),o[c]&&void 0!==d.headerIndex&&-1===a.indexOf(d.headerIndex)&&(0<d.headerIndex&&(o[d.headerIndex-1]=!0,a.push(d.headerIndex-1)),o[d.headerIndex]=!0,a.push(d.headerIndex),o[d.lastIndex+1]=!0),o[c]&&"optgroup-label"!==d.type&&a.push(c)}c=0;for(var u=a.length;c<u;c++){var h=a[c],f=a[c-1],p=(d=e.selectpicker.main.data[h],e.selectpicker.main.data[f]);("divider"!==d.type||"divider"===d.type&&p&&"divider"!==p.type&&u-1!==c)&&(e.selectpicker.search.data.push(d),i.push(e.selectpicker.main.elements[h]))}e.activeIndex=void 0,e.noScroll=!0,e.$menuInner.scrollTop(0),e.selectpicker.search.elements=i,e.createView(!0),i.length||(t.className="no-results",t.innerHTML=e.options.noneResultsText.replace("{0}",'"'+A(n)+'"'),e.$menuInner[0].firstChild.appendChild(t))}else e.$menuInner.scrollTop(0),e.createView(!1)})},_searchStyle:function(){return this.options.liveSearchStyle||"contains"},val:function(e){var t=this.$element[0];if(void 0===e)return this.$element.val();var n=m(t);if(v=[null,null,n],this.$element.val(e).trigger("changed"+M,v),this.$newElement.hasClass(j.SHOW))if(this.multiple)this.setOptionStatus(!0);else{var i=(t.options[t.selectedIndex]||{}).liIndex;"number"==typeof i&&(this.setSelected(this.selectedIndex,!1),this.setSelected(i,!0))}return this.render(),v=null,this.$element},changeAll:function(e){if(this.multiple){void 0===e&&(e=!0);var t=this.$element[0],n=0,i=0,r=m(t);t.classList.add("bs-select-hidden");for(var o=0,a=this.selectpicker.current.elements.length;o<a;o++){var s=this.selectpicker.current.data[o],l=s.option;l&&!s.disabled&&"divider"!==s.type&&(s.selected&&n++,(l.selected=e)&&i++)}t.classList.remove("bs-select-hidden"),n!==i&&(this.setOptionStatus(),v=[null,null,r],this.$element.triggerNative("change"))}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(e){(e=e||window.event)&&e.stopPropagation(),this.$button.trigger("click.bs.dropdown.data-api")},keydown:function(t){var n,i,r,o,a,s=e(this),l=s.hasClass("dropdown-toggle"),c=(l?s.closest(".dropdown"):s.closest(L.MENU)).data("this"),d=c.findLis(),u=!1,h=9===t.which&&!l&&!c.options.selectOnTab,f=$.test(t.which)||h,p=c.$menuInner[0].scrollTop,m=!0===c.isVirtual()?c.selectpicker.view.position0:0;if(!(112<=t.which&&t.which<=123))if(!(i=c.$newElement.hasClass(j.SHOW))&&(f||48<=t.which&&t.which<=57||96<=t.which&&t.which<=105||65<=t.which&&t.which<=90)&&(c.$button.trigger("click.bs.dropdown.data-api"),c.options.liveSearch))c.$searchbox.trigger("focus");else{if(27===t.which&&i&&(t.preventDefault(),c.$button.trigger("click.bs.dropdown.data-api").trigger("focus")),f){if(!d.length)return;-1!==(n=(r=c.selectpicker.main.elements[c.activeIndex])?Array.prototype.indexOf.call(r.parentElement.children,r):-1)&&c.defocusItem(r),38===t.which?(-1!==n&&n--,n+m<0&&(n+=d.length),c.selectpicker.view.canHighlight[n+m]||-1==(n=c.selectpicker.view.canHighlight.slice(0,n+m).lastIndexOf(!0)-m)&&(n=d.length-1)):40!==t.which&&!h||(++n+m>=c.selectpicker.view.canHighlight.length&&(n=0),c.selectpicker.view.canHighlight[n+m]||(n=n+1+c.selectpicker.view.canHighlight.slice(n+m+1).indexOf(!0))),t.preventDefault();var g=m+n;38===t.which?0===m&&n===d.length-1?(c.$menuInner[0].scrollTop=c.$menuInner[0].scrollHeight,g=c.selectpicker.current.elements.length-1):u=(a=(o=c.selectpicker.current.data[g]).position-o.height)<p:40!==t.which&&!h||(0===n?g=c.$menuInner[0].scrollTop=0:u=p<(a=(o=c.selectpicker.current.data[g]).position-c.sizeInfo.menuInnerHeight)),r=c.selectpicker.current.elements[g],c.activeIndex=c.selectpicker.current.data[g].index,c.focusItem(r),c.selectpicker.view.currentActive=r,u&&(c.$menuInner[0].scrollTop=a),c.options.liveSearch?c.$searchbox.trigger("focus"):s.trigger("focus")}else if(!s.is("input")&&!F.test(t.which)||32===t.which&&c.selectpicker.keydown.keyHistory){var v,y,w=[];t.preventDefault(),c.selectpicker.keydown.keyHistory+=I[t.which],c.selectpicker.keydown.resetKeyHistory.cancel&&clearTimeout(c.selectpicker.keydown.resetKeyHistory.cancel),c.selectpicker.keydown.resetKeyHistory.cancel=c.selectpicker.keydown.resetKeyHistory.start(),y=c.selectpicker.keydown.keyHistory,/^(.)\1+$/.test(y)&&(y=y.charAt(0));for(var x=0;x<c.selectpicker.current.data.length;x++){var _=c.selectpicker.current.data[x];b(_,y,"startsWith",!0)&&c.selectpicker.view.canHighlight[x]&&w.push(_.index)}if(w.length){var C=0;d.removeClass("active").find("a").removeClass("active"),1===y.length&&(-1===(C=w.indexOf(c.activeIndex))||C===w.length-1?C=0:C++),v=w[C],u=0<p-(o=c.selectpicker.main.data[v]).position?(a=o.position-o.height,!0):(a=o.position-c.sizeInfo.menuInnerHeight,o.position>p+c.sizeInfo.menuInnerHeight),r=c.selectpicker.main.elements[v],c.activeIndex=w[C],c.focusItem(r),r&&r.firstChild.focus(),u&&(c.$menuInner[0].scrollTop=a),s.trigger("focus")}}i&&(32===t.which&&!c.selectpicker.keydown.keyHistory||13===t.which||9===t.which&&c.options.selectOnTab)&&(32!==t.which&&t.preventDefault(),c.options.liveSearch&&32===t.which||(c.$menuInner.find(".active a").trigger("click",!0),s.trigger("focus"),c.options.liveSearch||(t.preventDefault(),e(document).data("spaceSelect",!0))))}},mobile:function(){this.$element[0].classList.add("mobile-device")},refresh:function(){var t=e.extend({},this.options,this.$element.data());this.options=t,this.checkDisabled(),this.setStyle(),this.render(),this.createLi(),this.setWidth(),this.setSize(!0),this.$element.trigger("refreshed"+M)},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(M).removeData("selectpicker").removeClass("bs-select-hidden selectpicker"),e(window).off(M+"."+this.selectId)}};var Y=e.fn.selectpicker;e.fn.selectpicker=V,e.fn.selectpicker.Constructor=q,e.fn.selectpicker.noConflict=function(){return e.fn.selectpicker=Y,this},e(document).off("keydown.bs.dropdown.data-api",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select .dropdown-menu').on("keydown"+M,'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',q.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',function(e){e.stopPropagation()}),e(window).on("load"+M+".data-api",function(){e(".selectpicker").each(function(){var t=e(this);V.call(t,t.data())})})}(e)}),function(e,t,n){"use strict";!function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[a]={exports:{}};t[a][0].call(d.exports,function(e){var n=t[a][1][e];return r(n||e)},d,d.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});n.default={title:"",text:"",type:null,allowOutsideClick:!1,showConfirmButton:!0,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonClass:"btn-primary",cancelButtonText:"Cancel",cancelButtonClass:"btn-default",containerClass:"",titleClass:"",textClass:"",imageUrl:null,imageSize:null,timer:null,customClass:"",html:!1,animation:!0,allowEscapeKey:!0,inputType:"text",inputPlaceholder:"",inputValue:"",showLoaderOnConfirm:!1}},{}],2:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0}),r.handleCancel=r.handleConfirm=r.handleButton=n;var o=(t("./handle-swal-dom"),t("./handle-dom")),a=function(e,t){var n=!0;(0,o.hasClass)(e,"show-input")&&((n=e.querySelector("input").value)||(n="")),t.doneFunction(n),t.closeOnConfirm&&sweetAlert.close(),t.showLoaderOnConfirm&&sweetAlert.disableButtons()},s=function(e,t){var n=String(t.doneFunction).replace(/\s/g,"");"function("===n.substring(0,9)&&")"!==n.substring(9,10)&&t.doneFunction(!1),t.closeOnCancel&&sweetAlert.close()};r.handleButton=function(t,n,i){var r,l=t||e.event,c=l.target||l.srcElement,d=-1!==c.className.indexOf("confirm"),u=-1!==c.className.indexOf("sweet-overlay"),h=(0,o.hasClass)(i,"visible"),f=n.doneFunction&&"true"===i.getAttribute("data-has-done-function");switch(d&&n.confirmButtonColor&&(r=n.confirmButtonColor,colorLuminance(r,-.04),colorLuminance(r,-.14)),l.type){case"click":var p=i===c,m=(0,o.isDescendant)(i,c);if(!p&&!m&&h&&!n.allowOutsideClick)break;d&&f&&h?a(i,n):f&&h||u?s(i,n):(0,o.isDescendant)(i,c)&&"BUTTON"===c.tagName&&sweetAlert.close()}},r.handleConfirm=a,r.handleCancel=s},{"./handle-dom":3,"./handle-swal-dom":5}],3:[function(n,i,r){Object.defineProperty(r,"__esModule",{value:!0});var o=function(e,t){return new RegExp(" "+t+" ").test(" "+e.className+" ")},a=function(e){e.style.opacity="",e.style.display="block"},s=function(e){e.style.opacity="",e.style.display="none"};r.hasClass=o,r.addClass=function(e,t){o(e,t)||(e.className+=" "+t)},r.removeClass=function(e,t){var n=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(o(e,t)){for(;n.indexOf(" "+t+" ")>=0;)n=n.replace(" "+t+" "," ");e.className=n.replace(/^\s+|\s+$/g,"")}},r.escapeHtml=function(e){var n=t.createElement("div");return n.appendChild(t.createTextNode(e)),n.innerHTML},r._show=a,r.show=function(e){if(e&&!e.length)return a(e);for(var t=0;t<e.length;++t)a(e[t])},r._hide=s,r.hide=function(e){if(e&&!e.length)return s(e);for(var t=0;t<e.length;++t)s(e[t])},r.isDescendant=function(e,t){for(var n=t.parentNode;null!==n;){if(n===e)return!0;n=n.parentNode}return!1},r.getTopMargin=function(e){e.style.left="-9999px",e.style.display="block";var t,n=e.clientHeight;return t="undefined"!=typeof getComputedStyle?parseInt(getComputedStyle(e).getPropertyValue("padding-top"),10):parseInt(e.currentStyle.padding),e.style.left="",e.style.display="none","-"+parseInt((n+t)/2)+"px"},r.fadeIn=function(e,t){if(+e.style.opacity<1){t=t||16,e.style.opacity=0,e.style.display="block";var n=+new Date;!function i(){e.style.opacity=+e.style.opacity+(new Date-n)/100,n=+new Date,+e.style.opacity<1&&setTimeout(i,t)}()}e.style.display="block"},r.fadeOut=function(e,t){t=t||16,e.style.opacity=1;var n=+new Date;!function i(){e.style.opacity=+e.style.opacity-(new Date-n)/100,n=+new Date,+e.style.opacity>0?setTimeout(i,t):e.style.display="none"}()},r.fireClick=function(n){if("function"==typeof MouseEvent){var i=new MouseEvent("click",{view:e,bubbles:!1,cancelable:!0});n.dispatchEvent(i)}else if(t.createEvent){var r=t.createEvent("MouseEvents");r.initEvent("click",!1,!1),n.dispatchEvent(r)}else t.createEventObject?n.fireEvent("onclick"):"function"==typeof n.onclick&&n.onclick()},r.stopEventPropagation=function(t){"function"==typeof t.stopPropagation?(t.stopPropagation(),t.preventDefault()):e.event&&e.event.hasOwnProperty("cancelBubble")&&(e.event.cancelBubble=!0)}},{}],4:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0});var o=t("./handle-dom"),a=t("./handle-swal-dom");r.default=function(t,i,r){var s=t||e.event,l=s.keyCode||s.which,c=r.querySelector("button.confirm"),d=r.querySelector("button.cancel"),u=r.querySelectorAll("button[tabindex]");if(-1!==[9,13,32,27].indexOf(l)){for(var h=s.target||s.srcElement,f=-1,p=0;p<u.length;p++)if(h===u[p]){f=p;break}9===l?(h=-1===f?c:f===u.length-1?u[0]:u[f+1],(0,o.stopEventPropagation)(s),h.focus(),i.confirmButtonColor&&(0,a.setFocusStyle)(h,i.confirmButtonColor)):13===l?("INPUT"===h.tagName&&(h=c,c.focus()),h=-1===f?c:n):27===l&&!0===i.allowEscapeKey?(h=d,(0,o.fireClick)(h,s)):h=n}}},{"./handle-dom":3,"./handle-swal-dom":5}],5:[function(i,r,o){function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(o,"__esModule",{value:!0}),o.fixVerticalPosition=o.resetInputError=o.resetInput=o.openModal=o.getInput=o.getOverlay=o.getModal=o.sweetAlertInitialize=n;var s=i("./handle-dom"),l=a(i("./default-params")),c=a(i("./injected-html")),d=function(){var e=t.createElement("div");for(e.innerHTML=c.default;e.firstChild;)t.body.appendChild(e.firstChild)},u=function e(){var n=t.querySelector(".sweet-alert");return n||(d(),n=e()),n},h=function(){var e=u();return e?e.querySelector("input"):void 0},f=function(){return t.querySelector(".sweet-overlay")},p=function(e){if(e&&13===e.keyCode)return!1;var t=u(),n=t.querySelector(".sa-input-error");(0,s.removeClass)(n,"show");var i=t.querySelector(".form-group");(0,s.removeClass)(i,"has-error")};o.sweetAlertInitialize=d,o.getModal=u,o.getOverlay=f,o.getInput=h,o.openModal=function(n){var i=u();(0,s.fadeIn)(f(),10),(0,s.show)(i),(0,s.addClass)(i,"showSweetAlert"),(0,s.removeClass)(i,"hideSweetAlert"),e.previousActiveElement=t.activeElement,i.querySelector("button.confirm").focus(),setTimeout(function(){(0,s.addClass)(i,"visible")},500);var r=i.getAttribute("data-timer");if("null"!==r&&""!==r){var o=n;i.timeout=setTimeout(function(){o&&"true"===i.getAttribute("data-has-done-function")?o(null):sweetAlert.close()},r)}},o.resetInput=function(){var e=u(),t=h();(0,s.removeClass)(e,"show-input"),t.value=l.default.inputValue,t.setAttribute("type",l.default.inputType),t.setAttribute("placeholder",l.default.inputPlaceholder),p()},o.resetInputError=p,o.fixVerticalPosition=function(){u().style.marginTop=(0,s.getTopMargin)(u())}},{"./default-params":1,"./handle-dom":3,"./injected-html":6}],6:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});n.default='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert" tabIndex="-1"><div class="sa-icon sa-error">\n      <span class="sa-x-mark">\n        <span class="sa-line sa-left"></span>\n        <span class="sa-line sa-right"></span>\n      </span>\n    </div><div class="sa-icon sa-warning">\n      <span class="sa-body"></span>\n      <span class="sa-dot"></span>\n    </div><div class="sa-icon sa-info"></div><div class="sa-icon sa-success">\n      <span class="sa-line sa-tip"></span>\n      <span class="sa-line sa-long"></span>\n\n      <div class="sa-placeholder"></div>\n      <div class="sa-fix"></div>\n    </div><div class="sa-icon sa-custom"></div><h2>Title</h2>\n    <p class="lead text-muted">Text</p>\n    <div class="form-group">\n      <input type="text" class="form-control" tabIndex="3" />\n      <span class="sa-input-error help-block">\n        <span class="glyphicon glyphicon-exclamation-sign"></span> <span class="sa-help-text">Not valid</span>\n      </span>\n    </div><div class="sa-button-container">\n      <button class="cancel btn btn-lg" tabIndex="2">Cancel</button>\n      <div class="sa-confirm-button-container">\n        <button class="confirm btn btn-lg" tabIndex="1">OK</button><div class="la-ball-fall">\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    </div></div>'},{}],7:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=e("./utils"),o=e("./handle-swal-dom"),a=e("./handle-dom"),s=["error","warning","info","success","input","prompt"];n.default=function(e){var t=(0,o.getModal)(),n=t.querySelector("h2"),l=t.querySelector("p"),c=t.querySelector("button.cancel"),d=t.querySelector("button.confirm");if(n.innerHTML=e.html?e.title:(0,a.escapeHtml)(e.title).split("\n").join("<br>"),l.innerHTML=e.html?e.text:(0,a.escapeHtml)(e.text||"").split("\n").join("<br>"),e.text&&(0,a.show)(l),e.customClass)(0,a.addClass)(t,e.customClass),t.setAttribute("data-custom-class",e.customClass);else{var u=t.getAttribute("data-custom-class");(0,a.removeClass)(t,u),t.setAttribute("data-custom-class","")}if((0,a.hide)(t.querySelectorAll(".sa-icon")),e.type&&!(0,r.isIE8)()){var h=function(){for(var n=!1,i=0;i<s.length;i++)if(e.type===s[i]){n=!0;break}if(!n)return logStr("Unknown alert type: "+e.type),{v:!1};var r=void 0;-1!==["success","error","warning","info"].indexOf(e.type)&&(r=t.querySelector(".sa-icon.sa-"+e.type),(0,a.show)(r));var l=(0,o.getInput)();switch(e.type){case"success":(0,a.addClass)(r,"animate"),(0,a.addClass)(r.querySelector(".sa-tip"),"animateSuccessTip"),(0,a.addClass)(r.querySelector(".sa-long"),"animateSuccessLong");break;case"error":(0,a.addClass)(r,"animateErrorIcon"),(0,a.addClass)(r.querySelector(".sa-x-mark"),"animateXMark");break;case"warning":(0,a.addClass)(r,"pulseWarning"),(0,a.addClass)(r.querySelector(".sa-body"),"pulseWarningIns"),(0,a.addClass)(r.querySelector(".sa-dot"),"pulseWarningIns");break;case"input":case"prompt":l.setAttribute("type",e.inputType),l.value=e.inputValue,l.setAttribute("placeholder",e.inputPlaceholder),(0,a.addClass)(t,"show-input"),setTimeout(function(){l.focus(),l.addEventListener("keyup",swal.resetInputError)},400)}}();if("object"===(void 0===h?"undefined":i(h)))return h.v}if(e.imageUrl){var f=t.querySelector(".sa-icon.sa-custom");f.style.backgroundImage="url("+e.imageUrl+")",(0,a.show)(f);var p=80,m=80;if(e.imageSize){var g=e.imageSize.toString().split("x"),v=g[0],y=g[1];v&&y?(p=v,m=y):logStr("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+e.imageSize)}f.setAttribute("style",f.getAttribute("style")+"width:"+p+"px; height:"+m+"px")}t.setAttribute("data-has-cancel-button",e.showCancelButton),e.showCancelButton?c.style.display="inline-block":(0,a.hide)(c),t.setAttribute("data-has-confirm-button",e.showConfirmButton),e.showConfirmButton?d.style.display="inline-block":(0,a.hide)(d),e.cancelButtonText&&(c.innerHTML=(0,a.escapeHtml)(e.cancelButtonText)),e.confirmButtonText&&(d.innerHTML=(0,a.escapeHtml)(e.confirmButtonText)),d.className="confirm btn btn-lg",(0,a.addClass)(t,e.containerClass),(0,a.addClass)(d,e.confirmButtonClass),(0,a.addClass)(c,e.cancelButtonClass),(0,a.addClass)(n,e.titleClass),(0,a.addClass)(l,e.textClass),t.setAttribute("data-allow-outside-click",e.allowOutsideClick);var b=!!e.doneFunction;t.setAttribute("data-has-done-function",b),e.animation?"string"==typeof e.animation?t.setAttribute("data-animation",e.animation):t.setAttribute("data-animation","pop"):t.setAttribute("data-animation","none"),t.setAttribute("data-timer",e.timer)}},{"./handle-dom":3,"./handle-swal-dom":5,"./utils":8}],8:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0});i.extend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},i.isIE8=function(){return e.attachEvent&&!e.addEventListener},i.logStr=function(t){e.console&&e.console.log("SweetAlert: "+t)}},{}],9:[function(i,r,o){function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(o,"__esModule",{value:!0});var s,l,c,d,u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},h=i("./modules/handle-dom"),f=i("./modules/utils"),p=i("./modules/handle-swal-dom"),m=i("./modules/handle-click"),g=a(i("./modules/handle-key")),v=a(i("./modules/default-params")),y=a(i("./modules/set-params"));o.default=c=d=function(){function i(e){var t=r;return t[e]===n?v.default[e]:t[e]}var r=arguments[0];if((0,h.addClass)(t.body,"stop-scrolling"),(0,p.resetInput)(),r===n)return(0,f.logStr)("SweetAlert expects at least 1 attribute!"),!1;var o=(0,f.extend)({},v.default);switch(void 0===r?"undefined":u(r)){case"string":o.title=r,o.text=arguments[1]||"",o.type=arguments[2]||"";break;case"object":if(r.title===n)return(0,f.logStr)('Missing "title" argument!'),!1;for(var a in o.title=r.title,v.default)o[a]=i(a);o.confirmButtonText=o.showCancelButton?"Confirm":v.default.confirmButtonText,o.confirmButtonText=i("confirmButtonText"),o.doneFunction=arguments[1]||null;break;default:return(0,f.logStr)('Unexpected type of argument! Expected "string" or "object", got '+(void 0===r?"undefined":u(r))),!1}(0,y.default)(o),(0,p.fixVerticalPosition)(),(0,p.openModal)(arguments[1]);for(var c=(0,p.getModal)(),b=c.querySelectorAll("button"),w=["onclick"],x=function(e){return(0,m.handleButton)(e,o,c)},_=0;_<b.length;_++)for(var C=0;C<w.length;C++){var S=w[C];b[_][S]=x}(0,p.getOverlay)().onclick=x,s=e.onkeydown;e.onkeydown=function(e){return(0,g.default)(e,o,c)},e.onfocus=function(){setTimeout(function(){l!==n&&(l.focus(),l=n)},0)},d.enableButtons()},c.setDefaults=d.setDefaults=function(e){if(!e)throw new Error("userParams is required");if("object"!==(void 0===e?"undefined":u(e)))throw new Error("userParams has to be a object");(0,f.extend)(v.default,e)},c.close=d.close=function(){var i=(0,p.getModal)();(0,h.fadeOut)((0,p.getOverlay)(),5),(0,h.fadeOut)(i,5),(0,h.removeClass)(i,"showSweetAlert"),(0,h.addClass)(i,"hideSweetAlert"),(0,h.removeClass)(i,"visible");var r=i.querySelector(".sa-icon.sa-success");(0,h.removeClass)(r,"animate"),(0,h.removeClass)(r.querySelector(".sa-tip"),"animateSuccessTip"),(0,h.removeClass)(r.querySelector(".sa-long"),"animateSuccessLong");var o=i.querySelector(".sa-icon.sa-error");(0,h.removeClass)(o,"animateErrorIcon"),(0,h.removeClass)(o.querySelector(".sa-x-mark"),"animateXMark");var a=i.querySelector(".sa-icon.sa-warning");return(0,h.removeClass)(a,"pulseWarning"),(0,h.removeClass)(a.querySelector(".sa-body"),"pulseWarningIns"),(0,h.removeClass)(a.querySelector(".sa-dot"),"pulseWarningIns"),setTimeout(function(){var e=i.getAttribute("data-custom-class");(0,h.removeClass)(i,e)},300),(0,h.removeClass)(t.body,"stop-scrolling"),e.onkeydown=s,e.previousActiveElement&&e.previousActiveElement.focus(),l=n,clearTimeout(i.timeout),!0},c.showInputError=d.showInputError=function(e){var t=(0,p.getModal)(),n=t.querySelector(".sa-input-error");(0,h.addClass)(n,"show");var i=t.querySelector(".form-group");(0,h.addClass)(i,"has-error"),i.querySelector(".sa-help-text").innerHTML=e,setTimeout(function(){c.enableButtons()},1),t.querySelector("input").focus()},c.resetInputError=d.resetInputError=function(e){if(e&&13===e.keyCode)return!1;var t=(0,p.getModal)(),n=t.querySelector(".sa-input-error");(0,h.removeClass)(n,"show");var i=t.querySelector(".form-group");(0,h.removeClass)(i,"has-error")},c.disableButtons=d.disableButtons=function(e){var t=(0,p.getModal)(),n=t.querySelector("button.confirm"),i=t.querySelector("button.cancel");n.disabled=!0,i.disabled=!0},c.enableButtons=d.enableButtons=function(e){var t=(0,p.getModal)(),n=t.querySelector("button.confirm"),i=t.querySelector("button.cancel");n.disabled=!1,i.disabled=!1},void 0!==e?e.sweetAlert=e.swal=c:(0,f.logStr)("SweetAlert is a frontend module!")},{"./modules/default-params":1,"./modules/handle-click":2,"./modules/handle-dom":3,"./modules/handle-key":4,"./modules/handle-swal-dom":5,"./modules/set-params":7,"./modules/utils":8}]},{},[9]),"function"==typeof define&&define.amd?define(function(){return sweetAlert}):"undefined"!=typeof module&&module.exports&&(module.exports=sweetAlert)}(window,document),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){e.ui=e.ui||{},e.ui.version="1.12.0";var t=0,n=Array.prototype.slice;e.cleanData=function(t){return function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{(i=e._data(r,"events"))&&i.remove&&e(r).triggerHandler("remove")}catch(e){}t(n)}}(e.cleanData),e.widget=function(t,n,i){var r,o,a,s={},l=t.split(".")[0],c=l+"-"+(t=t.split(".")[1]);return i||(i=n,n=e.Widget),e.isArray(i)&&(i=e.extend.apply(null,[{}].concat(i))),e.expr[":"][c.toLowerCase()]=function(t){return!!e.data(t,c)},e[l]=e[l]||{},r=e[l][t],o=e[l][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new o(e,t)},e.extend(o,r,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),(a=new n).options=e.widget.extend({},a.options),e.each(i,function(t,i){return e.isFunction(i)?void(s[t]=function(){function e(){return n.prototype[t].apply(this,arguments)}function r(e){return n.prototype[t].apply(this,e)}return function(){var t,n=this._super,o=this._superApply;return this._super=e,this._superApply=r,t=i.apply(this,arguments),this._super=n,this._superApply=o,t}}()):void(s[t]=i)}),o.prototype=e.widget.extend(a,{widgetEventPrefix:r&&a.widgetEventPrefix||t},s,{constructor:o,namespace:l,widgetName:t,widgetFullName:c}),r?(e.each(r._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,o,n._proto)}),delete r._childConstructors):n._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var i,r,o=n.call(arguments,1),a=0,s=o.length;s>a;a++)for(i in o[a])r=o[a][i],o[a].hasOwnProperty(i)&&void 0!==r&&(t[i]=e.isPlainObject(r)?e.isPlainObject(t[i])?e.widget.extend({},t[i],r):e.widget.extend({},r):r);return t},e.widget.bridge=function(t,i){var r=i.prototype.widgetFullName||t;e.fn[t]=function(o){var a="string"==typeof o,s=n.call(arguments,1),l=this;return a?this.each(function(){var n,i=e.data(this,r);return"instance"===o?(l=i,!1):i?e.isFunction(i[o])&&"_"!==o.charAt(0)?(n=i[o].apply(i,s))!==i&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0:e.error("no such method '"+o+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'")}):(s.length&&(o=e.widget.extend.apply(null,[o].concat(s))),this.each(function(){var t=e.data(this,r);t?(t.option(o||{}),t._init&&t._init()):e.data(this,r,new i(o,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(n,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,function(e,n){t._removeClass(n,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var i,r,o,a=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(a={},i=t.split("."),t=i.shift(),i.length){for(r=a[t]=e.widget.extend({},this.options[t]),o=0;i.length-1>o;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(t=i.pop(),1===arguments.length)return void 0===r[t]?null:r[t];r[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];a[t]=n}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var n,i,r;for(n in t)r=this.classesElementLookup[n],t[n]!==this.options.classes[n]&&r&&r.length&&(i=e(r.get()),this._removeClass(r,n),i.addClass(this._classes({element:i,keys:n,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){function n(n,o){var a,s;for(s=0;n.length>s;s++)a=r.classesElementLookup[n[s]]||e(),a=t.add?e(e.unique(a.get().concat(t.element.get()))):e(a.not(t.element).get()),r.classesElementLookup[n[s]]=a,i.push(n[s]),o&&t.classes[n[s]]&&i.push(t.classes[n[s]])}var i=[],r=this;return(t=e.extend({element:this.element,classes:this.options.classes||{}},t)).keys&&n(t.keys.match(/\S+/g)||[],!0),t.extra&&n(t.extra.match(/\S+/g)||[]),i.join(" ")},_removeClass:function(e,t,n){return this._toggleClass(e,t,n,!1)},_addClass:function(e,t,n){return this._toggleClass(e,t,n,!0)},_toggleClass:function(e,t,n,i){i="boolean"==typeof i?i:n;var r="string"==typeof e||null===e,o={extra:r?t:n,keys:r?e:t,element:r?this.element:e,add:i};return o.element.toggleClass(this._classes(o),i),this},_on:function(t,n,i){var r,o=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=r=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),e.each(i,function(i,a){function s(){return t||!0!==o.options.disabled&&!e(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||e.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+o.eventNamespace,d=l[2];d?r.on(c,d,s):n.on(c,s)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(n).off(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){var n=this;return setTimeout(function(){return("string"==typeof e?n[e]:e).apply(n,arguments)},t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,n,i){var r,o,a=this.options[t];if(i=i||{},(n=e.Event(n)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(e.isFunction(a)&&!1===a.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,r,o){"string"==typeof r&&(r={effect:r});var a,s=r?!0===r||"number"==typeof r?n:r.effect||n:t;"number"==typeof(r=r||{})&&(r={duration:r}),a=!e.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),a&&e.effects&&e.effects.effect[s]?i[t](r):s!==t&&i[s]?i[s](r.duration,r.easing,o):i.queue(function(n){e(this)[t](),o&&o.call(i[0]),n()})}}),e.widget,e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])}}),e.fn.scrollParent=function(t){var n=this.css("position"),i="absolute"===n,r=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var t=e(this);return(!i||"static"!==t.css("position"))&&r.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:e(this[0].ownerDocument||document)},e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var i=!1;e(document).on("mouseup",function(){i=!1}),e.widget("ui.mouse",{version:"1.12.0",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(n){return!0===e.data(n.target,t.widgetName+".preventClickEvent")?(e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!i){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var n=this,r=1===t.which,o=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(r&&!o&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),i=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,i=!1,t.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.12.0",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,n){return e>=t&&t+n>e},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),e.each(this.items,function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,n){var i=null,r=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,o.widgetName+"-item")===o?(i=e(this),!1):void 0}),e.data(t.target,o.widgetName+"-item")===o&&(i=e(t.target)),!!i&&(!(this.options.handle&&!n&&(e(this.options.handle,i).find("*").addBack().each(function(){this===t.target&&(r=!0)}),!r))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,n,i){var r,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=e("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,i,r,o,a=this.options,s=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+a.scrollSpeed:t.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+a.scrollSpeed:t.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(t.pageY-this.document.scrollTop()<a.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<a.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),t.pageX-this.document.scrollLeft()<a.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),!1!==s&&e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(r=(i=this.items[n]).item[0],(o=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==r&&!e.contains(this.placeholder[0],r)&&("semi-dynamic"!==this.options.type||!e.contains(this.element[0],r))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){i._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&i.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n.each(function(){i.push(e(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=e.left,a=o+e.width,s=e.top,l=s+e.height,c=this.offset.click.top,d=this.offset.click.left,u="x"===this.options.axis||i+c>s&&l>i+c,h="y"===this.options.axis||t+d>o&&a>t+d,f=u&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?f:t+this.helperProportions.width/2>o&&a>n-this.helperProportions.width/2&&i+this.helperProportions.height/2>s&&l>r-this.helperProportions.height/2},_intersectsWithPointer:function(e){var t,n,i="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width);return!!(i&&r)&&(t=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===t?2:1:t&&("down"===t?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&t||"up"===i&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function n(){s.push(this)}var i,r,o,a,s=[],l=[],c=this._connectWith();if(c&&t)for(i=c.length-1;i>=0;i--)for(r=(o=e(c[i],this.document[0])).length-1;r>=0;r--)(a=e.data(o[r],this.widgetFullName))&&a!==this&&!a.options.disabled&&l.push([e.isFunction(a.options.items)?a.options.items.call(a.element):e(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(l.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(n);return e(s)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;t.length>n;n++)if(t[n]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n,i,r,o,a,s,l,c,d=this.items,u=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--)for(i=(r=e(h[n],this.document[0])).length-1;i>=0;i--)(o=e.data(r[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&(u.push([e.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):e(o.options.items,o.element),o]),this.containers.push(o));for(n=u.length-1;n>=0;n--)for(a=u[n][1],i=0,c=(s=u[n][0]).length;c>i;i++)(l=e(s[i])).data(this.widgetName+"-item",a),d.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var n,i,r,o;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),n=this.items.length-1;n>=0;n--)(i=this.items[n]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?e(this.options.toleranceElement,i.item):i.item,t||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){var n,i=(t=t||this).options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=t.currentItem[0].nodeName.toLowerCase(),r=e("<"+i+">",t.document[0]);return t._addClass(r,"ui-sortable-placeholder",n||t.currentItem[0].className)._removeClass(r,"ui-sortable-helper"),"tbody"===i?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(r)):"tr"===i?t._createTrPlaceholder(t.currentItem,r):"img"===i&&r.attr("src",t.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(e,r){(!n||i.forcePlaceholderSize)&&(r.height()||r.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(i.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),i.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,n){var i=this;t.children().each(function(){e("<td>&#160;</td>",i.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(t){var n,i,r,o,a,s,l,c,d,u,h=null,f=null;for(n=this.containers.length-1;n>=0;n--)if(!e.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(h&&e.contains(this.containers[n].element[0],h.element[0]))continue;h=this.containers[n],f=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",t,this._uiHash(this)),this.containers[n].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",t,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(r=1e4,o=null,a=(d=h.floating||this._isFloating(this.currentItem))?"left":"top",s=d?"width":"height",u=d?"pageX":"pageY",i=this.items.length-1;i>=0;i--)e.contains(this.containers[f].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[a],c=!1,t[u]-l>this.items[i][s]/2&&(c=!0),r>Math.abs(t[u]-l)&&(r=Math.abs(t[u]-l),o=this.items[i],this.direction=c?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return void(this.currentContainer.containerCache.over||(this.containers[f]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[f].element,!0),this._trigger("change",t,this._uiHash()),this.containers[f]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",t,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(t=e(r.containment)[0],n=e(r.containment).offset(),i="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(t){var n,i,r=this.options,o=t.pageX,a=t.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((a-this.originalPageY)/r.grid[1])*r.grid[1],a=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:s.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:s.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(e,t){function n(e,t,n){return function(i){n._trigger(e,i,t._uiHash(t))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&r.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||r.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(r.push(function(e){this._trigger("remove",e,this._uiHash())}),r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||r.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(i=0;r.length>i;i++)r[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})}),function(e){"use strict";var t=function(){},n=function(e,t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return e(t.apply(null,n))}},i=function(e){return function(){return e}},r=function(e){return e};function o(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=t.concat(n);return e.apply(null,r)}}var a,s,l,c,d,u,h,f,p,m,g,v,y,b,w,x,_,C=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return!e.apply(null,t)}},S=i(!1),k=i(!0),T=S,E=k,D=function(){return N},N=(c={fold:function(e,t){return e()},is:T,isSome:T,isNone:E,getOr:l=function(e){return e},getOrThunk:s=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:function(){return null},getOrUndefined:function(){},or:l,orThunk:s,map:D,ap:D,each:function(){},bind:D,flatten:D,exists:T,forall:E,filter:D,equals:a=function(e){return e.isNone()},equals_:a,toArray:function(){return[]},toString:i("none()")},Object.freeze&&Object.freeze(c),c),A=function(e){var t=function(){return e},n=function(){return r},i=function(t){return t(e)},r={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:E,isNone:T,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return A(t(e))},ap:function(t){return t.fold(D,function(t){return A(t(e))})},each:function(t){t(e)},bind:i,flatten:t,exists:i,forall:i,filter:function(t){return t(e)?r:N},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(T,function(t){return n(e,t)})},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return r},O={some:A,none:D,from:function(e){return null==e?N:A(e)}},I=function(e){return function(t){return function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(t)===e}},R=I("string"),P=I("object"),M=I("array"),j=I("null"),L=I("boolean"),B=I("function"),$=I("number"),F=Array.prototype.slice,H=void 0===(d=Array.prototype.indexOf)?function(e,t){return J(e,t)}:function(e,t){return d.call(e,t)},z=function(e,t){return-1<H(e,t)},W=function(e,t){return K(e,t).isSome()},U=function(e,t){for(var n=e.length,i=new Array(n),r=0;r<n;r++){var o=e[r];i[r]=t(o,r,e)}return i},q=function(e,t){for(var n=0,i=e.length;n<i;n++)t(e[n],n,e)},V=function(e,t){for(var n=[],i=[],r=0,o=e.length;r<o;r++){var a=e[r];(t(a,r,e)?n:i).push(a)}return{pass:n,fail:i}},Y=function(e,t){for(var n=[],i=0,r=e.length;i<r;i++){var o=e[i];t(o,i,e)&&n.push(o)}return n},X=function(e,t,n){return q(e,function(e){n=t(n,e)}),n},G=function(e,t){for(var n=0,i=e.length;n<i;n++){var r=e[n];if(t(r,n,e))return O.some(r)}return O.none()},K=function(e,t){for(var n=0,i=e.length;n<i;n++)if(t(e[n],n,e))return O.some(n);return O.none()},J=function(e,t){for(var n=0,i=e.length;n<i;++n)if(e[n]===t)return n;return-1},Q=Array.prototype.push,Z=function(e,t){return function(e){for(var t=[],n=0,i=e.length;n<i;++n){if(!M(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);Q.apply(t,e[n])}return t}(U(e,t))},ee=function(e,t){for(var n=0,i=e.length;n<i;++n)if(!0!==t(e[n],n,e))return!1;return!0},te=function(e,t){return Y(e,function(e){return!z(t,e)})},ne=function(e){return 0===e.length?O.none():O.some(e[0])},ie=function(e){return 0===e.length?O.none():O.some(e[e.length-1])},re=B(Array.from)?Array.from:function(e){return F.call(e)},oe=void 0!==e.window?e.window:Function("return this;")(),ae={getOrDie:function(e,t){var n=function(e,t){return function(e,t){for(var n=null!=t?t:oe,i=0;i<e.length&&null!=n;++i)n=n[e[i]];return n}(e.split("."),t)}(e,t);if(null==n)throw new Error(e+" not available on this browser");return n}},se=function(){return ae.getOrDie("URL")},le={createObjectURL:function(e){return se().createObjectURL(e)},revokeObjectURL:function(e){se().revokeObjectURL(e)}},ce=e.navigator,de=ce.userAgent,ue=function(t){return"matchMedia"in e.window&&e.matchMedia(t).matches};y=/Android/.test(de),h=(h=!(u=/WebKit/.test(de))&&/MSIE/gi.test(de)&&/Explorer/gi.test(ce.appName))&&/MSIE (\w+)\./.exec(de)[1],f=-1!==de.indexOf("Trident/")&&(-1!==de.indexOf("rv:")||-1!==ce.appName.indexOf("Netscape"))&&11,p=-1!==de.indexOf("Edge/")&&!h&&!f&&12,h=h||f||p,m=!u&&!f&&/Gecko/.test(de),g=-1!==de.indexOf("Mac"),v=/(iPad|iPhone)/.test(de),b="FormData"in e.window&&"FileReader"in e.window&&"URL"in e.window&&!!le.createObjectURL,w=ue("only screen and (max-device-width: 480px)")&&(y||v),x=ue("only screen and (min-width: 800px)")&&(y||v),_=-1!==de.indexOf("Windows Phone"),p&&(u=!1);var he,fe={opera:!1,webkit:u,ie:h,gecko:m,mac:g,iOS:v,android:y,contentEditable:!v||b||534<=parseInt(de.match(/AppleWebKit\/(\d*)/)[1],10),transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!==h,range:e.window.getSelection&&"Range"in e.window,documentMode:h&&!p?e.document.documentMode||7:10,fileApi:b,ceFalse:!1===h||8<h,cacheSuffix:null,container:null,overrideViewPort:null,experimentalShadowDom:!1,canHaveCSP:!1===h||11<h,desktop:!w&&!x,windowsPhone:_},pe=window.Promise?window.Promise:function(){function e(e,t){return function(){e.apply(t,arguments)}}var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},n=function(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],c(t,e(o,this),e(a,this))},i=n.immediateFn||"function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,1)};function r(e){var t=this;null!==this._state?i(function(){var n=t._state?e.onFulfilled:e.onRejected;if(null!==n){var i;try{i=n(t._value)}catch(t){return void e.reject(t)}e.resolve(i)}else(t._state?e.resolve:e.reject)(t._value)}):this._deferreds.push(e)}function o(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void c(e(n,t),e(o,this),e(a,this))}this._state=!0,this._value=t,s.call(this)}catch(e){a.call(this,e)}}function a(e){this._state=!1,this._value=e,s.call(this)}function s(){for(var e=0,t=this._deferreds.length;e<t;e++)r.call(this,this._deferreds[e]);this._deferreds=null}function l(e,t,n,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=i}function c(e,t,n){var i=!1;try{e(function(e){i||(i=!0,t(e))},function(e){i||(i=!0,n(e))})}catch(e){if(i)return;i=!0,n(e)}}return n.prototype.catch=function(e){return this.then(null,e)},n.prototype.then=function(e,t){var i=this;return new n(function(n,o){r.call(i,new l(e,t,n,o))})},n.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&t(arguments[0])?arguments[0]:arguments);return new n(function(t,n){if(0===e.length)return t([]);var i=e.length;function r(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){r(o,e)},n)}e[o]=a,0==--i&&t(e)}catch(e){n(e)}}for(var o=0;o<e.length;o++)r(o,e[o])})},n.resolve=function(e){return e&&"object"==typeof e&&e.constructor===n?e:new n(function(t){t(e)})},n.reject=function(e){return new n(function(t,n){n(e)})},n.race=function(e){return new n(function(t,n){for(var i=0,r=e.length;i<r;i++)e[i].then(t,n)})},n}(),me=function(e,t){return"number"!=typeof t&&(t=0),setTimeout(e,t)},ge=function(e,t){return"number"!=typeof t&&(t=1),setInterval(e,t)},ve=function(e,t){var n,i;return(i=function(){var i=arguments;clearTimeout(n),n=me(function(){e.apply(this,i)},t)}).stop=function(){clearTimeout(n)},i},ye={requestAnimationFrame:function(t,n){he?he.then(t):he=new pe(function(t){n||(n=e.document.body),function(t,n){var i,r=e.window.requestAnimationFrame,o=["ms","moz","webkit"];for(i=0;i<o.length&&!r;i++)r=e.window[o[i]+"RequestAnimationFrame"];r||(r=function(t){e.window.setTimeout(t,0)}),r(t,n)}(t,n)}).then(t)},setTimeout:me,setInterval:ge,setEditorTimeout:function(e,t,n){return me(function(){e.removed||t()},n)},setEditorInterval:function(e,t,n){var i;return i=ge(function(){e.removed?clearInterval(i):t()},n)},debounce:ve,throttle:ve,clearInterval:function(e){return clearInterval(e)},clearTimeout:function(e){return clearTimeout(e)}},be=/^(?:mouse|contextmenu)|click/,we={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1},xe=function(){return!1},_e=function(){return!0},Ce=function(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i||!1):e.attachEvent&&e.attachEvent("on"+t,n)},Se=function(e,t,n,i){e.removeEventListener?e.removeEventListener(t,n,i||!1):e.detachEvent&&e.detachEvent("on"+t,n)},ke=function(t,n){var i,r,o=n||{};for(i in t)we[i]||(o[i]=t[i]);if(o.target||(o.target=o.srcElement||e.document),fe.experimentalShadowDom&&(o.target=function(e,t){if(e.composedPath){var n=e.composedPath();if(n&&0<n.length)return n[0]}return t}(t,o.target)),t&&be.test(t.type)&&void 0===t.pageX&&void 0!==t.clientX){var a=o.target.ownerDocument||e.document,s=a.documentElement,l=a.body;o.pageX=t.clientX+(s&&s.scrollLeft||l&&l.scrollLeft||0)-(s&&s.clientLeft||l&&l.clientLeft||0),o.pageY=t.clientY+(s&&s.scrollTop||l&&l.scrollTop||0)-(s&&s.clientTop||l&&l.clientTop||0)}return o.preventDefault=function(){o.isDefaultPrevented=_e,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},o.stopPropagation=function(){o.isPropagationStopped=_e,t&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)},!(o.stopImmediatePropagation=function(){o.isImmediatePropagationStopped=_e,o.stopPropagation()})==((r=o).isDefaultPrevented===_e||r.isDefaultPrevented===xe)&&(o.isDefaultPrevented=xe,o.isPropagationStopped=xe,o.isImmediatePropagationStopped=xe),void 0===o.metaKey&&(o.metaKey=!1),o},Te=function(e,t,n){var i=e.document,r={type:"ready"};if(n.domLoaded)t(r);else{var o=function(){return"complete"===i.readyState||"interactive"===i.readyState&&i.body},a=function(){n.domLoaded||(n.domLoaded=!0,t(r))},s=function(){o()&&(Se(i,"readystatechange",s),a())},l=function(){try{i.documentElement.doScroll("left")}catch(e){return void ye.setTimeout(l)}a()};!i.addEventListener||fe.ie&&fe.ie<11?(Ce(i,"readystatechange",s),i.documentElement.doScroll&&e.self===e.top&&l()):o()?a():Ce(e,"DOMContentLoaded",a),Ce(e,"load",a)}},Ee=function(){var t,n,i,r,o,a=this,s={};n="mce-data-"+(+new Date).toString(32),r="onmouseenter"in e.document.documentElement,i="onfocusin"in e.document.documentElement,o={mouseenter:"mouseover",mouseleave:"mouseout"},t=1,a.domLoaded=!1,a.events=s;var l=function(e,t){var n,i,r,o,a=s[t];if(n=a&&a[e.type])for(i=0,r=n.length;i<r;i++)if((o=n[i])&&!1===o.func.call(o.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return};a.bind=function(c,d,u,h){var f,p,m,g,v,y,b,w=e.window,x=function(e){l(ke(e||w.event),f)};if(c&&3!==c.nodeType&&8!==c.nodeType){for(c[n]?f=c[n]:(f=t++,c[n]=f,s[f]={}),h=h||c,m=(d=d.split(" ")).length;m--;)y=x,v=b=!1,"DOMContentLoaded"===(g=d[m])&&(g="ready"),a.domLoaded&&"ready"===g&&"complete"===c.readyState?u.call(h,ke({type:g})):(r||(v=o[g])&&(y=function(e){var t,n;if(t=e.currentTarget,(n=e.relatedTarget)&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||((e=ke(e||w.event)).type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,l(e,f))}),i||"focusin"!==g&&"focusout"!==g||(b=!0,v="focusin"===g?"focus":"blur",y=function(e){(e=ke(e||w.event)).type="focus"===e.type?"focusin":"focusout",l(e,f)}),(p=s[f][g])?"ready"===g&&a.domLoaded?u({type:g}):p.push({func:u,scope:h}):(s[f][g]=p=[{func:u,scope:h}],p.fakeName=v,p.capture=b,p.nativeHandler=y,"ready"===g?Te(c,y,a):Ce(c,v||g,y,b)));return c=p=0,u}},a.unbind=function(e,t,i){var r,o,l,c,d,u;if(!e||3===e.nodeType||8===e.nodeType)return a;if(r=e[n]){if(u=s[r],t){for(l=(t=t.split(" ")).length;l--;)if(o=u[d=t[l]]){if(i)for(c=o.length;c--;)if(o[c].func===i){var h=o.nativeHandler,f=o.fakeName,p=o.capture;(o=o.slice(0,c).concat(o.slice(c+1))).nativeHandler=h,o.fakeName=f,o.capture=p,u[d]=o}i&&0!==o.length||(delete u[d],Se(e,o.fakeName||d,o.nativeHandler,o.capture))}}else{for(d in u)o=u[d],Se(e,o.fakeName||d,o.nativeHandler,o.capture);u={}}for(d in u)return a;delete s[r];try{delete e[n]}catch(t){e[n]=null}}return a},a.fire=function(e,t,i){var r;if(!e||3===e.nodeType||8===e.nodeType)return a;for((i=ke(null,i)).type=t,i.target=e;(r=e[n])&&l(i,r),(e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow)&&!i.isPropagationStopped(););return a},a.clean=function(e){var t,i,r=a.unbind;if(!e||3===e.nodeType||8===e.nodeType)return a;if(e[n]&&r(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(r(e),t=(i=e.getElementsByTagName("*")).length;t--;)(e=i[t])[n]&&r(e);return a},a.destroy=function(){s={}},a.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}};Ee.Event=new Ee,Ee.Event.bind(e.window,"ready",function(){});var De,Ne,Ae,Oe,Ie,Re,Pe,Me,je,Le,Be,$e,Fe,He,ze,We,Ue,qe,Ve="sizzle"+-new Date,Ye=e.window.document,Xe=0,Ge=0,Ke=Dt(),Je=Dt(),Qe=Dt(),Ze=function(e,t){return e===t&&(Be=!0),0},et="undefined",tt={}.hasOwnProperty,nt=[],it=nt.pop,rt=nt.push,ot=nt.push,at=nt.slice,st=nt.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},lt="[\\x20\\t\\r\\n\\f]",ct="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",dt="\\["+lt+"*("+ct+")(?:"+lt+"*([*^$|!~]?=)"+lt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ct+"))|)"+lt+"*\\]",ut=":("+ct+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+dt+")*)|.*)\\)|)",ht=new RegExp("^"+lt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+lt+"+$","g"),ft=new RegExp("^"+lt+"*,"+lt+"*"),pt=new RegExp("^"+lt+"*([>+~]|"+lt+")"+lt+"*"),mt=new RegExp("="+lt+"*([^\\]'\"]*?)"+lt+"*\\]","g"),gt=new RegExp(ut),vt=new RegExp("^"+ct+"$"),yt={ID:new RegExp("^#("+ct+")"),CLASS:new RegExp("^\\.("+ct+")"),TAG:new RegExp("^("+ct+"|[*])"),ATTR:new RegExp("^"+dt),PSEUDO:new RegExp("^"+ut),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+lt+"*(even|odd|(([+-]|)(\\d*)n|)"+lt+"*(?:([+-]|)"+lt+"*(\\d+)|))"+lt+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+lt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+lt+"*((?:-\\d)?\\d*)"+lt+"*\\)|)(?=[^-]|$)","i")},bt=/^(?:input|select|textarea|button)$/i,wt=/^h\d$/i,xt=/^[^{]+\{\s*\[native \w/,_t=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ct=/[+~]/,St=/'|\\/g,kt=new RegExp("\\\\([\\da-f]{1,6}"+lt+"?|("+lt+")|.)","ig"),Tt=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{ot.apply(nt=at.call(Ye.childNodes),Ye.childNodes),nt[Ye.childNodes.length].nodeType}catch(e){ot={apply:nt.length?function(e,t){rt.apply(e,at.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}var Et=function(e,t,n,i){var r,o,a,s,l,c,d,u,h,f;if((t?t.ownerDocument||t:Ye)!==Fe&&$e(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=(t=t||Fe).nodeType)&&9!==s)return[];if(ze&&!i){if(r=_t.exec(e))if(a=r[1]){if(9===s){if(!(o=t.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&qe(t,o)&&o.id===a)return n.push(o),n}else{if(r[2])return ot.apply(n,t.getElementsByTagName(e)),n;if((a=r[3])&&Ne.getElementsByClassName)return ot.apply(n,t.getElementsByClassName(a)),n}if(Ne.qsa&&(!We||!We.test(e))){if(u=d=Ve,h=t,f=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=Re(e),(d=t.getAttribute("id"))?u=d.replace(St,"\\$&"):t.setAttribute("id",u),u="[id='"+u+"'] ",l=c.length;l--;)c[l]=u+jt(c[l]);h=Ct.test(e)&&Pt(t.parentNode)||t,f=c.join(",")}if(f)try{return ot.apply(n,h.querySelectorAll(f)),n}catch(e){}finally{d||t.removeAttribute("id")}}}return Me(e.replace(ht,"$1"),t,n,i)};function Dt(){var e=[];return function t(n,i){return e.push(n+" ")>Ae.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function Nt(e){return e[Ve]=!0,e}function At(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function Ot(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function It(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function Rt(e){return Nt(function(t){return t=+t,Nt(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function Pt(e){return e&&typeof e.getElementsByTagName!==et&&e}for(De in Ne=Et.support={},Ie=Et.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},$e=Et.setDocument=function(e){var t,n=e?e.ownerDocument||e:Ye,i=n.defaultView;return n!==Fe&&9===n.nodeType&&n.documentElement?(He=(Fe=n).documentElement,ze=!Ie(n),i&&i!==function(e){try{return e.top}catch(e){}return null}(i)&&(i.addEventListener?i.addEventListener("unload",function(){$e()},!1):i.attachEvent&&i.attachEvent("onunload",function(){$e()})),Ne.attributes=!0,Ne.getElementsByTagName=!0,Ne.getElementsByClassName=xt.test(n.getElementsByClassName),Ne.getById=!0,Ae.find.ID=function(e,t){if(typeof t.getElementById!==et&&ze){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},Ae.filter.ID=function(e){var t=e.replace(kt,Tt);return function(e){return e.getAttribute("id")===t}},Ae.find.TAG=Ne.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==et)return t.getElementsByTagName(e)}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},Ae.find.CLASS=Ne.getElementsByClassName&&function(e,t){if(ze)return t.getElementsByClassName(e)},Ue=[],We=[],Ne.disconnectedMatch=!0,We=We.length&&new RegExp(We.join("|")),Ue=Ue.length&&new RegExp(Ue.join("|")),t=xt.test(He.compareDocumentPosition),qe=t||xt.test(He.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Ze=t?function(e,t){if(e===t)return Be=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!Ne.sortDetached&&t.compareDocumentPosition(e)===i?e===n||e.ownerDocument===Ye&&qe(Ye,e)?-1:t===n||t.ownerDocument===Ye&&qe(Ye,t)?1:Le?st.call(Le,e)-st.call(Le,t):0:4&i?-1:1)}:function(e,t){if(e===t)return Be=!0,0;var i,r=0,o=e.parentNode,a=t.parentNode,s=[e],l=[t];if(!o||!a)return e===n?-1:t===n?1:o?-1:a?1:Le?st.call(Le,e)-st.call(Le,t):0;if(o===a)return At(e,t);for(i=e;i=i.parentNode;)s.unshift(i);for(i=t;i=i.parentNode;)l.unshift(i);for(;s[r]===l[r];)r++;return r?At(s[r],l[r]):s[r]===Ye?-1:l[r]===Ye?1:0},n):Fe},Et.matches=function(e,t){return Et(e,null,null,t)},Et.matchesSelector=function(e,t){if((e.ownerDocument||e)!==Fe&&$e(e),t=t.replace(mt,"='$1']"),Ne.matchesSelector&&ze&&(!Ue||!Ue.test(t))&&(!We||!We.test(t)))try{var n=(void 0).call(e,t);if(n||Ne.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<Et(t,Fe,null,[e]).length},Et.contains=function(e,t){return(e.ownerDocument||e)!==Fe&&$e(e),qe(e,t)},Et.attr=function(e,t){(e.ownerDocument||e)!==Fe&&$e(e);var n=Ae.attrHandle[t.toLowerCase()],i=n&&tt.call(Ae.attrHandle,t.toLowerCase())?n(e,t,!ze):void 0;return void 0!==i?i:Ne.attributes||!ze?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},Et.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},Et.uniqueSort=function(e){var t,n=[],i=0,r=0;if(Be=!Ne.detectDuplicates,Le=!Ne.sortStable&&e.slice(0),e.sort(Ze),Be){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return Le=null,e},Oe=Et.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=Oe(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=Oe(t);return n},(Ae=Et.selectors={cacheLength:50,createPseudo:Nt,match:yt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(kt,Tt),e[3]=(e[3]||e[4]||e[5]||"").replace(kt,Tt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||Et.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&Et.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return yt.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&gt.test(n)&&(t=Re(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(kt,Tt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=Ke[e+" "];return t||(t=new RegExp("(^|"+lt+")"+e+"("+lt+"|$)"))&&Ke(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==et&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var r=Et.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&-1<r.indexOf(n):"$="===t?n&&r.slice(-n.length)===n:"~="===t?-1<(" "+r+" ").indexOf(n):"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,d,u,h,f,p,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(g){if(o){for(;m;){for(u=t;u=u[m];)if(s?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){for(f=(c=(d=g[Ve]||(g[Ve]={}))[e]||[])[0]===Xe&&c[1],h=c[0]===Xe&&c[2],u=f&&g.childNodes[f];u=++f&&u&&u[m]||(h=f=0)||p.pop();)if(1===u.nodeType&&++h&&u===t){d[e]=[Xe,f,h];break}}else if(y&&(c=(t[Ve]||(t[Ve]={}))[e])&&c[0]===Xe)h=c[1];else for(;(u=++f&&u&&u[m]||(h=f=0)||p.pop())&&((s?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++h||(y&&((u[Ve]||(u[Ve]={}))[e]=[Xe,h]),u!==t)););return(h-=r)===i||h%i==0&&0<=h/i}}},PSEUDO:function(e,t){var n,i=Ae.pseudos[e]||Ae.setFilters[e.toLowerCase()]||Et.error("unsupported pseudo: "+e);return i[Ve]?i(t):1<i.length?(n=[e,e,"",t],Ae.setFilters.hasOwnProperty(e.toLowerCase())?Nt(function(e,n){for(var r,o=i(e,t),a=o.length;a--;)e[r=st.call(e,o[a])]=!(n[r]=o[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:Nt(function(e){var t=[],n=[],i=Pe(e.replace(ht,"$1"));return i[Ve]?Nt(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}}),has:Nt(function(e){return function(t){return 0<Et(e,t).length}}),contains:Nt(function(e){return e=e.replace(kt,Tt),function(t){return-1<(t.textContent||t.innerText||Oe(t)).indexOf(e)}}),lang:Nt(function(e){return vt.test(e||"")||Et.error("unsupported lang: "+e),e=e.replace(kt,Tt).toLowerCase(),function(t){var n;do{if(n=ze?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.window.location&&e.window.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===He},focus:function(e){return e===Fe.activeElement&&(!Fe.hasFocus||Fe.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!Ae.pseudos.empty(e)},header:function(e){return wt.test(e.nodeName)},input:function(e){return bt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:Rt(function(){return[0]}),last:Rt(function(e,t){return[t-1]}),eq:Rt(function(e,t,n){return[n<0?n+t:n]}),even:Rt(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:Rt(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:Rt(function(e,t,n){for(var i=n<0?n+t:n;0<=--i;)e.push(i);return e}),gt:Rt(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=Ae.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Ae.pseudos[De]=Ot(De);for(De in{submit:!0,reset:!0})Ae.pseudos[De]=It(De);function Mt(){}function jt(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function Lt(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=Ge++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,a){var s,l,c=[Xe,o];if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if((s=(l=t[Ve]||(t[Ve]={}))[i])&&s[0]===Xe&&s[1]===o)return c[2]=s[2];if((l[i]=c)[2]=e(t,n,a))return!0}}}function Bt(e){return 1<e.length?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function $t(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,i,r)||(a.push(o),c&&t.push(s)));return a}function Ft(e,t,n,i,r,o){return i&&!i[Ve]&&(i=Ft(i)),r&&!r[Ve]&&(r=Ft(r,o)),Nt(function(o,a,s,l){var c,d,u,h=[],f=[],p=a.length,m=o||function(e,t,n){for(var i=0,r=t.length;i<r;i++)Et(e,t[i],n);return n}(t||"*",s.nodeType?[s]:s,[]),g=!e||!o&&t?m:$t(m,h,e,s,l),v=n?r||(o?e:p||i)?[]:a:g;if(n&&n(g,v,s,l),i)for(c=$t(v,f),i(c,[],s,l),d=c.length;d--;)(u=c[d])&&(v[f[d]]=!(g[f[d]]=u));if(o){if(r||e){if(r){for(c=[],d=v.length;d--;)(u=v[d])&&c.push(g[d]=u);r(null,v=[],c,l)}for(d=v.length;d--;)(u=v[d])&&-1<(c=r?st.call(o,u):h[d])&&(o[c]=!(a[c]=u))}}else v=$t(v===a?v.splice(p,v.length):v),r?r(null,a,v,l):ot.apply(a,v)})}function Ht(e){for(var t,n,i,r=e.length,o=Ae.relative[e[0].type],a=o||Ae.relative[" "],s=o?1:0,l=Lt(function(e){return e===t},a,!0),c=Lt(function(e){return-1<st.call(t,e)},a,!0),d=[function(e,n,i){return!o&&(i||n!==je)||((t=n).nodeType?l(e,n,i):c(e,n,i))}];s<r;s++)if(n=Ae.relative[e[s].type])d=[Lt(Bt(d),n)];else{if((n=Ae.filter[e[s].type].apply(null,e[s].matches))[Ve]){for(i=++s;i<r&&!Ae.relative[e[i].type];i++);return Ft(1<s&&Bt(d),1<s&&jt(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ht,"$1"),n,s<i&&Ht(e.slice(s,i)),i<r&&Ht(e=e.slice(i)),i<r&&jt(e))}d.push(n)}return Bt(d)}Mt.prototype=Ae.filters=Ae.pseudos,Ae.setFilters=new Mt,Re=Et.tokenize=function(e,t){var n,i,r,o,a,s,l,c=Je[e+" "];if(c)return t?0:c.slice(0);for(a=e,s=[],l=Ae.preFilter;a;){for(o in n&&!(i=ft.exec(a))||(i&&(a=a.slice(i[0].length)||a),s.push(r=[])),n=!1,(i=pt.exec(a))&&(n=i.shift(),r.push({value:n,type:i[0].replace(ht," ")}),a=a.slice(n.length)),Ae.filter)!(i=yt[o].exec(a))||l[o]&&!(i=l[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?Et.error(e):Je(e,s).slice(0)},Pe=Et.compile=function(e,t){var n,i,r,o,a,s,l=[],c=[],d=Qe[e+" "];if(!d){for(t||(t=Re(e)),n=t.length;n--;)(d=Ht(t[n]))[Ve]?l.push(d):c.push(d);(d=Qe(e,(i=c,o=0<(r=l).length,a=0<i.length,s=function(e,t,n,s,l){var c,d,u,h=0,f="0",p=e&&[],m=[],g=je,v=e||a&&Ae.find.TAG("*",l),y=Xe+=null==g?1:Math.random()||.1,b=v.length;for(l&&(je=t!==Fe&&t);f!==b&&null!=(c=v[f]);f++){if(a&&c){for(d=0;u=i[d++];)if(u(c,t,n)){s.push(c);break}l&&(Xe=y)}o&&((c=!u&&c)&&h--,e&&p.push(c))}if(h+=f,o&&f!==h){for(d=0;u=r[d++];)u(p,m,t,n);if(e){if(0<h)for(;f--;)p[f]||m[f]||(m[f]=it.call(s));m=$t(m)}ot.apply(s,m),l&&!e&&0<m.length&&1<h+r.length&&Et.uniqueSort(s)}return l&&(Xe=y,je=g),p},o?Nt(s):s))).selector=e}return d},Me=Et.select=function(e,t,n,i){var r,o,a,s,l,c="function"==typeof e&&e,d=!i&&Re(e=c.selector||e);if(n=n||[],1===d.length){if(2<(o=d[0]=d[0].slice(0)).length&&"ID"===(a=o[0]).type&&Ne.getById&&9===t.nodeType&&ze&&Ae.relative[o[1].type]){if(!(t=(Ae.find.ID(a.matches[0].replace(kt,Tt),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=yt.needsContext.test(e)?0:o.length;r--&&(a=o[r],!Ae.relative[s=a.type]);)if((l=Ae.find[s])&&(i=l(a.matches[0].replace(kt,Tt),Ct.test(o[0].type)&&Pt(t.parentNode)||t))){if(o.splice(r,1),!(e=i.length&&jt(o)))return ot.apply(n,i),n;break}}return(c||Pe(e,d))(i,t,!ze,n,Ct.test(e)&&Pt(t.parentNode)||t),n},Ne.sortStable=Ve.split("").sort(Ze).join("")===Ve,Ne.detectDuplicates=!!Be,$e(),Ne.sortDetached=!0;var zt=Array.isArray,Wt=function(e,t,n){var i,r;if(!e)return 0;if(n=n||e,void 0!==e.length){for(i=0,r=e.length;i<r;i++)if(!1===t.call(n,e[i],i,e))return 0}else for(i in e)if(e.hasOwnProperty(i)&&!1===t.call(n,e[i],i,e))return 0;return 1},Ut=function(e,t,n){var i,r;for(i=0,r=e.length;i<r;i++)if(t.call(n,e[i],i,e))return i;return-1},qt={isArray:zt,toArray:function(e){var t,n,i=e;if(!zt(e))for(i=[],t=0,n=e.length;t<n;t++)i[t]=e[t];return i},each:Wt,map:function(e,t){var n=[];return Wt(e,function(i,r){n.push(t(i,r,e))}),n},filter:function(e,t){var n=[];return Wt(e,function(i,r){t&&!t(i,r,e)||n.push(i)}),n},indexOf:function(e,t){var n,i;if(e)for(n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},reduce:function(e,t,n,i){var r=0;for(arguments.length<3&&(n=e[0]);r<e.length;r++)n=t.call(i,n,e[r],r);return n},findIndex:Ut,find:function(e,t,n){var i=Ut(e,t,n);return-1!==i?e[i]:void 0},last:function(e){return e[e.length-1]}},Vt=/^\s*|\s*$/g,Yt=function(e){return null==e?"":(""+e).replace(Vt,"")},Xt=function(e,t){return t?!("array"!==t||!qt.isArray(e))||typeof e===t:void 0!==e},Gt=function(e,t,n,i){i=i||this,e&&(n&&(e=e[n]),qt.each(e,function(e,r){if(!1===t.call(i,e,r,n))return!1;Gt(e,t,n,i)}))},Kt={trim:Yt,isArray:qt.isArray,is:Xt,toArray:qt.toArray,makeMap:function(e,t,n){var i;for(t=t||",","string"==typeof(e=e||[])&&(e=e.split(t)),n=n||{},i=e.length;i--;)n[e[i]]={};return n},each:qt.each,map:qt.map,grep:qt.filter,inArray:qt.indexOf,hasOwn:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},extend:function(e,t){for(var n,i,r,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var s,l=arguments;for(n=1,i=l.length;n<i;n++)for(r in t=l[n])t.hasOwnProperty(r)&&void 0!==(s=t[r])&&(e[r]=s);return e},create:function(e,t,n){var i,r,o,a,s,l=this,c=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),o=e[3].match(/(^|\.)(\w+)$/i)[2],!(r=l.createNS(e[3].replace(/\.\w+$/,""),n))[o]){if("static"===e[2])return r[o]=t,void(this.onCreate&&this.onCreate(e[2],e[3],r[o]));t[o]||(t[o]=function(){},c=1),r[o]=t[o],l.extend(r[o].prototype,t),e[5]&&(i=l.resolve(e[5]).prototype,a=e[5].match(/\.(\w+)$/i)[1],s=r[o],r[o]=c?function(){return i[a].apply(this,arguments)}:function(){return this.parent=i[a],s.apply(this,arguments)},r[o].prototype[o]=r[o],l.each(i,function(e,t){r[o].prototype[t]=i[t]}),l.each(t,function(e,t){i[t]?r[o].prototype[t]=function(){return this.parent=i[t],e.apply(this,arguments)}:t!==o&&(r[o].prototype[t]=e)})),l.each(t.static,function(e,t){r[o][t]=e})}},walk:Gt,createNS:function(t,n){var i,r;for(n=n||e.window,t=t.split("."),i=0;i<t.length;i++)n[r=t[i]]||(n[r]={}),n=n[r];return n},resolve:function(t,n){var i,r;for(n=n||e.window,i=0,r=(t=t.split(".")).length;i<r&&(n=n[t[i]]);i++);return n},explode:function(e,t){return!e||Xt(e,"array")?e:qt.map(e.split(t||","),Yt)},_addCacheSuffix:function(e){var t=fe.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}},Jt=e.document,Qt=Array.prototype.push,Zt=Array.prototype.slice,en=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,tn=Ee.Event,nn=Kt.makeMap("children,contents,next,prev"),rn=function(e){return void 0!==e},on=function(e){return"string"==typeof e},an=function(e,t){var n,i,r;for(r=(t=t||Jt).createElement("div"),n=t.createDocumentFragment(),r.innerHTML=e;i=r.firstChild;)n.appendChild(i);return n},sn=function(e,t,n,i){var r;if(on(t))t=an(t,xn(e[0]));else if(t.length&&!t.nodeType){if(t=gn.makeArray(t),i)for(r=t.length-1;0<=r;r--)sn(e,t[r],n,i);else for(r=0;r<t.length;r++)sn(e,t[r],n,i);return e}if(t.nodeType)for(r=e.length;r--;)n.call(e[r],t);return e},ln=function(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")},cn=function(e,t,n){var i,r;return t=gn(t)[0],e.each(function(){var e=this;n&&i===e.parentNode||(i=e.parentNode,r=t.cloneNode(!1),e.parentNode.insertBefore(r,e)),r.appendChild(e)}),e},dn=Kt.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),un=Kt.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),hn={for:"htmlFor",class:"className",readonly:"readOnly"},fn={float:"cssFloat"},pn={},mn={},gn=function(e,t){return new gn.fn.init(e,t)},vn=/^\s*|\s*$/g,yn=function(e){return null==e?"":(""+e).replace(vn,"")},bn=function(e,t){var n,i,r,o;if(e)if(void 0===(n=e.length)){for(i in e)if(e.hasOwnProperty(i)&&(o=e[i],!1===t.call(o,i,o)))break}else for(r=0;r<n&&(o=e[r],!1!==t.call(o,r,o));r++);return e},wn=function(e,t){var n=[];return bn(e,function(e,i){t(i,e)&&n.push(i)}),n},xn=function(e){return e?9===e.nodeType?e:e.ownerDocument:Jt};gn.fn=gn.prototype={constructor:gn,selector:"",context:null,length:0,init:function(t,n){var i,r,o=this;if(!t)return o;if(t.nodeType)return o.context=o[0]=t,o.length=1,o;if(n&&n.nodeType)o.context=n;else{if(n)return gn(t).attr(n);o.context=n=e.document}if(on(t)){if(!(i="<"===(o.selector=t).charAt(0)&&">"===t.charAt(t.length-1)&&3<=t.length?[null,t,null]:en.exec(t)))return gn(n).find(t);if(i[1])for(r=an(t,xn(n)).firstChild;r;)Qt.call(o,r),r=r.nextSibling;else{if(!(r=xn(n).getElementById(i[2])))return o;if(r.id!==i[2])return o.find(t);o.length=1,o[0]=r}}else this.add(t,!1);return o},toArray:function(){return Kt.toArray(this)},add:function(e,t){var n,i,r=this;if(on(e))return r.add(gn(e));if(!1!==t)for(n=gn.unique(r.toArray().concat(gn.makeArray(e))),r.length=n.length,i=0;i<n.length;i++)r[i]=n[i];else Qt.apply(r,gn.makeArray(e));return r},attr:function(e,t){var n,i=this;if("object"==typeof e)bn(e,function(e,t){i.attr(e,t)});else{if(!rn(t)){if(i[0]&&1===i[0].nodeType){if((n=pn[e])&&n.get)return n.get(i[0],e);if(un[e])return i.prop(e)?e:void 0;null===(t=i[0].getAttribute(e,2))&&(t=void 0)}return t}this.each(function(){var n;if(1===this.nodeType){if((n=pn[e])&&n.set)return void n.set(this,t);null===t?this.removeAttribute(e,2):this.setAttribute(e,t,2)}})}return i},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if("object"==typeof(e=hn[e]||e))bn(e,function(e,t){n.prop(e,t)});else{if(!rn(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each(function(){1===this.nodeType&&(this[e]=t)})}return n},css:function(e,t){var n,i,r=this,o=function(e){return e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()})},a=function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e})};if("object"==typeof e)bn(e,function(e,t){r.css(e,t)});else if(rn(t))e=o(e),"number"!=typeof t||dn[e]||(t=t.toString()+"px"),r.each(function(){var n=this.style;if((i=mn[e])&&i.set)i.set(this,t);else{try{this.style[fn[e]||e]=t}catch(e){}null!==t&&""!==t||(n.removeProperty?n.removeProperty(a(e)):n.removeAttribute(e))}});else{if(n=r[0],(i=mn[e])&&i.get)return i.get(n);if(!n.ownerDocument.defaultView)return n.currentStyle?n.currentStyle[o(e)]:"";try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(a(e))}catch(e){return}}return r},remove:function(){for(var e,t=this.length;t--;)e=this[t],tn.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this.length;t--;)for(e=this[t];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(e){var t,n=this;if(rn(e)){t=n.length;try{for(;t--;)n[t].innerHTML=e}catch(i){gn(n[t]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var t,n=this;if(rn(e)){for(t=n.length;t--;)"innerText"in n[t]?n[t].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return sn(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)})},prepend:function(){return sn(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?sn(this,arguments,function(e){this.parentNode.insertBefore(e,this)}):this},after:function(){return this[0]&&this[0].parentNode?sn(this,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):this},appendTo:function(e){return gn(e).append(this),this},prependTo:function(e){return gn(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return cn(this,e)},wrapAll:function(e){return cn(this,e,!0)},wrapInner:function(e){return this.each(function(){gn(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){gn(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),gn(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return"string"!=typeof e||(-1!==e.indexOf(" ")?bn(e.split(" "),function(){n.toggleClass(this,t)}):n.each(function(n,i){var r,o;(o=ln(i,e))!==t&&(r=i.className,o?i.className=yn((" "+r+" ").replace(" "+e+" "," ")):i.className+=r?" "+e:e)})),n},hasClass:function(e){return ln(this[0],e)},each:function(e){return bn(this,e)},on:function(e,t){return this.each(function(){tn.bind(this,e,t)})},off:function(e,t){return this.each(function(){tn.unbind(this,e,t)})},trigger:function(e){return this.each(function(){"object"==typeof e?tn.fire(this,e.type,e):tn.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new gn(Zt.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,i=[];for(t=0,n=this.length;t<n;t++)gn.find(e,this[t],i);return gn(i)},filter:function(e){return gn("function"==typeof e?wn(this.toArray(),function(t,n){return e(n,t)}):gn.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof gn&&(e=e[0]),this.each(function(n,i){for(;i;){if("string"==typeof e&&gn(i).is(e)){t.push(i);break}if(i===e){t.push(i);break}i=i.parentNode}}),gn(t)},offset:function(e){var t,n,i,r,o=0,a=0;return e?this.css(e):((t=this[0])&&(i=(n=t.ownerDocument).documentElement,t.getBoundingClientRect&&(o=(r=t.getBoundingClientRect()).left+(i.scrollLeft||n.body.scrollLeft)-i.clientLeft,a=r.top+(i.scrollTop||n.body.scrollTop)-i.clientTop)),{left:o,top:a})},push:Qt,sort:[].sort,splice:[].splice},Kt.extend(gn,{extend:Kt.extend,makeArray:function(e){return(t=e)&&t===t.window||e.nodeType?[e]:Kt.toArray(e);var t},inArray:function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},isArray:Kt.isArray,each:bn,trim:yn,grep:wn,find:Et,expr:Et.selectors,unique:Et.uniqueSort,text:Et.getText,contains:Et.contains,filter:function(e,t,n){var i=t.length;for(n&&(e=":not("+e+")");i--;)1!==t[i].nodeType&&t.splice(i,1);return 1===t.length?gn.find.matchesSelector(t[0],e)?[t[0]]:[]:gn.find.matches(e,t)}});var _n=function(e,t,n){var i=[],r=e[t];for("string"!=typeof n&&n instanceof gn&&(n=n[0]);r&&9!==r.nodeType;){if(void 0!==n){if(r===n)break;if("string"==typeof n&&gn(r).is(n))break}1===r.nodeType&&i.push(r),r=r[t]}return i},Cn=function(e,t,n,i){var r=[];for(i instanceof gn&&(i=i[0]);e;e=e[t])if(!n||e.nodeType===n){if(void 0!==i){if(e===i)break;if("string"==typeof i&&gn(e).is(i))break}r.push(e)}return r},Sn=function(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType===n)return e;return null};bn({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return _n(e,"parentNode")},next:function(e){return Sn(e,"nextSibling",1)},prev:function(e){return Sn(e,"previousSibling",1)},children:function(e){return Cn(e.firstChild,"nextSibling",1)},contents:function(e){return Kt.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,t){gn.fn[e]=function(n){var i=[];return this.each(function(){var e=t.call(i,this,n,i);e&&(gn.isArray(e)?i.push.apply(i,e):i.push(e))}),1<this.length&&(nn[e]||(i=gn.unique(i)),0===e.indexOf("parents")&&(i=i.reverse())),i=gn(i),n?i.filter(n):i}}),bn({parentsUntil:function(e,t){return _n(e,"parentNode",t)},nextUntil:function(e,t){return Cn(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return Cn(e,"previousSibling",1,t).slice(1)}},function(e,t){gn.fn[e]=function(n,i){var r=[];return this.each(function(){var e=t.call(r,this,n,r);e&&(gn.isArray(e)?r.push.apply(r,e):r.push(e))}),1<this.length&&(r=gn.unique(r),0!==e.indexOf("parents")&&"prevUntil"!==e||(r=r.reverse())),r=gn(r),i?r.filter(i):r}}),gn.fn.is=function(e){return!!e&&0<this.filter(e).length},gn.fn.init.prototype=gn.fn,gn.overrideDefaults=function(e){var t,n=function(i,r){return t=t||e(),0===arguments.length&&(i=t.element),r||(r=t.context),new n.fn.init(i,r)};return gn.extend(n,this),n};var kn=function(e,t,n){bn(n,function(n,i){e[n]=e[n]||{},e[n][t]=i})};fe.ie&&fe.ie<8&&(kn(pn,"get",{maxlength:function(e){var t=e.maxLength;return 2147483647===t?void 0:t},size:function(e){var t=e.size;return 20===t?void 0:t},class:function(e){return e.className},style:function(e){var t=e.style.cssText;return 0===t.length?void 0:t}}),kn(pn,"set",{class:function(e,t){e.className=t},style:function(e,t){e.style.cssText=t}})),fe.ie&&fe.ie<9&&(fn.float="styleFloat",kn(mn,"set",{opacity:function(e,t){var n=e.style;null===t||""===t?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*t+")")}})),gn.attrHooks=pn,gn.cssHooks=mn;var Tn,En,Dn,Nn,An,On,In,Rn=function(){return Pn(0,0)},Pn=function(e,t){return{major:e,minor:t}},Mn=function(e,t){var n=String(t).toLowerCase();return 0===e.length?Rn():function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i.test(t))return i}}(e,t);if(!n)return{major:0,minor:0};var i=function(e){return Number(t.replace(n,"$"+e))};return Pn(i(1),i(2))}(e,n)},jn=Rn,Ln="Firefox",Bn=function(e,t){return function(){return t===e}},$n=function(e){var t=e.current;return{current:t,version:e.version,isEdge:Bn("Edge",t),isChrome:Bn("Chrome",t),isIE:Bn("IE",t),isOpera:Bn("Opera",t),isFirefox:Bn(Ln,t),isSafari:Bn("Safari",t)}},Fn=function(){return $n({current:void 0,version:jn()})},Hn=$n,zn=(i("Edge"),i("Chrome"),i("IE"),i("Opera"),i(Ln),i("Safari"),"Windows"),Wn="Android",Un="Solaris",qn="FreeBSD",Vn=function(e,t){return function(){return t===e}},Yn=function(e){var t=e.current;return{current:t,version:e.version,isWindows:Vn(zn,t),isiOS:Vn("iOS",t),isAndroid:Vn(Wn,t),isOSX:Vn("OSX",t),isLinux:Vn("Linux",t),isSolaris:Vn(Un,t),isFreeBSD:Vn(qn,t)}},Xn=function(){return Yn({current:void 0,version:jn()})},Gn=Yn,Kn=(i(zn),i("iOS"),i(Wn),i("Linux"),i("OSX"),i(Un),i(qn),function(e,t){var n=String(t).toLowerCase();return G(e,function(e){return e.search(n)})}),Jn=function(e,t){return-1!==e.indexOf(t)},Qn=function(e){return e.replace(/^\s+|\s+$/g,"")},Zn=function(e){return e.replace(/\s+$/g,"")},ei=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ti=function(e){return function(t){return Jn(t,e)}},ni=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Jn(e,"edge/")&&Jn(e,"chrome")&&Jn(e,"safari")&&Jn(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ei],search:function(e){return Jn(e,"chrome")&&!Jn(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Jn(e,"msie")||Jn(e,"trident")}},{name:"Opera",versionRegexes:[ei,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ti("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ti("firefox")},{name:"Safari",versionRegexes:[ei,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Jn(e,"safari")||Jn(e,"mobile/"))&&Jn(e,"applewebkit")}}],ii=[{name:"Windows",search:ti("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Jn(e,"iphone")||Jn(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ti("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:ti("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ti("linux"),versionRegexes:[]},{name:"Solaris",search:ti("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ti("freebsd"),versionRegexes:[]}],ri={browsers:i(ni),oses:i(ii)},oi=function(e){var t,n,r,o,a,s,l,c,d,u,h,f=ri.browsers(),p=ri.oses(),m=function(e,t){return Kn(e,t).map(function(e){var n=Mn(e.versionRegexes,t);return{current:e.name,version:n}})}(f,e).fold(Fn,Hn),g=function(e,t){return Kn(e,t).map(function(e){var n=Mn(e.versionRegexes,t);return{current:e.name,version:n}})}(p,e).fold(Xn,Gn);return{browser:m,os:g,deviceType:(n=m,r=e,o=(t=g).isiOS()&&!0===/ipad/i.test(r),a=t.isiOS()&&!o,s=t.isAndroid()&&3===t.version.major,l=t.isAndroid()&&4===t.version.major,c=o||s||l&&!0===/mobile/i.test(r),d=t.isiOS()||t.isAndroid(),u=d&&!c,h=n.isSafari()&&t.isiOS()&&!1===/safari/i.test(r),{isiPad:i(o),isiPhone:i(a),isTablet:i(c),isPhone:i(u),isTouch:i(d),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:i(h)})}},ai={detect:(Tn=function(){var t=e.navigator.userAgent;return oi(t)},Dn=!1,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Dn||(Dn=!0,En=Tn.apply(null,e)),En})},si=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:i(e)}},li={fromHtml:function(t,n){var i=(n||e.document).createElement("div");if(i.innerHTML=t,!i.hasChildNodes()||1<i.childNodes.length)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return si(i.childNodes[0])},fromTag:function(t,n){var i=(n||e.document).createElement(t);return si(i)},fromText:function(t,n){var i=(n||e.document).createTextNode(t);return si(i)},fromDom:si,fromPoint:function(e,t,n){var i=e.dom();return O.from(i.elementFromPoint(t,n)).map(si)}},ci=(e.Node.ATTRIBUTE_NODE,e.Node.CDATA_SECTION_NODE,e.Node.COMMENT_NODE,e.Node.DOCUMENT_NODE),di=(e.Node.DOCUMENT_TYPE_NODE,e.Node.DOCUMENT_FRAGMENT_NODE,e.Node.ELEMENT_NODE),ui=e.Node.TEXT_NODE,hi=(e.Node.PROCESSING_INSTRUCTION_NODE,e.Node.ENTITY_REFERENCE_NODE,e.Node.ENTITY_NODE,e.Node.NOTATION_NODE,function(e){return e.dom().nodeName.toLowerCase()}),fi=function(e){return function(t){return t.dom().nodeType===e}},pi=fi(di),mi=fi(ui),gi=Object.keys,vi=Object.hasOwnProperty,yi=function(e,t){for(var n=gi(e),i=0,r=n.length;i<r;i++){var o=n[i];t(e[o],o,e)}},bi=function(e,t){var n={};return yi(e,function(i,r){var o=t(i,r,e);n[o.k]=o.v}),n},wi=function(e){return void 0!==e.style&&B(e.style.getPropertyValue)},xi=function(t,n,i){if(!(R(i)||L(i)||$(i)))throw e.console.error("Invalid call to Attr.set. Key ",n,":: Value ",i,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,i+"")},_i=function(e,t,n){xi(e.dom(),t,n)},Ci=function(e,t){var n=e.dom();yi(t,function(e,t){xi(n,t,e)})},Si=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},ki=function(e,t){e.dom().removeAttribute(t)},Ti=function(t,n){var i,r,o=t.dom(),a=e.window.getComputedStyle(o).getPropertyValue(n),s=""!==a||void 0!==(r=mi(i=t)?i.dom().parentNode:i.dom())&&null!==r&&r.ownerDocument.body.contains(r)?a:Ei(o,n);return null===s?void 0:s},Ei=function(e,t){return wi(e)?e.style.getPropertyValue(t):""},Di=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e.length!==t.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+t.length+" arguments");var r={};return q(e,function(e,n){r[e]=i(t[n])}),r}},Ni=function(e,t){for(var n=[],i=function(e){return n.push(e),t(e)},r=t(e);(r=r.bind(i)).isSome(););return n},Ai=function(e,t){return function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)}(e,t,ae.getOrDie("Node").DOCUMENT_POSITION_CONTAINED_BY)},Oi=di,Ii=ci,Ri=function(e,t){var n=e.dom();if(n.nodeType!==Oi)return!1;var i=n;if(void 0!==i.matches)return i.matches(t);if(void 0!==i.msMatchesSelector)return i.msMatchesSelector(t);if(void 0!==i.webkitMatchesSelector)return i.webkitMatchesSelector(t);if(void 0!==i.mozMatchesSelector)return i.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},Pi=function(e){return e.nodeType!==Oi&&e.nodeType!==Ii||0===e.childElementCount},Mi=function(e,t){return e.dom()===t.dom()},ji=ai.detect().browser.isIE()?function(e,t){return Ai(e.dom(),t.dom())}:function(e,t){var n=e.dom(),i=t.dom();return n!==i&&n.contains(i)},Li=function(e){return li.fromDom(e.dom().ownerDocument)},Bi=function(e){return li.fromDom(e.dom().ownerDocument.defaultView)},$i=function(e){return O.from(e.dom().parentNode).map(li.fromDom)},Fi=function(e){return O.from(e.dom().previousSibling).map(li.fromDom)},Hi=function(e){return O.from(e.dom().nextSibling).map(li.fromDom)},zi=function(e){return t=Ni(e,Fi),(n=F.call(t,0)).reverse(),n;var t,n},Wi=function(e){return Ni(e,Hi)},Ui=function(e){return U(e.dom().childNodes,li.fromDom)},qi=function(e,t){var n=e.dom().childNodes;return O.from(n[t]).map(li.fromDom)},Vi=function(e){return qi(e,0)},Yi=function(e){return qi(e,e.dom().childNodes.length-1)},Xi=(Di("element","offset"),ai.detect().browser),Gi=function(e){return G(e,pi)},Ki={getPos:function(e,t,n){var i,r,o,a=0,s=0,l=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&"static"===Ti(li.fromDom(e),"position"))return{x:a=(r=t.getBoundingClientRect()).left+(l.documentElement.scrollLeft||e.scrollLeft)-l.documentElement.clientLeft,y:s=r.top+(l.documentElement.scrollTop||e.scrollTop)-l.documentElement.clientTop};for(i=t;i&&i!==n&&i.nodeType;)a+=i.offsetLeft||0,s+=i.offsetTop||0,i=i.offsetParent;for(i=t.parentNode;i&&i!==n&&i.nodeType;)a-=i.scrollLeft||0,s-=i.scrollTop||0,i=i.parentNode;s+=(o=li.fromDom(t),Xi.isFirefox()&&"table"===hi(o)?Gi(Ui(o)).filter(function(e){return"caption"===hi(e)}).bind(function(e){return Gi(Wi(e)).map(function(t){var n=t.dom().offsetTop,i=e.dom().offsetTop,r=e.dom().offsetHeight;return n<=i?-r:0})}).getOr(0):0)}return{x:a,y:s}}},Ji={},Qi={exports:Ji};Nn=void 0,An=Ji,On=Qi,In=void 0,function(e){"object"==typeof An&&void 0!==On?On.exports=e():"function"==typeof Nn&&Nn.amd?Nn([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).EphoxContactWrapper=e()}(function(){return function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof In&&In;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[a]={exports:{}};t[a][0].call(d.exports,function(e){return r(t[a][1][e]||e)},d,d.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof In&&In,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){var i,r,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(e){if(i===setTimeout)return setTimeout(e,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:a}catch(e){i=a}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var c,d=[],u=!1,h=-1;function f(){u&&c&&(u=!1,c.length?d=c.concat(d):h=-1,d.length&&p())}function p(){if(!u){var e=l(f);u=!0;for(var t=d.length;t;){for(c=d,d=[];++h<t;)c&&c[h].run();h=-1,t=d.length}c=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new m(e,t)),1!==d.length||u||l(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){!function(n){var i=setTimeout;function r(){}function o(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],u(e,this)}function a(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,o._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(e){return void l(t.promise,e)}s(t.promise,i)}else(1===e._state?s:l)(t.promise,e._value)})):e._deferreds.push(t)}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof o)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void u((i=n,r=t,function(){i.apply(r,arguments)}),e)}e._state=1,e._value=t,c(e)}catch(t){l(e,t)}var i,r}function l(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function d(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function u(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,l(t,e))})}catch(e){if(n)return;n=!0,l(t,e)}}o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(r);return a(this,new d(e,t,n)),n},o.all=function(e){var t=Array.prototype.slice.call(e);return new o(function(e,n){if(0===t.length)return e([]);var i=t.length;function r(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){r(o,e)},n)}t[o]=a,0==--i&&e(t)}catch(e){n(e)}}for(var o=0;o<t.length;o++)r(o,t[o])})},o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o(function(t){t(e)})},o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,n){for(var i=0,r=e.length;i<r;i++)e[i].then(t,n)})},o._immediateFn="function"==typeof e?function(t){e(t)}:function(e){i(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},o._setImmediateFn=function(e){o._immediateFn=e},o._setUnhandledRejectionFn=function(e){o._unhandledRejectionFn=e},void 0!==t&&t.exports?t.exports=o:n.Promise||(n.Promise=o)}(this)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(e,t,n){(function(t,i){var r=e("process/browser.js").nextTick,o=Function.prototype.apply,a=Array.prototype.slice,s={},l=0;function c(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new c(o.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new c(o.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof t?t:function(e){var t=l++,i=!(arguments.length<2)&&a.call(arguments,1);return s[t]=!0,r(function(){s[t]&&(i?e.apply(null,i):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof i?i:function(e){delete s[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var i=e("promise-polyfill"),r="undefined"!=typeof window?window:Function("return this;")();t.exports={boltExport:r.Promise||i}},{"promise-polyfill":2}]},{},[4])(4)});var Zi=Qi.exports.boltExport,er=function(t){var n=O.none(),i=[],r=function(e){o()?a(e):i.push(e)},o=function(){return n.isSome()},a=function(t){n.each(function(n){e.setTimeout(function(){t(n)},0)})};return t(function(e){n=O.some(e),function(e){q(e,a)}(i),i=[]}),{get:r,map:function(e){return er(function(t){r(function(n){t(e(n))})})},isReady:o}},tr={nu:er,pure:function(e){return er(function(t){t(e)})}},nr=function(t){e.setTimeout(function(){throw t},0)},ir=function(e){var t=function(t){e().then(t,nr)};return{map:function(t){return ir(function(){return e().then(t)})},bind:function(t){return ir(function(){return e().then(function(e){return t(e).toPromise()})})},anonBind:function(t){return ir(function(){return e().then(function(){return t.toPromise()})})},toLazy:function(){return tr.nu(t)},toCached:function(){var t=null;return ir(function(){return null===t&&(t=e()),t})},toPromise:e,get:t}},rr={nu:function(e){return ir(function(){return new Zi(e)})},pure:function(e){return ir(function(){return Zi.resolve(e)})}},or=function(e){return function(e,t){return t(function(t){var n=[],i=0;0===e.length?t([]):q(e,function(r,o){var a;r.get((a=o,function(r){n[a]=r,++i>=e.length&&t(n)}))})})}(e,rr.nu)},ar=function(e){return{is:function(t){return e===t},isValue:k,isError:S,getOr:i(e),getOrThunk:i(e),getOrDie:i(e),or:function(t){return ar(e)},orThunk:function(t){return ar(e)},fold:function(t,n){return n(e)},map:function(t){return ar(t(e))},mapError:function(t){return ar(e)},each:function(t){t(e)},bind:function(t){return t(e)},exists:function(t){return t(e)},forall:function(t){return t(e)},toOption:function(){return O.some(e)}}},sr=function(e){return{is:S,isValue:S,isError:k,getOr:r,getOrThunk:function(e){return e()},getOrDie:function(){return t=String(e),function(){throw new Error(t)}();var t},or:function(e){return e},orThunk:function(e){return e()},fold:function(t,n){return t(e)},map:function(t){return sr(e)},mapError:function(t){return sr(t(e))},each:t,bind:function(t){return sr(e)},exists:S,forall:k,toOption:O.none}},lr={value:ar,error:sr,fromOption:function(e,t){return e.fold(function(){return sr(t)},ar)}};function cr(e,t){var n=e,i=function(e,n,i,r){var o,a;if(e){if(!r&&e[n])return e[n];if(e!==t){if(o=e[i])return o;for(a=e.parentNode;a&&a!==t;a=a.parentNode)if(o=a[i])return o}}};this.current=function(){return n},this.next=function(e){return n=i(n,"firstChild","nextSibling",e)},this.prev=function(e){return n=i(n,"lastChild","previousSibling",e)},this.prev2=function(e){return n=function(e,n,i,r){var o,a,s;if(e){if(o=e.previousSibling,t&&o===t)return;if(o){if(!r)for(s=o[n];s;s=s[n])if(!s[n])return s;return o}if((a=e.parentNode)&&a!==t)return a}}(n,"lastChild",0,e)}}var dr,ur,hr,fr=function(e){var t;return function(n){return(t=t||function(e,t){for(var n={},i=0,r=e.length;i<r;i++){var o=e[i];n[String(o)]=t(o,i)}return n}(e,i(!0))).hasOwnProperty(hi(n))}},pr=fr(["h1","h2","h3","h4","h5","h6"]),mr=fr(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),gr=function(e){return pi(e)&&!mr(e)},vr=function(e){return pi(e)&&"br"===hi(e)},yr=fr(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),br=fr(["ul","ol","dl"]),wr=fr(["li","dd","dt"]),xr=fr(["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"]),_r=fr(["thead","tbody","tfoot"]),Cr=fr(["td","th"]),Sr=fr(["pre","script","textarea","style"]),kr=function(e){return function(t){return!!t&&t.nodeType===e}},Tr=kr(1),Er=function(e){var t=e.toLowerCase().split(" ");return function(e){var n,i;if(e&&e.nodeType)for(i=e.nodeName.toLowerCase(),n=0;n<t.length;n++)if(i===t[n])return!0;return!1}},Dr=function(e){return function(t){if(Tr(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},Nr=kr(3),Ar=kr(8),Or=kr(9),Ir=kr(11),Rr=Er("br"),Pr=Dr("true"),Mr=Dr("false"),jr={isText:Nr,isElement:Tr,isComment:Ar,isDocument:Or,isDocumentFragment:Ir,isBr:Rr,isContentEditableTrue:Pr,isContentEditableFalse:Mr,isRestrictedNode:function(e){return!!e&&!Object.getPrototypeOf(e)},matchNodeNames:Er,hasPropValue:function(e,t){return function(n){return Tr(n)&&n[e]===t}},hasAttribute:function(e,t){return function(t){return Tr(t)&&t.hasAttribute(e)}},hasAttributeValue:function(e,t){return function(n){return Tr(n)&&n.getAttribute(e)===t}},matchStyleValues:function(e,t){var n=t.toLowerCase().split(" ");return function(t){var i;if(Tr(t))for(i=0;i<n.length;i++){var r=t.ownerDocument.defaultView.getComputedStyle(t,null);if((r?r.getPropertyValue(e):null)===n[i])return!0}return!1}},isBogus:function(e){return Tr(e)&&e.hasAttribute("data-mce-bogus")},isBogusAll:function(e){return Tr(e)&&"all"===e.getAttribute("data-mce-bogus")},isTable:function(e){return Tr(e)&&"TABLE"===e.tagName}},Lr=function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},Br=function(e,t){var n,i=t.childNodes;if(!jr.isElement(t)||!Lr(t)){for(n=i.length-1;0<=n;n--)Br(e,i[n]);if(!1===jr.isDocument(t)){if(jr.isText(t)&&0<t.nodeValue.length){var r=Kt.trim(t.nodeValue).length;if(e.isBlock(t.parentNode)||0<r)return;if(0===r&&(a=(o=t).previousSibling&&"SPAN"===o.previousSibling.nodeName,s=o.nextSibling&&"SPAN"===o.nextSibling.nodeName,a&&s))return}else if(jr.isElement(t)&&(1===(i=t.childNodes).length&&Lr(i[0])&&t.parentNode.insertBefore(i[0],t),i.length||xr(li.fromDom(t))))return;e.remove(t)}var o,a,s;return t}},$r={trimNode:Br},Fr=Kt.makeMap,Hr=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,zr=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Wr=/[<>&\"\']/g,Ur=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,qr={128:"â¬",130:"â",131:"Æ",132:"â",133:"â¦",134:"â ",135:"â¡",136:"Ë",137:"â°",138:"Å ",139:"â¹",140:"Å",142:"Å½",145:"â",146:"â",147:"â",148:"â",149:"â¢",150:"â",151:"â",152:"Ë",153:"â¢",154:"Å¡",155:"âº",156:"Å",158:"Å¾",159:"Å¸"};ur={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},hr={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};var Vr=function(e,t){var n,i,r,o={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)i=String.fromCharCode(parseInt(e[n],t)),ur[i]||(r="&"+e[n+1]+";",o[i]=r,o[r]=i);return o}};dr=Vr("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var Yr=function(e,t){return e.replace(t?Hr:zr,function(e){return ur[e]||e})},Xr=function(e,t){return e.replace(t?Hr:zr,function(e){return 1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":ur[e]||"&#"+e.charCodeAt(0)+";"})},Gr=function(e,t,n){return n=n||dr,e.replace(t?Hr:zr,function(e){return ur[e]||n[e]||e})},Kr={encodeRaw:Yr,encodeAllRaw:function(e){return(""+e).replace(Wr,function(e){return ur[e]||e})},encodeNumeric:Xr,encodeNamed:Gr,getEncodeFunc:function(e,t){var n=Vr(t)||dr,i=Fr(e.replace(/\+/g,","));return i.named&&i.numeric?function(e,t){return e.replace(t?Hr:zr,function(e){return void 0!==ur[e]?ur[e]:void 0!==n[e]?n[e]:1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"})}:i.named?t?function(e,t){return Gr(e,t,n)}:Gr:i.numeric?Xr:Yr},decode:function(e){return e.replace(Ur,function(e,t){return t?65535<(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):qr[t]||String.fromCharCode(t):hr[e]||dr[e]||(n=e,(i=li.fromTag("div").dom()).innerHTML=n,i.textContent||i.innerText||n);var n,i})}},Jr={},Qr={},Zr=Kt.makeMap,eo=Kt.each,to=Kt.extend,no=Kt.explode,io=Kt.inArray,ro=function(e,t){return(e=Kt.trim(e))?e.split(t||" "):[]},oo=function(e){var t,n,i,r,o,a,s={},l=function(e,n,i){var r,o,a,l=function(e,t){var n,i,r={};for(n=0,i=e.length;n<i;n++)r[e[n]]=t||{};return r};for(n=n||"","string"==typeof(i=i||[])&&(i=ro(i)),r=(e=ro(e)).length;r--;)a={attributes:l(o=ro([t,n].join(" "))),attributesOrder:o,children:l(i,Qr)},s[e[r]]=a},c=function(e,t){var n,i,r,o;for(n=(e=ro(e)).length,t=ro(t);n--;)for(i=s[e[n]],r=0,o=t.length;r<o;r++)i.attributes[t[r]]={},i.attributesOrder.push(t[r])};return Jr[e]?Jr[e]:(t="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",i="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(t+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure main header footer hgroup section nav",i+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==e&&(t+=" xml:lang",i=[i,a="acronym applet basefont big font strike tt"].join(" "),eo(ro(a),function(e){l(e,"",i)}),n=[n,o="center dir isindex noframes"].join(" "),r=[n,i].join(" "),eo(ro(o),function(e){l(e,"",r)})),r=r||[n,i].join(" "),l("html","manifest","head body"),l("head","","base command link meta noscript script style title"),l("title hr noscript br"),l("base","href target"),l("link","href rel media hreflang type sizes hreflang"),l("meta","name http-equiv content charset"),l("style","media type scoped"),l("script","src async defer type charset"),l("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),l("address dt dd div caption","",r),l("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",i),l("blockquote","cite",r),l("ol","reversed start type","li"),l("ul","","li"),l("li","value",r),l("dl","","dt dd"),l("a","href target rel media hreflang type",i),l("q","cite",i),l("ins del","cite datetime",r),l("img","src sizes srcset alt usemap ismap width height"),l("iframe","src name width height",r),l("embed","src type width height"),l("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),l("param","name value"),l("map","name",[r,"area"].join(" ")),l("area","alt coords shape href target rel media hreflang type"),l("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),l("colgroup","span","col"),l("col","span"),l("tbody thead tfoot","","tr"),l("tr","","td th"),l("td","colspan rowspan headers",r),l("th","colspan rowspan headers scope abbr",r),l("form","accept-charset action autocomplete enctype method name novalidate target",r),l("fieldset","disabled form name",[r,"legend"].join(" ")),l("label","form for",i),l("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),l("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?r:i),l("select","disabled form multiple name required size","option optgroup"),l("optgroup","disabled label","option"),l("option","disabled label selected value"),l("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),l("menu","type label",[r,"li"].join(" ")),l("noscript","",r),"html4"!==e&&(l("wbr"),l("ruby","",[i,"rt rp"].join(" ")),l("figcaption","",r),l("mark rt rp summary bdi","",i),l("canvas","width height",r),l("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),l("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),l("picture","","img source"),l("source","src srcset type media sizes"),l("track","kind src srclang label default"),l("datalist","",[i,"option"].join(" ")),l("article section nav aside main header footer","",r),l("hgroup","","h1 h2 h3 h4 h5 h6"),l("figure","",[r,"figcaption"].join(" ")),l("time","datetime",i),l("dialog","open",r),l("command","type label icon disabled checked radiogroup command"),l("output","for form name",i),l("progress","value max",i),l("meter","value min max low high optimum",i),l("details","open",[r,"summary"].join(" ")),l("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(c("script","language xml:space"),c("style","xml:space"),c("object","declare classid code codebase codetype archive standby align border hspace vspace"),c("embed","align name hspace vspace"),c("param","valuetype type"),c("a","charset name rev shape coords"),c("br","clear"),c("applet","codebase archive code object alt name width height align hspace vspace"),c("img","name longdesc align border hspace vspace"),c("iframe","longdesc frameborder marginwidth marginheight scrolling align"),c("font basefont","size color face"),c("input","usemap align"),c("select","onchange"),c("textarea"),c("h1 h2 h3 h4 h5 h6 div p legend caption","align"),c("ul","type compact"),c("li","type"),c("ol dl menu dir","compact"),c("pre","width xml:space"),c("hr","align noshade size width"),c("isindex","prompt"),c("table","summary width frame rules cellspacing cellpadding align bgcolor"),c("col","width align char charoff valign"),c("colgroup","width align char charoff valign"),c("thead","align char charoff valign"),c("tr","align char charoff valign bgcolor"),c("th","axis align char charoff valign nowrap bgcolor width height"),c("form","accept"),c("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),c("tfoot","align char charoff valign"),c("tbody","align char charoff valign"),c("area","nohref"),c("body","background bgcolor text link vlink alink")),"html4"!==e&&(c("input button select textarea","autofocus"),c("input textarea","placeholder"),c("a","download"),c("link script img","crossorigin"),c("iframe","sandbox seamless allowfullscreen")),eo(ro("a form meter progress dfn"),function(e){s[e]&&delete s[e].children[e]}),delete s.caption.children.table,delete s.script,Jr[e]=s)},ao=function(e,t){var n;return e&&(n={},"string"==typeof e&&(e={"*":e}),eo(e,function(e,i){n[i]=n[i.toUpperCase()]="map"===t?Zr(e,/[, ]/):no(e,/[, ]/)})),n};function so(e){var t,n,i,r,o,a,s,l,c,d,u,h,f,p={},m={},g=[],v={},y={},b=function(t,n,i){var r=e[t];return r?r=Zr(r,/[, ]/,Zr(r.toUpperCase(),/[, ]/)):(r=Jr[t])||(r=Zr(n," ",Zr(n.toUpperCase()," ")),r=to(r,i),Jr[t]=r),r};i=oo((e=e||{}).schema),!1===e.verify_html&&(e.valid_elements="*[*]"),t=ao(e.valid_styles),n=ao(e.invalid_styles,"map"),l=ao(e.valid_classes,"map"),r=b("whitespace_elements","pre script noscript style textarea video audio iframe object code"),o=b("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),a=b("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),s=b("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),d=b("non_empty_elements","td th iframe video audio object script pre code",a),u=b("move_caret_before_on_enter_elements","table",d),h=b("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),c=b("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",h),f=b("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),eo((e.special||"script noscript noframes noembed title style textarea xmp").split(" "),function(e){y[e]=new RegExp("</"+e+"[^>]*>","gi")});var w=function(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")},x=function(e){var t,n,i,r,o,a,s,l,c,d,u,h,f,m,v,y,b,x,_,C=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,S=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,k=/[*?+]/;if(e)for(e=ro(e,","),p["@"]&&(y=p["@"].attributes,b=p["@"].attributesOrder),t=0,n=e.length;t<n;t++)if(o=C.exec(e[t])){if(m=o[1],c=o[2],v=o[3],l=o[5],a={attributes:h={},attributesOrder:f=[]},"#"===m&&(a.paddEmpty=!0),"-"===m&&(a.removeEmpty=!0),"!"===o[4]&&(a.removeEmptyAttrs=!0),y){for(x in y)h[x]=y[x];f.push.apply(f,b)}if(l)for(i=0,r=(l=ro(l,"|")).length;i<r;i++)if(o=S.exec(l[i])){if(s={},u=o[1],d=o[2].replace(/[\\:]:/g,":"),m=o[3],_=o[4],"!"===u&&(a.attributesRequired=a.attributesRequired||[],a.attributesRequired.push(d),s.required=!0),"-"===u){delete h[d],f.splice(io(f,d),1);continue}m&&("="===m&&(a.attributesDefault=a.attributesDefault||[],a.attributesDefault.push({name:d,value:_}),s.defaultValue=_),":"===m&&(a.attributesForced=a.attributesForced||[],a.attributesForced.push({name:d,value:_}),s.forcedValue=_),"<"===m&&(s.validValues=Zr(_,"?"))),k.test(d)?(a.attributePatterns=a.attributePatterns||[],s.pattern=w(d),a.attributePatterns.push(s)):(h[d]||f.push(d),h[d]=s)}y||"@"!==c||(y=h,b=f),v&&(a.outputName=c,p[v]=a),k.test(c)?(a.pattern=w(c),g.push(a)):p[c]=a}},_=function(e){p={},g=[],x(e),eo(i,function(e,t){m[t]=e.children})},C=function(e){var t=/^(~)?(.+)$/;e&&(Jr.text_block_elements=Jr.block_elements=null,eo(ro(e,","),function(e){var n=t.exec(e),i="~"===n[1],r=i?"span":"div",o=n[2];if(m[o]=m[r],v[o]=r,i||(c[o.toUpperCase()]={},c[o]={}),!p[o]){var a=p[r];delete(a=to({},a)).removeEmptyAttrs,delete a.removeEmpty,p[o]=a}eo(m,function(e,t){e[r]&&(m[t]=e=to({},m[t]),e[o]=e[r])})}))},S=function(t){var n=/^([+\-]?)(\w+)\[([^\]]+)\]$/;Jr[e.schema]=null,t&&eo(ro(t,","),function(e){var t,i,r=n.exec(e);r&&(i=r[1],t=i?m[r[2]]:m[r[2]]={"#comment":{}},t=m[r[2]],eo(ro(r[3],"|"),function(e){"-"===i?delete t[e]:t[e]={}}))})},k=function(e){var t,n=p[e];if(n)return n;for(t=g.length;t--;)if((n=g[t]).pattern.test(e))return n};return e.valid_elements?_(e.valid_elements):(eo(i,function(e,t){p[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},m[t]=e.children}),"html5"!==e.schema&&eo(ro("strong/b em/i"),function(e){e=ro(e,"/"),p[e[1]].outputName=e[0]}),eo(ro("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(e){p[e]&&(p[e].removeEmpty=!0)}),eo(ro("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(e){p[e].paddEmpty=!0}),eo(ro("span"),function(e){p[e].removeEmptyAttrs=!0})),C(e.custom_elements),S(e.valid_children),x(e.extended_valid_elements),S("+ol[ul|ol],+ul[ul|ol]"),eo({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(e,t){p[t]&&(p[t].parentsRequired=ro(e))}),e.invalid_elements&&eo(no(e.invalid_elements),function(e){p[e]&&delete p[e]}),k("span")||x("span[!data-mce-type|*]"),{children:m,elements:p,getValidStyles:function(){return t},getValidClasses:function(){return l},getBlockElements:function(){return c},getInvalidStyles:function(){return n},getShortEndedElements:function(){return a},getTextBlockElements:function(){return h},getTextInlineElements:function(){return f},getBoolAttrs:function(){return s},getElementRule:k,getSelfClosingElements:function(){return o},getNonEmptyElements:function(){return d},getMoveCaretBeforeOnEnterElements:function(){return u},getWhiteSpaceElements:function(){return r},getSpecialElements:function(){return y},isValidChild:function(e,t){var n=m[e.toLowerCase()];return!(!n||!n[t.toLowerCase()])},isValid:function(e,t){var n,i,r=k(e);if(r){if(!t)return!0;if(r.attributes[t])return!0;if(n=r.attributePatterns)for(i=n.length;i--;)if(n[i].pattern.test(e))return!0}return!1},getCustomElements:function(){return v},addValidElements:x,setValidElements:_,addCustomElements:C,addValidChildren:S}}var lo=function(e,t,n,i){var r=function(e){return 1<(e=parseInt(e,10).toString(16)).length?e:"0"+e};return"#"+r(t)+r(n)+r(i)};function co(e,t){var n,i,r,o,a=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,s=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,l=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,d={},u="\ufeff";for(e=e||{},t&&(r=t.getValidStyles(),o=t.getInvalidStyles()),i=("\\\" \\' \\; \\: ; : "+u).split(" "),n=0;n<i.length;n++)d[i[n]]=u+n,d[u+n]=i[n];return{toHex:function(e){return e.replace(a,lo)},parse:function(t){var i,r,o,h,f,p,m,g={},v=e.url_converter,y=e.url_converter_scope||this,b=function(e,t,i){var r,o,a,s;if((r=g[e+"-top"+t])&&(o=g[e+"-right"+t])&&(a=g[e+"-bottom"+t])&&(s=g[e+"-left"+t])){var l=[r,o,a,s];for(n=l.length-1;n--&&l[n]===l[n+1];);-1<n&&i||(g[e+t]=-1===n?l[0]:l.join(" "),delete g[e+"-top"+t],delete g[e+"-right"+t],delete g[e+"-bottom"+t],delete g[e+"-left"+t])}},w=function(e){var t,n=g[e];if(n){for(t=(n=n.split(" ")).length;t--;)if(n[t]!==n[0])return!1;return g[e]=n[0],!0}},x=function(e){return h=!0,d[e]},_=function(e,t){return h&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return d[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e},C=function(e){return String.fromCharCode(parseInt(e.slice(1),16))},S=function(e){return e.replace(/\\[0-9a-f]+/gi,C)},k=function(t,n,i,r,o,a){if(o=o||a)return"'"+(o=_(o)).replace(/\'/g,"\\'")+"'";if(n=_(n||i||r),!e.allow_script_urls){var s=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(s))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(s))return""}return v&&(n=v.call(y,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(t){for(t=(t=t.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,x).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,x)});i=l.exec(t);)if(l.lastIndex=i.index+i[0].length,r=i[1].replace(c,"").toLowerCase(),o=i[2].replace(c,""),r&&o){if(r=S(r),o=S(o),-1!==r.indexOf(u)||-1!==r.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"===r||/expression\s*\(|\/\*|\*\//.test(o)))continue;"font-weight"===r&&"700"===o?o="bold":"color"!==r&&"background-color"!==r||(o=o.toLowerCase()),o=(o=o.replace(a,lo)).replace(s,k),g[r]=h?_(o,!0):o}b("border","",!0),b("border","-width"),b("border","-color"),b("border","-style"),b("padding",""),b("margin",""),"border",p="border-style",m="border-color",w(f="border-width")&&w(p)&&w(m)&&(g.border=g[f]+" "+g[p]+" "+g[m],delete g[f],delete g[p],delete g[m]),"medium none"===g.border&&delete g.border,"none"===g["border-image"]&&delete g["border-image"]}return g},serialize:function(e,t){var n,i,a,s,l,c="",d=function(t){var n,i,o,a;if(n=r[t])for(i=0,o=n.length;i<o;i++)t=n[i],(a=e[t])&&(c+=(0<c.length?" ":"")+t+": "+a+";")};if(t&&r)d("*"),d(t);else for(n in e)!(i=e[n])||o&&(a=n,s=t,l=void 0,(l=o["*"])&&l[a]||(l=o[s])&&l[a])||(c+=(0<c.length?" ":"")+n+": "+i+";");return c}}}var uo,ho=Kt.each,fo=Kt.grep,po=fe.ie,mo=/^([a-z0-9],?)+$/i,go=/^[ \t\r\n]*$/,vo=function(e,t,n){var i={},r=t.keep_values,o={set:function(e,i,r){t.url_converter&&(i=t.url_converter.call(t.url_converter_scope||n(),i,r,e[0])),e.attr("data-mce-"+r,i).attr(r,i)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}};return i={style:{set:function(e,t){null===t||"object"!=typeof t?(r&&e.attr("data-mce-style",t),e.attr("style",t)):e.css(t)},get:function(t){var n=t.attr("data-mce-style")||t.attr("style");return e.serialize(e.parse(n),t[0].nodeName)}}},r&&(i.href=i.src=o),i},yo=function(e,t){var n=t.attr("style"),i=e.serialize(e.parse(n),t[0].nodeName);i||(i=null),t.attr("data-mce-style",i)},bo=function(e,t){var n,i,r=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)i=e.nodeType,(!t||3!==i||i!==n&&e.nodeValue.length)&&(r++,n=i);return r};function wo(t,o){var a,s=this;void 0===o&&(o={});var l={},c=e.window,d={},u=0,h=function(t,o){void 0===o&&(o={});var a,s=0,l={};a=o.maxLoadTime||5e3;var c=function(e){t.getElementsByTagName("head")[0].appendChild(e)},d=function(n,i,r){var d,u,h,f,p=function(){for(var e=f.passed,t=e.length;t--;)e[t]();f.status=2,f.passed=[],f.failed=[]},m=function(){for(var e=f.failed,t=e.length;t--;)e[t]();f.status=3,f.passed=[],f.failed=[]},g=function(e,t){e()||((new Date).getTime()-h<a?ye.setTimeout(t):m())},v=function(){g(function(){for(var e,n,i=t.styleSheets,r=i.length;r--;)if((n=(e=i[r]).ownerNode?e.ownerNode:e.owningElement)&&n.id===d.id)return p(),!0},v)},y=function(){g(function(){try{var e=u.sheet.cssRules;return p(),!!e}catch(e){}},y)};if(n=Kt._addCacheSuffix(n),l[n]?f=l[n]:(f={passed:[],failed:[]},l[n]=f),i&&f.passed.push(i),r&&f.failed.push(r),1!==f.status)if(2!==f.status)if(3!==f.status){if(f.status=1,(d=t.createElement("link")).rel="stylesheet",d.type="text/css",d.id="u"+s++,d.async=!1,d.defer=!1,h=(new Date).getTime(),o.contentCssCors&&(d.crossOrigin="anonymous"),"onload"in d&&!((b=e.navigator.userAgent.match(/WebKit\/(\d*)/))&&parseInt(b[1],10)<536))d.onload=v,d.onerror=m;else{if(0<e.navigator.userAgent.indexOf("Firefox"))return(u=t.createElement("style")).textContent='@import "'+n+'"',y(),void c(u);v()}var b;c(d),d.href=n}else m();else p()},u=function(e){return rr.nu(function(t){d(e,n(t,i(lr.value(e))),n(t,i(lr.error(e))))})},h=function(e){return e.fold(r,r)};return{load:d,loadAll:function(e,t,n){or(U(e,u)).get(function(e){var i=V(e,function(e){return e.isValue()});0<i.fail.length?n(i.fail.map(h)):t(i.pass.map(h))})}}}(t,{contentCssCors:o.contentCssCors}),f=[],p=o.schema?o.schema:so({}),m=co({url_converter:o.url_converter,url_converter_scope:o.url_converter_scope},o.schema),g=o.ownEvents?new Ee(o.proxy):Ee.Event,v=p.getBlockElements(),y=gn.overrideDefaults(function(){return{context:t,element:Y.getRoot()}}),b=function(e){if(e&&t&&"string"==typeof e){var n=t.getElementById(e);return n&&n.id!==e?t.getElementsByName(e)[1]:n}return e},w=function(e){return"string"==typeof e&&(e=b(e)),y(e)},x=function(e,t,n){var i,r,o=w(e);return o.length&&(r=(i=a[t])&&i.get?i.get(o,t):o.attr(t)),void 0===r&&(r=n||""),r},_=function(e){var t=b(e);return t?t.attributes:[]},C=function(e,t,n){var i,r;""===n&&(n=null);var s=w(e);i=s.attr(t),s.length&&((r=a[t])&&r.set?r.set(s,n,t):s.attr(t,n),i!==n&&o.onSetAttrib&&o.onSetAttrib({attrElm:s,attrName:t,attrValue:n}))},S=function(){return o.root_element||t.body},k=function(e,n){return Ki.getPos(t.body,b(e),n)},T=function(e,t,n){var i=w(e);return n?i.css(t):("float"===(t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}))&&(t=fe.ie&&fe.ie<12?"styleFloat":"cssFloat"),i[0]&&i[0].style?i[0].style[t]:void 0)},E=function(e){var t,n;return e=b(e),t=T(e,"width"),n=T(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},D=function(e,t){var n;if(!e)return!1;if(!Array.isArray(e)){if("*"===t)return 1===e.nodeType;if(mo.test(t)){var i=t.toLowerCase().split(/,/),r=e.nodeName.toLowerCase();for(n=i.length-1;0<=n;n--)if(i[n]===r)return!0;return!1}if(e.nodeType&&1!==e.nodeType)return!1}var o=Array.isArray(e)?e:[e];return 0<Et(t,o[0].ownerDocument||o[0],null,o).length},N=function(e,t,n,i){var r,o=[],a=b(e);for(i=void 0===i,n=n||("BODY"!==S().nodeName?S().parentNode:null),Kt.is(t,"string")&&(t="*"===(r=t)?function(e){return 1===e.nodeType}:function(e){return D(e,r)});a&&a!==n&&a.nodeType&&9!==a.nodeType;){if(!t||"function"==typeof t&&t(a)){if(!i)return[a];o.push(a)}a=a.parentNode}return i?o:null},A=function(e,t,n){var i=t;if(e)for("string"==typeof t&&(i=function(e){return D(e,t)}),e=e[n];e;e=e[n])if("function"==typeof i&&i(e))return e;return null},O=function(e,t,n){var i,r="string"==typeof e?b(e):e;if(!r)return!1;if(Kt.isArray(r)&&(r.length||0===r.length))return i=[],ho(r,function(e,r){e&&("string"==typeof e&&(e=b(e)),i.push(t.call(n,e,r)))}),i;var o=n||s;return t.call(o,r)},I=function(e,t){w(e).each(function(e,n){ho(t,function(e,t){C(n,t,e)})})},R=function(e,t){var n=w(e);po?n.each(function(e,n){if(!1!==n.canHaveHTML){for(;n.firstChild;)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+t,n.removeChild(n.firstChild)}catch(e){gn("<div></div>").html("<br>"+t).contents().slice(1).appendTo(n)}return t}}):n.html(t)},P=function(e,n,i,r,o){return O(e,function(e){var a="string"==typeof n?t.createElement(n):n;return I(a,i),r&&("string"!=typeof r&&r.nodeType?a.appendChild(r):"string"==typeof r&&R(a,r)),o?a:e.appendChild(a)})},M=function(e,n,i){return P(t.createElement(e),e,n,i,!0)},j=Kr.decode,L=Kr.encodeAllRaw,B=function(e,t){var n=w(e);return t?n.each(function(){for(var e;e=this.firstChild;)3===e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)}).remove():n.remove(),1<n.length?n.toArray():n[0]},$=function(e,t,n){w(e).toggleClass(t,n).each(function(){""===this.className&&gn(this).attr("class",null)})},F=function(e,t,n){return O(t,function(t){return Kt.is(t,"array")&&(e=e.cloneNode(!0)),n&&ho(fo(t.childNodes),function(t){e.appendChild(t)}),t.parentNode.replaceChild(e,t)})},H=function(){return t.createRange()},z=function(e,n,i,r){if(Kt.isArray(e)){for(var a=e.length;a--;)e[a]=z(e[a],n,i,r);return e}return!o.collect||e!==t&&e!==c||f.push([e,n,i,r]),g.bind(e,n,i,r||Y)},W=function(e,n,i){var r;if(Kt.isArray(e)){for(r=e.length;r--;)e[r]=W(e[r],n,i);return e}if(f&&(e===t||e===c))for(r=f.length;r--;){var o=f[r];e!==o[0]||n&&n!==o[1]||i&&i!==o[2]||g.unbind(o[0],o[1],o[2])}return g.unbind(e,n,i)},q=function(e){if(e&&jr.isElement(e)){var t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null}return null},Y={doc:t,settings:o,win:c,files:d,stdMode:!0,boxModel:!0,styleSheetLoader:h,boundEvents:f,styles:m,schema:p,events:g,isBlock:function(e){if("string"==typeof e)return!!v[e];if(e){var t=e.nodeType;if(t)return!(1!==t||!v[e.nodeName])}return!1},$:y,$$:w,root:null,clone:function(e,n){if(!po||1!==e.nodeType||n)return e.cloneNode(n);if(!n){var i=t.createElement(e.nodeName);return ho(_(e),function(t){C(i,t.nodeName,x(e,t.nodeName))}),i}return null},getRoot:S,getViewPort:function(e){var t=e||c,n=t.document.documentElement;return{x:t.pageXOffset||n.scrollLeft,y:t.pageYOffset||n.scrollTop,w:t.innerWidth||n.clientWidth,h:t.innerHeight||n.clientHeight}},getRect:function(e){var t,n;return e=b(e),t=k(e),n=E(e),{x:t.x,y:t.y,w:n.w,h:n.h}},getSize:E,getParent:function(e,t,n){var i=N(e,t,n,!1);return i&&0<i.length?i[0]:null},getParents:N,get:b,getNext:function(e,t){return A(e,t,"nextSibling")},getPrev:function(e,t){return A(e,t,"previousSibling")},select:function(e,n){return Et(e,b(n)||o.root_element||t,[])},is:D,add:P,create:M,createHTML:function(e,t,n){var i,r="";for(i in r+="<"+e,t)t.hasOwnProperty(i)&&null!==t[i]&&void 0!==t[i]&&(r+=" "+i+'="'+L(t[i])+'"');return void 0!==n?r+">"+n+"</"+e+">":r+" />"},createFragment:function(e){var n,i=t.createElement("div"),r=t.createDocumentFragment();for(e&&(i.innerHTML=e);n=i.firstChild;)r.appendChild(n);return r},remove:B,setStyle:function(e,t,n){var i=w(e).css(t,n);o.update_styles&&yo(m,i)},getStyle:T,setStyles:function(e,t){var n=w(e).css(t);o.update_styles&&yo(m,n)},removeAllAttribs:function(e){return O(e,function(e){var t,n=e.attributes;for(t=n.length-1;0<=t;t--)e.removeAttributeNode(n.item(t))})},setAttrib:C,setAttribs:I,getAttrib:x,getPos:k,parseStyle:function(e){return m.parse(e)},serializeStyle:function(e,t){return m.serialize(e,t)},addStyle:function(n){var i,r;if(Y!==wo.DOM&&t===e.document){if(l[n])return;l[n]=!0}(r=t.getElementById("mceDefaultStyles"))||((r=t.createElement("style")).id="mceDefaultStyles",r.type="text/css",(i=t.getElementsByTagName("head")[0]).firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r)),r.styleSheet?r.styleSheet.cssText+=n:r.appendChild(t.createTextNode(n))},loadCSS:function(n){var i;Y===wo.DOM||t!==e.document?(n||(n=""),i=t.getElementsByTagName("head")[0],ho(n.split(","),function(e){var t;e=Kt._addCacheSuffix(e),d[e]||(d[e]=!0,t=M("link",{rel:"stylesheet",href:e}),i.appendChild(t))})):wo.DOM.loadCSS(n)},addClass:function(e,t){w(e).addClass(t)},removeClass:function(e,t){$(e,t,!1)},hasClass:function(e,t){return w(e).hasClass(t)},toggleClass:$,show:function(e){w(e).show()},hide:function(e){w(e).hide()},isHidden:function(e){return"none"===w(e).css("display")},uniqueId:function(e){return(e||"mce_")+u++},setHTML:R,getOuterHTML:function(e){var t="string"==typeof e?b(e):e;return jr.isElement(t)?t.outerHTML:gn("<div></div>").append(gn(t).clone()).html()},setOuterHTML:function(e,t){w(e).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}B(gn(this).html(t),!0)})},decode:j,encode:L,insertAfter:function(e,t){var n=b(t);return O(e,function(e){var t,i;return t=n.parentNode,(i=n.nextSibling)?t.insertBefore(e,i):t.appendChild(e),e})},replace:F,rename:function(e,t){var n;return e.nodeName!==t.toUpperCase()&&(n=M(t),ho(_(e),function(t){C(n,t.nodeName,x(e,t.nodeName))}),F(n,e,!0)),n||e},findCommonAncestor:function(e,t){for(var n,i=e;i;){for(n=t;n&&i!==n;)n=n.parentNode;if(i===n)break;i=i.parentNode}return!i&&e.ownerDocument?e.ownerDocument.documentElement:i},toHex:function(e){return m.toHex(Kt.trim(e))},run:O,getAttribs:_,isEmpty:function(e,t){var n,i,r,o,a,s,l=0;if(e=e.firstChild){a=new cr(e,e.parentNode),t=t||(p?p.getNonEmptyElements():null),o=p?p.getWhiteSpaceElements():{};do{if(r=e.nodeType,jr.isElement(e)){var c=e.getAttribute("data-mce-bogus");if(c){e=a.next("all"===c);continue}if(s=e.nodeName.toLowerCase(),t&&t[s]){if("br"===s){l++,e=a.next();continue}return!1}for(n=(i=_(e)).length;n--;)if("name"===(s=i[n].nodeName)||"data-mce-bookmark"===s)return!1}if(8===r)return!1;if(3===r&&!go.test(e.nodeValue))return!1;if(3===r&&e.parentNode&&o[e.parentNode.nodeName]&&go.test(e.nodeValue))return!1;e=a.next()}while(e)}return l<=1},createRng:H,nodeIndex:bo,split:function(e,t,n){var i,r,o,a=H();if(e&&t)return a.setStart(e.parentNode,bo(e)),a.setEnd(t.parentNode,bo(t)),i=a.extractContents(),(a=H()).setStart(t.parentNode,bo(t)+1),a.setEnd(e.parentNode,bo(e)+1),r=a.extractContents(),(o=e.parentNode).insertBefore($r.trimNode(Y,i),e),n?o.insertBefore(n,e):o.insertBefore(t,e),o.insertBefore($r.trimNode(Y,r),e),B(e),n||t},bind:z,unbind:W,fire:function(e,t,n){return g.fire(e,t,n)},getContentEditable:q,getContentEditableParent:function(e){for(var t=S(),n=null;e&&e!==t&&null===(n=q(e));e=e.parentNode);return n},destroy:function(){if(f)for(var e=f.length;e--;){var t=f[e];g.unbind(t[0],t[1],t[2])}Et.setDocument&&Et.setDocument()},isChildOf:function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset}};return a=vo(m,o,function(){return Y}),Y}(uo=wo||(wo={})).DOM=uo(e.document),uo.nodeIndex=bo;var xo=wo,_o=xo.DOM,Co=Kt.each,So=Kt.grep,ko=function(e){return"function"==typeof e},To=function(){var t={},n=[],i={},r=[],o=0;this.isDone=function(e){return 2===t[e]},this.markDone=function(e){t[e]=2},this.add=this.load=function(e,r,o,a){void 0===t[e]&&(n.push(e),t[e]=0),r&&(i[e]||(i[e]=[]),i[e].push({success:r,failure:a,scope:o||this}))},this.remove=function(e){delete t[e],delete i[e]},this.loadQueue=function(e,t,i){this.loadScripts(n,e,t,i)},this.loadScripts=function(n,a,s,l){var c,d=[],u=function(e,t){Co(i[t],function(t){ko(t[e])&&t[e].call(t.scope)}),i[t]=void 0};r.push({success:a,failure:l,scope:s||this}),(c=function(){var i=So(n);if(n.length=0,Co(i,function(n){var i,r,a,s,l,h;2!==t[n]?3!==t[n]?1!==t[n]&&(t[n]=1,o++,i=n,r=function(){t[n]=2,o--,u("success",n),c()},a=function(){t[n]=3,o--,d.push(n),u("failure",n),c()},l=(h=_o).uniqueId(),(s=e.document.createElement("script")).id=l,s.type="text/javascript",s.src=Kt._addCacheSuffix(i),s.onload=function(){h.remove(l),s&&(s.onreadystatechange=s.onload=s=null),r()},s.onerror=function(){ko(a)?a():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+i)},(e.document.getElementsByTagName("head")[0]||e.document.body).appendChild(s)):u("failure",n):u("success",n)}),!o){var a=r.slice(0);r.length=0,Co(a,function(e){0===d.length?ko(e.success)&&e.success.call(e.scope):ko(e.failure)&&e.failure.call(e.scope,d)})}})()}};To.ScriptLoader=new To;var Eo,Do=Kt.each;function No(){var e=this,t=[],n={},i={},r=[],o=function(e){var t;return i[e]&&(t=i[e].dependencies),t||[]},a=function(e,t){return"object"==typeof t?t:"string"==typeof e?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}},s=function(e,t,n,i){var r=o(e);Do(r,function(e){var n=a(t,e);l(n.resource,n,void 0,void 0)}),n&&(i?n.call(i):n.call(To))},l=function(e,t,r,o,a){if(!n[e]){var l="string"==typeof t?t:t.prefix+t.resource+t.suffix;0!==l.indexOf("/")&&-1===l.indexOf("://")&&(l=No.baseURL+"/"+l),n[e]=l.substring(0,l.lastIndexOf("/")),i[e]?s(e,t,r,o):To.ScriptLoader.add(l,function(){return s(e,t,r,o)},o,a)}};return{items:t,urls:n,lookup:i,_listeners:r,get:function(e){return i[e]?i[e].instance:void 0},dependencies:o,requireLangPack:function(e,t){var i=No.language;if(i&&!1!==No.languageLoad){if(t)if(-1!==(t=","+t+",").indexOf(","+i.substr(0,2)+","))i=i.substr(0,2);else if(-1===t.indexOf(","+i+","))return;To.ScriptLoader.add(n[e]+"/langs/"+i+".js")}},add:function(e,n,o){t.push(n),i[e]={instance:n,dependencies:o};var a=V(r,function(t){return t.name===e});return r=a.fail,Do(a.pass,function(e){e.callback()}),n},remove:function(e){delete n[e],delete i[e]},createUrl:a,addComponents:function(t,n){var i=e.urls[t];Do(n,function(e){To.ScriptLoader.add(i+"/"+e)})},load:l,waitFor:function(e,t){i.hasOwnProperty(e)?t():r.push({name:e,callback:t})}}}(Eo=No||(No={})).PluginManager=Eo(),Eo.ThemeManager=Eo();var Ao=function(e,t){$i(e).each(function(n){n.dom().insertBefore(t.dom(),e.dom())})},Oo=function(e,t){Hi(e).fold(function(){$i(e).each(function(e){Ro(e,t)})},function(e){Ao(e,t)})},Io=function(e,t){Vi(e).fold(function(){Ro(e,t)},function(n){e.dom().insertBefore(t.dom(),n.dom())})},Ro=function(e,t){e.dom().appendChild(t.dom())},Po=function(e,t){q(t,function(t){Ro(e,t)})},Mo=function(e){e.dom().textContent="",q(Ui(e),function(e){jo(e)})},jo=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},Lo=function(e){var t,n=Ui(e);0<n.length&&(t=e,q(n,function(e){Ao(t,e)})),jo(e)},Bo=function(t,n){var i=null;return{cancel:function(){null!==i&&(e.clearTimeout(i),i=null)},throttle:function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];null===i&&(i=e.setTimeout(function(){t.apply(null,r),i=null},n))}}},$o=function(e){var t=e,n=function(){return t};return{get:n,set:function(e){t=e},clone:function(){return $o(n())}}},Fo=function(e,t){var n=Si(e,t);return void 0===n||""===n?[]:n.split(" ")},Ho=function(e){return void 0!==e.dom().classList},zo=function(e,t){Ho(e)?e.dom().classList.add(t):function(e,t){return i=t,r=Fo(n=e,"class").concat([i]),_i(n,"class",r.join(" ")),!0;var n,i,r}(e,t)},Wo=function(e,t){return Ho(e)&&e.dom().classList.contains(t)},Uo=function(e,t){var n=[];return q(Ui(e),function(e){t(e)&&(n=n.concat([e])),n=n.concat(Uo(e,t))}),n},qo=function(t,n){return i=n,o=void 0===(r=t)?e.document:r.dom(),Pi(o)?[]:U(o.querySelectorAll(i),li.fromDom);var i,r,o};function Vo(e,t,n,i,r){return e(n,i)?O.some(n):B(r)&&r(n)?O.none():t(n,i,r)}var Yo,Xo=function(e,t,n){for(var r=e.dom(),o=B(n)?n:i(!1);r.parentNode;){r=r.parentNode;var a=li.fromDom(r);if(t(a))return O.some(a);if(o(a))break}return O.none()},Go=function(e,t,n){return Vo(function(e,t){return t(e)},Xo,e,t,n)},Ko=function(e,t,n){return Xo(e,function(e){return Ri(e,t)},n)},Jo=function(t,n){return i=n,o=void 0===(r=t)?e.document:r.dom(),Pi(o)?O.none():O.from(o.querySelector(i)).map(li.fromDom);var i,r,o},Qo=function(e,t,n){return Vo(Ri,Ko,e,t,n)},Zo=i("mce-annotation"),ea=i("data-mce-annotation"),ta=i("data-mce-annotation-uid"),na=function(e,t){var n=e.selection.getRng(),i=li.fromDom(n.startContainer),r=li.fromDom(e.getBody()),o=t.fold(function(){return"."+Zo()},function(e){return"["+ea()+'="'+e+'"]'}),a=qi(i,n.startOffset).getOr(i),s=Qo(a,o,function(e){return Mi(e,r)}),l=function(e,t){return n=t,(i=e.dom())&&i.hasAttribute&&i.hasAttribute(n)?O.some(Si(e,t)):O.none();var n,i};return s.bind(function(t){return l(t,""+ta()).bind(function(n){return l(t,""+ea()).map(function(t){var i=ia(e,n);return{uid:n,name:t,elements:i}})})})},ia=function(e,t){var n=li.fromDom(e.getBody());return qo(n,"["+ta()+'="'+t+'"]')},ra=function(t,n){var i,r,o=$o({}),a=function(e,t){s(e,function(e){return t(e),e})},s=function(e,t){var n=o.get(),i=t(n.hasOwnProperty(e)?n[e]:{listeners:[],previous:$o(O.none())});n[e]=i,o.set(n)},l=(i=function(){var e,n,i=o.get(),r=(e=gi(i),(n=F.call(e,0)).sort(void 0),n);q(r,function(e){s(e,function(n){var i=n.previous.get();return na(t,O.some(e)).fold(function(){var t;i.isSome()&&(a(t=e,function(e){q(e.listeners,function(e){return e(!1,t)})}),n.previous.set(O.none()))},function(e){var t,r,o,s=e.uid,l=e.name,c=e.elements;i.is(s)||(r=s,o=c,a(t=l,function(e){q(e.listeners,function(e){return e(!0,t,{uid:r,nodes:U(o,function(e){return e.dom()})})})}),n.previous.set(O.some(s)))}),{previous:n.previous,listeners:n.listeners}})})},30,r=null,{cancel:function(){null!==r&&(e.clearTimeout(r),r=null)},throttle:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];null!==r&&e.clearTimeout(r),r=e.setTimeout(function(){i.apply(null,t),r=null},30)}});return t.on("remove",function(){l.cancel()}),t.on("nodeChange",function(){l.throttle()}),{addListener:function(e,t){s(e,function(e){return{previous:e.previous,listeners:e.listeners.concat([t])}})}}},oa=function(e,t){e.on("init",function(){e.serializer.addNodeFilter("span",function(e){q(e,function(e){var n;(n=e,O.from(n.attributes.map[ea()]).bind(t.lookup)).each(function(t){!1===t.persistent&&e.unwrap()})})})})},aa=0,sa=function(e,t){return li.fromDom(e.dom().cloneNode(t))},la=function(e){return sa(e,!1)},ca=function(e){return sa(e,!0)},da=function(t,n){var i,r,o=Li(t).dom(),a=li.fromDom(o.createDocumentFragment()),s=(i=n,(r=(o||e.document).createElement("div")).innerHTML=i,Ui(li.fromDom(r)));Po(a,s),Mo(t),Ro(t,a)},ua="\ufeff",ha=function(e){return e===ua},fa=ua,pa=function(e){return e.replace(new RegExp(ua,"g"),"")},ma=jr.isElement,ga=jr.isText,va=function(e){return ga(e)&&(e=e.parentNode),ma(e)&&e.hasAttribute("data-mce-caret")},ya=function(e){return ga(e)&&ha(e.data)},ba=function(e){return va(e)||ya(e)},wa=function(e){return e.firstChild!==e.lastChild||!jr.isBr(e.firstChild)},xa=function(e){var t=e.container();return!(!e||!jr.isText(t))&&(t.data.charAt(e.offset())===fa||e.isAtStart()&&ya(t.previousSibling))},_a=function(e){var t=e.container();return!(!e||!jr.isText(t))&&(t.data.charAt(e.offset()-1)===fa||e.isAtEnd()&&ya(t.nextSibling))},Ca=function(e){return ga(e)&&e.data[0]===fa},Sa=function(e){return ga(e)&&e.data[e.data.length-1]===fa},ka=function(e){return e&&e.hasAttribute("data-mce-caret")?(n=(t=e.getElementsByTagName("br"))[t.length-1],jr.isBogus(n)&&n.parentNode.removeChild(n),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null;var t,n},Ta=jr.isContentEditableTrue,Ea=jr.isContentEditableFalse,Da=jr.isBr,Na=jr.isText,Aa=jr.matchNodeNames("script style textarea"),Oa=jr.matchNodeNames("img input textarea hr iframe video audio object"),Ia=jr.matchNodeNames("table"),Ra=ba,Pa=function(e){return!Ra(e)&&(Na(e)?!Aa(e.parentNode):Oa(e)||Da(e)||Ia(e)||Ma(e))},Ma=function(e){return!1===(t=e,jr.isElement(t)&&"true"===t.getAttribute("unselectable"))&&Ea(e);var t},ja=function(e,t){return Pa(e)&&function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(Ma(e))return!1;if(Ta(e))return!0}return!0}(e,t)},La=Math.round,Ba=function(e){return e?{left:La(e.left),top:La(e.top),bottom:La(e.bottom),right:La(e.right),width:La(e.width),height:La(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},$a=function(e,t){return e=Ba(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},Fa=function(e,t,n){return 0<=e&&e<=Math.min(t.height,n.height)/2},Ha=function(e,t){return e.bottom-e.height/2<t.top||!(e.top>t.bottom)&&Fa(t.top-e.bottom,e,t)},za=function(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&Fa(t.bottom-e.top,e,t)},Wa=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},Ua=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},qa=function(e,t){return 1===e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},Va=new RegExp("[Ì-Í¯Ò-ÒÒ-ÒÖ-Ö½Ö¿×-××-××Ø-ØÙ-ÙÙ°Û-ÛÛ-Û¤Û§-Û¨Ûª-Û­ÜÜ°-ÝÞ¦-Þ°ß«-ß³à -à à -à £à ¥-à §à ©-à ­à¡-à¡à££-à¤à¤ºà¤¼à¥-à¥à¥à¥-à¥à¥¢-à¥£à¦à¦¼à¦¾à§-à§à§à§à§¢-à§£à¨-à¨à¨¼à©-à©à©-à©à©-à©à©à©°-à©±à©µàª-àªàª¼à«-à«à«-à«à«à«¢-à«£à¬à¬¼à¬¾à¬¿à­-à­à­à­à­à­¢-à­£à®à®¾à¯à¯à¯à°à°¾-à±à±-à±à±-à±à±-à±à±¢-à±£à²à²¼à²¿à³à³à³-à³à³-à³à³¢-à³£à´à´¾àµ-àµàµàµàµ¢-àµ£à·à·à·-à·à·à·à¸±à¸´-à¸ºà¹-à¹àº±àº´-àº¹àº»-àº¼à»-à»à¼-à¼à¼µà¼·à¼¹à½±-à½¾à¾-à¾à¾-à¾à¾-à¾à¾-à¾¼à¿á­-á°á²-á·á¹-áºá½-á¾á-áá-á á±-á´áá-áááá-áá-áá²-á´á-áá²-á³á´-áµá·-á½áá-ááá -á á¢©á¤ -á¤¢á¤§-á¤¨á¤²á¤¹-á¤»á¨-á¨á¨á©á©-á©á© á©¢á©¥-á©¬á©³-á©¼á©¿áª°-áª½áª¾á¬-á¬á¬´á¬¶-á¬ºá¬¼á­á­«-á­³á®-á®á®¢-á®¥á®¨-á®©á®«-á®­á¯¦á¯¨-á¯©á¯­á¯¯-á¯±á°¬-á°³á°¶-á°·á³-á³á³-á³ á³¢-á³¨á³­á³´á³¸-á³¹á·-á·µá·¼-á·¿â-ââ-ââ-â â¡â¢-â¤â¥-â°â³¯-â³±âµ¿â· -â·¿ãª-ã­ã®-ã¯ã-ãê¯ê°-ê²ê´-ê½ê-êê°-ê±ê ê ê ê ¥-ê ¦ê£ê£ -ê£±ê¤¦-ê¤­ê¥-ê¥ê¦-ê¦ê¦³ê¦¶-ê¦¹ê¦¼ê§¥ê¨©-ê¨®ê¨±-ê¨²ê¨µ-ê¨¶ê©ê©ê©¼êª°êª²-êª´êª·-êª¸êª¾-êª¿ê«ê«¬-ê«­ê«¶ê¯¥ê¯¨ê¯­ï¬ï¸-ï¸ï¸ -ï¸¯ï¾-ï¾]"),Ya=function(e){return"string"==typeof e&&768<=e.charCodeAt(0)&&Va.test(e)},Xa=function(e,t){for(var n=[],i=0;i<e.length;i++){var r=e[i];if(!r.isSome())return O.none();n.push(r.getOrDie())}return O.some(t.apply(null,n))},Ga=[].slice,Ka=jr.isElement,Ja=Pa,Qa=jr.matchStyleValues("display","block table"),Za=jr.matchStyleValues("float","left right"),es=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ga.call(arguments);return function(e){for(var t=0;t<n.length;t++)if(!n[t](e))return!1;return!0}}(Ka,Ja,C(Za)),ts=C(jr.matchStyleValues("white-space","pre pre-line pre-wrap")),ns=jr.isText,is=jr.isBr,rs=xo.nodeIndex,os=qa,as=function(e){return"createRange"in e?e.createRange():xo.DOM.createRng()},ss=function(e){return e&&/[\r\n\t ]/.test(e)},ls=function(e){return!!e.setStart&&!!e.setEnd},cs=function(e){var t,n=e.startContainer,i=e.startOffset;return!!(ss(e.toString())&&ts(n.parentNode)&&jr.isText(n)&&(t=n.data,ss(t[i-1])||ss(t[i+1])))},ds=function(e){return 0===e.left&&0===e.right&&0===e.top&&0===e.bottom},us=function(e){var t,n,i,r,o,a,s,l;return t=0<(n=e.getClientRects()).length?Ba(n[0]):Ba(e.getBoundingClientRect()),!ls(e)&&is(e)&&ds(t)?(o=(i=e).ownerDocument,a=as(o),s=o.createTextNode("Â "),(l=i.parentNode).insertBefore(s,i),a.setStart(s,0),a.setEnd(s,1),r=Ba(a.getBoundingClientRect()),l.removeChild(s),r):ds(t)&&ls(e)?function(e){var t=e.startContainer,n=e.endContainer,i=e.startOffset,r=e.endOffset;if(t===n&&jr.isText(n)&&0===i&&1===r){var o=e.cloneRange();return o.setEndAfter(n),us(o)}return null}(e):t},hs=function(e,t){var n=$a(e,t);return n.width=1,n.right=n.left+1,n},fs=function(e){var t,n,i=[],r=function(e){var t,n;0!==e.height&&(0<i.length&&(t=e,n=i[i.length-1],t.left===n.left&&t.top===n.top&&t.bottom===n.bottom&&t.right===n.right)||i.push(e))},o=function(e,t){var n=as(e.ownerDocument);if(t<e.data.length){if(Ya(e.data[t]))return i;if(Ya(e.data[t-1])&&(n.setStart(e,t),n.setEnd(e,t+1),!cs(n)))return r(hs(us(n),!1)),i}0<t&&(n.setStart(e,t-1),n.setEnd(e,t),cs(n)||r(hs(us(n),!1))),t<e.data.length&&(n.setStart(e,t),n.setEnd(e,t+1),cs(n)||r(hs(us(n),!0)))};if(ns(e.container()))return o(e.container(),e.offset()),i;if(Ka(e.container()))if(e.isAtEnd())n=os(e.container(),e.offset()),ns(n)&&o(n,n.data.length),es(n)&&!is(n)&&r(hs(us(n),!1));else{if(n=os(e.container(),e.offset()),ns(n)&&o(n,0),es(n)&&e.isAtEnd())return r(hs(us(n),!1)),i;t=os(e.container(),e.offset()-1),es(t)&&!is(t)&&(Qa(t)||Qa(n)||!es(n))&&r(hs(us(t),!1)),es(n)&&r(hs(us(n),!0))}return i};function ps(e,t,n){var r=function(){return n||(n=fs(ps(e,t))),n};return{container:i(e),offset:i(t),toRange:function(){var n;return(n=as(e.ownerDocument)).setStart(e,t),n.setEnd(e,t),n},getClientRects:r,isVisible:function(){return 0<r().length},isAtStart:function(){return ns(e),0===t},isAtEnd:function(){return ns(e)?t>=e.data.length:t>=e.childNodes.length},isEqual:function(n){return n&&e===n.container()&&t===n.offset()},getNode:function(n){return os(e,n?t-1:t)}}}(Yo=ps||(ps={})).fromRangeStart=function(e){return Yo(e.startContainer,e.startOffset)},Yo.fromRangeEnd=function(e){return Yo(e.endContainer,e.endOffset)},Yo.after=function(e){return Yo(e.parentNode,rs(e)+1)},Yo.before=function(e){return Yo(e.parentNode,rs(e))},Yo.isAbove=function(e,t){return Xa([ne(t.getClientRects()),ie(e.getClientRects())],Ha).getOr(!1)},Yo.isBelow=function(e,t){return Xa([ie(t.getClientRects()),ne(e.getClientRects())],za).getOr(!1)},Yo.isAtStart=function(e){return!!e&&e.isAtStart()},Yo.isAtEnd=function(e){return!!e&&e.isAtEnd()},Yo.isTextPosition=function(e){return!!e&&jr.isText(e.container())},Yo.isElementPosition=function(e){return!1===Yo.isTextPosition(e)};var ms,gs,vs=ps,ys=jr.isText,bs=jr.isBogus,ws=xo.nodeIndex,xs=function(e){var t=e.parentNode;return bs(t)?xs(t):t},_s=function(e){return e?qt.reduce(e.childNodes,function(e,t){return bs(t)&&"BR"!==t.nodeName?e=e.concat(_s(t)):e.push(t),e},[]):[]},Cs=function(e){return function(t){return e===t}},Ss=function(e){var t,n,i,r;return(ys(e)?"text()":e.nodeName.toLowerCase())+"["+(n=_s(xs(t=e)),i=qt.findIndex(n,Cs(t),t),n=n.slice(0,i+1),r=qt.reduce(n,function(e,t,i){return ys(t)&&ys(n[i-1])&&e++,e},0),n=qt.filter(n,jr.matchNodeNames(t.nodeName)),(i=qt.findIndex(n,Cs(t),t))-r)+"]"},ks=function(e,t){var n,i,r,o,a,s=[];return n=t.container(),i=t.offset(),ys(n)?r=function(e,t){for(;(e=e.previousSibling)&&ys(e);)t+=e.data.length;return t}(n,i):(i>=(o=n.childNodes).length?(r="after",i=o.length-1):r="before",n=o[i]),s.push(Ss(n)),a=function(e,t,n){var i=[];for(t=t.parentNode;t!==e;t=t.parentNode)i.push(t);return i}(e,n),a=qt.filter(a,C(jr.isBogus)),(s=s.concat(qt.map(a,function(e){return Ss(e)}))).reverse().join("/")+","+r},Ts=function(e,t){var n,i,r;return t?(t=(n=t.split(","))[0].split("/"),r=1<n.length?n[1]:"before",(i=qt.reduce(t,function(e,t){return(t=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t))?("text()"===t[1]&&(t[1]="#text"),n=e,i=t[1],r=parseInt(t[2],10),o=_s(n),o=qt.filter(o,function(e,t){return!ys(e)||!ys(o[t-1])}),(o=qt.filter(o,jr.matchNodeNames(i)))[r]):null;var n,i,r,o},e))?ys(i)?function(e,t){for(var n,i=e,r=0;ys(i);){if(n=i.data.length,r<=t&&t<=r+n){e=i,t-=r;break}if(!ys(i.nextSibling)){e=i,t=n;break}r+=n,i=i.nextSibling}return ys(e)&&t>e.data.length&&(t=e.data.length),vs(e,t)}(i,parseInt(r,10)):(r="after"===r?ws(i)+1:ws(i),vs(i.parentNode,r)):null):null},Es=function(e,t){jr.isText(t)&&0===t.data.length&&e.remove(t)},Ds=function(e,t,n){var i,r,o,a,s,l,c;jr.isDocumentFragment(n)?(o=e,a=t,s=n,l=O.from(s.firstChild),c=O.from(s.lastChild),a.insertNode(s),l.each(function(e){return Es(o,e.previousSibling)}),c.each(function(e){return Es(o,e.nextSibling)})):(i=e,r=n,t.insertNode(r),Es(i,r.previousSibling),Es(i,r.nextSibling))},Ns=jr.isContentEditableFalse,As=function(e,t,n,i,r){var o,a=i[r?"startContainer":"endContainer"],s=i[r?"startOffset":"endOffset"],l=[],c=0,d=e.getRoot();for(jr.isText(a)?l.push(n?function(e,t,n){var i,r;for(r=e(t.data.slice(0,n)).length,i=t.previousSibling;i&&jr.isText(i);i=i.previousSibling)r+=e(i.data).length;return r}(t,a,s):s):(s>=(o=a.childNodes).length&&o.length&&(c=1,s=Math.max(0,o.length-1)),l.push(e.nodeIndex(o[s],n)+c));a&&a!==d;a=a.parentNode)l.push(e.nodeIndex(a,n));return l},Os=function(e,t,n){var i=0;return Kt.each(e.select(t),function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!==n&&void i++}),i},Is=function(e,t){var n,i,r,o=t?"start":"end";n=e[o+"Container"],i=e[o+"Offset"],jr.isElement(n)&&"TR"===n.nodeName&&(n=(r=n.childNodes)[Math.min(t?i:i-1,r.length-1)])&&(i=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,i))},Rs=function(e){return Is(e,!0),Is(e,!1),e},Ps=function(e,t){var n;if(jr.isElement(e)&&(e=qa(e,t),Ns(e)))return e;if(ba(e)){if(jr.isText(e)&&va(e)&&(e=e.parentNode),n=e.previousSibling,Ns(n))return n;if(n=e.nextSibling,Ns(n))return n}},Ms=function(e,t,n){var i=n.getNode(),r=i?i.nodeName:null,o=n.getRng();if(Ns(i)||"IMG"===r)return{name:r,index:Os(n.dom,r,i)};var a,s,l,c,d,u,h,f=Ps((a=o).startContainer,a.startOffset)||Ps(a.endContainer,a.endOffset);return f?{name:r=f.tagName,index:Os(n.dom,r,f)}:(s=e,c=t,d=o,u=(l=n).dom,(h={}).start=As(u,s,c,d,!0),l.isCollapsed()||(h.end=As(u,s,c,d,!1)),h)},js=function(e,t,n){var i={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",i,"&#xFEFF;"):e.create("span",i)},Ls=function(e,t){var n=e.dom,i=e.getRng(),r=n.uniqueId(),o=e.isCollapsed(),a=e.getNode(),s=a.nodeName;if("IMG"===s)return{name:s,index:Os(n,s,a)};var l=Rs(i.cloneRange());if(!o){l.collapse(!1);var c=js(n,r+"_end",t);Ds(n,l,c)}(i=Rs(i)).collapse(!0);var d=js(n,r+"_start",t);return Ds(n,i,d),e.moveToBookmark({id:r,keep:1}),{id:r}},Bs={getBookmark:function(e,t,n){return 2===t?Ms(pa,n,e):3===t?(r=(i=e).getRng(),{start:ks(i.dom.getRoot(),vs.fromRangeStart(r)),end:ks(i.dom.getRoot(),vs.fromRangeEnd(r))}):t?{rng:e.getRng()}:Ls(e,!1);var i,r},getUndoBookmark:o(Ms,r,!0),getPersistentBookmark:Ls},$s="_mce_caret",Fs=function(e){return jr.isElement(e)&&e.id===$s},Hs=function(e,t){for(;t&&t!==e;){if(t.id===$s)return t;t=t.parentNode}return null},zs=jr.isElement,Ws=jr.isText,Us=function(e){var t=e.parentNode;t&&t.removeChild(e)},qs=function(e,t){0===t.length?Us(e):e.nodeValue=t},Vs=function(e){var t=pa(e);return{count:e.length-t.length,text:t}},Ys=function(e,t){return Xs(e),t},Xs=function(e){if(zs(e)&&ba(e)&&(wa(e)?e.removeAttribute("data-mce-caret"):Us(e)),Ws(e)){var t=pa(function(e){try{return e.nodeValue}catch(e){return""}}(e));qs(e,t)}},Gs={removeAndReposition:function(e,t){return vs.isTextPosition(t)?function(e,t){return Ws(e)&&t.container()===e?(i=t,r=Vs((n=e).data.substr(0,i.offset())),o=Vs(n.data.substr(i.offset())),0<(a=r.text+o.text).length?(qs(n,a),vs(n,i.offset()-r.count)):i):Ys(e,t);var n,i,r,o,a}(e,t):(n=e,(i=t).container()===n.parentNode?function(e,t){var n,i,r,o=t.container(),a=(n=re(o.childNodes),i=e,r=H(n,i),-1===r?O.none():O.some(r)).map(function(e){return e<t.offset()?vs(o,t.offset()-1):t}).getOr(t);return Xs(e),a}(n,i):Ys(n,i));var n,i},remove:Xs},Ks=ai.detect().browser,Js=jr.isContentEditableFalse,Qs=function(e,t,n){var i,r,o,a,s,l=$a(t.getBoundingClientRect(),n);return"BODY"===e.tagName?(i=e.ownerDocument.documentElement,r=e.scrollLeft||i.scrollLeft,o=e.scrollTop||i.scrollTop):(s=e.getBoundingClientRect(),r=e.scrollLeft-s.left,o=e.scrollTop-s.top),l.left+=r,l.right+=r,l.top+=o,l.bottom+=o,l.width=1,0<(a=t.offsetWidth-t.clientWidth)&&(n&&(a*=-1),l.left+=a,l.right+=a),l},Zs=function(t,n,i){var r,o,a=$o(O.none()),s=function(){!function(e){var n,i,r,o,a;for(n=gn("*[contentEditable=false]",t),o=0;o<n.length;o++)r=(i=n[o]).previousSibling,Sa(r)&&(1===(a=r.data).length?r.parentNode.removeChild(r):r.deleteData(a.length-1,1)),r=i.nextSibling,Ca(r)&&(1===(a=r.data).length?r.parentNode.removeChild(r):r.deleteData(0,1))}(),o&&(Gs.remove(o),o=null),a.get().each(function(e){gn(e.caret).remove(),a.set(O.none())}),clearInterval(r)},l=function(){r=ye.setInterval(function(){i()?gn("div.mce-visual-caret",t).toggleClass("mce-visual-caret-hidden"):gn("div.mce-visual-caret",t).addClass("mce-visual-caret-hidden")},500)};return{show:function(i,r){var c,d,u;if(s(),u=r,jr.isElement(u)&&/^(TD|TH)$/i.test(u.tagName))return null;if(!n(r))return o=function(e,t){var n,i,r;if(i=e.ownerDocument.createTextNode(fa),r=e.parentNode,t){if(n=e.previousSibling,ga(n)){if(ba(n))return n;if(Sa(n))return n.splitText(n.data.length-1)}r.insertBefore(i,e)}else{if(n=e.nextSibling,ga(n)){if(ba(n))return n;if(Ca(n))return n.splitText(1),n}e.nextSibling?r.insertBefore(i,e.nextSibling):r.appendChild(i)}return i}(r,i),d=r.ownerDocument.createRange(),Js(o.nextSibling)?(d.setStart(o,0),d.setEnd(o,0)):(d.setStart(o,1),d.setEnd(o,1)),d;o=function(t,n,i){var r,o,a;return(r=n.ownerDocument.createElement(t)).setAttribute("data-mce-caret",i?"before":"after"),r.setAttribute("data-mce-bogus","all"),r.appendChild(((a=e.document.createElement("br")).setAttribute("data-mce-bogus","1"),a)),o=n.parentNode,i?o.insertBefore(r,n):n.nextSibling?o.insertBefore(r,n.nextSibling):o.appendChild(r),r}("p",r,i),c=Qs(t,r,i),gn(o).css("top",c.top);var h=gn('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(c).appendTo(t)[0];return a.set(O.some({caret:h,element:r,before:i})),a.get().each(function(e){i&&gn(e.caret).addClass("mce-visual-caret-before")}),l(),(d=r.ownerDocument.createRange()).setStart(o,0),d.setEnd(o,0),d},hide:s,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){a.get().each(function(e){var n=Qs(t,e.element,e.before);gn(e.caret).css(n)})},destroy:function(){return ye.clearInterval(r)}}},el=function(){return Ks.isIE()||Ks.isEdge()||Ks.isFirefox()},tl=function(e){return Js(e)||jr.isTable(e)&&el()},nl=jr.isContentEditableFalse,il=jr.matchStyleValues("display","block table table-cell table-caption list-item"),rl=ba,ol=va,al=jr.isElement,sl=Pa,ll=function(e){return 0<e},cl=function(e){return e<0},dl=function(e,t){for(var n;n=e(t);)if(!ol(n))return n;return null},ul=function(e,t,n,i,r){var o=new cr(e,i);if(cl(t)){if((nl(e)||ol(e))&&n(e=dl(o.prev,!0)))return e;for(;e=dl(o.prev,r);)if(n(e))return e}if(ll(t)){if((nl(e)||ol(e))&&n(e=dl(o.next,!0)))return e;for(;e=dl(o.next,r);)if(n(e))return e}return null},hl=function(e,t){for(;e&&e!==t;){if(il(e))return e;e=e.parentNode}return null},fl=function(e,t,n){return hl(e.container(),n)===hl(t.container(),n)},pl=function(e,t){var n,i;return t?(n=t.container(),i=t.offset(),al(n)?n.childNodes[i+e]:null):null},ml=function(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},gl=function(e,t,n){var i,r,o,a;for(r=e?"previousSibling":"nextSibling";n&&n!==t;){if(i=n[r],rl(i)&&(i=i[r]),nl(i)){if(a=n,hl(i,o=t)===hl(a,o))return i;break}if(sl(i))break;n=n.parentNode}return null},vl=o(ml,!0),yl=o(ml,!1),bl=function(e,t,n){var i,r,a,s,l=o(gl,!0,t),c=o(gl,!1,t);if(r=n.startContainer,a=n.startOffset,va(r)){if(al(r)||(r=r.parentNode),"before"===(s=r.getAttribute("data-mce-caret"))&&(i=r.nextSibling,tl(i)))return vl(i);if("after"===s&&(i=r.previousSibling,tl(i)))return yl(i)}if(!n.collapsed)return n;if(jr.isText(r)){if(rl(r)){if(1===e){if(i=c(r))return vl(i);if(i=l(r))return yl(i)}if(-1===e){if(i=l(r))return yl(i);if(i=c(r))return vl(i)}return n}if(Sa(r)&&a>=r.data.length-1)return 1===e&&(i=c(r))?vl(i):n;if(Ca(r)&&a<=1)return-1===e&&(i=l(r))?yl(i):n;if(a===r.data.length)return(i=c(r))?vl(i):n;if(0===a)return(i=l(r))?yl(i):n}return n},wl=function(e,t){return O.from(pl(e?0:-1,t)).filter(nl)},xl=function(e,t,n){var i=bl(e,t,n);return-1===e?ps.fromRangeStart(i):ps.fromRangeEnd(i)},_l=function(e){return O.from(e.getNode()).map(li.fromDom)},Cl=function(e,t){for(;t=e(t);)if(t.isVisible())return t;return t},Sl=function(e,t){var n=fl(e,t);return!(n||!jr.isBr(e.getNode()))||n};(gs=ms||(ms={}))[gs.Backwards=-1]="Backwards",gs[gs.Forwards=1]="Forwards";var kl,Tl,El=jr.isContentEditableFalse,Dl=jr.isText,Nl=jr.isElement,Al=jr.isBr,Ol=Pa,Il=function(e){return Oa(e)||!!Ma(t=e)&&!0!==X(re(t.getElementsByTagName("*")),function(e,t){return e||Ta(t)},!1);var t},Rl=ja,Pl=function(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null},Ml=function(e,t){if(ll(e)){if(Ol(t.previousSibling)&&!Dl(t.previousSibling))return vs.before(t);if(Dl(t))return vs(t,0)}if(cl(e)){if(Ol(t.nextSibling)&&!Dl(t.nextSibling))return vs.after(t);if(Dl(t))return vs(t,t.data.length)}return cl(e)?Al(t)?vs.before(t):vs.after(t):vs.before(t)},jl=function(e,t,n){var r,o,a,s,l;if(!Nl(n)||!t)return null;if(t.isEqual(vs.after(n))&&n.lastChild){if(l=vs.after(n.lastChild),cl(e)&&Ol(n.lastChild)&&Nl(n.lastChild))return Al(n.lastChild)?vs.before(n.lastChild):l}else l=t;var c,d,u,h=l.container(),f=l.offset();if(Dl(h)){if(cl(e)&&0<f)return vs(h,--f);if(ll(e)&&f<h.length)return vs(h,++f);r=h}else{if(cl(e)&&0<f&&(o=Pl(h,f-1),Ol(o)))return!Il(o)&&(a=ul(o,e,Rl,o))?Dl(a)?vs(a,a.data.length):vs.after(a):Dl(o)?vs(o,o.data.length):vs.before(o);if(ll(e)&&f<h.childNodes.length&&(o=Pl(h,f),Ol(o)))return Al(o)?(c=n,(u=(d=o).nextSibling)&&Ol(u)?Dl(u)?vs(u,0):vs.before(u):jl(ms.Forwards,vs.after(d),c)):!Il(o)&&(a=ul(o,e,Rl,o))?Dl(a)?vs(a,0):vs.before(a):Dl(o)?vs(o,0):vs.after(o);r=o||l.getNode()}return(ll(e)&&l.isAtEnd()||cl(e)&&l.isAtStart())&&(r=ul(r,e,i(!0),n,!0),Rl(r,n))?Ml(e,r):(o=ul(r,e,Rl,n),!(s=qt.last(Y(function(e,t){for(var n=[];e&&e!==t;)n.push(e),e=e.parentNode;return n}(h,n),El)))||o&&s.contains(o)?o?Ml(e,o):null:l=ll(e)?vs.after(s):vs.before(s))},Ll=function(e){return{next:function(t){return jl(ms.Forwards,t,e)},prev:function(t){return jl(ms.Backwards,t,e)}}},Bl=function(e){return vs.isTextPosition(e)?0===e.offset():Pa(e.getNode())},$l=function(e){if(vs.isTextPosition(e)){var t=e.container();return e.offset()===t.data.length}return Pa(e.getNode(!0))},Fl=function(e,t){return!vs.isTextPosition(e)&&!vs.isTextPosition(t)&&e.getNode()===t.getNode(!0)},Hl=function(e,t,n){var i=Ll(t);return O.from(e?i.next(n):i.prev(n))},zl=function(e,t,n){return Hl(e,t,n).bind(function(i){return fl(n,i,t)&&function(e,t,n){return e?!Fl(t,n)&&(i=t,!(!vs.isTextPosition(i)&&jr.isBr(i.getNode())))&&$l(t)&&Bl(n):!Fl(n,t)&&Bl(t)&&$l(n);var i}(e,n,i)?Hl(e,t,i):O.some(i)})},Wl=function(e,t,n,i){return zl(e,t,n).bind(function(n){return i(n)?Wl(e,t,n,i):O.some(n)})},Ul=function(e,t){var n,i,r,o,a,s=e?t.firstChild:t.lastChild;return jr.isText(s)?O.some(vs(s,e?0:s.data.length)):s?Pa(s)?O.some(e?vs.before(s):(a=s,jr.isBr(a)?vs.before(a):vs.after(a))):(i=t,r=s,o=(n=e)?vs.before(r):vs.after(r),Hl(n,i,o)):O.none()},ql=o(Hl,!0),Vl=o(Hl,!1),Yl={fromPosition:Hl,nextPosition:ql,prevPosition:Vl,navigate:zl,navigateIgnore:Wl,positionIn:Ul,firstPositionIn:o(Ul,!0),lastPositionIn:o(Ul,!1)},Xl=function(e,t){return!e.isBlock(t)||t.innerHTML||fe.ie||(t.innerHTML='<br data-mce-bogus="1" />'),t},Gl=function(e,t){return Yl.lastPositionIn(e).fold(function(){return!1},function(e){return t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0})},Kl=function(e,t,n){return!(!1!==t.hasChildNodes()||!Hs(e,t)||(r=n,o=(i=t).ownerDocument.createTextNode(fa),i.appendChild(o),r.setStart(o,0),r.setEnd(o,0),0));var i,r,o},Jl=function(e,t,n,i){var r,o,a,s,l=n[t?"start":"end"],c=e.getRoot();if(l){for(a=l[0],o=c,r=l.length-1;1<=r;r--){if(s=o.childNodes,Kl(c,o,i))return!0;if(l[r]>s.length-1)return!!Kl(c,o,i)||Gl(o,i);o=s[l[r]]}3===o.nodeType&&(a=Math.min(l[0],o.nodeValue.length)),1===o.nodeType&&(a=Math.min(l[0],o.childNodes.length)),t?i.setStart(o,a):i.setEnd(o,a)}return!0},Ql=function(e){return jr.isText(e)&&0<e.data.length},Zl=function(e,t,n){var i,r,o,a,s,l,c=e.get(n.id+"_"+t),d=n.keep;if(c){if(i=c.parentNode,"start"===t?d?c.hasChildNodes()?(i=c.firstChild,r=1):Ql(c.nextSibling)?(i=c.nextSibling,r=0):Ql(c.previousSibling)?(i=c.previousSibling,r=c.previousSibling.data.length):(i=c.parentNode,r=e.nodeIndex(c)+1):r=e.nodeIndex(c):d?c.hasChildNodes()?(i=c.firstChild,r=1):Ql(c.previousSibling)?(i=c.previousSibling,r=c.previousSibling.data.length):(i=c.parentNode,r=e.nodeIndex(c)):r=e.nodeIndex(c),s=i,l=r,!d){for(a=c.previousSibling,o=c.nextSibling,Kt.each(Kt.grep(c.childNodes),function(e){jr.isText(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});c=e.get(n.id+"_"+t);)e.remove(c,!0);a&&o&&a.nodeType===o.nodeType&&jr.isText(a)&&!fe.opera&&(r=a.nodeValue.length,a.appendData(o.nodeValue),e.remove(o),s=a,l=r)}return O.some(vs(s,l))}return O.none()},ec=function(e,t,n){return Bs.getBookmark(e,t,n)},tc=function(e,t){(function(e,t){var n,i,r,o,a,s,l,c,d,u,h,f,p,m,g,v,y=e.dom;if(t){if(v=t,Kt.isArray(v.start))return m=t,g=(p=y).createRng(),Jl(p,!0,m,g)&&Jl(p,!1,m,g)?O.some(g):O.none();if("string"==typeof t.start)return O.some((u=t,h=(d=y).createRng(),f=Ts(d.getRoot(),u.start),h.setStart(f.container(),f.offset()),f=Ts(d.getRoot(),u.end),h.setEnd(f.container(),f.offset()),h));if(t.hasOwnProperty("id"))return l=Zl(r=y,"start",o=t),c=Zl(r,"end",o),Xa([l,(a=c,s=l,a.isSome()?a:s)],function(e,t){var n=r.createRng();return n.setStart(Xl(r,e.container()),e.offset()),n.setEnd(Xl(r,t.container()),t.offset()),n});if(t.hasOwnProperty("name"))return n=y,i=t,O.from(n.select(i.name)[i.index]).map(function(e){var t=n.createRng();return t.selectNode(e),t});if(t.hasOwnProperty("rng"))return O.some(t.rng)}return O.none()})(e,t).each(function(t){e.setRng(t)})},nc=function(e){return jr.isElement(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},ic=function(e){return e&&/^(IMG)$/.test(e.nodeName)},rc=function(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)},oc=function(e,t,n){return"color"!==n&&"backgroundColor"!==n||(t=e.toHex(t)),"fontWeight"===n&&700===t&&(t="bold"),"fontFamily"===n&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t},ac=function(e,t,n){var i,r,o,a=n.startOffset,s=n.startContainer;if((n.startContainer!==n.endContainer||!ic(n.startContainer.childNodes[n.startOffset]))&&1===s.nodeType)for(a<(o=s.childNodes).length?i=new cr(s=o[a],e.getParent(s,e.isBlock)):(i=new cr(s=o[o.length-1],e.getParent(s,e.isBlock))).next(!0),r=i.current();r;r=i.next())if(3===r.nodeType&&!rc(r))return n.setStart(r,0),void t.setRng(n)},sc=function(e,t,n){if(e)for(t=t?"nextSibling":"previousSibling",e=n?e:e[t];e;e=e[t])if(1===e.nodeType||!rc(e))return e},lc=function(e,t){return t.nodeType&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]},cc=function(e,t,n){return e.schema.isValidChild(t,n)},dc=rc,uc=function(e,t){return"string"!=typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,function(e,n){return t[n]||e})),e},hc=function(e,t){return t=t||"",e=""+((e=e||"").nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()},fc=oc,pc=function(e,t,n){return oc(e,e.getStyle(t,n),n)},mc=function(e,t){var n;return e.getParent(t,function(t){return(n=e.getStyle(t,"text-decoration"))&&"none"!==n}),n},gc=function(e,t,n){return e.getParents(t,n,e.getRoot())},vc=nc,yc=gc,bc=dc,wc=lc,xc=function(e,t){for(void 0===t&&(t=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();)(e=e.childNodes[t])&&(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}},_c=function(e,t){for(var n=t;n;){if(1===n.nodeType&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},Cc=function(e,t,n,i){var r,o,a=n.nodeValue;return void 0===i&&(i=e?a.length:0),e?(r=a.lastIndexOf(" ",i),-1!==(r=(o=a.lastIndexOf("Â ",i))<r?r:o)&&!t&&(r<i||!e)&&r<=a.length&&r++):(r=a.indexOf(" ",i),o=a.indexOf("Â ",i),r=-1!==r&&(-1===o||r<o)?r:o),r},Sc=function(e,t,n,i,r,o){var a,s,l,c;if(3===n.nodeType){if(-1!==(l=Cc(r,o,n,i)))return{container:n,offset:l};c=n}for(a=new cr(n,e.getParent(n,e.isBlock)||t);s=a[r?"prev":"next"]();)if(3!==s.nodeType||vc(s.parentNode)){if(e.isBlock(s)||hc(s,"BR"))break}else if(-1!==(l=Cc(r,o,c=s)))return{container:s,offset:l};if(c)return{container:c,offset:i=r?0:c.length}},kc=function(e,t,n,i,r){var o,a,s,l;for(3===i.nodeType&&0===i.nodeValue.length&&i[r]&&(i=i[r]),o=yc(e,i),a=0;a<o.length;a++)for(s=0;s<t.length;s++)if(!("collapsed"in(l=t[s])&&l.collapsed!==n.collapsed)&&e.is(o[a],l.selector))return o[a];return i},Tc=function(e,t,n,i){var r,o=e.dom,a=o.getRoot();if(t[0].wrapper||(r=o.getParent(n,t[0].block,a)),!r){var s=o.getParent(n,"LI,TD,TH");r=o.getParent(3===n.nodeType?n.parentNode:n,function(t){return t!==a&&wc(e,t)},s)}if(r&&t[0].wrapper&&(r=yc(o,r,"ul,ol").reverse()[0]||r),!r)for(r=n;r[i]&&!o.isBlock(r[i])&&(r=r[i],!hc(r,"br")););return r||n},Ec=function(e,t,n,i,r,o,a){var s,l,c,d,u,h;if(s=l=a?n:r,d=a?"previousSibling":"nextSibling",u=e.getRoot(),3===s.nodeType&&!bc(s)&&(a?0<i:o<s.nodeValue.length))return s;for(;;){if(!t[0].block_expand&&e.isBlock(l))return l;for(c=l[d];c;c=c[d])if(!vc(c)&&!bc(c)&&("BR"!==(h=c).nodeName||!h.getAttribute("data-mce-bogus")||h.nextSibling))return l;if(l===u||l.parentNode===u){s=l;break}l=l.parentNode}return s},Dc=function(e,t,n,i){var r,o=t.startContainer,a=t.startOffset,s=t.endContainer,l=t.endOffset,c=e.dom;return 1===o.nodeType&&o.hasChildNodes()&&3===(o=qa(o,a)).nodeType&&(a=0),1===s.nodeType&&s.hasChildNodes()&&3===(s=qa(s,t.collapsed?l:l-1)).nodeType&&(l=s.nodeValue.length),o=_c(c,o),s=_c(c,s),(vc(o.parentNode)||vc(o))&&(o=vc(o)?o:o.parentNode,3===(o=t.collapsed?o.previousSibling||o:o.nextSibling||o).nodeType&&(a=t.collapsed?o.length:0)),(vc(s.parentNode)||vc(s))&&(s=vc(s)?s:s.parentNode,3===(s=t.collapsed?s.nextSibling||s:s.previousSibling||s).nodeType&&(l=t.collapsed?0:s.length)),t.collapsed&&((r=Sc(c,e.getBody(),o,a,!0,i))&&(o=r.container,a=r.offset),(r=Sc(c,e.getBody(),s,l,!1,i))&&(s=r.container,l=r.offset)),n[0].inline&&(s=i?s:function(e,t){var n=xc(e,l);if(n.node){for(;n.node&&0===n.offset&&n.node.previousSibling;)n=xc(n.node.previousSibling);n.node&&0<n.offset&&3===n.node.nodeType&&" "===n.node.nodeValue.charAt(n.offset-1)&&1<n.offset&&(e=n.node).splitText(n.offset-1)}return e}(s)),(n[0].inline||n[0].block_expand)&&(n[0].inline&&3===o.nodeType&&0!==a||(o=Ec(c,n,o,a,s,l,!0)),n[0].inline&&3===s.nodeType&&l!==s.nodeValue.length||(s=Ec(c,n,o,a,s,l,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(o=kc(c,n,t,o,"previousSibling"),s=kc(c,n,t,s,"nextSibling")),(n[0].block||n[0].selector)&&(o=Tc(e,n,o,"previousSibling"),s=Tc(e,n,s,"nextSibling"),n[0].block&&(c.isBlock(o)||(o=Ec(c,n,o,a,s,l,!0)),c.isBlock(s)||(s=Ec(c,n,o,a,s,l,!1)))),1===o.nodeType&&(a=c.nodeIndex(o),o=o.parentNode),1===s.nodeType&&(l=c.nodeIndex(s)+1,s=s.parentNode),{startContainer:o,startOffset:a,endContainer:s,endOffset:l}},Nc=Kt.each,Ac=function(e,t,n){var i,r,o,a,s,l,c,d=t.startContainer,u=t.startOffset,h=t.endContainer,f=t.endOffset;if(0<(c=e.select("td[data-mce-selected],th[data-mce-selected]")).length)Nc(c,function(e){n([e])});else{var p,m,g,v=function(e){var t;return 3===(t=e[0]).nodeType&&t===d&&u>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===f&&0<e.length&&t===h&&3===t.nodeType&&e.splice(e.length-1,1),e},y=function(e,t,n){for(var i=[];e&&e!==n;e=e[t])i.push(e);return i},b=function(e,t){do{if(e.parentNode===t)return e;e=e.parentNode}while(e)},w=function(e,t,i){var r=i?"nextSibling":"previousSibling";for(s=(a=e).parentNode;a&&a!==t;a=s)s=a.parentNode,(l=y(a===e?a:a[r],r)).length&&(i||l.reverse(),n(v(l)))};if(1===d.nodeType&&d.hasChildNodes()&&(d=d.childNodes[u]),1===h.nodeType&&h.hasChildNodes()&&(m=f,--m>(g=(p=h).childNodes).length-1?m=g.length-1:m<0&&(m=0),h=g[m]||p),d===h)return n(v([d]));for(i=e.findCommonAncestor(d,h),a=d;a;a=a.parentNode){if(a===h)return w(d,i,!0);if(a===i)break}for(a=h;a;a=a.parentNode){if(a===d)return w(h,i);if(a===i)break}r=b(d,i)||d,o=b(h,i)||h,w(d,r,!0),(l=y(r===d?r:r.nextSibling,"nextSibling",o===h?o.nextSibling:o)).length&&n(v(l)),w(h,o)}},Oc=(kl=mi,"text",{get:function(e){if(!kl(e))throw new Error("Can only get text value of a text node");return Tl(e).getOr("")},getOption:Tl=function(e){return kl(e)?O.from(e.dom().nodeValue):O.none()},set:function(e,t){if(!kl(e))throw new Error("Can only set raw text value of a text node");e.dom().nodeValue=t}}),Ic=function(e){return Oc.get(e)},Rc=function(e,t,n,i){var r,o=t.uid,a=void 0===o?("mce-annotation",r=(new Date).getTime(),"mce-annotation_"+Math.floor(1e9*Math.random())+ ++aa+String(r)):o,s=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(t,["uid"]),l=li.fromTag("span",e);zo(l,Zo()),_i(l,""+ta(),a),_i(l,""+ea(),n);var c,d=i(a,s),u=d.attributes,h=void 0===u?{}:u,f=d.classes,p=void 0===f?[]:f;return Ci(l,h),c=l,q(p,function(e){zo(c,e)}),l},Pc=function(e,t,n,i,r){var o=[],a=Rc(e.getDoc(),r,n,i),s=$o(O.none()),l=function(){s.set(O.none())},c=function(e){q(e,d)},d=function(t){var n,i;switch(function(e,t,n,i){return $i(t).fold(function(){return"skipping"},function(r){return"br"===i||mi(a=t)&&"\ufeff"===Ic(a)?"valid":pi(o=t)&&Wo(o,Zo())?"existing":Fs(t)?"caret":cc(e,n,i)&&cc(e,hi(r),n)?"valid":"invalid-child";var o,a})}(e,t,"span",hi(t))){case"invalid-child":l();var r=Ui(t);c(r),l();break;case"valid":var d=s.get().getOrThunk(function(){var e=la(a);return o.push(e),s.set(O.some(e)),e});Ao(n=t,i=d),Ro(i,n)}};return Ac(e.dom,t,function(e){var t;l(),t=U(e,li.fromDom),c(t)}),o},Mc=function(e,t,n,i){e.undoManager.transact(function(){var r,o,a,s,l=e.selection.getRng();if(l.collapsed&&(s=Dc(r=e,o=l,[{inline:!0}],3===(a=o).startContainer.nodeType&&a.startContainer.nodeValue.length>=a.startOffset&&"Â "===a.startContainer.nodeValue[a.startOffset]),o.setStart(s.startContainer,s.startOffset),o.setEnd(s.endContainer,s.endOffset),r.selection.setRng(o)),e.selection.getRng().collapsed){var c=Rc(e.getDoc(),i,t,n.decorate);da(c,"Â "),e.selection.getRng().insertNode(c.dom()),e.selection.select(c.dom())}else{var d=Bs.getPersistentBookmark(e.selection,!1),u=e.selection.getRng();Pc(e,u,t,n.decorate,i),e.selection.moveToBookmark(d)}})};function jc(e){var t,n=(t={},{register:function(e,n){t[e]={name:e,settings:n}},lookup:function(e){return t.hasOwnProperty(e)?O.from(t[e]).map(function(e){return e.settings}):O.none()}});oa(e,n);var i=ra(e);return{register:function(e,t){n.register(e,t)},annotate:function(t,i){n.lookup(t).each(function(n){Mc(e,t,n,i)})},annotationChanged:function(e,t){i.addListener(e,t)},remove:function(t){na(e,O.some(t)).each(function(e){var t=e.elements;q(t,Lo)})},getAll:function(t){var n,i,r,o,a,s,l=(n=e,i=t,r=li.fromDom(n.getBody()),o=qo(r,"["+ea()+'="'+i+'"]'),a={},q(o,function(e){var t=Si(e,ta()),n=a.hasOwnProperty(t)?a[t]:[];a[t]=n.concat([e])}),a);return s=function(e){return U(e,function(e){return e.dom()})},bi(l,function(e,t,n){return{k:t,v:s(e)}})}}}var Lc=function(e){return 0<e.length&&(!(t=e[e.length-1]).firstChild||function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&("Â "===(t=e.firstChild).data||jr.isBr(t));var t}(t))?e.slice(0,-1):e;var t},Bc=function(e,t){var n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},$c=function(e,t){var n=vs.after(e),i=Ll(t).prev(n);return i?i.toRange():null},Fc=function(e,t,n,i){var r,o,a,s,l,c,d,u,h,f,p,m,g,v,y,b,w,x,_=(r=t,o=i,c=e.serialize(o),s=(a=r.createFragment(c)).firstChild,l=a.lastChild,s&&"META"===s.nodeName&&s.parentNode.removeChild(s),l&&"mce_marker"===l.id&&l.parentNode.removeChild(l),a),C=Bc(t,n.startContainer),S=Lc(function(e){return Kt.grep(e.childNodes,function(e){return"LI"===e.nodeName})}(_.firstChild)),k=t.getRoot(),T=function(e){var i=vs.fromRangeStart(n),r=Ll(t.getRoot()),o=1===e?r.prev(i):r.next(i);return!o||Bc(t,o.getNode())!==C};return T(1)?function(e,t,n){var i,r,o,a,s=e.parentNode;return Kt.each(t,function(t){s.insertBefore(t,e)}),i=e,r=n,o=vs.before(i),(a=Ll(r).next(o))?a.toRange():null}(C,S,k):T(2)?(d=C,u=S,h=k,t.insertAfter(u.reverse(),d),$c(u[0],h)):(p=S,m=k,g=f=C,y=(v=n).cloneRange(),b=v.cloneRange(),y.setStartBefore(g),b.setEndAfter(g),w=[y.cloneContents(),b.cloneContents()],(x=f.parentNode).insertBefore(w[0],f),Kt.each(p,function(e){x.insertBefore(e,f)}),x.insertBefore(w[1],f),x.removeChild(f),$c(p[p.length-1],m))},Hc=Kt.each,zc=function(e){this.compare=function(t,n){if(t.nodeName!==n.nodeName)return!1;var i=function(t){var n={};return Hc(e.getAttribs(t),function(i){var r=i.nodeName.toLowerCase();0!==r.indexOf("_")&&"style"!==r&&0!==r.indexOf("data-")&&(n[r]=e.getAttrib(t,r))}),n},r=function(e,t){var n,i;for(i in e)if(e.hasOwnProperty(i)){if(void 0===(n=t[i]))return!1;if(e[i]!==n)return!1;delete t[i]}for(i in t)if(t.hasOwnProperty(i))return!1;return!0};return!(!r(i(t),i(n))||!r(e.parseStyle(e.getAttrib(t,"style")),e.parseStyle(e.getAttrib(n,"style")))||nc(t)||nc(n))}},Wc=function(e){Mo(e),Ro(e,li.fromHtml('<br data-mce-bogus="1">'))},Uc=function(e){Yi(e).each(function(t){Fi(t).each(function(n){mr(e)&&vr(t)&&mr(n)&&jo(t)})})},qc=Kt.makeMap;function Vc(e){var t,n,i,r,o,a=[];return t=(e=e||{}).indent,n=qc(e.indent_before||""),i=qc(e.indent_after||""),r=Kr.getEncodeFunc(e.entity_encoding||"raw",e.entities),o="html"===e.element_format,{start:function(e,s,l){var c,d,u,h;if(t&&n[e]&&0<a.length&&0<(h=a[a.length-1]).length&&"\n"!==h&&a.push("\n"),a.push("<",e),s)for(c=0,d=s.length;c<d;c++)u=s[c],a.push(" ",u.name,'="',r(u.value,!0),'"');a[a.length]=!l||o?">":" />",l&&t&&i[e]&&0<a.length&&0<(h=a[a.length-1]).length&&"\n"!==h&&a.push("\n")},end:function(e){var n;a.push("</",e,">"),t&&i[e]&&0<a.length&&0<(n=a[a.length-1]).length&&"\n"!==n&&a.push("\n")},text:function(e,t){0<e.length&&(a[a.length]=t?e:r(e))},cdata:function(e){a.push("<![CDATA[",e,"]]>")},comment:function(e){a.push("\x3c!--",e,"--\x3e")},pi:function(e,n){n?a.push("<?",e," ",r(n),"?>"):a.push("<?",e,"?>"),t&&a.push("\n")},doctype:function(e){a.push("<!DOCTYPE",e,">",t?"\n":"")},reset:function(){a.length=0},getContent:function(){return a.join("").replace(/\n$/,"")}}}function Yc(e,t){void 0===t&&(t=so());var n=Vc(e);return(e=e||{}).validate=!("validate"in e)||e.validate,{serialize:function(i){var r,o;o=e.validate,r={3:function(e){n.text(e.value,e.raw)},8:function(e){n.comment(e.value)},7:function(e){n.pi(e.name,e.value)},10:function(e){n.doctype(e.value)},4:function(e){n.cdata(e.value)},11:function(e){if(e=e.firstChild)for(;a(e),e=e.next;);}},n.reset();var a=function(e){var i,s,l,c,d,u,h,f,p,m=r[e.type];if(m)m(e);else{if(i=e.name,s=e.shortEnded,l=e.attributes,o&&l&&1<l.length&&((u=[]).map={},p=t.getElementRule(e.name))){for(h=0,f=p.attributesOrder.length;h<f;h++)(c=p.attributesOrder[h])in l.map&&(d=l.map[c],u.map[c]=d,u.push({name:c,value:d}));for(h=0,f=l.length;h<f;h++)(c=l[h].name)in u.map||(d=l.map[c],u.map[c]=d,u.push({name:c,value:d}));l=u}if(n.start(e.name,l,s),!s){if(e=e.firstChild)for(;a(e),e=e.next;);n.end(i)}}};return 1!==i.type||e.inner?r[11](i):a(i),n.getContent()}}}var Xc=function(t){return t.collapsed?t:(n=t,i=vs.fromRangeStart(n),r=vs.fromRangeEnd(n),o=n.commonAncestorContainer,Yl.fromPosition(!1,o,r).map(function(t){return!fl(i,r,o)&&fl(i,t,o)?(a=i.container(),s=i.offset(),l=t.container(),c=t.offset(),(d=e.document.createRange()).setStart(a,s),d.setEnd(l,c),d):n;var a,s,l,c,d}).getOr(n));var n,i,r,o},Gc=jr.matchNodeNames("td th"),Kc=function(e,t){var n,i,r=e.selection.getRng(),o=r.startContainer,a=r.startOffset;r.collapsed&&(n=o,i=a,jr.isText(n)&&"Â "===n.nodeValue[i-1])&&jr.isText(o)&&(o.insertData(a-1," "),o.deleteData(a,1),r.setStart(o,a),r.setEnd(o,a),e.selection.setRng(r)),e.selection.setContent(t)},Jc=function(e,t,n){var i,r,o,a,s,l,c,d,u,h,f,p=e.selection,m=e.dom;if(/^ | $/.test(t)&&(t=function(e,t){var n,i;n=e.startContainer,i=e.startOffset;var r=function(e){return n[e]&&3===n[e].nodeType};return 3===n.nodeType&&(0<i?t=t.replace(/^&nbsp;/," "):r("previousSibling")||(t=t.replace(/^ /,"&nbsp;")),i<n.length?t=t.replace(/&nbsp;(<br>|)$/," "):r("nextSibling")||(t=t.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),t}(p.getRng(),t)),i=e.parser,f=n.merge,r=Yc({validate:e.settings.validate},e.schema),h='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',l={content:t,format:"html",selection:!0,paste:n.paste},(l=e.fire("BeforeSetContent",l)).isDefaultPrevented())e.fire("SetContent",{content:l.content,format:"html",selection:!0,paste:n.paste});else{-1===(t=l.content).indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,h);var g,v,y,b,w,x,_=(d=p.getRng()).startContainer||(d.parentElement?d.parentElement():null),C=e.getBody();_===C&&p.isCollapsed()&&m.isBlock(C.firstChild)&&(g=e,(v=C.firstChild)&&!g.schema.getShortEndedElements()[v.nodeName])&&m.isEmpty(C.firstChild)&&((d=m.createRng()).setStart(C.firstChild,0),d.setEnd(C.firstChild,0),p.setRng(d)),p.isCollapsed()||(e.selection.setRng(Xc(e.selection.getRng())),e.getDoc().execCommand("Delete",!1,null),b=t,w=(y=e.selection.getRng()).startContainer,x=y.startOffset,3===w.nodeType&&y.collapsed&&("Â "===w.data[x]?(w.deleteData(x,1),/[\u00a0| ]$/.test(b)||(b+=" ")):"Â "===w.data[x-1]&&(w.deleteData(x-1,1),/[\u00a0| ]$/.test(b)||(b=" "+b))),t=b);var S,k,T,E={context:(o=p.getNode()).nodeName.toLowerCase(),data:n.data,insert:!0};if(s=i.parse(t,E),!0===n.paste&&function(e,t){var n,i,r,o,a,s,l=t.firstChild,c=t.lastChild;return l&&"meta"===l.name&&(l=l.next),c&&"mce_marker"===c.attr("id")&&(c=c.prev),i=c,s=(n=e).getNonEmptyElements(),i&&(i.isEmpty(s)||(r=i,n.getBlockElements()[r.name]&&(a=r).firstChild&&a.firstChild===a.lastChild&&("br"===(o=r.firstChild).name||"Â "===o.value)))&&(c=c.prev),!(!l||l!==c||"ul"!==l.name&&"ol"!==l.name)}(e.schema,s)&&function(e,t){return!!Bc(e,t)}(m,o))return d=Fc(r,m,e.selection.getRng(),s),e.selection.setRng(d),void e.fire("SetContent",l);if(function(e){for(var t=s;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")}(),"mce_marker"===(u=s.lastChild).attr("id"))for(u=(c=u).prev;u;u=u.walk(!0))if(3===u.type||!m.isBlock(u.name)){e.schema.isValidChild(u.parent.name,"span")&&u.parent.insert(c,u,"br"===u.name);break}if(e._selectionOverrides.showBlockCaretContainer(o),E.invalid){for(Kc(e,h),o=p.getNode(),a=e.getBody(),9===o.nodeType?o=u=a:u=o;u!==a;)u=(o=u).parentNode;t=o===a?a.innerHTML:m.getOuterHTML(o),t=r.serialize(i.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return r.serialize(s)}))),o===a?m.setHTML(a,t):m.setOuterHTML(o,t)}else!function(e,t,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var i=n.firstChild,r=n.lastChild;!i||i===r&&"BR"===i.nodeName?e.dom.setHTML(n,t):Kc(e,t)}}(e,t=r.serialize(s),o);!function(e,t){var n=e.schema.getTextInlineElements(),i=e.dom;if(t){var r=e.getBody(),o=new zc(i);Kt.each(i.select("*[data-mce-fragment]"),function(e){for(var t=e.parentNode;t&&t!==r;t=t.parentNode)n[e.nodeName.toLowerCase()]&&o.compare(t,e)&&i.remove(e,!0)})}}(e,f),function(e,t){var n,i,r,o,a,s=e.dom,l=e.selection;if(t){if(e.selection.scrollIntoView(t),n=function(t){for(var n=e.getBody();t&&t!==n;t=t.parentNode)if("false"===e.dom.getContentEditable(t))return t;return null}(t))return s.remove(t),l.select(n);var c=s.createRng();(o=t.previousSibling)&&3===o.nodeType?(c.setStart(o,o.nodeValue.length),fe.ie||(a=t.nextSibling)&&3===a.nodeType&&(o.appendData(a.data),a.parentNode.removeChild(a))):(c.setStartBefore(t),c.setEndBefore(t)),i=s.getParent(t,s.isBlock),s.remove(t),i&&s.isEmpty(i)&&(e.$(i).empty(),c.setStart(i,0),c.setEnd(i,0),Gc(i)||i.getAttribute("data-mce-fragment")||!(r=function(t){var n=vs.fromRangeStart(t);if(n=Ll(e.getBody()).next(n))return n.toRange()}(c))?s.add(i,s.create("br",{"data-mce-bogus":"1"})):(c=r,s.remove(i))),l.setRng(c)}}(e,m.get("mce_marker")),S=e.getBody(),Kt.each(S.getElementsByTagName("*"),function(e){e.removeAttribute("data-mce-fragment")}),k=e.dom,T=e.selection.getStart(),O.from(k.getParent(T,"td,th")).map(li.fromDom).each(Uc),e.fire("SetContent",l),e.addVisual()}},Qc=function(e,t){var n,i,r="string"!=typeof(n=t)?(i=Kt.extend({paste:n.paste,data:{paste:n.paste}},n),{content:n.content,details:i}):{content:n,details:{}};Jc(e,r.content,r.details)},Zc=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,ed=function(e,t,n){var i=e.getParam(t,n);if(-1!==i.indexOf("=")){var r=e.getParam(t,"","hash");return r.hasOwnProperty(e.id)?r[e.id]:n}return i},td=function(e){return e.getParam("content_security_policy","")},nd=function(e){if(e.getParam("force_p_newlines",!1))return"p";var t=e.getParam("forced_root_block","p");return!1===t?"":t},id=function(e){return e.getParam("forced_root_block_attrs",{})},rd=function(e){return e.getParam("images_dataimg_filter",i(!0),"function")},od=function(e){return e.getParam("automatic_uploads",!0,"boolean")},ad=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},sd=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},ld=function(e){return e.getParam("images_upload_url","","string")},cd=function(e){return e.getParam("images_upload_base_path","","string")},dd=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},ud=function(e){return e.getParam("images_upload_handler",null,"function")},hd=function(e){return e.getParam("content_css_cors",!1,"boolean")},fd=function(e,t){if(!t)return t;var n=t.container(),i=t.offset();return e?ya(n)?jr.isText(n.nextSibling)?vs(n.nextSibling,0):vs.after(n):xa(t)?vs(n,i+1):t:ya(n)?jr.isText(n.previousSibling)?vs(n.previousSibling,n.previousSibling.data.length):vs.before(n):_a(t)?vs(n,i-1):t},pd={isInlineTarget:function(e,t){return Ri(li.fromDom(t),function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")}(e))},findRootInline:function(e,t,n){var i,r,o,a=(i=e,r=t,o=n,Y(xo.DOM.getParents(o.container(),"*",r),i));return O.from(a[a.length-1])},isRtl:function(e){return"rtl"===xo.DOM.getStyle(e,"direction",!0)||(t=e.textContent,Zc.test(t));var t},isAtZwsp:function(e){return xa(e)||_a(e)},normalizePosition:fd,normalizeForwards:o(fd,!0),normalizeBackwards:o(fd,!1),hasSameParentBlock:function(e,t,n){var i=hl(t,e),r=hl(n,e);return i&&i===r}},md=function(e,t){return ji(e,t)?Go(t,function(e){return yr(e)||wr(e)},(n=e,function(e){return Mi(n,li.fromDom(e.dom().parentNode))})):O.none();var n},gd=function(e){var t,n,i;e.dom.isEmpty(e.getBody())&&(e.setContent(""),i=(n=(t=e).getBody()).firstChild&&t.dom.isBlock(n.firstChild)?n.firstChild:n,t.selection.setCursorLocation(i,0))},vd=function(e,t){return Pa(t)&&!1===(i=e,r=t,jr.isText(r)&&/^[ \t\r\n]*$/.test(r.data)&&!1===function(e,t){var n,i,r=li.fromDom(e);return n=li.fromDom(t),i=o(Mi,r),Ko(n,"pre,code",i).isSome()}(i,r))||(n=t,jr.isElement(n)&&"A"===n.nodeName&&n.hasAttribute("name"))||yd(t);var n,i,r},yd=jr.hasAttribute("data-mce-bookmark"),bd=jr.hasAttribute("data-mce-bogus"),wd=jr.hasAttributeValue("data-mce-bogus","all"),xd=function(e){return function(e){var t,n,i=0;if(vd(e,e))return!1;if(!(n=e.firstChild))return!0;t=new cr(n,e);do{if(wd(n))n=t.next(!0);else if(bd(n))n=t.next();else if(jr.isBr(n))i++,n=t.next();else{if(vd(e,n))return!1;n=t.next()}}while(n);return i<=1}(e.dom())},_d=Di("block","position"),Cd=Di("from","to"),Sd=function(e,t){var n=li.fromDom(e),i=li.fromDom(t.container());return md(n,i).map(function(e){return _d(e,t)})},kd=function(e,t,n){return n.collapsed?function(e,t,n){var i=Sd(e,vs.fromRangeStart(n)),r=i.bind(function(n){return Yl.fromPosition(t,e,n.position()).bind(function(n){return Sd(e,n).map(function(n){return i=e,r=t,o=n,jr.isBr(o.position().getNode())&&!1===xd(o.block())?Yl.positionIn(!1,o.block().dom()).bind(function(e){return e.isEqual(o.position())?Yl.fromPosition(r,i,e).bind(function(e){return Sd(i,e)}):O.some(o)}).getOr(o):o;var i,r,o})})});return Xa([i,r],Cd).filter(function(e){return!1===Mi((i=e).from().block(),i.to().block())&&$i((n=e).from().block()).bind(function(e){return $i(n.to().block()).filter(function(t){return Mi(e,t)})}).isSome()&&(t=e,!1===jr.isContentEditableFalse(t.from().block())&&!1===jr.isContentEditableFalse(t.to().block()));var t,n,i})}(e,t,n):O.none()},Td=function(e,t){return function(e,t,n){return ji(t,e)?function(e,t){for(var n=B(t)?t:S,i=e.dom(),r=[];null!==i.parentNode&&void 0!==i.parentNode;){var o=i.parentNode,a=li.fromDom(o);if(r.push(a),!0===n(a))break;i=o}return r}(e,function(e){return n(e)||Mi(e,t)}).slice(0,-1):[]}(e,t,i(!1))},Ed=Td,Dd=function(e,t){return[e].concat(Td(e,t))},Nd=function(e){var t,n=(t=Ui(e),K(t,mr).fold(function(){return t},function(e){return t.slice(0,e)}));return q(n,jo),n},Ad=function(e,t){var n=Dd(t,e);return G(n.reverse(),xd).each(jo)},Od=function(e,t,n,i){if(xd(n))return Wc(n),Yl.firstPositionIn(n.dom());0===Y(zi(i),function(e){return!xd(e)}).length&&xd(t)&&Ao(i,li.fromTag("br"));var r=Yl.prevPosition(n.dom(),vs.before(i.dom()));return q(Nd(t),function(e){Ao(i,e)}),Ad(e,t),r},Id=function(e,t,n){if(xd(n))return jo(n),xd(t)&&Wc(t),Yl.firstPositionIn(t.dom());var i=Yl.lastPositionIn(n.dom());return q(Nd(t),function(e){Ro(n,e)}),Ad(e,t),i},Rd=function(e,t){Yl.positionIn(e,t.dom()).map(function(e){return e.getNode()}).map(li.fromDom).filter(vr).each(jo)},Pd=function(e,t,n){return Rd(!0,t),Rd(!1,n),function(e,t){return ji(t,e)?(n=Dd(e,t),O.from(n[n.length-1])):O.none();var n}(t,n).fold(o(Id,e,t,n),o(Od,e,t,n))},Md=function(e,t,n,i){return t?Pd(e,i,n):Pd(e,n,i)},jd=function(e,t){var n,i=li.fromDom(e.getBody());return(n=kd(i.dom(),t,e.selection.getRng()).bind(function(e){return Md(i,t,e.from().block(),e.to().block())})).each(function(t){e.selection.setRng(t.toRange())}),n.isSome()},Ld=function(e,t){var n=li.fromDom(t),i=o(Mi,e);return Xo(n,Cr,i).isSome()},Bd=function(e){var t,n,i,r,o=li.fromDom(e.getBody());return function(e,t){var n,i,r=Yl.prevPosition(e.dom(),vs.fromRangeStart(t)).isNone(),o=Yl.nextPosition(e.dom(),vs.fromRangeEnd(t)).isNone();return!(Ld(n=e,(i=t).startContainer)||Ld(n,i.endContainer))&&r&&o}(o,e.selection.getRng())?((r=e).setContent(""),r.selection.setCursorLocation(),!0):(t=o,n=e.selection,i=n.getRng(),Xa([md(t,li.fromDom(i.startContainer)),md(t,li.fromDom(i.endContainer))],function(e,r){return!1===Mi(e,r)&&(i.deleteContents(),Md(t,!0,e,r).each(function(e){n.setRng(e.toRange())}),!0)}).getOr(!1))},$d=function(e,t){return!e.selection.isCollapsed()&&Bd(e)},Fd=function(t){if(!M(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var n=[],i={};return q(t,function(r,o){var a=gi(r);if(1!==a.length)throw new Error("one and only one name per case");var s=a[0],l=r[s];if(void 0!==i[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!M(l))throw new Error("case arguments must be an array");n.push(s),i[s]=function(){var i=arguments.length;if(i!==l.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+l.length+" ("+l+"), got "+i);for(var r=new Array(i),a=0;a<r.length;a++)r[a]=arguments[a];return{fold:function(){if(arguments.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+arguments.length);return arguments[o].apply(null,r)},match:function(e){var t=gi(e);if(n.length!==t.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+t.join(","));if(!ee(n,function(e){return z(t,e)}))throw new Error("Not all branches were specified when using match. Specified: "+t.join(", ")+"\nRequired: "+n.join(", "));return e[s].apply(null,r)},log:function(t){e.console.log(t,{constructors:n,constructor:s,params:r})}}}}),i},Hd=function(e){return _l(e).exists(vr)},zd=function(e,t,n){var i=Y(Dd(li.fromDom(n.container()),t),mr),r=ne(i).getOr(t);return Yl.fromPosition(e,r.dom(),n).filter(Hd)},Wd=function(e,t){return _l(t).exists(vr)||zd(!0,e,t).isSome()},Ud=function(e,t){return(n=t,O.from(n.getNode(!0)).map(li.fromDom)).exists(vr)||zd(!1,e,t).isSome();var n},qd=o(zd,!1),Vd=o(zd,!0),Yd=("Â ",function(e){return"Â "===e}),Xd=function(e){return/^[\r\n\t ]$/.test(e)},Gd=function(e){return!Xd(e)&&!Yd(e)},Kd=function(e,t,n){return O.from(n.container()).filter(jr.isText).exists(function(i){var r=e?0:-1;return t(i.data.charAt(n.offset()+r))})},Jd=o(Kd,!0,Xd),Qd=o(Kd,!1,Xd),Zd=function(e){var t=e.container();return jr.isText(t)&&0===t.data.length},eu=function(e,t){var n=pl(e,t);return jr.isContentEditableFalse(n)&&!jr.isBogusAll(n)},tu=o(eu,0),nu=o(eu,-1),iu=function(e,t){return jr.isTable(pl(e,t))},ru=o(iu,0),ou=o(iu,-1),au=Fd([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),su=function(e,t,n,i){var r=i.getNode(!1===t);return md(li.fromDom(e),li.fromDom(n.getNode())).map(function(e){return xd(e)?au.remove(e.dom()):au.moveToElement(r)}).orThunk(function(){return O.some(au.moveToElement(r))})},lu=function(e,t,n){return Yl.fromPosition(t,e,n).bind(function(r){return d=r.getNode(),Cr(li.fromDom(d))||wr(li.fromDom(d))?O.none():(o=e,l=r,c=function(e){return gr(li.fromDom(e))&&!fl(s,l,o)},wl(!(a=t),s=n).fold(function(){return wl(a,l).fold(i(!1),c)},c)?O.none():t&&jr.isContentEditableFalse(r.getNode())?su(e,t,n,r):!1===t&&jr.isContentEditableFalse(r.getNode(!0))?su(e,t,n,r):t&&nu(n)?O.some(au.moveToPosition(r)):!1===t&&tu(n)?O.some(au.moveToPosition(r)):O.none());var o,a,s,l,c,d})},cu=function(e,t,n){if(0!==n){var i,r,o,a=e.data.slice(t,t+n),s=t+n>=e.data.length,l=0===t;e.replaceData(t,n,(r=l,o=s,X((i=a).split(""),function(e,t){return-1!==" \f\n\r\t\v".indexOf(t)||"Â "===t?e.previousCharIsSpace||""===e.str&&r||e.str.length===i.length-1&&o?{previousCharIsSpace:!1,str:e.str+"Â "}:{previousCharIsSpace:!0,str:e.str+" "}:{previousCharIsSpace:!1,str:e.str+t}},{previousCharIsSpace:!1,str:""}).str))}},du=function(e,t){var n,i=e.data.slice(t),r=i.length-(n=i,n.replace(/^\s+/g,"")).length;return cu(e,t,r)},uu=function(e,t){return i=e,r=(n=t).container(),o=n.offset(),!1===vs.isTextPosition(n)&&r===i.parentNode&&o>vs.before(i).offset()?vs(t.container(),t.offset()-1):t;var n,i,r,o},hu=function(e){return Pa(e.previousSibling)?O.some((t=e.previousSibling,jr.isText(t)?vs(t,t.data.length):vs.after(t))):e.previousSibling?Yl.lastPositionIn(e.previousSibling):O.none();var t},fu=function(e){return Pa(e.nextSibling)?O.some((t=e.nextSibling,jr.isText(t)?vs(t,0):vs.before(t))):e.nextSibling?Yl.firstPositionIn(e.nextSibling):O.none();var t},pu=function(e,t,n){return(i=e,r=t,a=n,i?function(e,t){return fu(t).orThunk(function(){return hu(t)}).orThunk(function(){return n=e,i=t,Yl.nextPosition(n,vs.after(i)).fold(function(){return Yl.prevPosition(n,vs.before(i))},O.some);var n,i})}(r,a):function(e,t){return hu(t).orThunk(function(){return fu(t)}).orThunk(function(){return n=e,i=t,r=vs.before(i.previousSibling?i.previousSibling:i.parentNode),Yl.prevPosition(n,r).fold(function(){return Yl.nextPosition(n,vs.after(i))},O.some);var n,i,r})}(r,a)).map(o(uu,n));var i,r,a},mu=function(e,t,n){n.fold(function(){e.focus()},function(n){e.selection.setRng(n.toRange(),t)})},gu=function(e,t){return t&&e.schema.getBlockElements().hasOwnProperty(hi(t))},vu=function(e){if(xd(e)){var t=li.fromHtml('<br data-mce-bogus="1">');return Mo(e),Ro(e,t),O.some(vs.before(t.dom()))}return O.none()},yu=function(e,t,n,i){void 0===i&&(i=!0);var r,a=pu(t,e.getBody(),n.dom()),s=Xo(n,o(gu,e),(r=e.getBody(),function(e){return e.dom()===r})),l=function(e,t,n){var i=Fi(e).filter(mi),r=Hi(e).filter(mi);return jo(e),Xa([i,r,t],function(e,t,i){var r,o,a,s,l=e.dom(),c=t.dom(),d=l.data.length;return o=c,a=n,s=Zn((r=l).data).length,r.appendData(o.data),jo(li.fromDom(o)),a&&du(r,s),i.container()===c?vs(l,d):i}).orThunk(function(){return n&&(i.each(function(e){return t=e.dom(),n=e.dom().length,r=(i=t.data.slice(0,n)).length-Zn(i).length,cu(t,n-r,r);var t,n,i,r}),r.each(function(e){return du(e.dom(),0)})),t})}(n,a,function(e,t){return n=e.schema.getTextInlineElements(),i=hi(t),vi.call(n,i);var n,i}(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):s.bind(vu).fold(function(){i&&mu(e,t,l)},function(n){i&&mu(e,t,O.some(n))})},bu=function(e,t){var n,i,r,o,a,s;return(n=e.getBody(),i=t,r=e.selection.getRng(),o=bl(i?1:-1,n,r),a=vs.fromRangeStart(o),s=li.fromDom(n),!1===i&&nu(a)?O.some(au.remove(a.getNode(!0))):i&&tu(a)?O.some(au.remove(a.getNode())):!1===i&&tu(a)&&Ud(s,a)?qd(s,a).map(function(e){return au.remove(e.getNode())}):i&&nu(a)&&Wd(s,a)?Vd(s,a).map(function(e){return au.remove(e.getNode())}):function(e,t,n){return o=t,a=n.getNode(!1===o),s=o?"after":"before",jr.isElement(a)&&a.getAttribute("data-mce-caret")===s?(i=t,r=n.getNode(!1===t),i&&jr.isContentEditableFalse(r.nextSibling)?O.some(au.moveToElement(r.nextSibling)):!1===i&&jr.isContentEditableFalse(r.previousSibling)?O.some(au.moveToElement(r.previousSibling)):O.none()).fold(function(){return lu(e,t,n)},O.some):lu(e,t,n).bind(function(t){return i=e,r=n,t.fold(function(e){return O.some(au.remove(e))},function(e){return O.some(au.moveToElement(e))},function(e){return fl(r,e,i)?O.none():O.some(au.moveToPosition(e))});var i,r});var i,r,o,a,s}(n,i,a)).map(function(n){return n.fold((a=e,s=t,function(e){return a._selectionOverrides.hideFakeCaret(),yu(a,s,li.fromDom(e)),!0}),(r=e,o=t,function(e){var t=o?vs.before(e):vs.after(e);return r.selection.setRng(t.toRange()),!0}),(i=e,function(e){return i.selection.setRng(e.toRange()),!0}));var i,r,o,a,s}).getOr(!1)},wu=function(e,t){return e.selection.isCollapsed()?bu(e,t):function(e,t){var n,i=e.selection.getNode();return!!jr.isContentEditableFalse(i)&&(n=li.fromDom(e.getBody()),q(qo(n,".mce-offscreen-selection"),jo),yu(e,t,li.fromDom(e.selection.getNode())),gd(e),!0)}(e,t)},xu=function(e){var t,n=function(e,t){for(;t&&t!==e;){if(jr.isContentEditableTrue(t)||jr.isContentEditableFalse(t))return t;t=t.parentNode}return null}(e.getBody(),e.selection.getNode());return jr.isContentEditableTrue(n)&&e.dom.isBlock(n)&&e.dom.isEmpty(n)&&(t=e.dom.create("br",{"data-mce-bogus":"1"}),e.dom.setHTML(n,""),n.appendChild(t),e.selection.setRng(vs.before(t).toRange())),!0},_u=jr.isText,Cu=function(e){return _u(e)&&e.data[0]===fa},Su=function(e){return _u(e)&&e.data[e.data.length-1]===fa},ku=function(e){return e.ownerDocument.createTextNode(fa)},Tu=function(e,t){return e?function(e){if(_u(e.previousSibling))return Su(e.previousSibling)||e.previousSibling.appendData(fa),e.previousSibling;if(_u(e))return Cu(e)||e.insertData(0,fa),e;var t=ku(e);return e.parentNode.insertBefore(t,e),t}(t):function(e){if(_u(e.nextSibling))return Cu(e.nextSibling)||e.nextSibling.insertData(0,fa),e.nextSibling;if(_u(e))return Su(e)||e.appendData(fa),e;var t=ku(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t}(t)},Eu=o(Tu,!0),Du=o(Tu,!1),Nu=function(e,t){return jr.isText(e.container())?Tu(t,e.container()):Tu(t,e.getNode())},Au=function(e,t){var n=t.get();return n&&e.container()===n&&ya(n)},Ou=function(e,t){return t.fold(function(t){Gs.remove(e.get());var n=Eu(t);return e.set(n),O.some(vs(n,n.length-1))},function(t){return Yl.firstPositionIn(t).map(function(t){if(Au(t,e))return vs(e.get(),1);Gs.remove(e.get());var n=Nu(t,!0);return e.set(n),vs(n,1)})},function(t){return Yl.lastPositionIn(t).map(function(t){if(Au(t,e))return vs(e.get(),e.get().length-1);Gs.remove(e.get());var n=Nu(t,!1);return e.set(n),vs(n,n.length-1)})},function(t){Gs.remove(e.get());var n=Du(t);return e.set(n),O.some(vs(n,1))})},Iu=function(e,t){for(var n=0;n<e.length;n++){var i=e[n].apply(null,t);if(i.isSome())return i}return O.none()},Ru=Fd([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Pu=function(e,t){return hl(t,e)||e},Mu=function(e,t,n){var i=pd.normalizeForwards(n),r=Pu(t,i.container());return pd.findRootInline(e,r,i).fold(function(){return Yl.nextPosition(r,i).bind(o(pd.findRootInline,e,r)).map(function(e){return Ru.before(e)})},O.none)},ju=function(e,t){return null===Hs(e,t)},Lu=function(e,t,n){return pd.findRootInline(e,t,n).filter(o(ju,t))},Bu=function(e,t,n){var i=pd.normalizeBackwards(n);return Lu(e,t,i).bind(function(e){return Yl.prevPosition(e,i).isNone()?O.some(Ru.start(e)):O.none()})},$u=function(e,t,n){var i=pd.normalizeForwards(n);return Lu(e,t,i).bind(function(e){return Yl.nextPosition(e,i).isNone()?O.some(Ru.end(e)):O.none()})},Fu=function(e,t,n){var i=pd.normalizeBackwards(n),r=Pu(t,i.container());return pd.findRootInline(e,r,i).fold(function(){return Yl.prevPosition(r,i).bind(o(pd.findRootInline,e,r)).map(function(e){return Ru.after(e)})},O.none)},Hu=function(e){return!1===pd.isRtl(Wu(e))},zu=function(e,t,n){return Iu([Mu,Bu,$u,Fu],[e,t,n]).filter(Hu)},Wu=function(e){return e.fold(r,r,r,r)},Uu=function(e){return e.fold(i("before"),i("start"),i("end"),i("after"))},qu=function(e){return e.fold(Ru.before,Ru.before,Ru.after,Ru.after)},Vu=function(e,t,n,i,r,o){return Xa([pd.findRootInline(t,n,i),pd.findRootInline(t,n,r)],function(t,i){return t!==i&&pd.hasSameParentBlock(n,t,i)?Ru.after(e?t:i):o}).getOr(o)},Yu=function(e,t){return e.fold(i(!0),function(e){return i=t,!(Uu(n=e)===Uu(i)&&Wu(n)===Wu(i));var n,i})},Xu=function(e,t){return e?t.fold(n(O.some,Ru.start),O.none,n(O.some,Ru.after),O.none):t.fold(O.none,n(O.some,Ru.before),O.none,n(O.some,Ru.end))},Gu=function(e,t,n,i){var r=pd.normalizePosition(e,i),a=zu(t,n,r);return zu(t,n,r).bind(o(Xu,e)).orThunk(function(){return r=e,s=t,l=n,c=a,d=i,u=pd.normalizePosition(r,d),Yl.fromPosition(r,l,u).map(o(pd.normalizePosition,r)).fold(function(){return c.map(qu)},function(e){return zu(s,l,e).map(o(Vu,r,s,l,u,e)).filter(o(Yu,c))}).filter(Hu);var r,s,l,c,d,u})},Ku=zu,Ju=Gu,Qu=(o(Gu,!1),o(Gu,!0),qu),Zu=function(e){return e.fold(Ru.start,Ru.start,Ru.end,Ru.end)},eh=function(e,t,n){var i=e?1:-1;return t.setRng(vs(n.container(),n.offset()+i).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},th=function(e,t){var n=t.selection.getRng(),i=e?vs.fromRangeEnd(n):vs.fromRangeStart(n);return!!function(e){return B(e.selection.getSel().modify)}(t)&&(e&&xa(i)?eh(!0,t.selection,i):!(e||!_a(i))&&eh(!1,t.selection,i))},nh=function(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},ih=function(e){return!1!==e.settings.inline_boundaries},rh=function(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},oh=function(e,t,n){return Ou(t,n).map(function(t){return nh(e,t),n})},ah=function(e,t,n){return function(){return!!ih(t)&&th(e,t)}},sh={move:function(e,t,n){return function(){return!!ih(e)&&(i=e,r=t,a=n,s=i.getBody(),l=vs.fromRangeStart(i.selection.getRng()),c=o(pd.isInlineTarget,i),Ju(a,c,s,l).bind(function(e){return oh(i,r,e)})).isSome();var i,r,a,s,l,c}},moveNextWord:o(ah,!0),movePrevWord:o(ah,!1),setupSelectedState:function(e){var t=$o(null),n=o(pd.isInlineTarget,e);return e.on("NodeChange",function(i){var r,a,s,l,c;ih(e)&&(r=n,a=e.dom,s=i.parents,l=Y(a.select('*[data-mce-selected="inline-boundary"]'),r),c=Y(s,r),q(te(l,c),o(rh,!1)),q(te(c,l),o(rh,!0)),function(e,t){if(e.selection.isCollapsed()&&!0!==e.composing&&t.get()){var n=vs.fromRangeStart(e.selection.getRng());vs.isTextPosition(n)&&!1===pd.isAtZwsp(n)&&(nh(e,Gs.removeAndReposition(t.get(),n)),t.set(null))}}(e,t),function(e,t,n,i){if(t.selection.isCollapsed()){var r=Y(i,e);q(r,function(i){var r=vs.fromRangeStart(t.selection.getRng());Ku(e,t.getBody(),r).bind(function(e){return oh(t,n,e)})})}}(n,e,t,i.parents))}),t},setCaretPosition:nh},lh=function(e,t){return function(n){return Ou(t,n).map(function(t){return sh.setCaretPosition(e,t),!0}).getOr(!1)}},ch=function(t,n,i,r){var a=t.getBody(),s=o(pd.isInlineTarget,t);t.undoManager.ignore(function(){var o,l,c;t.selection.setRng((o=i,l=r,(c=e.document.createRange()).setStart(o.container(),o.offset()),c.setEnd(l.container(),l.offset()),c)),t.execCommand("Delete"),Ku(s,a,vs.fromRangeStart(t.selection.getRng())).map(Zu).map(lh(t,n))}),t.nodeChanged()},dh=function(e,t,n){if(e.selection.isCollapsed()&&!1!==e.settings.inline_boundaries){var r=vs.fromRangeStart(e.selection.getRng());return function(e,t,n,r){var a,s,l=(a=e.getBody(),s=r.container(),hl(s,a)||a),c=o(pd.isInlineTarget,e),d=Ku(c,l,r);return d.bind(function(e){return n?e.fold(i(O.some(Zu(e))),O.none,i(O.some(Qu(e))),O.none):e.fold(O.none,i(O.some(Qu(e))),O.none,i(O.some(Zu(e))))}).map(lh(e,t)).getOrThunk(function(){var i=Yl.navigate(n,l,r),o=i.bind(function(e){return Ku(c,l,e)});return d.isSome()&&o.isSome()?pd.findRootInline(c,l,r).map(function(t){return i=t,!!Xa([Yl.firstPositionIn(i),Yl.lastPositionIn(i)],function(e,t){var n=pd.normalizePosition(!0,e),r=pd.normalizePosition(!1,t);return Yl.nextPosition(i,n).map(function(e){return e.isEqual(r)}).getOr(!0)}).getOr(!0)&&(yu(e,n,li.fromDom(t)),!0);var i}).getOr(!1):o.bind(function(o){return i.map(function(i){return n?ch(e,t,r,i):ch(e,t,i,r),!0})}).getOr(!1)})}(e,t,n,r)}return!1},uh=Di("start","end"),hh=Di("rng","table","cells"),fh=Fd([{removeTable:["element"]},{emptyCells:["cells"]}]),ph=function(e,t){return Qo(li.fromDom(e),"td,th",t)},mh=function(e,t){return Ko(e,"table",t)},gh=function(e){return!1===Mi(e.start(),e.end())},vh=function(e,t){return mh(e.start(),t).bind(function(n){return mh(e.end(),t).bind(function(e){return Mi(n,e)?O.some(n):O.none()})})},yh=function(e){return qo(e,"td,th")},bh=function(e,t){return vh(t,e).isSome()},wh=function(e,t){var n,i,r,a,s=o(Mi,e);return(n=t,i=s,r=ph(n.startContainer,i),a=ph(n.endContainer,i),Xa([r,a],uh).filter(gh).filter(function(e){return bh(i,e)}).orThunk(function(){return function(e,t){var n=ph(t.startContainer,e),i=ph(t.endContainer,e);return t.collapsed?O.none():Xa([n,i],uh).fold(function(){return n.fold(function(){return i.bind(function(t){return mh(t,e).bind(function(e){return ne(yh(e)).map(function(e){return uh(e,t)})})})},function(t){return mh(t,e).bind(function(e){return ie(yh(e)).map(function(e){return uh(t,e)})})})},function(t){return bh(e,t)?O.none():(i=e,mh((n=t).start(),i).bind(function(e){return ie(yh(e)).map(function(e){return uh(n.start(),e)})}));var n,i})}(i,n)})).bind(function(e){return vh(t=e,s).map(function(e){return hh(t,e,yh(e))});var t})},xh=function(e,t){return K(e,function(e){return Mi(e,t)})},_h=function(e){return(t=e,Xa([xh(t.cells(),t.rng().start()),xh(t.cells(),t.rng().end())],function(e,n){return t.cells().slice(e,n+1)})).map(function(t){var n=e.cells();return t.length===n.length?fh.removeTable(e.table()):fh.emptyCells(t)});var t},Ch=function(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},Sh=Ch,kh=function(e){return Y(function(e){return Z(e,function(e){var t=Ua(e);return t?[li.fromDom(t)]:[]})}(e),Cr)},Th=function(e,t){var n=function(e){return qo(e,"td[data-mce-selected],th[data-mce-selected]")}(t),i=kh(e);return 0<n.length?n:i},Eh=Th,Dh=function(e){return Th(Sh(e.selection.getSel()),li.fromDom(e.getBody()))},Nh=function(e,t){return q(t,Wc),e.selection.setCursorLocation(t[0].dom(),0),!0},Ah=function(e,t){return yu(e,!1,t),!0},Oh=function(e,t,n,i){return Rh(t,i).fold(function(){return i=e,function(e,t){return wh(e,t).bind(_h)}(t,n).map(function(e){return e.fold(o(Ah,i),o(Nh,i))});var i},function(t){return Ph(e,t)}).getOr(!1)},Ih=function(e,t){return G(Dd(t,e),Cr)},Rh=function(e,t){return G(Dd(t,e),function(e){return"caption"===hi(e)})},Ph=function(e,t){return Wc(t),e.selection.setCursorLocation(t.dom(),0),O.some(!0)},Mh=function(e,t,n){var i=li.fromDom(e.getBody());return Rh(i,n).fold(function(){return function(e,t,n,i){var r=vs.fromRangeStart(e.selection.getRng());return Ih(n,i).bind(function(i){return xd(i)?Ph(e,i):(o=e,a=n,s=t,l=i,c=r,Yl.navigate(s,o.getBody(),c).bind(function(e){return Ih(a,li.fromDom(e.getNode())).map(function(e){return!1===Mi(e,l)})}));var o,a,s,l,c})}(e,t,i,n)},function(n){return r=e,o=t,a=i,s=n,l=vs.fromRangeStart(r.selection.getRng()),xd(s)?Ph(r,s):function(e,t,n,i,r){return Yl.navigate(n,e.getBody(),r).bind(function(o){return l=i,c=n,d=r,u=o,Yl.firstPositionIn(l.dom()).bind(function(e){return Yl.lastPositionIn(l.dom()).map(function(t){return c?d.isEqual(e)&&u.isEqual(t):d.isEqual(t)&&u.isEqual(e)})}).getOr(!0)?Ph(e,i):(a=i,s=o,Rh(t,li.fromDom(s.getNode())).map(function(e){return!1===Mi(e,a)}));var a,s,l,c,d,u}).or(O.some(!0))}(r,a,o,s,l);var r,o,a,s,l}).getOr(!1)},jh=function(e,t){var n,i,r,o,a,s=li.fromDom(e.selection.getStart(!0)),l=Dh(e);return e.selection.isCollapsed()&&0===l.length?Mh(e,t,s):(n=e,i=s,r=li.fromDom(n.getBody()),o=n.selection.getRng(),0!==(a=Dh(n)).length?Nh(n,a):Oh(n,r,o,i))},Lh=hc,Bh=function(e,t,n){var i=e.formatter.get(n);if(i)for(var r=0;r<i.length;r++)if(!1===i[r].inherit&&e.dom.is(t,i[r].selector))return!0;return!1},$h=function(e,t,n,i){var r=e.dom.getRoot();return t!==r&&(t=e.dom.getParent(t,function(t){return!!Bh(e,t,n)||t.parentNode===r||!!zh(e,t,n,i,!0)}),zh(e,t,n,i))},Fh=function(e,t,n){return!!Lh(t,n.inline)||!!Lh(t,n.block)||(n.selector?1===t.nodeType&&e.is(t,n.selector):void 0)},Hh=function(e,t,n,i,r,o){var a,s,l,c=n[i];if(n.onmatch)return n.onmatch(t,n,i);if(c)if(void 0===c.length){for(a in c)if(c.hasOwnProperty(a)){if(s="attributes"===i?e.getAttrib(t,a):pc(e,t,a),r&&!s&&!n.exact)return;if((!r||n.exact)&&!Lh(s,fc(e,uc(c[a],o),a)))return}}else for(l=0;l<c.length;l++)if("attributes"===i?e.getAttrib(t,c[l]):pc(e,t,c[l]))return n;return n},zh=function(e,t,n,i,r){var o,a,s,l,c=e.formatter.get(n),d=e.dom;if(c&&t)for(a=0;a<c.length;a++)if(o=c[a],Fh(e.dom,t,o)&&Hh(d,t,o,"attributes",r,i)&&Hh(d,t,o,"styles",r,i)){if(l=o.classes)for(s=0;s<l.length;s++)if(!e.dom.hasClass(t,l[s]))return;return o}},Wh={matchNode:zh,matchName:Fh,match:function(e,t,n,i){var r;return i?$h(e,i,t,n):(i=e.selection.getNode(),!!$h(e,i,t,n)||!((r=e.selection.getStart())===i||!$h(e,r,t,n)))},matchAll:function(e,t,n){var i,r=[],o={};return i=e.selection.getStart(),e.dom.getParent(i,function(i){var a,s;for(a=0;a<t.length;a++)s=t[a],!o[s]&&zh(e,i,s,n)&&(o[s]=!0,r.push(s))},e.dom.getRoot()),r},canApply:function(e,t){var n,i,r,o,a,s=e.formatter.get(t),l=e.dom;if(s)for(n=e.selection.getStart(),i=gc(l,n),o=s.length-1;0<=o;o--){if(!(a=s[o].selector)||s[o].defaultBlock)return!0;for(r=i.length-1;0<=r;r--)if(l.is(i[r],a))return!0}return!1},matchesUnInheritedFormatSelector:Bh},Uh=function(e,t){return e.splitText(t)},qh=function(e){var t=e.startContainer,n=e.startOffset,i=e.endContainer,r=e.endOffset;return t===i&&jr.isText(t)?0<n&&n<t.nodeValue.length&&(t=(i=Uh(t,n)).previousSibling,n<r?(t=i=Uh(i,r-=n).previousSibling,r=i.nodeValue.length,n=0):r=0):(jr.isText(t)&&0<n&&n<t.nodeValue.length&&(t=Uh(t,n),n=0),jr.isText(i)&&0<r&&r<i.nodeValue.length&&(r=(i=Uh(i,r).previousSibling).nodeValue.length)),{startContainer:t,startOffset:n,endContainer:i,endOffset:r}},Vh=fa,Yh="_mce_caret",Xh=function(e){return 0<function(e){for(var t=[];e;){if(3===e.nodeType&&e.nodeValue!==Vh||1<e.childNodes.length)return[];1===e.nodeType&&t.push(e),e=e.firstChild}return t}(e).length},Gh=function(e){var t;if(e)for(e=(t=new cr(e,e)).current();e;e=t.next())if(3===e.nodeType)return e;return null},Kh=function(e){var t=li.fromTag("span");return Ci(t,{id:Yh,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Ro(t,li.fromText(Vh)),t},Jh=function(e,t,n){void 0===n&&(n=!0);var i,r=e.dom,o=e.selection;if(Xh(t))yu(e,!1,li.fromDom(t),n);else{var a=o.getRng(),s=r.getParent(t,r.isBlock),l=((i=Gh(t))&&i.nodeValue.charAt(0)===Vh&&i.deleteData(0,1),i);a.startContainer===l&&0<a.startOffset&&a.setStart(l,a.startOffset-1),a.endContainer===l&&0<a.endOffset&&a.setEnd(l,a.endOffset-1),r.remove(t,!0),s&&r.isEmpty(s)&&Wc(li.fromDom(s)),o.setRng(a)}},Qh=function(e,t,n){void 0===n&&(n=!0);var i=e.dom,r=e.selection;if(t)Jh(e,t,n);else if(!(t=Hs(e.getBody(),r.getStart())))for(;t=i.get(Yh);)Jh(e,t,!1)},Zh=function(e,t,n){var i=e.dom,r=i.getParent(n,o(lc,e));r&&i.isEmpty(r)?n.parentNode.replaceChild(t,n):(function(e){var t=qo(e,"br"),n=Y(function(e){for(var t=[],n=e.dom();n;)t.push(li.fromDom(n)),n=n.lastChild;return t}(e).slice(-1),vr);t.length===n.length&&q(n,jo)}(li.fromDom(n)),i.isEmpty(n)?n.parentNode.replaceChild(t,n):i.insertAfter(t,n))},ef=function(e,t){return e.appendChild(t),t},tf=function(e,t){var n,i,r=(n=function(e,t){return ef(e,t.cloneNode(!1))},i=t,function(e,t){for(var n=e.length-1;0<=n;n--)t(e[n])}(e,function(e){i=n(i,e)}),i);return ef(r,r.ownerDocument.createTextNode(Vh))},nf=function(e){e.on("mouseup keydown",function(t){var n,i,r,o;n=e,i=t.keyCode,r=n.selection,o=n.getBody(),Qh(n,null,!1),8!==i&&46!==i||!r.isCollapsed()||r.getStart().innerHTML!==Vh||Qh(n,Hs(o,r.getStart())),37!==i&&39!==i||Qh(n,Hs(o,r.getStart()))})},rf=function(e,t){return e.schema.getTextInlineElements().hasOwnProperty(hi(t))&&!Fs(t.dom())&&!jr.isBogus(t.dom())},of=function(e){return 1===Ui(e).length},af=function(e,t){var n,r=li.fromDom(e.getBody()),a=li.fromDom(e.selection.getStart()),s=Y((n=Dd(a,r),K(n,mr).fold(i(n),function(e){return n.slice(0,e)})),of);return ie(s).map(function(n){var i,r=vs.fromRangeStart(e.selection.getRng());return!(!function(e,t,n){return Xa([Yl.firstPositionIn(n),Yl.lastPositionIn(n)],function(i,r){var o=pd.normalizePosition(!0,i),a=pd.normalizePosition(!1,r),s=pd.normalizePosition(!1,t);return e?Yl.nextPosition(n,s).map(function(e){return e.isEqual(a)&&t.isEqual(o)}).getOr(!1):Yl.prevPosition(n,s).map(function(e){return e.isEqual(o)&&t.isEqual(a)}).getOr(!1)}).getOr(!0)}(t,r,n.dom())||Fs((i=n).dom())&&Xh(i.dom())||(function(e,t,n,i){var r,a,s,l,c=o(rf,t),d=U(Y(i,c),function(e){return e.dom()});if(0===d.length)yu(t,e,n);else{var u=(r=n.dom(),a=d,s=Kh(!1),l=tf(a,s.dom()),Ao(li.fromDom(r),s),jo(li.fromDom(r)),vs(l,0));t.selection.setRng(u.toRange())}}(t,e,n,s),0))}).getOr(!1)},sf=function(e,t){return!!e.selection.isCollapsed()&&af(e,t)},lf=jr.isContentEditableTrue,cf=jr.isContentEditableFalse,df=function(e,t,n,i,r){return t._selectionOverrides.showCaret(e,n,i,r)},uf=function(e,t){var n,i;return e.fire("BeforeObjectSelected",{target:t}).isDefaultPrevented()?null:((i=(n=t).ownerDocument.createRange()).selectNode(n),i)},hf=function(e,t,n){var i=bl(1,e.getBody(),t),r=vs.fromRangeStart(i),o=r.getNode();if(cf(o))return df(1,e,o,!r.isAtEnd(),!1);var a=r.getNode(!0);if(cf(a))return df(1,e,a,!1,!1);var s=e.dom.getParent(r.getNode(),function(e){return cf(e)||lf(e)});return cf(s)?df(1,e,s,!1,n):null},ff=function(e,t,n){return t&&t.collapsed&&hf(e,t,n)||t},pf=function(e,t,n,i,r,o){var a,s,l=df(i,e,o.getNode(!r),r,!0);if(t.collapsed){var c=t.cloneRange();r?c.setEnd(l.startContainer,l.startOffset):c.setStart(l.endContainer,l.endOffset),c.deleteContents()}else t.deleteContents();return e.selection.setRng(l),a=e.dom,s=n,jr.isText(s)&&0===s.data.length&&a.remove(s),!0},mf=function(e,t){return function(e,t){var n=e.selection.getRng();if(!jr.isText(n.commonAncestorContainer))return!1;var i=t?ms.Forwards:ms.Backwards,r=Ll(e.getBody()),a=o(Cl,r.next),s=o(Cl,r.prev),l=t?a:s,c=t?tu:nu,d=xl(i,e.getBody(),n),u=pd.normalizePosition(t,l(d));if(!u)return!1;if(c(u))return pf(e,n,d.getNode(),i,t,u);var h=l(u);return!!(h&&c(h)&&Sl(u,h))&&pf(e,n,d.getNode(),i,t,h)}(e,t)},gf=function(e,t){e.getDoc().execCommand(t,!1,null)},vf=function(e){wu(e,!1)||mf(e,!1)||dh(e,!1)||jd(e,!1)||jh(e)||$d(e)||sf(e,!1)||(gf(e,"Delete"),gd(e))},yf=function(e){wu(e,!0)||mf(e,!0)||dh(e,!0)||jd(e,!0)||jh(e)||$d(e)||sf(e,!0)||gf(e,"ForwardDelete")},bf=function(e){return function(t,n){return O.from(n).map(li.fromDom).filter(pi).bind(function(n){return function(e,t,n){var i=function(t){return n=e,i=t.dom(),r=Ei(i,n),O.from(r).filter(function(e){return 0<e.length});var n,i,r};return Go(li.fromDom(n),function(e){return i(e).isSome()},function(e){return Mi(li.fromDom(t),e)}).bind(i)}(e,t,n.dom()).or((i=e,r=n.dom(),O.from(xo.DOM.getStyle(r,i,!0))));var i,r}).getOr("")}},wf={getFontSize:bf("font-size"),getFontFamily:n(function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},bf("font-family")),toPt:function(e,t){return/[0-9.]+px$/.test(e)?(n=72*parseInt(e,10)/96,i=t||0,r=Math.pow(10,i),Math.round(n*r)/r+"pt"):e;var n,i,r}},xf=function(e){return Yl.firstPositionIn(e.getBody()).map(function(e){var t=e.container();return jr.isText(t)?t.parentNode:t})},_f=function(e){return O.from(e.selection.getRng()).bind(function(t){var n,i;return i=e.getBody(),(n=t).startContainer===i&&0===n.startOffset?O.none():O.from(e.selection.getStart(!0))})},Cf=function(e,t){if(/^[0-9\.]+$/.test(t)){var n=parseInt(t,10);if(1<=n&&n<=7){var i=function(e){return Kt.explode(e.getParam("font_size_style_values",""))}(e),r=function(e){return Kt.explode(e.getParam("font_size_classes",""))}(e);return r?r[n-1]||t:i[n-1]||t}return t}return t},Sf=function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},kf=function(e,t,n){return null!==function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(e,t,n)},Tf=function(e,t,n){return kf(e,t,function(e){return e.nodeName===n})},Ef=function(e){return e&&"TABLE"===e.nodeName},Df=function(e,t,n){for(var i=new cr(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());t=i[n?"prev":"next"]();)if(jr.isBr(t))return!0},Nf=function(e,t,n,i,r){var o,a,s,l,c,d,u=e.getRoot(),h=e.schema.getNonEmptyElements();if(s=e.getParent(r.parentNode,e.isBlock)||u,i&&jr.isBr(r)&&t&&e.isEmpty(s))return O.some(ps(r.parentNode,e.nodeIndex(r)));for(o=new cr(r,s);l=o[i?"prev":"next"]();){if("false"===e.getContentEditableParent(l)||(d=u,ba(c=l)&&!1===kf(c,d,Fs)))return O.none();if(jr.isText(l)&&0<l.nodeValue.length)return!1===Tf(l,u,"A")?O.some(ps(l,i?l.nodeValue.length:0)):O.none();if(e.isBlock(l)||h[l.nodeName.toLowerCase()])return O.none();a=l}return n&&a?O.some(ps(a,0)):O.none()},Af=function(e,t,n,i){var r,o,a,s,l,c,d,u,h,f=e.getRoot(),p=!1;if(r=i[(n?"start":"end")+"Container"],o=i[(n?"start":"end")+"Offset"],d=jr.isElement(r)&&o===r.childNodes.length,l=e.schema.getNonEmptyElements(),c=n,ba(r))return O.none();if(jr.isElement(r)&&o>r.childNodes.length-1&&(c=!1),jr.isDocument(r)&&(r=f,o=0),r===f){if(c&&(s=r.childNodes[0<o?o-1:0])){if(ba(s))return O.none();if(l[s.nodeName]||Ef(s))return O.none()}if(r.hasChildNodes()){if(o=Math.min(!c&&0<o?o-1:o,r.childNodes.length-1),r=r.childNodes[o],o=jr.isText(r)&&d?r.data.length:0,!t&&r===f.lastChild&&Ef(r))return O.none();if(function(e,t){for(;t&&t!==e;){if(jr.isContentEditableFalse(t))return!0;t=t.parentNode}return!1}(f,r)||ba(r))return O.none();if(r.hasChildNodes()&&!1===Ef(r)){a=new cr(s=r,f);do{if(jr.isContentEditableFalse(s)||ba(s)){p=!1;break}if(jr.isText(s)&&0<s.nodeValue.length){o=c?0:s.nodeValue.length,r=s,p=!0;break}if(l[s.nodeName.toLowerCase()]&&(!(u=s)||!/^(TD|TH|CAPTION)$/.test(u.nodeName))){o=e.nodeIndex(s),r=s.parentNode,c||o++,p=!0;break}}while(s=c?a.next():a.prev())}}}return t&&(jr.isText(r)&&0===o&&Nf(e,d,t,!0,r).each(function(e){r=e.container(),o=e.offset(),p=!0}),jr.isElement(r)&&((s=r.childNodes[o])||(s=r.childNodes[o-1]),!s||!jr.isBr(s)||("A",(h=s).previousSibling&&"A"===h.previousSibling.nodeName)||Df(e,s,!1)||Df(e,s,!0)||Nf(e,d,t,!0,s).each(function(e){r=e.container(),o=e.offset(),p=!0}))),c&&!t&&jr.isText(r)&&o===r.nodeValue.length&&Nf(e,d,t,!1,r).each(function(e){r=e.container(),o=e.offset(),p=!0}),p?O.some(ps(r,o)):O.none()},Of=function(e,t){var n=t.collapsed,i=t.cloneRange(),r=ps.fromRangeStart(t);return Af(e,n,!0,i).each(function(e){n&&ps.isAbove(r,e)||i.setStart(e.container(),e.offset())}),n||Af(e,n,!1,i).each(function(e){i.setEnd(e.container(),e.offset())}),n&&i.collapse(!0),Sf(t,i)?O.none():O.some(i)},If=function(e,t,n){var i=e.create("span",{},"&nbsp;");n.parentNode.insertBefore(i,n),t.scrollIntoView(i),e.remove(i)},Rf=function(e,t,n,i){var r=e.createRng();i?(r.setStartBefore(n),r.setEndBefore(n)):(r.setStartAfter(n),r.setEndAfter(n)),t.setRng(r)},Pf=function(e,t){var n=li.fromTag("br");Ao(li.fromDom(t),n),e.undoManager.add()},Mf=function(e,t){jf(e.getBody(),t)||Oo(li.fromDom(t),li.fromTag("br"));var n=li.fromTag("br");Oo(li.fromDom(t),n),If(e.dom,e.selection,n.dom()),Rf(e.dom,e.selection,n.dom(),!1),e.undoManager.add()},jf=function(e,t){return n=vs.after(t),!!jr.isBr(n.getNode())||Yl.nextPosition(e,vs.after(t)).map(function(e){return jr.isBr(e.getNode())}).getOr(!1);var n},Lf=function(e){return e&&"A"===e.nodeName&&"href"in e},Bf=function(e){return e.fold(i(!1),Lf,Lf,i(!1))},$f=function(e,n){n.fold(t,o(Pf,e),o(Mf,e),t)},Ff=function(e,t){var n,i,r,a=(n=e,i=o(pd.isInlineTarget,n),r=vs.fromRangeStart(n.selection.getRng()),Ku(i,n.getBody(),r).filter(Bf));a.isSome()?a.each(o($f,e)):function(e,t){var n,i,r=e.selection,o=e.dom,a=r.getRng();Of(o,a).each(function(e){a.setStart(e.startContainer,e.startOffset),a.setEnd(e.endContainer,e.endOffset)});var s=a.startOffset,l=a.startContainer;if(1===l.nodeType&&l.hasChildNodes()){var c=s>l.childNodes.length-1;l=l.childNodes[Math.min(s,l.childNodes.length-1)]||l,s=c&&3===l.nodeType?l.nodeValue.length:0}var d=o.getParent(l,o.isBlock),u=d?o.getParent(d.parentNode,o.isBlock):null,h=u?u.nodeName.toUpperCase():"",f=t&&t.ctrlKey;"LI"!==h||f||(d=u),l&&3===l.nodeType&&s>=l.nodeValue.length&&(function(e,t,n){for(var i,r=new cr(l,d),o=e.getNonEmptyElements();i=r.next();)if(o[i.nodeName.toLowerCase()]||0<i.length)return!0}(e.schema)||(n=o.create("br"),a.insertNode(n),a.setStartAfter(n),a.setEndAfter(n),i=!0)),n=o.create("br"),Ds(o,a,n),If(o,r,n),Rf(o,r,n,i),e.undoManager.add()}(e,t)},Hf={create:Di("start","soffset","finish","foffset")},zf=Fd([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Wf=(zf.before,zf.on,zf.after,function(e){return e.fold(r,r,r)}),Uf=Fd([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),qf={domRange:Uf.domRange,relative:Uf.relative,exact:Uf.exact,exactFromRange:function(e){return Uf.exact(e.start(),e.soffset(),e.finish(),e.foffset())},getWin:function(e){var t=e.match({domRange:function(e){return li.fromDom(e.startContainer)},relative:function(e,t){return Wf(e)},exact:function(e,t,n,i){return e}});return Bi(t)},range:Hf.create},Vf=ai.detect().browser,Yf=function(e,t){var n=mi(t)?Ic(t).length:Ui(t).length+1;return n<e?n:e<0?0:e},Xf=function(e){return qf.range(e.start(),Yf(e.soffset(),e.start()),e.finish(),Yf(e.foffset(),e.finish()))},Gf=function(e,t){return!jr.isRestrictedNode(t.dom())&&(ji(e,t)||Mi(e,t))},Kf=function(e){return function(t){return Gf(e,t.start())&&Gf(e,t.finish())}},Jf=function(e){return qf.range(li.fromDom(e.startContainer),e.startOffset,li.fromDom(e.endContainer),e.endOffset)},Qf=function(e){return function(e){var t=e.getSelection();return(t&&0!==t.rangeCount?O.from(t.getRangeAt(0)):O.none()).map(Jf)}(Bi(e).dom()).filter(Kf(e))},Zf=function(e,t){return O.from(t).filter(Kf(e)).map(Xf)},ep=function(t){var n=e.document.createRange();try{return n.setStart(t.start().dom(),t.soffset()),n.setEnd(t.finish().dom(),t.foffset()),O.some(n)}catch(e){return O.none()}},tp=function(e){return(e.bookmark?e.bookmark:O.none()).bind(o(Zf,li.fromDom(e.getBody()))).bind(ep)},np=function(e){var t=function(e){return!0===e.inline||Vf.isIE()}(e)?Qf(li.fromDom(e.getBody())):O.none();e.bookmark=t.isSome()?t:e.bookmark},ip=function(e){tp(e).each(function(t){e.selection.setRng(t)})},rp=tp,op=function(e){return br(e)||wr(e)},ap=function(e,t){var n=e.settings,i=e.dom,r=e.selection,o=e.formatter,a=/[a-z%]+$/i.exec(n.indentation)[0],s=parseInt(n.indentation,10),l=e.getParam("indent_use_margin",!1);e.queryCommandState("InsertUnorderedList")||e.queryCommandState("InsertOrderedList")||n.forced_root_block||i.getParent(r.getNode(),i.isBlock)||o.apply("div"),q(function(e){return Y(U(e.selection.getSelectedBlocks(),li.fromDom),function(e){return!op(e)&&!$i(e).map(op).getOr(!1)})}(e),function(e){!function(e,t,n,i,r,o){if("false"!==e.getContentEditable(o)){var a=n?"margin":"padding";if(a="TABLE"===o.nodeName?"margin":a,a+="rtl"===e.getStyle(o,"direction",!0)?"Right":"Left","outdent"===t){var s=Math.max(0,parseInt(o.style[a]||0,10)-i);e.setStyle(o,a,s?s+r:"")}else s=parseInt(o.style[a]||0,10)+i+r,e.setStyle(o,a,s)}}(i,t,l,s,a,e.dom())})},sp=Kt.each,lp=Kt.extend,cp=Kt.map,dp=Kt.inArray;function up(e){var t,n,i,r,o={state:{},exec:{},value:{}},a=e.settings;e.on("PreInit",function(){t=e.dom,n=e.selection,a=e.settings,i=e.formatter});var s=function(t){var n;if(!e.quirks.isHidden()&&!e.removed){if(t=t.toLowerCase(),n=o.state[t])return n(t);try{return e.getDoc().queryCommandState(t)}catch(e){}return!1}},l=function(e,t){t=t||"exec",sp(e,function(e,n){sp(n.toLowerCase().split(","),function(n){o[t][n]=e})})},c=function(t,n,i){t=t.toLowerCase(),o.value[t]=function(){return n.call(i||e)}};lp(this,{execCommand:function(t,n,i,r){var a,s,l=!1;if(!e.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||r&&r.skip_focus?ip(e):e.focus(),(r=e.fire("BeforeExecCommand",{command:t,ui:n,value:i})).isDefaultPrevented())return!1;if(s=t.toLowerCase(),a=o.exec[s])return a(s,n,i),e.fire("ExecCommand",{command:t,ui:n,value:i}),!0;if(sp(e.plugins,function(r){if(r.execCommand&&r.execCommand(t,n,i))return e.fire("ExecCommand",{command:t,ui:n,value:i}),!(l=!0)}),l)return l;if(e.theme&&e.theme.execCommand&&e.theme.execCommand(t,n,i))return e.fire("ExecCommand",{command:t,ui:n,value:i}),!0;try{l=e.getDoc().execCommand(t,n,i)}catch(e){}return!!l&&(e.fire("ExecCommand",{command:t,ui:n,value:i}),!0)}},queryCommandState:s,queryCommandValue:function(t){var n;if(!e.quirks.isHidden()&&!e.removed){if(t=t.toLowerCase(),n=o.value[t])return n(t);try{return e.getDoc().queryCommandValue(t)}catch(e){}}},queryCommandSupported:function(t){if(t=t.toLowerCase(),o.exec[t])return!0;try{return e.getDoc().queryCommandSupported(t)}catch(e){}return!1},addCommands:l,addCommand:function(t,n,i){t=t.toLowerCase(),o.exec[t]=function(t,r,o,a){return n.call(i||e,r,o,a)}},addQueryStateHandler:function(t,n,i){t=t.toLowerCase(),o.state[t]=function(){return n.call(i||e)}},addQueryValueHandler:c,hasCustomCommand:function(e){return e=e.toLowerCase(),!!o.exec[e]}});var d=function(t,n,i){return void 0===n&&(n=!1),void 0===i&&(i=null),e.getDoc().execCommand(t,n,i)},u=function(e){return i.match(e)},h=function(t,n){i.toggle(t,n?{value:n}:void 0),e.nodeChanged()},f=function(e){r=n.getBookmark(e)},p=function(){n.moveToBookmark(r)};l({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){e.undoManager.add()},"Cut,Copy,Paste":function(t){var n,i=e.getDoc();try{d(t)}catch(e){n=!0}if("paste"!==t||i.queryCommandEnabled(t)||(n=!0),n||!i.queryCommandSupported(t)){var r=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");fe.mac&&(r=r.replace(/Ctrl\+/g,"â+")),e.notificationManager.open({text:r,type:"error"})}},unlink:function(){if(n.isCollapsed()){var t=e.dom.getParent(e.selection.getStart(),"a");t&&e.dom.remove(t,!0)}else i.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(e){var t=e.substring(7);"full"===t&&(t="justify"),sp("left,center,right,justify".split(","),function(e){t!==e&&i.remove("align"+e)}),"none"!==t&&h("align"+t)},"InsertUnorderedList,InsertOrderedList":function(e){var i,r;d(e),(i=t.getParent(n.getNode(),"ol,ul"))&&(r=i.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)&&(f(),t.split(r,i),p()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){h(e)},"ForeColor,HiliteColor":function(e,t,n){h(e,n)},FontName:function(t,n,i){var r,o;o=i,(r=e).formatter.toggle("fontname",{value:Cf(r,o)}),r.nodeChanged()},FontSize:function(t,n,i){var r,o;o=i,(r=e).formatter.toggle("fontsize",{value:Cf(r,o)}),r.nodeChanged()},RemoveFormat:function(e){i.remove(e)},mceBlockQuote:function(){h("blockquote")},FormatBlock:function(e,t,n){return h(n||"p")},mceCleanup:function(){var t=n.getBookmark();e.setContent(e.getContent()),n.moveToBookmark(t)},mceRemoveNode:function(t,i,r){var o=r||n.getNode();o!==e.getBody()&&(f(),e.dom.remove(o,!0),p())},mceSelectNodeDepth:function(i,r,o){var a=0;t.getParent(n.getNode(),function(e){if(1===e.nodeType&&a++===o)return n.select(e),!1},e.getBody())},mceSelectNode:function(e,t,i){n.select(i)},mceInsertContent:function(t,n,i){Qc(e,i)},mceInsertRawHTML:function(t,i,r){n.setContent("tiny_mce_marker");var o=e.getContent();e.setContent(o.replace(/tiny_mce_marker/g,function(){return r}))},mceToggleFormat:function(e,t,n){h(n)},mceSetContent:function(t,n,i){e.setContent(i)},"Indent,Outdent":function(t){ap(e,t)},mceRepaint:function(){},InsertHorizontalRule:function(){e.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){e.hasVisual=!e.hasVisual,e.addVisual()},mceReplaceContent:function(t,i,r){e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,n.getContent({format:"text"})))},mceInsertLink:function(e,r,o){var a;"string"==typeof o&&(o={href:o}),a=t.getParent(n.getNode(),"a"),o.href=o.href.replace(" ","%20"),a&&o.href||i.remove("link"),o.href&&i.apply("link",o,a)},selectAll:function(){var e=t.getParent(n.getStart(),jr.isContentEditableTrue);if(e){var i=t.createRng();i.selectNodeContents(e),n.setRng(i)}},delete:function(){vf(e)},forwardDelete:function(){yf(e)},mceNewDocument:function(){e.setContent("")},InsertLineBreak:function(t,n,i){return Ff(e,i),!0}});var m=function(e){return function(){var r=n.isCollapsed()?[t.getParent(n.getNode(),t.isBlock)]:n.getSelectedBlocks(),o=cp(r,function(t){return!!i.matchNode(t,e)});return-1!==dp(o,!0)}};l({JustifyLeft:m("alignleft"),JustifyCenter:m("aligncenter"),JustifyRight:m("alignright"),JustifyFull:m("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return u(e)},mceBlockQuote:function(){return u("blockquote")},Outdent:function(){var e;if(a.inline_styles){if((e=t.getParent(n.getStart(),t.isBlock))&&0<parseInt(e.style.paddingLeft,10))return!0;if((e=t.getParent(n.getEnd(),t.isBlock))&&0<parseInt(e.style.paddingLeft,10))return!0}return s("InsertUnorderedList")||s("InsertOrderedList")||!a.inline_styles&&!!t.getParent(n.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){var i=t.getParent(n.getNode(),"ul,ol");return i&&("insertunorderedlist"===e&&"UL"===i.tagName||"insertorderedlist"===e&&"OL"===i.tagName)}},"state"),l({Undo:function(){e.undoManager.undo()},Redo:function(){e.undoManager.redo()}}),c("FontName",function(){return _f(t=e).fold(function(){return xf(t).map(function(e){return wf.getFontFamily(t.getBody(),e)}).getOr("")},function(e){return wf.getFontFamily(t.getBody(),e)});var t},this),c("FontSize",function(){return _f(t=e).fold(function(){return xf(t).map(function(e){return wf.getFontSize(t.getBody(),e)}).getOr("")},function(e){return wf.getFontSize(t.getBody(),e)});var t},this)}var hp=Kt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," "),fp=function(e){var t,n,i=this,r={},o=function(){return!1},a=function(){return!0};t=(e=e||{}).scope||i,n=e.toggleEvent||o;var s=function(e,t,a,s){var l,c,d;if(!1===t&&(t=o),t)for(t={func:t},s&&Kt.extend(t,s),d=(c=e.toLowerCase().split(" ")).length;d--;)e=c[d],(l=r[e])||(l=r[e]=[],n(e,!0)),a?l.unshift(t):l.push(t);return i},l=function(e,t){var o,a,s,l,c;if(e)for(o=(l=e.toLowerCase().split(" ")).length;o--;){if(e=l[o],a=r[e],!e){for(s in r)n(s,!1),delete r[s];return i}if(a){if(t)for(c=a.length;c--;)a[c].func===t&&(a=a.slice(0,c).concat(a.slice(c+1)),r[e]=a);else a.length=0;a.length||(n(e,!1),delete r[e])}}else{for(e in r)n(e,!1);r={}}return i};i.fire=function(n,i){var s,c,d,u;if(n=n.toLowerCase(),(i=i||{}).type=n,i.target||(i.target=t),i.preventDefault||(i.preventDefault=function(){i.isDefaultPrevented=a},i.stopPropagation=function(){i.isPropagationStopped=a},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=a},i.isDefaultPrevented=o,i.isPropagationStopped=o,i.isImmediatePropagationStopped=o),e.beforeFire&&e.beforeFire(i),s=r[n])for(c=0,d=s.length;c<d;c++){if((u=s[c]).once&&l(n,u.func),i.isImmediatePropagationStopped())return i.stopPropagation(),i;if(!1===u.func.call(t,i))return i.preventDefault(),i}return i},i.on=s,i.off=l,i.once=function(e,t,n){return s(e,t,n,{once:!0})},i.has=function(e){return e=e.toLowerCase(),!(!r[e]||0===r[e].length)}};fp.isNative=function(e){return!!hp[e.toLowerCase()]};var pp,mp=function(e){return e._eventDispatcher||(e._eventDispatcher=new fp({scope:e,toggleEvent:function(t,n){fp.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher},gp={fire:function(e,t,n){if(this.removed&&"remove"!==e&&"detach"!==e)return t;if(t=mp(this).fire(e,t,n),!1!==n&&this.parent)for(var i=this.parent();i&&!t.isPropagationStopped();)i.fire(e,t,!1),i=i.parent();return t},on:function(e,t,n){return mp(this).on(e,t,n)},off:function(e,t){return mp(this).off(e,t)},once:function(e,t){return mp(this).once(e,t)},hasEventListeners:function(e){return mp(this).has(e)}},vp=function(e,t,n){try{e.getDoc().execCommand(t,!1,n)}catch(e){}},yp=function(e,t,n){var i,r;Wo(e,t)&&!1===n?(r=t,Ho(i=e)?i.dom().classList.remove(r):function(e,t){return r=t,0<(o=Y(Fo(n=e,i="class"),function(e){return e!==r})).length?_i(n,i,o.join(" ")):ki(n,i),!1;var n,i,r,o}(i,r),function(e){0===(Ho(e)?e.dom().classList:Fo(e,"class")).length&&ki(e,"class")}(i)):n&&zo(e,t)},bp=function(e,t){yp(li.fromDom(e.getBody()),"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e.readonly=!0,e.getBody().contentEditable="false"):(e.readonly=!1,e.getBody().contentEditable="true",vp(e,"StyleWithCSS",!1),vp(e,"enableInlineTableEditing",!1),vp(e,"enableObjectResizing",!1),e.focus(),e.nodeChanged())},wp=xo.DOM,xp=function(e,t){return"selectionchange"===t?e.getDoc():!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t)?e.getDoc().documentElement:e.settings.event_root?(e.eventRoot||(e.eventRoot=wp.select(e.settings.event_root)[0]),e.eventRoot):e.getBody()},_p=function(e,t,n){var i;(i=e).hidden||i.readonly?!0===e.readonly&&n.preventDefault():e.fire(t,n)},Cp=function(e,t){var n,i;if(e.delegates||(e.delegates={}),!e.delegates[t]&&!e.removed)if(n=xp(e,t),e.settings.event_root){if(pp||(pp={},e.editorManager.on("removeEditor",function(){var t;if(!e.editorManager.activeEditor&&pp){for(t in pp)e.dom.unbind(xp(e,t));pp=null}})),pp[t])return;i=function(n){for(var i=n.target,r=e.editorManager.get(),o=r.length;o--;){var a=r[o].getBody();(a===i||wp.isChildOf(i,a))&&_p(r[o],t,n)}},pp[t]=i,wp.bind(n,t,i)}else i=function(n){_p(e,t,n)},wp.bind(n,t,i),e.delegates[t]=i},Sp={bindPendingEventDelegates:function(){var e=this;Kt.each(e._pendingNativeEvents,function(t){Cp(e,t)})},toggleNativeEvent:function(e,t){var n=this;"focus"!==e&&"blur"!==e&&(t?n.initialized?Cp(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(xp(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e,t=this,n=t.getBody(),i=t.dom;if(t.delegates){for(e in t.delegates)t.dom.unbind(xp(t,e),e,t.delegates[e]);delete t.delegates}!t.inline&&n&&i&&(n.onload=null,i.unbind(t.getWin()),i.unbind(t.getDoc())),i&&(i.unbind(n),i.unbind(t.getContainer()))}},kp=Sp=Kt.extend({},gp,Sp),Tp=Di("sections","settings"),Ep=ai.detect().deviceType.isTouch(),Dp=["lists","autolink","autosave"],Np={theme:"mobile"},Ap=function(e){var t=M(e)?e.join(" "):e,n=U(R(t)?t.split(" "):[],Qn);return Y(n,function(e){return 0<e.length})},Op=function(e,t){return e.sections().hasOwnProperty(t)},Ip=function(e,t,n,i){var r,a=Ap(n.forced_plugins),s=Ap(i.plugins),l=(r=e&&Op(t,"mobile")?Y(s,o(z,Dp)):s,[].concat(Ap(a)).concat(Ap(r)));return Kt.extend(i,{plugins:l.join(" ")})},Rp=function(e,t,n,i){var r,o,a,s,l,c,d,u,h,f,p=function(e,t){var n,i,r,o=(n=function(t,n){return z(e,n)},i={},r={},yi(t,function(e,t){(n(0,t)?i:r)[t]=e}),{t:i,f:r});return Tp(o.t,o.f)}(["mobile"],i),m=Kt.extend(t,n,p.settings(),(u=e,f=(h=p).settings().inline,u&&Op(h,"mobile")&&!f?(s="mobile",l=Np,d=(c=p.sections()).hasOwnProperty(s)?c[s]:{},Kt.extend({},l,d)):{}),{validate:!0,content_editable:p.settings().inline,external_plugins:(r=n,o=p.settings(),a=o.external_plugins?o.external_plugins:{},r&&r.external_plugins?Kt.extend({},r.external_plugins,a):a)});return Ip(e,p,n,m)},Pp=function(e,t,n){return O.from(t.settings[n]).filter(e)},Mp=Kt.each,jp=Kt.explode,Lp={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},Bp=Kt.makeMap("alt,ctrl,shift,meta,access");function $p(e){var t={},n=[],i=function(e){var t,n,i={};for(n in Mp(jp(e,"+"),function(e){e in Bp?i[e]=!0:/^[0-9]{2,}$/.test(e)?i.keyCode=parseInt(e,10):(i.charCode=e.charCodeAt(0),i.keyCode=Lp[e]||e.toUpperCase().charCodeAt(0))}),t=[i.keyCode],Bp)i[n]?t.push(n):i[n]=!1;return i.id=t.join(","),i.access&&(i.alt=!0,fe.mac?i.ctrl=!0:i.shift=!0),i.meta&&(fe.mac?i.meta=!0:(i.ctrl=!0,i.meta=!1)),i},r=function(t,n,r,o){var a;return(a=Kt.map(jp(t,">"),i))[a.length-1]=Kt.extend(a[a.length-1],{func:r,scope:o||e}),Kt.extend(a[0],{desc:e.translate(n),subpatterns:a.slice(1)})},o=function(e,t){return!!t&&t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&t.alt===e.altKey&&t.shift===e.shiftKey&&!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0)},a=function(e){return e.func?e.func.call(e.scope):null};e.on("keyup keypress keydown",function(e){var i,r;((r=e).altKey||r.ctrlKey||r.metaKey||"keydown"===(i=e).type&&112<=i.keyCode&&i.keyCode<=123)&&!e.isDefaultPrevented()&&(Mp(t,function(t){if(o(e,t))return n=t.subpatterns.slice(0),"keydown"===e.type&&a(t),!0}),o(e,n[0])&&(1===n.length&&"keydown"===e.type&&a(n[0]),n.shift()))}),this.add=function(n,i,o,a){var s;return"string"==typeof(s=o)?o=function(){e.execCommand(s,!1,null)}:Kt.isArray(s)&&(o=function(){e.execCommand(s[0],s[1],s[2])}),Mp(jp(Kt.trim(n.toLowerCase())),function(e){var n=r(e,i,o,a);t[n.id]=n}),!0},this.remove=function(e){var n=r(e);return!!t[n.id]&&(delete t[n.id],!0)}}var Fp=function(e){var t=Li(e).dom();return e.dom()===t.activeElement},Hp=function(e,t){(function(e,t){return(n=t,n.collapsed?O.from(qa(n.startContainer,n.startOffset)).map(li.fromDom):O.none()).bind(function(t){return _r(t)?O.some(t):!1===ji(e,t)?O.some(e):O.none()});var n})(li.fromDom(e.getBody()),t).bind(function(e){return Yl.firstPositionIn(e.dom())}).fold(function(){e.selection.normalize()},function(t){return e.selection.setRng(t.toRange())})},zp=function(e){if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},Wp=function(t){var n,i=t.getBody();return i&&(n=li.fromDom(i),Fp(n)||function(t){return(n=Li(t),i=void 0!==n?n.dom():e.document,O.from(i.activeElement).map(li.fromDom)).filter(function(e){return t.dom().contains(e.dom())});var n,i}(n).isSome())},Up=function(e){return e.inline?Wp(e):(t=e).iframeElement&&Fp(li.fromDom(t.iframeElement));var t},qp=function(e){return e.editorManager.setActive(e)},Vp=Up,Yp=function(e,t){return t.dom()[e]},Xp=function(e,t){return parseInt(Ti(t,e),10)},Gp=o(Yp,"clientWidth"),Kp=o(Yp,"clientHeight"),Jp=o(Xp,"margin-top"),Qp=o(Xp,"margin-left"),Zp=function(e,t,n){var i,r,o,a,s,l,c,d,u,h,f,p=li.fromDom(e.getBody()),m=e.inline?p:(i=p,li.fromDom(i.dom().ownerDocument.documentElement)),g=(r=e.inline,a=t,s=n,l=(o=m).dom().getBoundingClientRect(),{x:a-(r?l.left+o.dom().clientLeft+Qp(o):0),y:s-(r?l.top+o.dom().clientTop+Jp(o):0)});return d=g.x,u=g.y,h=Gp(c=m),f=Kp(c),0<=d&&0<=u&&d<=h&&u<=f},em=function(e){var t;return(t=e.inline?e.getBody():e.getContentAreaContainer(),O.from(t).map(li.fromDom)).map(function(e){return ji(Li(e),e)}).getOr(!1)};function tm(e){var t,n=[],i=function(){var t,n=e.theme;return n&&n.getNotificationManagerImpl?n.getNotificationManagerImpl():{open:t=function(){throw new Error("Theme did not provide a NotificationManager implementation.")},close:t,reposition:t,getArgs:t}},r=function(){0<n.length&&i().reposition(n)},o=function(e){K(n,function(t){return t===e}).each(function(e){n.splice(e,1)})},a=function(t){if(!e.removed&&em(e))return G(n,function(e){return n=i().getArgs(e),r=t,!(n.type!==r.type||n.text!==r.text||n.progressBar||n.timeout||r.progressBar||r.timeout);var n,r}).getOrThunk(function(){e.editorManager.setActive(e);var a,s=i().open(t,function(){o(s),r()});return a=s,n.push(a),r(),s})};return(t=e).on("SkinLoaded",function(){var e=t.settings.service_message;e&&a({text:e,type:"warning",timeout:0,icon:""})}),t.on("ResizeEditor ResizeWindow",function(){ye.requestAnimationFrame(r)}),t.on("remove",function(){q(n.slice(),function(e){i().close(e)})}),{open:a,close:function(){O.from(n[0]).each(function(e){i().close(e),o(e),r()})},getNotifications:function(){return n}}}function nm(e){var t=[],n=function(){var t,n=e.theme;return n&&n.getWindowManagerImpl?n.getWindowManagerImpl():{open:t=function(){throw new Error("Theme did not provide a WindowManager implementation.")},alert:t,confirm:t,close:t,getParams:t,setParams:t}},i=function(e,t){return function(){return t?t.apply(e,arguments):void 0}},r=function(n){var i;t.push(n),i=n,e.fire("OpenWindow",{win:i})},o=function(n){K(t,function(e){return e===n}).each(function(i){var r;t.splice(i,1),r=n,e.fire("CloseWindow",{win:r}),0===t.length&&e.focus()})},a=function(){return O.from(t[t.length-1])};return e.on("remove",function(){q(t.slice(0),function(e){n().close(e)})}),{windows:t,open:function(t,i){e.editorManager.setActive(e),np(e);var a=n().open(t,i,o);return r(a),a},alert:function(e,t,a){var s=n().alert(e,i(a||this,t),o);r(s)},confirm:function(e,t,a){var s=n().confirm(e,i(a||this,t),o);r(s)},close:function(){a().each(function(e){n().close(e),o(e)})},getParams:function(){return a().map(n().getParams).getOr(null)},setParams:function(e){a().each(function(t){n().setParams(t,e)})},getWindows:function(){return t}}}var im={},rm="en",om={setCode:function(e){e&&(rm=e,this.rtl=!!this.data[e]&&"rtl"===this.data[e]._dir)},getCode:function(){return rm},rtl:!1,add:function(e,t){var n=im[e];for(var i in n||(im[e]=n={}),t)n[i]=t[i];this.setCode(e)},translate:function(e){var t=im[rm]||{},n=function(e){return Kt.is(e,"function")?Object.prototype.toString.call(e):i(e)?"":""+e},i=function(e){return""===e||null===e||Kt.is(e,"undefined")},r=function(e){return e=n(e),Kt.hasOwn(t,e)?n(t[e]):e};if(i(e))return"";if(Kt.is(e,"object")&&Kt.hasOwn(e,"raw"))return n(e.raw);if(Kt.is(e,"array")){var o=e.slice(1);e=r(e[0]).replace(/\{([0-9]+)\}/g,function(e,t){return Kt.hasOwn(o,t)?n(o[t]):e})}return r(e).replace(/{context:\w+}$/,"")},data:im},am=No.PluginManager,sm=function(e,t){e.notificationManager.open({type:"error",text:t})},lm=function(e,t){e._skinLoaded?sm(e,t):e.on("SkinLoaded",function(){sm(e,t)})},cm=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r=e.window.console;r&&(r.error?r.error.apply(r,arguments):r.log.apply(r,arguments))},dm={pluginLoadError:function(e,t){lm(e,function(e,t){var n=function(e,t){for(var n in am.urls)if(am.urls[n]+"/plugin"+t+".js"===e)return n;return null}(t,e.suffix);return n?om.translate(["Failed to load plugin: {0} from url {1}",n,t]):om.translate(["Failed to load plugin url: {0}",t])}(e,t))},pluginInitError:function(e,t,n){var i=om.translate(["Failed to initialize plugin: {0}",t]);cm(i,n),lm(e,i)},uploadError:function(e,t){lm(e,om.translate(["Failed to upload image: {0}",t]))},displayError:lm,initError:cm},um=No.PluginManager,hm=No.ThemeManager;function fm(){return new(ae.getOrDie("XMLHttpRequest"))}function pm(t,n){var i={},r=function(t,i,r,o){var a,s;(a=fm()).open("POST",n.url),a.withCredentials=n.credentials,a.upload.onprogress=function(e){o(e.loaded/e.total*100)},a.onerror=function(){r("Image upload failed due to a XHR Transport error. Code: "+a.status)},a.onload=function(){var e,t,o;a.status<200||300<=a.status?r("HTTP Error: "+a.status):(e=JSON.parse(a.responseText))&&"string"==typeof e.location?i((t=n.basePath,o=e.location,t?t.replace(/\/$/,"")+"/"+o.replace(/^\//,""):o)):r("Invalid JSON: "+a.responseText)},(s=new e.FormData).append("file",t.blob(),t.filename()),a.send(s)},o=function(e,t){return{url:t,blobInfo:e,status:!0}},a=function(e,t){return{url:"",blobInfo:e,status:!1,error:t}},s=function(e,t){Kt.each(i[e],function(e){e(t)}),delete i[e]};return!1===B(n.handler)&&(n.handler=r),{upload:function(e,l){return n.url||n.handler!==r?function(e,r){return e=Kt.grep(e,function(e){return!t.isUploaded(e.blobUri())}),pe.all(Kt.map(e,function(e){return t.isPending(e.blobUri())?(u=e.blobUri(),new pe(function(e){i[u]=i[u]||[],i[u].push(e)})):(l=e,c=n.handler,d=r,t.markPending(l.blobUri()),new pe(function(e){var n;try{var i=function(){n&&n.close()};c(l,function(n){i(),t.markUploaded(l.blobUri(),n),s(l.blobUri(),o(l,n)),e(o(l,n))},function(n){i(),t.removeFailed(l.blobUri()),s(l.blobUri(),a(l,n)),e(a(l,n))},function(e){e<0||100<e||(n||(n=d()),n.progressBar.value(e))})}catch(t){e(a(l,t.message))}}));var l,c,d,u}))}(e,l):new pe(function(e){e([])})}}}var mm=function(e){var t,n,i=decodeURIComponent(e).split(",");return(n=/data:([^;]+)/.exec(i[0]))&&(t=n[1]),{type:t,data:i[1]}},gm=function(t){return new pe(function(n){var i,r,o,a,s=mm(t);try{i=function(e){return ae.getOrDie("atob")(e)}(s.data)}catch(t){return void n(new e.Blob([]))}for(a=i.length,r=new(ae.getOrDie("Uint8Array"))(a),o=0;o<r.length;o++)r[o]=i.charCodeAt(o);n(new e.Blob([r],{type:s.type}))})},vm=function(e){return 0===e.indexOf("blob:")?(t=e,new pe(function(e,n){var i=function(){n("Cannot convert "+t+" to Blob. Resource might not exist or is inaccessible.")};try{var r=fm();r.open("GET",t,!0),r.responseType="blob",r.onload=function(){200===this.status?e(this.response):i()},r.onerror=i,r.send()}catch(e){i()}})):0===e.indexOf("data:")?gm(e):null;var t},ym=mm,bm=0,wm=function(e){return(e||"blobid")+bm++},xm=function(e,t,n,i){var r,o;0!==t.src.indexOf("blob:")?(r=ym(t.src).data,(o=e.findFirst(function(e){return e.base64()===r}))?n({image:t,blobInfo:o}):vm(t.src).then(function(i){o=e.create(wm(),i,r),e.add(o),n({image:t,blobInfo:o})},function(e){i(e)})):(o=e.getByUri(t.src))?n({image:t,blobInfo:o}):vm(t.src).then(function(i){(function(e){return new pe(function(t){var n=new(ae.getOrDie("FileReader"));n.onloadend=function(){t(n.result)},n.readAsDataURL(e)})})(i).then(function(a){r=ym(a).data,o=e.create(wm(),i,r),e.add(o),n({image:t,blobInfo:o})})},function(e){i(e)})},_m=function(e){return e?re(e.getElementsByTagName("img")):[]},Cm=0,Sm={uuid:function(e){return e+Cm+++(t=function(){return Math.round(4294967295*Math.random()).toString(36)},"s"+(new Date).getTime().toString(36)+t()+t()+t());var t}};function km(e){var t,n,r,o,a,s,l,c,d,u=(t=[],n=function(e){var t,n,r;if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");return t=e.id||Sm.uuid("blobid"),n=e.name||t,{id:i(t),name:i(n),filename:i(n+"."+(r=e.blob.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[r.toLowerCase()]||"dat")),blob:i(e.blob),base64:i(e.base64),blobUri:i(e.blobUri||le.createObjectURL(e.blob)),uri:i(e.uri)}},{create:function(e,t,i,r){if(R(e))return n({id:e,name:r,blob:t,base64:i});if(P(e))return n(e);throw new Error("Unknown input type")},add:function(e){r(e.id())||t.push(e)},get:r=function(e){return o(function(t){return t.id()===e})},getByUri:function(e){return o(function(t){return t.blobUri()===e})},findFirst:o=function(e){return Y(t,e)[0]},removeByUri:function(e){t=Y(t,function(t){return t.blobUri()!==e||(le.revokeObjectURL(t.blobUri()),!1)})},destroy:function(){q(t,function(e){le.revokeObjectURL(e.blobUri())}),t=[]}}),h=(l={},c=function(e,t){return{status:e,resultUri:t}},{hasBlobUri:d=function(e){return e in l},getResultUri:function(e){var t=l[e];return t?t.resultUri:null},isPending:function(e){return!!d(e)&&1===l[e].status},isUploaded:function(e){return!!d(e)&&2===l[e].status},markPending:function(e){l[e]=c(1,null)},markUploaded:function(e,t){l[e]=c(2,t)},removeFailed:function(e){delete l[e]},destroy:function(){l={}}}),f=[],p=function(t){return function(n){return e.selection?t(n):[]}},m=function(e,t,n){for(var i=0;-1!==(i=e.indexOf(t,i))&&(e=e.substring(0,i)+n+e.substr(i+t.length),i+=n.length-t.length+1),-1!==i;);return e},g=function(e,t,n){return e=m(e,'src="'+t+'"','src="'+n+'"'),m(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')},v=function(t,n){q(e.undoManager.data,function(e){"fragmented"===e.type?e.fragments=U(e.fragments,function(e){return g(e,t,n)}):e.content=g(e.content,t,n)})},y=function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},b=function(t){return a||(a=pm(h,{url:ld(e),basePath:cd(e),credentials:dd(e),handler:ud(e)})),_().then(p(function(n){var i;return i=U(n,function(e){return e.blobInfo}),a.upload(i,y).then(p(function(i){var r=U(i,function(t,i){var r=n[i].image;return t.status&&sd(e)?function(t,n){u.removeByUri(t.src),v(t.src,n),e.$(t).attr({src:ad(e)?n+"?"+(new Date).getTime():n,"data-mce-src":e.convertURL(n,"src")})}(r,t.url):t.error&&dm.uploadError(e,t.error),{element:r,status:t.status}});return t&&t(r),r}))}))},w=function(t){if(od(e))return b(t)},x=function(t){return!1!==ee(f,function(e){return e(t)})&&(0!==t.getAttribute("src").indexOf("data:")||rd(e)(t))},_=function(){var t,n,r;return s||(t=h,n=u,r={},s={findAll:function(e,o){var a;o||(o=i(!0)),a=Y(_m(e),function(e){var n=e.src;return!!fe.fileApi&&!e.hasAttribute("data-mce-bogus")&&!e.hasAttribute("data-mce-placeholder")&&!(!n||n===fe.transparentSrc)&&(0===n.indexOf("blob:")?!t.isUploaded(n)&&o(e):0===n.indexOf("data:")&&o(e))});var s=U(a,function(e){if(r[e.src])return new pe(function(t){r[e.src].then(function(n){if("string"==typeof n)return n;t({image:e,blobInfo:n.blobInfo})})});var t=new pe(function(t,i){xm(n,e,t,i)}).then(function(e){return delete r[e.image.src],e}).catch(function(t){return delete r[e.src],t});return r[e.src]=t});return pe.all(s)}}),s.findAll(e.getBody(),x).then(p(function(t){return t=Y(t,function(t){return"string"!=typeof t||(dm.displayError(e,t),!1)}),q(t,function(e){v(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")}),t}))},C=function(t){return t.replace(/src="(blob:[^"]+)"/g,function(t,n){var i=h.getResultUri(n);if(i)return'src="'+i+'"';var r=u.getByUri(n);return r||(r=X(e.editorManager.get(),function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)},null)),r?'src="data:'+r.blob().type+";base64,"+r.base64()+'"':t})};return e.on("setContent",function(){od(e)?w():_()}),e.on("RawSaveContent",function(e){e.content=C(e.content)}),e.on("getContent",function(e){e.source_view||"raw"===e.format||(e.content=C(e.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(e){q(e,function(e){var t=e.attr("src");if(!u.getByUri(t)){var n=h.getResultUri(t);n&&e.attr("src",n)}})})}),{blobCache:u,addFilter:function(e){f.push(e)},uploadImages:b,uploadImagesAuto:w,scanForImages:_,destroy:function(){u.destroy(),h.destroy(),s=a=null}}}var Tm=function(e,t){return e.hasOwnProperty(t.nodeName)},Em=function(e,t){if(jr.isText(t)){if(0===t.nodeValue.length)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||Tm(e,t.nextSibling)))return!0}return!1},Dm=function(e){var t,n,i,r,o,a,s,l,c,d,u,h=e.settings,f=e.dom,p=e.selection,m=e.schema,g=m.getBlockElements(),v=p.getStart(),y=e.getBody();if(u=h.forced_root_block,v&&jr.isElement(v)&&u&&(d=y.nodeName.toLowerCase(),m.isValidChild(d,u.toLowerCase())&&(b=g,w=y,x=v,!W(Ed(li.fromDom(x),li.fromDom(w)),function(e){return Tm(b,e.dom())})))){var b,w,x,_,C;for(n=(t=p.getRng()).startContainer,i=t.startOffset,r=t.endContainer,o=t.endOffset,c=Vp(e),v=y.firstChild;v;)if(_=g,C=v,jr.isText(C)||jr.isElement(C)&&!Tm(_,C)&&!nc(C)){if(Em(g,v)){v=(s=v).nextSibling,f.remove(s);continue}a||(a=f.create(u,e.settings.forced_root_block_attrs),v.parentNode.insertBefore(a,v),l=!0),v=(s=v).nextSibling,a.appendChild(s)}else a=null,v=v.nextSibling;l&&c&&(t.setStart(n,i),t.setEnd(r,o),p.setRng(t),e.nodeChanged())}},Nm=function(e){e.settings.forced_root_block&&e.on("NodeChange",o(Dm,e))},Am=function(e){return Vi(e).fold(i([e]),function(t){return[e].concat(Am(t))})},Om=function(e){return Yi(e).fold(i([e]),function(t){return"br"===hi(t)?Fi(t).map(function(t){return[e].concat(Om(t))}).getOr([]):[e].concat(Om(t))})},Im=function(e,t,n,i){var r=n,o=new cr(n,r),a=e.schema.getNonEmptyElements();do{if(3===n.nodeType&&0!==Kt.trim(n.nodeValue).length)return void(i?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(a[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(i?t.setStartBefore(n):"BR"===n.nodeName?t.setEndBefore(n):t.setEndAfter(n));if(fe.ie&&fe.ie<11&&e.isBlock(n)&&e.isEmpty(n))return void(i?t.setStart(n,0):t.setEnd(n,0))}while(n=i?o.next():o.prev());"BODY"===r.nodeName&&(i?t.setStart(r,0):t.setEnd(r,r.childNodes.length))},Rm=function(e){var t=e.selection.getSel();return t&&0<t.rangeCount};function Pm(e){var t,n=[];"onselectionchange"in e.getDoc()||e.on("NodeChange Click MouseUp KeyUp Focus",function(n){var i,r;r={startContainer:(i=e.selection.getRng()).startContainer,startOffset:i.startOffset,endContainer:i.endContainer,endOffset:i.endOffset},"nodechange"!==n.type&&Sf(r,t)||e.fire("SelectionChange"),t=r}),e.on("contextmenu",function(){e.fire("SelectionChange")}),e.on("SelectionChange",function(){var t=e.selection.getStart(!0);!t||!fe.range&&e.selection.isCollapsed()||Rm(e)&&!function(t){var i,r;if((r=e.$(t).parentsUntil(e.getBody()).add(t)).length===n.length){for(i=r.length;0<=i&&r[i]===n[i];i--);if(-1===i)return n=r,!0}return n=r,!1}(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})}),e.on("MouseUp",function(t){!t.isDefaultPrevented()&&Rm(e)&&("IMG"===e.selection.getNode().nodeName?ye.setEditorTimeout(e,function(){e.nodeChanged()}):e.nodeChanged())}),this.nodeChanged=function(t){var n,i,r,o=e.selection;e.initialized&&o&&!e.settings.disable_nodechange&&!e.readonly&&(r=e.getBody(),(n=o.getStart(!0)||r).ownerDocument===e.getDoc()&&e.dom.isChildOf(n,r)||(n=r),i=[],e.dom.getParent(n,function(e){if(e===r)return!0;i.push(e)}),(t=t||{}).element=n,t.parents=i,e.fire("NodeChange",t))}}var Mm,jm,Lm=function(e){var t,n,i,r;return r=e.getBoundingClientRect(),n=(t=e.ownerDocument).documentElement,i=t.defaultView,{top:r.top+i.pageYOffset-n.clientTop,left:r.left+i.pageXOffset-n.clientLeft}},Bm=function(e,t){return n=(s=e).inline?Lm(s.getBody()):{left:0,top:0},a=(o=e).getBody(),i=o.inline?{left:a.scrollLeft,top:a.scrollTop}:{left:0,top:0},{pageX:(r=function(e,t){if(t.target.ownerDocument!==e.getDoc()){var n=Lm(e.getContentAreaContainer()),i=(o=(r=e).getBody(),a=r.getDoc().documentElement,s={left:o.scrollLeft,top:o.scrollTop},l={left:o.scrollLeft||a.scrollLeft,top:o.scrollTop||a.scrollTop},r.inline?s:l);return{left:t.pageX-n.left+i.left,top:t.pageY-n.top+i.top}}var r,o,a,s,l;return{left:t.pageX,top:t.pageY}}(e,t)).left-n.left+i.left,pageY:r.top-n.top+i.top};var n,i,r,o,a,s},$m=jr.isContentEditableFalse,Fm=jr.isContentEditableTrue,Hm=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},zm=function(e,t){return function(n){if(0===n.button){var i=G(t.dom.getParents(n.target),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ga.call(arguments);return function(e){for(var t=0;t<n.length;t++)if(n[t](e))return!0;return!1}}($m,Fm)).getOr(null);if(s=t.getBody(),$m(l=i)&&l!==s){var r=t.dom.getPos(i),o=t.getBody(),a=t.getDoc().documentElement;e.element=i,e.screenX=n.screenX,e.screenY=n.screenY,e.maxX=(t.inline?o.scrollWidth:a.offsetWidth)-2,e.maxY=(t.inline?o.scrollHeight:a.offsetHeight)-2,e.relX=n.pageX-r.x,e.relY=n.pageY-r.y,e.width=i.offsetWidth,e.height=i.offsetHeight,e.ghost=function(e,t,n,i){var r=t.cloneNode(!0);e.dom.setStyles(r,{width:n,height:i}),e.dom.setAttrib(r,"data-mce-selected",null);var o=e.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return e.dom.setStyles(o,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:i}),e.dom.setStyles(r,{margin:0,boxSizing:"border-box"}),o.appendChild(r),o}(t,i,e.width,e.height)}}var s,l}},Wm=function(e){e.dragging=!1,e.element=null,Hm(e.ghost)},Um=function(t){var n,i,r,o,a,s,l,c,d,u,h,f,p,m={};n=xo.DOM,s=e.document,i=zm(m,t),l=m,c=t,d=ye.throttle(function(e,t){c._selectionOverrides.hideFakeCaret(),c.selection.placeCaretAt(e,t)},0),r=function(e){var t,n,i,r,o,a,s,u,h,f,p,m,g=Math.max(Math.abs(e.screenX-l.screenX),Math.abs(e.screenY-l.screenY));if(l.element&&!l.dragging&&10<g){if(c.fire("dragstart",{target:l.element}).isDefaultPrevented())return;l.dragging=!0,c.focus()}if(l.dragging){var v=(p=l,{pageX:(m=Bm(c,e)).pageX-p.relX,pageY:m.pageY+5});h=l.ghost,f=c.getBody(),h.parentNode!==f&&f.appendChild(h),t=l.ghost,n=v,i=l.width,r=l.height,o=l.maxX,a=l.maxY,u=s=0,t.style.left=n.pageX+"px",t.style.top=n.pageY+"px",n.pageX+i>o&&(s=n.pageX+i-o),n.pageY+r>a&&(u=n.pageY+r-a),t.style.width=i-s+"px",t.style.height=r-u+"px",d(e.clientX,e.clientY)}},f=m,p=t,o=function(e){if(f.dragging&&(o=3===(s=(r=p).selection.getSel().getRangeAt(0).startContainer).nodeType?s.parentNode:s)!==(a=f.element)&&!r.dom.isChildOf(o,a)&&!$m(o)){var t=((i=f.element.cloneNode(!0)).removeAttribute("data-mce-selected"),i),n=p.fire("drop",{targetClone:t,clientX:e.clientX,clientY:e.clientY});n.isDefaultPrevented()||(t=n.targetClone,p.undoManager.transact(function(){Hm(f.element),p.insertContent(p.dom.getOuterHTML(t)),p._selectionOverrides.hideFakeCaret()}))}var i,r,o,a,s;Wm(f)},u=m,a=function(){u.dragging&&h.fire("dragend"),Wm(u)},(h=t).on("mousedown",i),t.on("mousemove",r),t.on("mouseup",o),n.bind(s,"mousemove",r),n.bind(s,"mouseup",a),t.on("remove",function(){n.unbind(s,"mousemove",r),n.unbind(s,"mouseup",a)})},qm=function(e){return X(e,function(e,t){return e.concat(function(e){var t=function(t){return U(t,function(t){return(t=Ba(t)).node=e,t})};if(jr.isElement(e))return t(e.getClientRects());if(jr.isText(e)){var n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}}(t))},[])};(jm=Mm||(Mm={}))[jm.Up=-1]="Up",jm[jm.Down=1]="Down";var Vm=function(e,t,n,i,r,o){var a,s,l=0,c=[],d=function(i){var o,a,d;for(d=qm([i]),-1===e&&(d=d.reverse()),o=0;o<d.length;o++)if(a=d[o],!n(a,s)){if(0<c.length&&t(a,qt.last(c))&&l++,a.line=l,r(a))return!0;c.push(a)}};return(s=qt.last(o.getClientRects()))&&(d(a=o.getNode()),function(e,t,n,i){for(;i=ul(i,e,ja,t);)if(n(i))return}(e,i,d,a)),c},Ym=o(Vm,Mm.Up,Ha,za),Xm=o(Vm,Mm.Down,za,Ha),Gm=function(e){return function(t){return n=e,t.line>n;var n}},Km=function(e){return function(t){return n=e,t.line===n;var n}},Jm=jr.isContentEditableFalse,Qm=ul,Zm=function(e,t){return Math.abs(e.left-t)},eg=function(e,t){return Math.abs(e.right-t)},tg=function(e,t){return e>=t.left&&e<=t.right},ng=function(e,t){return qt.reduce(e,function(e,n){var i,r;return i=Math.min(Zm(e,t),eg(e,t)),r=Math.min(Zm(n,t),eg(n,t)),tg(t,n)?n:tg(t,e)?e:r===i&&Jm(n.node)?n:r<i?n:e})},ig=function(e,t,n,i){for(;i=Qm(i,e,ja,t);)if(n(i))return},rg=function(e,t,n){if(n.collapsed)return!1;if(fe.ie&&fe.ie<=11&&n.startOffset===n.endOffset-1&&n.startContainer===n.endContainer){var i=n.startContainer.childNodes[n.startOffset];if(jr.isElement(i))return W(i.getClientRects(),function(n){return Wa(n,e,t)})}return W(n.getClientRects(),function(n){return Wa(n,e,t)})},og={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(e){return fe.mac?e.metaKey:e.ctrlKey&&!e.altKey}},ag=jr.isContentEditableTrue,sg=jr.isContentEditableFalse,lg=function(e,t){for(var n=e.getBody();t&&t!==n;){if(ag(t)||sg(t))return t;t=t.parentNode}return null},cg=function(e){var t,n,i,r=e.getBody(),a=Zs(e.getBody(),function(t){return e.dom.isBlock(t)},function(){return Vp(e)}),s="sel-"+e.dom.uniqueId(),l=function(t){t&&e.selection.setRng(t)},c=function(){return e.selection.getRng()},d=function(t,n,i,r){return void 0===r&&(r=!0),e.fire("ShowCaret",{target:n,direction:t,before:i}).isDefaultPrevented()?null:(r&&e.selection.scrollIntoView(n,-1===t),a.show(i,n))},u=function(e,t){return t=bl(e,r,t),-1===e?vs.fromRangeStart(t):vs.fromRangeEnd(t)},h=function(e){return ba(e)||Ca(e)||Sa(e)},f=function(e){return h(e.startContainer)||h(e.endContainer)},p=function(n,i){var r,o,a,l,c,h,p,m,v,y,b=e.$,w=e.dom;if(!n)return null;if(n.collapsed){if(!f(n))if(!1===i){if(m=u(-1,n),tl(m.getNode(!0)))return d(-1,m.getNode(!0),!1,!1);if(tl(m.getNode()))return d(-1,m.getNode(),!m.isAtEnd(),!1)}else{if(m=u(1,n),tl(m.getNode()))return d(1,m.getNode(),!m.isAtEnd(),!1);if(tl(m.getNode(!0)))return d(1,m.getNode(!0),!1,!1)}return null}return l=n.startContainer,c=n.startOffset,h=n.endOffset,3===l.nodeType&&0===c&&sg(l.parentNode)&&(l=l.parentNode,c=w.nodeIndex(l),l=l.parentNode),1!==l.nodeType?null:(h===c+1&&l===n.endContainer&&(r=l.childNodes[c]),sg(r)?(v=y=r.cloneNode(!0),(p=e.fire("ObjectSelected",{target:r,targetClone:v})).isDefaultPrevented()?null:(o=Jo(li.fromDom(e.getBody()),"#"+s).fold(function(){return b([])},function(e){return b([e.dom()])}),v=p.targetClone,0===o.length&&(o=b('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",s)).appendTo(e.getBody()),n=e.dom.createRng(),v===y&&fe.ie?(o.empty().append('<p style="font-size: 0" data-mce-bogus="all">Â </p>').append(v),n.setStartAfter(o[0].firstChild.firstChild),n.setEndAfter(v)):(o.empty().append("Â ").append(v).append("Â "),n.setStart(o[0].firstChild,1),n.setEnd(o[0].lastChild,0)),o.css({top:w.getPos(r,e.getBody()).y}),o[0].focus(),(a=e.selection.getSel()).removeAllRanges(),a.addRange(n),q(qo(li.fromDom(e.getBody()),"*[data-mce-selected]"),function(e){ki(e,"data-mce-selected")}),r.setAttribute("data-mce-selected","1"),t=r,g(),n)):null)},m=function(){t&&(t.removeAttribute("data-mce-selected"),Jo(li.fromDom(e.getBody()),"#"+s).each(jo),t=null),Jo(li.fromDom(e.getBody()),"#"+s).each(jo),t=null},g=function(){a.hide()};return fe.ceFalse&&(function(){e.on("mouseup",function(t){var n=c();n.collapsed&&Zp(e,t.clientX,t.clientY)&&l(hf(e,n,!1))}),e.on("click",function(t){var n;(n=lg(e,t.target))&&(sg(n)&&(t.preventDefault(),e.focus()),ag(n)&&e.dom.isChildOf(n,e.selection.getNode())&&m())}),e.on("blur NewBlock",function(){m()}),e.on("ResizeWindow FullscreenStateChanged",function(){return a.reposition()});var n,i,u,h;i=!1,(n=e).on("touchstart",function(){i=!1}),n.on("touchmove",function(){i=!0}),n.on("touchend",function(e){var t=lg(n,e.target);sg(t)&&(i||(e.preventDefault(),p(uf(n,t))))}),e.on("mousedown",function(t){var n,i=t.target;if((i===r||"HTML"===i.nodeName||e.dom.isChildOf(i,r))&&!1!==Zp(e,t.clientX,t.clientY))if(n=lg(e,i))sg(n)?(t.preventDefault(),p(uf(e,n))):(m(),ag(n)&&t.shiftKey||rg(t.clientX,t.clientY,e.selection.getRng())||(g(),e.selection.placeCaretAt(t.clientX,t.clientY)));else if(!1===tl(i)){m(),g();var a=function(e,t,n){var i,r,a,s,l,c,d,u=qm(Y(re(e.getElementsByTagName("*")),tl)),h=Y(u,function(e){return n>=e.top&&n<=e.bottom});return(i=ng(h,t))&&(i=ng((s=e,d=function(e,t){var n;return n=Y(qm([t]),function(t){return!e(t,l)}),c=c.concat(n),0===n.length},(c=[]).push(l=i),ig(Mm.Up,s,o(d,Ha),l.node),ig(Mm.Down,s,o(d,za),l.node),c),t))&&tl(i.node)?(a=t,{node:(r=i).node,before:Zm(r,a)<eg(r,a)}):null}(r,t.clientX,t.clientY);if(a&&!function(t,n){var i,r,o=e.dom.getParent(t,e.dom.isBlock),a=e.dom.getParent(n,e.dom.isBlock);return!(!o||!e.dom.isChildOf(o,a)||!1!==sg(lg(e,o)))||o&&(i=o,r=a,!(e.dom.getParent(i,e.dom.isBlock)===e.dom.getParent(r,e.dom.isBlock)))&&function(e){var t=Ll(e);if(!e.firstChild)return!1;var n=vs.before(e.firstChild),i=t.next(n);return i&&!tu(i)&&!nu(i)}(o)}(t.target,a.node)){t.preventDefault();var s=d(1,a.node,a.before,!1);e.getBody().focus(),l(s)}}}),e.on("keypress",function(t){og.modifierPressed(t)||(t.keyCode,sg(e.selection.getNode())&&t.preventDefault())}),e.on("getSelectionRange",function(e){var n=e.range;if(t){if(!t.parentNode)return void(t=null);(n=n.cloneRange()).selectNode(t),e.range=n}}),e.on("setSelectionRange",function(e){var t;(t=p(e.range,e.forward))&&(e.range=t)}),e.on("AfterSetSelectionRange",function(t){var n,i=t.range;f(i)||"mcepastebin"===i.startContainer.parentNode.id||g(),n=i.startContainer.parentNode,e.dom.hasClass(n,"mce-offscreen-selection")||m()}),e.on("copy",function(t){var n,i=t.clipboardData;if(!t.isDefaultPrevented()&&t.clipboardData&&!fe.ie){var r=(n=e.dom.get(s))?n.getElementsByTagName("*")[0]:n;r&&(t.preventDefault(),i.clearData(),i.setData("text/html",r.outerHTML),i.setData("text/plain",r.outerText))}}),function(e){var t;Um(e),(t=e).on("drop",function(e){var n=void 0!==e.clientX?t.getDoc().elementFromPoint(e.clientX,e.clientY):null;($m(n)||$m(t.dom.getContentEditableParent(n)))&&e.preventDefault()})}(e),u=e,h=Bo(function(){if(!u.removed&&u.selection.getRng().collapsed){var e=ff(u,u.selection.getRng(),!1);u.selection.setRng(e)}},0),u.on("focus",function(){h.throttle()}),u.on("blur",function(){h.cancel()})}(),i=".mce-content-body",(n=e.contentStyles).push(a.getCss()),n.push(i+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+i+" *[contentEditable=false] {cursor: default;}"+i+" *[contentEditable=true] {cursor: text;}")),{showCaret:d,showBlockCaretContainer:function(t){t.hasAttribute("data-mce-caret")&&(ka(t),l(c()),e.selection.scrollIntoView(t[0]))},hideFakeCaret:g,destroy:function(){a.destroy(),t=null}}},dg=function(e,t,n){var i,r,o,a,s=1;for(a=e.getShortEndedElements(),(o=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=i=n;r=o.exec(t);){if(i=o.lastIndex,"/"===r[1])s--;else if(!r[1]){if(r[2]in a)continue;s++}if(0===s)break}return i},ug=function(e,t){var n=e.exec(t);if(n){var i=n[1],r=n[2];return"string"==typeof i&&"data-mce-bogus"===i.toLowerCase()?r:null}return null};function hg(e,t){void 0===t&&(t=so());var n=function(){};!1!==(e=e||{}).fix_self_closing&&(e.fix_self_closing=!0);var i=e.comment?e.comment:n,r=e.cdata?e.cdata:n,o=e.text?e.text:n,a=e.start?e.start:n,s=e.end?e.end:n,l=e.pi?e.pi:n,c=e.doctype?e.doctype:n;return{parse:function(n){var d,u,h,f,p,m,g,v,y,b,w,x,_,C,S,k,T,E,D,N,A,O,I,R,P,M,j,L,B,$=0,F=[],H=0,z=Kr.decode,W=Kt.makeMap("src,href,data,background,formaction,poster,xlink:href"),U=/((java|vb)script|mhtml):/i,q=function(e){var t,n;for(t=F.length;t--&&F[t].name!==e;);if(0<=t){for(n=F.length-1;t<=n;n--)(e=F[n]).valid&&s(e.name);F.length=t}},V=function(t,n,i,r,o){var a,s,l,c,d;if(i=(n=n.toLowerCase())in w?n:z(i||r||o||""),_&&!v&&0==(0===(l=n).indexOf("data-")||0===l.indexOf("aria-"))){if(!(a=E[n])&&D){for(s=D.length;s--&&!(a=D[s]).pattern.test(n););-1===s&&(a=null)}if(!a)return;if(a.validValues&&!(i in a.validValues))return}if(W[n]&&!e.allow_script_urls){var u=i.replace(/[\s\u0000-\u001F]+/g,"");try{u=decodeURIComponent(u)}catch(e){u=unescape(u)}if(U.test(u))return;if(d=u,!(c=e).allow_html_data_urls&&(/^data:image\//i.test(d)?!1===c.allow_svg_data_urls&&/^data:image\/svg\+xml/i.test(d):/^data:/i.test(d)))return}v&&(n in W||0===n.indexOf("on"))||(f.map[n]=i,f.push({name:n,value:i}))};for(P=new RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),M=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,b=t.getShortEndedElements(),R=e.self_closing_elements||t.getSelfClosingElements(),w=t.getBoolAttrs(),_=e.validate,y=e.remove_internals,B=e.fix_self_closing,j=t.getSpecialElements(),I=n+">";d=P.exec(I);){if($<d.index&&o(z(n.substr($,d.index-$))),u=d[6])":"===(u=u.toLowerCase()).charAt(0)&&(u=u.substr(1)),q(u);else if(u=d[7]){if(d.index+d[0].length>n.length){o(z(n.substr(d.index))),$=d.index+d[0].length;continue}":"===(u=u.toLowerCase()).charAt(0)&&(u=u.substr(1)),x=u in b,B&&R[u]&&0<F.length&&F[F.length-1].name===u&&q(u);var Y=ug(M,d[8]);if(null!==Y){if("all"===Y){$=dg(t,n,P.lastIndex),P.lastIndex=$;continue}S=!1}if(!_||(C=t.getElementRule(u))){if(S=!0,_&&(E=C.attributes,D=C.attributePatterns),(T=d[8])?((v=-1!==T.indexOf("data-mce-type"))&&y&&(S=!1),(f=[]).map={},T.replace(M,V)):(f=[]).map={},_&&!v){if(N=C.attributesRequired,A=C.attributesDefault,O=C.attributesForced,C.removeEmptyAttrs&&!f.length&&(S=!1),O)for(p=O.length;p--;)g=(k=O[p]).name,"{$uid}"===(L=k.value)&&(L="mce_"+H++),f.map[g]=L,f.push({name:g,value:L});if(A)for(p=A.length;p--;)(g=(k=A[p]).name)in f.map||("{$uid}"===(L=k.value)&&(L="mce_"+H++),f.map[g]=L,f.push({name:g,value:L}));if(N){for(p=N.length;p--&&!(N[p]in f.map););-1===p&&(S=!1)}if(k=f.map["data-mce-bogus"]){if("all"===k){$=dg(t,n,P.lastIndex),P.lastIndex=$;continue}S=!1}}S&&a(u,f,x)}else S=!1;if(h=j[u]){h.lastIndex=$=d.index+d[0].length,(d=h.exec(n))?(S&&(m=n.substr($,d.index-$)),$=d.index+d[0].length):(m=n.substr($),$=n.length),S&&(0<m.length&&o(m,!0),s(u)),P.lastIndex=$;continue}x||(T&&T.indexOf("/")===T.length-1?S&&s(u):F.push({name:u,valid:S}))}else(u=d[1])?(">"===u.charAt(0)&&(u=" "+u),e.allow_conditional_comments||"[if"!==u.substr(0,3).toLowerCase()||(u=" "+u),i(u)):(u=d[2])?r(u.replace(/<!--|-->/g,"")):(u=d[3])?c(u):(u=d[4])&&l(u,d[5]);$=d.index+d[0].length}for($<n.length&&o(z(n.substr($))),p=F.length-1;0<=p;p--)(u=F[p]).valid&&s(u.name)}}}(hg||(hg={})).findEndTag=dg;var fg=hg,pg=function(e,t){var n,i,r,o,a,s,l,c,d=t,u=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,h=e.schema;for(s=e.getTempAttrs(),l=d,c=new RegExp(["\\s?("+s.join("|")+')="[^"]+"'].join("|"),"gi"),d=l.replace(c,""),a=h.getShortEndedElements();o=u.exec(d);)i=u.lastIndex,r=o[0].length,n=a[o[1]]?i:fg.findEndTag(h,d,i),d=d.substring(0,i-r)+d.substring(n),u.lastIndex=i-r;return pa(d)},mg=pg,gg=pg,vg=function(e){return jr.isElement(e)?e.outerHTML:jr.isText(e)?Kr.encodeRaw(e.data,!1):jr.isComment(e)?"\x3c!--"+e.data+"--\x3e":""},yg=function(t,n){var i,r,o;return i=function(e,t){var n=e.length+t.length+2,i=new Array(n),r=new Array(n),o=function(n,i,r,a,l){var c=s(n,i,r,a);if(null===c||c.start===i&&c.diag===i-a||c.end===n&&c.diag===n-r)for(var d=n,u=r;d<i||u<a;)d<i&&u<a&&e[d]===t[u]?(l.push([0,e[d]]),++d,++u):a-r<i-n?(l.push([2,e[d]]),++d):(l.push([1,t[u]]),++u);else{o(n,c.start,r,c.start-c.diag,l);for(var h=c.start;h<c.end;++h)l.push([0,e[h]]);o(c.end,i,c.end-c.diag,a,l)}},a=function(n,i,r,o){for(var a=n;a-i<o&&a<r&&e[a]===t[a-i];)++a;return{start:n,end:a,diag:i}},s=function(n,o,s,l){var c=o-n,d=l-s;if(0===c||0===d)return null;var u,h,f,p,m,g=c-d,v=d+c,y=(v%2==0?v:v+1)/2;for(i[1+y]=n,r[1+y]=o+1,u=0;u<=y;++u){for(h=-u;h<=u;h+=2){for(f=h+y,h===-u||h!==u&&i[f-1]<i[f+1]?i[f]=i[f+1]:i[f]=i[f-1]+1,m=(p=i[f])-n+s-h;p<o&&m<l&&e[p]===t[m];)i[f]=++p,++m;if(g%2!=0&&g-u<=h&&h<=g+u&&r[f-g]<=i[f])return a(r[f-g],h+n-s,o,l)}for(h=g-u;h<=g+u;h+=2){for(f=h+y-g,h===g-u||h!==g+u&&r[f+1]<=r[f-1]?r[f]=r[f+1]-1:r[f]=r[f-1],m=(p=r[f]-1)-n+s-h;n<=p&&s<=m&&e[p]===t[m];)r[f]=p--,m--;if(g%2==0&&-u<=h&&h<=u&&r[f]<=i[f+g])return a(r[f],h+n-s,o,l)}}},l=[];return o(0,e.length,0,t.length,l),l}(U(re(n.childNodes),vg),t),r=n,o=0,q(i,function(t){0===t[0]?o++:1===t[0]?(function(t,n,i){var r=function(t){var n,i,r;for(r=e.document.createElement("div"),n=e.document.createDocumentFragment(),t&&(r.innerHTML=t);i=r.firstChild;)n.appendChild(i);return n}(n);if(t.hasChildNodes()&&i<t.childNodes.length){var o=t.childNodes[i];o.parentNode.insertBefore(r,o)}else t.appendChild(r)}(r,t[1],o),o++):2===t[0]&&function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}}(r,o)}),n},bg=$o(O.none()),wg=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content},xg=function(t){var n=li.fromTag("body",bg.get().getOrThunk(function(){var t=e.document.implementation.createHTMLDocument("undo");return bg.set(O.some(t)),t}));return da(n,wg(t)),q(qo(n,"*[data-mce-bogus]"),Lo),n.dom().innerHTML},_g=function(e){var t,n,i;return t=function(e){return Y(U(re(e.childNodes),vg),function(e){return 0<e.length})}(e.getBody()),-1!==(n=(i=Z(t,function(t){var n=gg(e.serializer,t);return 0<n.length?[n]:[]})).join("")).indexOf("</iframe>")?function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}}(i):function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}}(n)},Cg=function(e,t,n){"fragmented"===t.type?yg(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(n?t.beforeBookmark:t.bookmark)},Sg=function(e,t){return!(!e||!t)&&(i=t,wg(e)===wg(i)||(n=t,xg(e)===xg(n)));var n,i};function kg(e){var t,n,i=this,r=0,o=[],a=0,s=function(){return 0===a},l=function(e){s()&&(i.typing=e)},c=function(t){e.setDirty(t)},d=function(e){l(!1),i.add({},e)},u=function(){i.typing&&(l(!1),i.add())};return e.on("init",function(){i.add()}),e.on("BeforeExecCommand",function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&(u(),i.beforeChange())}),e.on("ExecCommand",function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&d(e)}),e.on("ObjectResizeStart Cut",function(){i.beforeChange()}),e.on("SaveContent ObjectResized blur",d),e.on("DragEnd",d),e.on("KeyUp",function(t){var r=t.keyCode;t.isDefaultPrevented()||((33<=r&&r<=36||37<=r&&r<=40||45===r||t.ctrlKey)&&(d(),e.nodeChanged()),46!==r&&8!==r||e.nodeChanged(),n&&i.typing&&!1===Sg(_g(e),o[0])&&(!1===e.isDirty()&&(c(!0),e.fire("change",{level:o[0],lastLevel:null})),e.fire("TypingUndo"),n=!1,e.nodeChanged()))}),e.on("KeyDown",function(e){var t=e.keyCode;if(!e.isDefaultPrevented())if(33<=t&&t<=36||37<=t&&t<=40||45===t)i.typing&&d(e);else{var r=e.ctrlKey&&!e.altKey||e.metaKey;!(t<16||20<t)||224===t||91===t||i.typing||r||(i.beforeChange(),l(!0),i.add({},e),n=!0)}}),e.on("MouseDown",function(e){i.typing&&d(e)}),e.on("input",function(e){var t;e.inputType&&("insertReplacementText"===e.inputType||"insertText"===(t=e).inputType&&null===t.data)&&d(e)}),e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo"),e.on("AddUndo Undo Redo ClearUndos",function(t){t.isDefaultPrevented()||e.nodeChanged()}),i={data:o,typing:!1,beforeChange:function(){s()&&(t=Bs.getUndoBookmark(e.selection))},add:function(n,i){var a,l,d,u=e.settings;if(d=_g(e),n=n||{},n=Kt.extend(n,d),!1===s()||e.removed)return null;if(l=o[r],e.fire("BeforeAddUndo",{level:n,lastLevel:l,originalEvent:i}).isDefaultPrevented())return null;if(l&&Sg(l,n))return null;if(o[r]&&(o[r].beforeBookmark=t),u.custom_undo_redo_levels&&o.length>u.custom_undo_redo_levels){for(a=0;a<o.length-1;a++)o[a]=o[a+1];o.length--,r=o.length}n.bookmark=Bs.getUndoBookmark(e.selection),r<o.length-1&&(o.length=r+1),o.push(n),r=o.length-1;var h={level:n,lastLevel:l,originalEvent:i};return e.fire("AddUndo",h),0<r&&(c(!0),e.fire("change",h)),n},undo:function(){var t;return i.typing&&(i.add(),i.typing=!1,l(!1)),0<r&&(t=o[--r],Cg(e,t,!0),c(!0),e.fire("undo",{level:t})),t},redo:function(){var t;return r<o.length-1&&(t=o[++r],Cg(e,t,!1),c(!0),e.fire("redo",{level:t})),t},clear:function(){o=[],r=0,i.typing=!1,i.data=o,e.fire("ClearUndos")},hasUndo:function(){return 0<r||i.typing&&o[0]&&!Sg(_g(e),o[0])},hasRedo:function(){return r<o.length-1&&!i.typing},transact:function(e){return u(),i.beforeChange(),i.ignore(e),i.add()},ignore:function(e){try{a++,e()}finally{a--}},extra:function(t,n){var a,s;i.transact(t)&&(s=o[r].bookmark,a=o[r-1],Cg(e,a,!0),i.transact(n)&&(o[r-1].beforeBookmark=s))}}}var Tg,Eg={},Dg=qt.filter,Ng=qt.each;Tg=function(e){var t,n,i=e.selection.getRng();t=jr.matchNodeNames("pre"),i.collapsed||(n=e.selection.getSelectedBlocks(),Ng(Dg(Dg(n,t),function(e){return t(e.previousSibling)&&-1!==qt.indexOf(n,e.previousSibling)}),function(e){var t,n;t=e.previousSibling,gn(n=e).remove(),gn(t).append("<br><br>").append(n.childNodes)}))},Eg["pre"]||(Eg.pre=[]),Eg.pre.push(Tg);var Ag=/^(src|href|style)$/,Og=Kt.each,Ig=hc,Rg=function(e,t,n){return e.isChildOf(t,n)&&t!==n&&!e.isBlock(n)},Pg=function(e,t,n){var i,r,o;return i=t[n?"startContainer":"endContainer"],r=t[n?"startOffset":"endOffset"],jr.isElement(i)&&(o=i.childNodes.length-1,!n&&r&&r--,i=i.childNodes[o<r?o:r]),jr.isText(i)&&n&&r>=i.nodeValue.length&&(i=new cr(i,e.getBody()).next()||i),jr.isText(i)&&!n&&0===r&&(i=new cr(i,e.getBody()).prev()||i),i},Mg=function(e,t,n,i){var r=e.create(n,i);return t.parentNode.insertBefore(r,t),r.appendChild(t),r},jg=function(e,t,n,i,r){var o=li.fromDom(t),a=li.fromDom(e.create(i,r)),s=n?Wi(o):zi(o);return Po(a,s),n?(Ao(o,a),Io(a,o)):(Oo(o,a),Ro(a,o)),a.dom()},Lg=function(e,t,n,i){return!(t=sc(t,n,i))||"BR"===t.nodeName||e.isBlock(t)},Bg=function(e,t,n,i,r){var o,a,s,l,c,d,u,h,f,p,m,g,v,y,b=e.dom;if(c=b,!(Ig(d=i,(u=t).inline)||Ig(d,u.block)||(u.selector?jr.isElement(d)&&c.is(d,u.selector):void 0)||(l=i,t.links&&"A"===l.tagName)))return!1;if("all"!==t.remove)for(Og(t.styles,function(e,o){e=fc(b,uc(e,n),o),"number"==typeof o&&(o=e,r=0),(t.remove_similar||!r||Ig(pc(b,r,o),e))&&b.setStyle(i,o,""),s=1}),s&&""===b.getAttrib(i,"style")&&(i.removeAttribute("style"),i.removeAttribute("data-mce-style")),Og(t.attributes,function(e,t){var o;if(e=uc(e,n),"number"==typeof t&&(t=e,r=0),!r||Ig(b.getAttrib(r,t),e)){if("class"===t&&(e=b.getAttrib(i,t))&&(o="",Og(e.split(/\s+/),function(e){/mce\-\w+/.test(e)&&(o+=(o?" ":"")+e)}),o))return void b.setAttrib(i,t,o);"class"===t&&i.removeAttribute("className"),Ag.test(t)&&i.removeAttribute("data-mce-"+t),i.removeAttribute(t)}}),Og(t.classes,function(e){e=uc(e,n),r&&!b.hasClass(r,e)||b.removeClass(i,e)}),a=b.getAttribs(i),o=0;o<a.length;o++){var w=a[o].nodeName;if(0!==w.indexOf("_")&&0!==w.indexOf("data-"))return!1}return"none"!==t.remove?(h=e,p=t,g=(f=i).parentNode,v=h.dom,y=h.settings.forced_root_block,p.block&&(y?g===v.getRoot()&&(p.list_block&&Ig(f,p.list_block)||Og(Kt.grep(f.childNodes),function(e){cc(h,y,e.nodeName.toLowerCase())?m?m.appendChild(e):(m=Mg(v,e,y),v.setAttribs(m,h.settings.forced_root_block_attrs)):m=0})):v.isBlock(f)&&!v.isBlock(g)&&(Lg(v,f,!1)||Lg(v,f.firstChild,!0,1)||f.insertBefore(v.create("br"),f.firstChild),Lg(v,f,!0)||Lg(v,f.lastChild,!1,1)||f.appendChild(v.create("br")))),p.selector&&p.inline&&!Ig(p.inline,f)||v.remove(f,1),!0):void 0},$g=Bg,Fg=function(e,t,n,i,r){var o,a,s=e.formatter.get(t),l=s[0],c=!0,d=e.dom,u=e.selection,h=function(i){var o,a,c,d,u,h,f=(a=i,c=t,d=n,u=r,Og(gc((o=e).dom,a.parentNode).reverse(),function(e){var t;h||"_start"===e.id||"_end"===e.id||(t=Wh.matchNode(o,e,c,d,u))&&!1!==t.split&&(h=e)}),h);return function(e,t,n,i,r,o,a,s){var l,c,d,u,h,f,p=e.dom;if(n){for(f=n.parentNode,l=i.parentNode;l&&l!==f;l=l.parentNode){for(c=p.clone(l,!1),h=0;h<t.length;h++)if(Bg(e,t[h],s,c,c)){c=0;break}c&&(d&&c.appendChild(d),u||(u=c),d=c)}a.mixed&&p.isBlock(n)||(i=p.split(n,i)),d&&(r.parentNode.insertBefore(d,r),u.appendChild(r))}return i}(e,s,f,i,i,0,l,n)},f=function(t){var i,r,o,a,u;if(jr.isElement(t)&&d.getContentEditable(t)&&(a=c,c="true"===d.getContentEditable(t),u=!0),i=Kt.grep(t.childNodes),c&&!u)for(r=0,o=s.length;r<o&&!Bg(e,s[r],n,t,t);r++);if(l.deep&&i.length){for(r=0,o=i.length;r<o;r++)f(i[r]);u&&(c=a)}},p=function(e){var t,n=d.get(e?"_start":"_end"),i=n[e?"firstChild":"lastChild"];return nc(t=i)&&jr.isElement(t)&&("_start"===t.id||"_end"===t.id)&&(i=i[e?"firstChild":"lastChild"]),jr.isText(i)&&0===i.data.length&&(i=e?n.previousSibling||n.nextSibling:n.nextSibling||n.previousSibling),d.remove(n,!0),i},m=function(t){var n,i,r=t.commonAncestorContainer;if(t=Dc(e,t,s,!0),l.split){if(t=qh(t),(n=Pg(e,t,!0))!==(i=Pg(e,t))){if(/^(TR|TH|TD)$/.test(n.nodeName)&&n.firstChild&&(n="TR"===n.nodeName?n.firstChild.firstChild||n:n.firstChild||n),r&&/^T(HEAD|BODY|FOOT|R)$/.test(r.nodeName)&&/^(TH|TD)$/.test(i.nodeName)&&i.firstChild&&(i=i.firstChild||i),Rg(d,n,i)){var o=O.from(n.firstChild).getOr(n);return h(jg(d,o,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void p(!0)}if(Rg(d,i,n))return o=O.from(i.lastChild).getOr(i),h(jg(d,o,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void p(!1);n=Mg(d,n,"span",{id:"_start","data-mce-type":"bookmark"}),i=Mg(d,i,"span",{id:"_end","data-mce-type":"bookmark"}),h(n),h(i),n=p(!0),i=p()}else n=i=h(n);t.startContainer=n.parentNode?n.parentNode:n,t.startOffset=d.nodeIndex(n),t.endContainer=i.parentNode?i.parentNode:i,t.endOffset=d.nodeIndex(i)+1}Ac(d,t,function(t){Og(t,function(t){f(t),jr.isElement(t)&&"underline"===e.dom.getStyle(t,"text-decoration")&&t.parentNode&&"underline"===mc(d,t.parentNode)&&Bg(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,t)})})};if(i)i.nodeType?((a=d.createRng()).setStartBefore(i),a.setEndAfter(i),m(a)):m(i);else if("false"!==d.getContentEditable(u.getNode()))u.isCollapsed()&&l.inline&&!d.select("td[data-mce-selected],th[data-mce-selected]").length?function(e,t,n,i){var r,o,a,s,l,c,d,u=e.dom,h=e.selection,f=[],p=h.getRng();for(r=p.startContainer,o=p.startOffset,3===(l=r).nodeType&&(o!==r.nodeValue.length&&(s=!0),l=l.parentNode);l;){if(Wh.matchNode(e,l,t,n,i)){c=l;break}l.nextSibling&&(s=!0),f.push(l),l=l.parentNode}if(c)if(s){a=h.getBookmark(),p.collapse(!0);var m=Dc(e,p,e.formatter.get(t),!0);m=qh(m),e.formatter.remove(t,n,m),h.moveToBookmark(a)}else{d=Hs(e.getBody(),c);var g=Kh(!1).dom(),v=tf(f,g);Zh(e,g,d||c),Jh(e,d,!1),h.setCursorLocation(v,1),u.isEmpty(c)&&u.remove(c)}}(e,t,n,r):(o=Bs.getPersistentBookmark(e.selection,!0),m(u.getRng()),u.moveToBookmark(o),l.inline&&Wh.match(e,t,n,u.getStart())&&ac(d,u,u.getRng()),e.nodeChanged());else{i=u.getNode();for(var g=0,v=s.length;g<v&&(!s[g].ceFalseOverride||!Bg(e,s[g],n,i,i));g++);}},Hg=Kt.each,zg=function(e){return e&&1===e.nodeType&&!nc(e)&&!Fs(e)&&!jr.isBogus(e)},Wg=function(e,t){var n;for(n=e;n;n=n[t]){if(3===n.nodeType&&0!==n.nodeValue.length)return e;if(1===n.nodeType&&!nc(n))return n}return e},Ug=function(e,t,n){var i,r,o=new zc(e);if(t&&n&&(t=Wg(t,"previousSibling"),n=Wg(n,"nextSibling"),o.compare(t,n))){for(i=t.nextSibling;i&&i!==n;)i=(r=i).nextSibling,t.appendChild(r);return e.remove(n),Kt.each(Kt.grep(n.childNodes),function(e){t.appendChild(e)}),t}return n},qg=function(e,t,n){Hg(e.childNodes,function(e){zg(e)&&(t(e)&&n(e),e.hasChildNodes()&&qg(e,t,n))})},Vg=function(e,t){return o(function(t,n){return!(!n||!pc(e,n,t))},t)},Yg=function(e,t,n){return o(function(t,n,i){e.setStyle(i,t,n),""===i.getAttribute("style")&&i.removeAttribute("style"),Xg(e,i)},t,n)},Xg=function(e,t){"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)},Gg=function(e,t){var n;1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType&&(n=mc(e,t.parentNode),e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null))},Kg=Kt.each,Jg=function(e,t,n,i){var r,a,s=e.formatter.get(t),l=s[0],c=!i&&e.selection.isCollapsed(),d=e.dom,u=e.selection,h=function(e,t){if(t=t||l,e){if(t.onformat&&t.onformat(e,t,n,i),Kg(t.styles,function(t,i){d.setStyle(e,i,uc(t,n))}),t.styles){var r=d.getAttrib(e,"style");r&&e.setAttribute("data-mce-style",r)}Kg(t.attributes,function(t,i){d.setAttrib(e,i,uc(t,n))}),Kg(t.classes,function(t){t=uc(t,n),d.hasClass(e,t)||d.addClass(e,t)})}},f=function(e,t){var n=!1;return!!l.selector&&(Kg(e,function(e){if(!("collapsed"in e&&e.collapsed!==c))return d.is(t,e.selector)&&!Fs(t)?(h(t,e),!(n=!0)):void 0}),n)},p=function(i,r,o,a){var c,d,u=[],p=!0;c=l.inline||l.block,d=i.create(c),h(d),Ac(i,r,function(r){var o,m=function(r){var g,v,y,b;if(b=p,g=r.nodeName.toLowerCase(),v=r.parentNode.nodeName.toLowerCase(),1===r.nodeType&&i.getContentEditable(r)&&(b=p,p="true"===i.getContentEditable(r),y=!0),hc(g,"br"))return o=0,void(l.block&&i.remove(r));if(l.wrapper&&Wh.matchNode(e,r,t,n))o=0;else{if(p&&!y&&l.block&&!l.wrapper&&lc(e,g)&&cc(e,v,c))return r=i.rename(r,c),h(r),u.push(r),void(o=0);if(l.selector){var w=f(s,r);if(!l.inline||w)return void(o=0)}!p||y||!cc(e,c,g)||!cc(e,v,c)||!a&&3===r.nodeType&&1===r.nodeValue.length&&65279===r.nodeValue.charCodeAt(0)||Fs(r)||l.inline&&i.isBlock(r)?(o=0,Kg(Kt.grep(r.childNodes),m),y&&(p=b),o=0):(o||(o=i.clone(d,!1),r.parentNode.insertBefore(o,r),u.push(o)),o.appendChild(r))}};Kg(r,m)}),!0===l.links&&Kg(u,function(e){var t=function(e){"A"===e.nodeName&&h(e,l),Kg(Kt.grep(e.childNodes),t)};t(e)}),Kg(u,function(r){var o,a,c,d,f;a=0,Kg(r.childNodes,function(e){dc(e)||nc(e)||a++}),o=a,!(1<u.length)&&i.isBlock(r)||0!==o?(l.inline||l.wrapper)&&(l.exact||1!==o||((d=function(e){var t=!1;return Kg(e.childNodes,function(e){if((n=e)&&1===n.nodeType&&!nc(n)&&!Fs(n)&&!jr.isBogus(n))return t=e,!1;var n}),t}(c=r))&&!nc(d)&&Wh.matchName(i,d,l)&&(f=i.clone(d,!1),h(f),i.replace(f,c,!0),i.remove(d,1)),r=f||c),function(e,t,n,i){Hg(t,function(t){Hg(e.dom.select(t.inline,i),function(i){zg(i)&&$g(e,t,n,i,t.exact?i:null)}),function(e,t,n){if(t.clear_child_styles){var i=t.links?"*:not(a)":"*";Hg(e.select(i,n),function(n){zg(n)&&Hg(t.styles,function(t,i){e.setStyle(n,i,"")})})}}(e.dom,t,i)})}(e,s,n,r),function(e,t,n,i,r){Wh.matchNode(e,r.parentNode,n,i)&&$g(e,t,i,r)||t.merge_with_parents&&e.dom.getParent(r.parentNode,function(o){if(Wh.matchNode(e,o,n,i))return $g(e,t,i,r),!0})}(e,l,t,n,r),function(e,t,n,i){t.styles&&t.styles.backgroundColor&&qg(i,Vg(e,"fontSize"),Yg(e,"backgroundColor",uc(t.styles.backgroundColor,n)))}(i,l,n,r),function(e,t,n,i){"sub"!==t.inline&&"sup"!==t.inline||(qg(i,Vg(e,"fontSize"),Yg(e,"fontSize","")),e.remove(e.select("sup"===t.inline?"sub":"sup",i),!0))}(i,l,0,r),function(e,t,n,i){i&&!1!==t.merge_siblings&&(i=Ug(e,sc(i),i),i=Ug(e,i,sc(i,!0)))}(i,l,0,r)):i.remove(r,1)})};if("false"!==d.getContentEditable(u.getNode())){if(l){if(i)i.nodeType?f(s,i)||((a=d.createRng()).setStartBefore(i),a.setEndAfter(i),p(d,Dc(e,a,s),0,!0)):p(d,i,0,!0);else if(c&&l.inline&&!d.select("td[data-mce-selected],th[data-mce-selected]").length)!function(e,t,n){var i,r,o,a,s,l,c=e.selection;a=(i=c.getRng(!0)).startOffset,l=i.startContainer.nodeValue,(r=Hs(e.getBody(),c.getStart()))&&(o=Gh(r));var d,u,h=/[^\s\u00a0\u00ad\u200b\ufeff]/;l&&0<a&&a<l.length&&h.test(l.charAt(a))&&h.test(l.charAt(a-1))?(s=c.getBookmark(),i.collapse(!0),i=Dc(e,i,e.formatter.get(t)),i=qh(i),e.formatter.apply(t,n,i),c.moveToBookmark(s)):(r&&o.nodeValue===Vh||(d=e.getDoc(),u=Kh(!0).dom(),o=(r=d.importNode(u,!0)).firstChild,i.insertNode(r),a=1),e.formatter.apply(t,n,r),c.setCursorLocation(o,a))}(e,t,n);else{var m=e.selection.getNode();e.settings.forced_root_block||!s[0].defaultBlock||d.getParent(m,d.isBlock)||Jg(e,s[0].defaultBlock),e.selection.setRng(Xc(e.selection.getRng())),r=Bs.getPersistentBookmark(e.selection,!0),p(d,Dc(e,u.getRng(),s)),l.styles&&function(e,t,n,i){(t.styles.color||t.styles.textDecoration)&&(Kt.walk(i,o(Gg,e),"childNodes"),Gg(e,i))}(d,l,0,m),u.moveToBookmark(r),ac(d,u,u.getRng()),e.nodeChanged()}!function(e,t){Ng(Eg[e],function(e){e(t)})}(t,e)}}else{i=u.getNode();for(var g=0,v=s.length;g<v;g++)if(s[g].ceFalseOverride&&d.is(i,s[g].selector))return void h(i,s[g])}},Qg={applyFormat:Jg},Zg=Kt.each,ev=function(e,t,n,i,r){var o,a,s,l,c,d,u,h;null===t.get()&&(a=e,s={},(o=t).set({}),a.on("NodeChange",function(e){var t=gc(a.dom,e.element),n={};t=Kt.grep(t,function(e){return 1===e.nodeType&&!e.getAttribute("data-mce-bogus")}),Zg(o.get(),function(e,i){Zg(t,function(r){return a.formatter.matchNode(r,i,{},e.similar)?(s[i]||(Zg(e,function(e){e(!0,{node:r,format:i,parents:t})}),s[i]=e),n[i]=e,!1):!Wh.matchesUnInheritedFormatSelector(a,r,i)&&void 0})}),Zg(s,function(i,r){n[r]||(delete s[r],Zg(i,function(n){n(!1,{node:e.element,format:r,parents:t})}))})})),c=n,d=i,u=r,h=(l=t).get(),Zg(c.split(","),function(e){h[e]||(h[e]=[],h[e].similar=u),h[e].push(d)}),l.set(h)},tv={get:function(e){var t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(t,n,i){Kt.each(i,function(n,i){e.setAttrib(t,i,n)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Kt.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){t[e]={block:e,remove:"all"}}),t}},nv=Kt.each,iv=xo.DOM,rv=function(e,t){var n,i,r,o=t&&t.schema||so({}),a=function(e){var t,n,r;return i="string"==typeof e?{name:e,classes:[],attrs:{}}:e,n=t=iv.create(i.name),(r=i).classes.length&&iv.addClass(n,r.classes.join(" ")),iv.setAttribs(n,r.attrs),t},s=function(e,t,n){var i,r,l,c,d,u,h,f,p=0<t.length&&t[0],m=p&&p.name;if(d=m,u="string"!=typeof(c=e)?c.nodeName.toLowerCase():c,l=!(!(f=(h=o.getElementRule(u))&&h.parentsRequired)||!f.length)&&(d&&-1!==Kt.inArray(f,d)?d:f[0]))m===l?(r=t[0],t=t.slice(1)):r=l;else if(p)r=t[0],t=t.slice(1);else if(!n)return e;return r&&(i=a(r)).appendChild(e),n&&(i||(i=iv.create("div")).appendChild(e),Kt.each(n,function(t){var n=a(t);i.insertBefore(n,e)})),s(i,t,r&&r.siblings)};return e&&e.length?(i=e[0],n=a(i),(r=iv.create("div")).appendChild(s(n,e.slice(1),i.siblings)),r):""},ov=function(e){var t,n={classes:[],attrs:{}};return"*"!==(e=n.selector=Kt.trim(e))&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(e,t,i,r,o){switch(t){case"#":n.attrs.id=i;break;case".":n.classes.push(i);break;case":":-1!==Kt.inArray("checked disabled enabled read-only required".split(" "),i)&&(n.attrs[i]=i)}if("["===r){var a=o.match(/([\w\-]+)(?:\=\"([^\"]+))?/);a&&(n.attrs[a[1]]=a[2])}return""})),n.name=t||"div",n},av=function(e,t){var n,i,r,o,a,s,l="";if(!1===(s=e.settings.preview_styles))return"";"string"!=typeof s&&(s="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");var c=function(e){return e.replace(/%(\w+)/g,"")};if("string"==typeof t){if(!(t=e.formatter.get(t)))return;t=t[0]}return"preview"in t&&!1===(s=t.preview)?"":(n=t.block||t.inline||"span",(o=function(e){return e&&"string"==typeof e?(e=(e=e.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Kt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(e){var t=Kt.map(e.split(/(?:~\+|~|\+)/),ov),n=t.pop();return t.length&&(n.siblings=t),n}).reverse()):[]}(t.selector)).length?(o[0].name||(o[0].name=n),n=t.selector,i=rv(o,e)):i=rv([n],e),r=iv.select(n,i)[0]||i.firstChild,nv(t.styles,function(e,t){(e=c(e))&&iv.setStyle(r,t,e)}),nv(t.attributes,function(e,t){(e=c(e))&&iv.setAttrib(r,t,e)}),nv(t.classes,function(e){e=c(e),iv.hasClass(r,e)||iv.addClass(r,e)}),e.fire("PreviewFormats"),iv.setStyles(i,{position:"absolute",left:-65535}),e.getBody().appendChild(i),a=iv.getStyle(e.getBody(),"fontSize",!0),a=/px$/.test(a)?parseInt(a,10):0,nv(s.split(" "),function(t){var n=iv.getStyle(r,t,!0);if(!("background-color"===t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=iv.getStyle(e.getBody(),t,!0),"#ffffff"===iv.toHex(n).toLowerCase())||"color"===t&&"#000000"===iv.toHex(n).toLowerCase())){if("font-size"===t&&/em|%$/.test(n)){if(0===a)return;n=parseFloat(n)/(/%$/.test(n)?100:1)*a+"px"}"border"===t&&n&&(l+="padding:0 2px;"),l+=t+":"+n+";"}}),e.fire("AfterPreviewFormats"),iv.remove(i),l)},sv=function(e,t,n,i,r){var o=t.get(n);!Wh.match(e,n,i,r)||"toggle"in o[0]&&!o[0].toggle?Qg.applyFormat(e,n,i,r):Fg(e,n,i,r)},lv=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])};function cv(e){var t,n,i,r=(t=e,n={},(i=function(e,t){e&&("string"!=typeof e?Kt.each(e,function(e,t){i(t,e)}):(t=t.length?t:[t],Kt.each(t,function(e){void 0===e.deep&&(e.deep=!e.selector),void 0===e.split&&(e.split=!e.selector||e.inline),void 0===e.remove&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),n[e]=t))})(tv.get(t.dom)),i(t.settings.formats),{get:function(e){return e?n[e]:n},register:i,unregister:function(e){return e&&n[e]&&delete n[e],n}}),a=$o(null);return lv(e),nf(e),{get:r.get,register:r.register,unregister:r.unregister,apply:o(Qg.applyFormat,e),remove:o(Fg,e),toggle:o(sv,e,r),match:o(Wh.match,e),matchAll:o(Wh.matchAll,e),matchNode:o(Wh.matchNode,e),canApply:o(Wh.canApply,e),formatChanged:o(ev,e,a),getCssText:o(av,e)}}var dv,uv=Object.prototype.hasOwnProperty,hv=(dv=function(e,t){return t},function(){for(var e=new Array(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];if(0===e.length)throw new Error("Can't merge zero objects");for(var n={},i=0;i<e.length;i++){var r=e[i];for(var o in r)uv.call(r,o)&&(n[o]=dv(n[o],r[o]))}return n}),fv={register:function(e,t,n){e.addAttributeFilter("data-mce-tabindex",function(e,t){for(var n,i=e.length;i--;)(n=e[i]).attr("tabindex",n.attributes.map["data-mce-tabindex"]),n.attr(t,null)}),e.addAttributeFilter("src,href,style",function(e,i){for(var r,o,a=e.length,s="data-mce-"+i,l=t.url_converter,c=t.url_converter_scope;a--;)void 0!==(o=(r=e[a]).attributes.map[s])?(r.attr(i,0<o.length?o:null),r.attr(s,null)):(o=r.attributes.map[i],"style"===i?o=n.serializeStyle(n.parseStyle(o),r.name):l&&(o=l.call(c,o,i,r.name)),r.attr(i,0<o.length?o:null))}),e.addAttributeFilter("class",function(e){for(var t,n,i=e.length;i--;)(n=(t=e[i]).attr("class"))&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",0<n.length?n:null))}),e.addAttributeFilter("data-mce-type",function(e,t,n){for(var i,r=e.length;r--;)"bookmark"!==(i=e[r]).attributes.map["data-mce-type"]||n.cleanup||(O.from(i.firstChild).exists(function(e){return!ha(e.value)})?i.unwrap():i.remove())}),e.addNodeFilter("noscript",function(e){for(var t,n=e.length;n--;)(t=e[n].firstChild)&&(t.value=Kr.decode(t.value))}),e.addNodeFilter("script,style",function(e,n){for(var i,r,o,a=e.length,s=function(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};a--;)r=(i=e[a]).firstChild?i.firstChild.value:"","script"===n?((o=i.attr("type"))&&i.attr("type","mce-no/type"===o?null:o.replace(/^mce\-/,"")),"xhtml"===t.element_format&&0<r.length&&(i.firstChild.value="// <![CDATA[\n"+s(r)+"\n// ]]>")):"xhtml"===t.element_format&&0<r.length&&(i.firstChild.value="\x3c!--\n"+s(r)+"\n--\x3e")}),e.addNodeFilter("#comment",function(e){for(var t,n=e.length;n--;)0===(t=e[n]).value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=t.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))}),e.addNodeFilter("xml:namespace,input",function(e,t){for(var n,i=e.length;i--;)7===(n=e[i]).type?n.remove():1===n.type&&("input"!==t||"type"in n.attributes.map||n.attr("type","text"))}),e.addAttributeFilter("data-mce-type",function(t){q(t,function(t){"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})},trimTrailingBr:function(e){var t,n,i=function(e){return e&&"br"===e.name};i(t=e.lastChild)&&i(n=t.prev)&&(t.remove(),n.remove())}},pv={process:function(t,n,i){return h=i,(u=t)&&u.hasEventListeners("PreProcess")&&!h.no_events?(o=n,a=i,d=(r=t).dom,o=o.cloneNode(!0),(s=e.document.implementation).createHTMLDocument&&(l=s.createHTMLDocument(""),Kt.each("BODY"===o.nodeName?o.childNodes:[o],function(e){l.body.appendChild(l.importNode(e,!0))}),o="BODY"!==o.nodeName?l.body.firstChild:l.body,c=d.doc,d.doc=l),function(e,t){e.fire("PreProcess",t)}(r,hv(a,{node:o})),c&&(d.doc=c),o):n;var r,o,a,s,l,c,d,u,h}},mv=function(e,t){var n,i=co();t.convert_fonts_to_spans&&function(e,t,n){e.addNodeFilter("font",function(e){q(e,function(e){var i,r=t.parse(e.attr("style")),o=e.attr("color"),a=e.attr("face"),s=e.attr("size");o&&(r.color=o),a&&(r["font-family"]=a),s&&(r["font-size"]=n[parseInt(e.attr("size"),10)-1]),e.name="span",e.attr("style",t.serialize(r)),i=e,q(["color","face","size"],function(e){i.attr(e,null)})})})}(e,i,Kt.explode(t.font_size_legacy_values)),n=i,e.addNodeFilter("strike",function(e){q(e,function(e){var t=n.parse(e.attr("style"));t["text-decoration"]="line-through",e.name="span",e.attr("style",n.serialize(t))})})},gv={register:function(e,t){t.inline_styles&&mv(e,t)}},vv=/^[ \t\r\n]*$/,yv={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},bv=function(e,t,n){var i,r,o=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[o])return e[o];if(e!==t){if(i=e[a])return i;for(r=e.parent;r&&r!==t;r=r.parent)if(i=r[a])return i}},wv=function(){function e(e,t){this.name=e,1===(this.type=t)&&(this.attributes=[],this.attributes.map={})}return e.create=function(t,n){var i,r;if(i=new e(t,yv[t]||1),n)for(r in n)i.attr(r,n[r]);return i},e.prototype.replace=function(e){return e.parent&&e.remove(),this.insert(e,this),this.remove(),this},e.prototype.attr=function(e,t){var n,i;if("string"!=typeof e){for(i in e)this.attr(i,e[i]);return this}if(n=this.attributes){if(void 0!==t){if(null===t){if(e in n.map)for(delete n.map[e],i=n.length;i--;)if(n[i].name===e)return n=n.splice(i,1),this;return this}if(e in n.map){for(i=n.length;i--;)if(n[i].name===e){n[i].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,this}return n.map[e]}},e.prototype.clone=function(){var t,n,i,r,o,a=new e(this.name,this.type);if(i=this.attributes){for((o=[]).map={},t=0,n=i.length;t<n;t++)"id"!==(r=i[t]).name&&(o[o.length]={name:r.name,value:r.value},o.map[r.name]=r.value);a.attributes=o}return a.value=this.value,a.shortEnded=this.shortEnded,a},e.prototype.wrap=function(e){return this.parent.insert(e,this),e.append(this),this},e.prototype.unwrap=function(){var e,t;for(e=this.firstChild;e;)t=e.next,this.insert(e,this,!0),e=t;this.remove()},e.prototype.remove=function(){var e=this.parent,t=this.next,n=this.prev;return e&&(e.firstChild===this?(e.firstChild=t)&&(t.prev=null):n.next=t,e.lastChild===this?(e.lastChild=n)&&(n.next=null):t.prev=n,this.parent=this.next=this.prev=null),this},e.prototype.append=function(e){var t;return e.parent&&e.remove(),(t=this.lastChild)?((t.next=e).prev=t,this.lastChild=e):this.lastChild=this.firstChild=e,e.parent=this,e},e.prototype.insert=function(e,t,n){var i;return e.parent&&e.remove(),i=t.parent||this,n?(t===i.firstChild?i.firstChild=e:t.prev.next=e,e.prev=t.prev,(e.next=t).prev=e):(t===i.lastChild?i.lastChild=e:t.next.prev=e,e.next=t.next,(e.prev=t).next=e),e.parent=i,e},e.prototype.getAll=function(e){var t,n=[];for(t=this.firstChild;t;t=bv(t,this))t.name===e&&n.push(t);return n},e.prototype.empty=function(){var e,t,n;if(this.firstChild){for(e=[],n=this.firstChild;n;n=bv(n,this))e.push(n);for(t=e.length;t--;)(n=e[t]).parent=n.firstChild=n.lastChild=n.next=n.prev=null}return this.firstChild=this.lastChild=null,this},e.prototype.isEmpty=function(e,t,n){var i,r,o=this.firstChild;if(t=t||{},o)do{if(1===o.type){if(o.attributes.map["data-mce-bogus"])continue;if(e[o.name])return!1;for(i=o.attributes.length;i--;)if("name"===(r=o.attributes[i].name)||0===r.indexOf("data-mce-bookmark"))return!1}if(8===o.type)return!1;if(3===o.type&&!vv.test(o.value))return!1;if(3===o.type&&o.parent&&t[o.parent.name]&&vv.test(o.value))return!1;if(n&&n(o))return!1}while(o=bv(o,this));return!0},e.prototype.walk=function(e){return bv(this,null,e)},e}(),xv=function(e,t,n,i){(e.padd_empty_with_br||t.insert)&&n[i.name]?i.empty().append(new wv("br",1)).shortEnded=!0:i.empty().append(new wv("#text",3)).value="Â "},_v=function(e){return Cv(e,"#text")&&"Â "===e.firstChild.value},Cv=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},Sv=function(e,t,n,i){return i.isEmpty(t,n,function(t){return n=t,(i=e.getElementRule(n.name))&&i.paddEmpty;var n,i})},kv=function(e,t){return e&&(t[e.name]||"br"===e.name)},Tv=function(e,t){var n=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",function(e,i,r){var o,a,s,l,c,d,u,h,f=e.length,p=Kt.extend({},n.getBlockElements()),m=n.getNonEmptyElements(),g=n.getNonEmptyElements();for(p.body=1,o=0;o<f;o++)if(s=(a=e[o]).parent,p[a.parent.name]&&a===s.lastChild){for(c=a.prev;c;){if("span"!==(d=c.name)||"bookmark"!==c.attr("data-mce-type")){if("br"!==d)break;if("br"===d){a=null;break}}c=c.prev}a&&(a.remove(),Sv(n,m,g,s)&&(u=n.getElementRule(s.name))&&(u.removeEmpty?s.remove():u.paddEmpty&&xv(t,r,p,s)))}else{for(l=a;s&&s.firstChild===l&&s.lastChild===l&&!p[(l=s).name];)s=s.parent;l===s&&!0!==t.padd_empty_with_br&&((h=new wv("#text",3)).value="Â ",a.replace(h))}}),e.addAttributeFilter("href",function(e){var n,i,r,o=e.length;if(!t.allow_unsafe_link_target)for(;o--;)"a"===(n=e[o]).name&&"_blank"===n.attr("target")&&n.attr("rel",(r=(i=n.attr("rel"))?Kt.trim(i):"",/\b(noopener)\b/g.test(r)?r:r.split(" ").filter(function(e){return 0<e.length}).concat(["noopener"]).sort().join(" ")))}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(e){for(var t,n,i,r,o=e.length;o--;)if("a"===(r=e[o]).name&&r.firstChild&&!r.attr("href"))for(i=r.parent,t=r.lastChild;n=t.prev,i.insert(t,r),t=n;);}),t.fix_list_elements&&e.addNodeFilter("ul,ol",function(e){for(var t,n,i=e.length;i--;)if("ul"===(n=(t=e[i]).parent).name||"ol"===n.name)if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{var r=new wv("li",1);r.attr("style","list-style-type: none"),t.wrap(r)}}),t.validate&&n.getValidClasses()&&e.addAttributeFilter("class",function(e){for(var t,i,r,o,a,s,l,c=e.length,d=n.getValidClasses();c--;){for(i=(t=e[c]).attr("class").split(" "),a="",r=0;r<i.length;r++)o=i[r],l=!1,(s=d["*"])&&s[o]&&(l=!0),s=d[t.name],!l&&s&&s[o]&&(l=!0),l&&(a&&(a+=" "),a+=o);a.length||(a=null),t.attr("class",a)}})},Ev=Kt.makeMap,Dv=Kt.each,Nv=Kt.explode,Av=Kt.extend;function Ov(e,t){void 0===t&&(t=so());var n={},i=[],r={},o={};(e=e||{}).validate=!("validate"in e)||e.validate,e.root_name=e.root_name||"body";var a=function(e){var t,a,s;(a=e.name)in n&&((s=r[a])?s.push(e):r[a]=[e]),t=i.length;for(;t--;)(a=i[t].name)in e.attributes.map&&((s=o[a])?s.push(e):o[a]=[e]);return e},s={schema:t,addAttributeFilter:function(e,t){Dv(Nv(e),function(e){var n;for(n=0;n<i.length;n++)if(i[n].name===e)return void i[n].callbacks.push(t);i.push({name:e,callbacks:[t]})})},getAttributeFilters:function(){return[].concat(i)},addNodeFilter:function(e,t){Dv(Nv(e),function(e){var i=n[e];i||(n[e]=i=[]),i.push(t)})},getNodeFilters:function(){var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push({name:t,callbacks:n[t]});return e},filterNode:a,parse:function(s,l){var c,d,u,h,f,p,m,g,v,y,b,w=[];l=l||{},r={},o={},v=Av(Ev("script,style,head,html,body,title,meta,param"),t.getBlockElements());var x=t.getNonEmptyElements(),_=t.children,C=e.validate,S="forced_root_block"in l?l.forced_root_block:e.forced_root_block,k=t.getWhiteSpaceElements(),T=/^[ \t\r\n]+/,E=/[ \t\r\n]+$/,D=/[ \t\r\n]+/g,N=/^[ \t\r\n]+$/;y=k.hasOwnProperty(l.context)||k.hasOwnProperty(e.root_name);var A=function(e,t){var i,o=new wv(e,t);return e in n&&((i=r[e])?i.push(o):r[e]=[o]),o},O=function(e){var n,i,r,o,a=t.getBlockElements();for(n=e.prev;n&&3===n.type;){if(0<(r=n.value.replace(E,"")).length)return void(n.value=r);if(i=n.next){if(3===i.type&&i.value.length){n=n.prev;continue}if(!a[i.name]&&"script"!==i.name&&"style"!==i.name){n=n.prev;continue}}o=n.prev,n.remove(),n=o}};c=fg({validate:C,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,self_closing_elements:function(e){var t,n={};for(t in e)"li"!==t&&"p"!==t&&(n[t]=e[t]);return n}(t.getSelfClosingElements()),cdata:function(e){b.append(A("#cdata",4)).value=e},text:function(e,t){var n;y||(e=e.replace(D," "),kv(b.lastChild,v)&&(e=e.replace(T,""))),0!==e.length&&((n=A("#text",3)).raw=!!t,b.append(n).value=e)},comment:function(e){b.append(A("#comment",8)).value=e},pi:function(e,t){b.append(A(e,7)).value=t,O(b)},doctype:function(e){b.append(A("#doctype",10)).value=e,O(b)},start:function(e,n,r){var a,s,l,c,d;if(l=C?t.getElementRule(e):{}){for((a=A(l.outputName||e,1)).attributes=n,a.shortEnded=r,b.append(a),(d=_[b.name])&&_[a.name]&&!d[a.name]&&w.push(a),s=i.length;s--;)(c=i[s].name)in n.map&&((m=o[c])?m.push(a):o[c]=[a]);v[e]&&O(a),r||(b=a),!y&&k[e]&&(y=!0)}},end:function(n){var i,r,o,a,s;if(r=C?t.getElementRule(n):{}){if(v[n]&&!y){if((i=b.firstChild)&&3===i.type)if(0<(o=i.value.replace(T,"")).length)i.value=o,i=i.next;else for(a=i.next,i.remove(),i=a;i&&3===i.type;)o=i.value,a=i.next,(0===o.length||N.test(o))&&(i.remove(),i=a),i=a;if((i=b.lastChild)&&3===i.type)if(0<(o=i.value.replace(E,"")).length)i.value=o,i=i.prev;else for(a=i.prev,i.remove(),i=a;i&&3===i.type;)o=i.value,a=i.prev,(0===o.length||N.test(o))&&(i.remove(),i=a),i=a}if(y&&k[n]&&(y=!1),r.removeEmpty&&Sv(t,x,k,b)&&!b.attributes.map.name&&!b.attr("id"))return s=b.parent,v[b.name]?b.empty().remove():b.unwrap(),void(b=s);r.paddEmpty&&(_v(b)||Sv(t,x,k,b))&&xv(e,l,v,b),b=b.parent}}},t);var I=b=new wv(l.context||e.root_name,11);if(c.parse(s),C&&w.length&&(l.context?l.invalid=!0:function(e){var n,i,r,o,s,l,c,d,u,h,f,p,m,g,v,y;for(p=Ev("tr,td,th,tbody,thead,tfoot,table"),h=t.getNonEmptyElements(),f=t.getWhiteSpaceElements(),m=t.getTextBlockElements(),g=t.getSpecialElements(),n=0;n<e.length;n++)if((i=e[n]).parent&&!i.fixed)if(m[i.name]&&"li"===i.parent.name){for(v=i.next;v&&m[v.name];)v.name="li",v.fixed=!0,i.parent.insert(v,i.parent),v=v.next;i.unwrap(i)}else{for(o=[i],r=i.parent;r&&!t.isValidChild(r.name,i.name)&&!p[r.name];r=r.parent)o.push(r);if(r&&1<o.length){for(o.reverse(),s=l=a(o[0].clone()),u=0;u<o.length-1;u++){for(t.isValidChild(l.name,o[u].name)?(c=a(o[u].clone()),l.append(c)):c=l,d=o[u].firstChild;d&&d!==o[u+1];)y=d.next,c.append(d),d=y;l=c}Sv(t,h,f,s)?r.insert(i,o[0],!0):(r.insert(s,o[0],!0),r.insert(i,s)),r=o[0],(Sv(t,h,f,r)||Cv(r,"br"))&&r.empty().remove()}else if(i.parent){if("li"===i.name){if((v=i.prev)&&("ul"===v.name||"ul"===v.name)){v.append(i);continue}if((v=i.next)&&("ul"===v.name||"ul"===v.name)){v.insert(i,v.firstChild,!0);continue}i.wrap(a(new wv("ul",1)));continue}t.isValidChild(i.parent.name,"div")&&t.isValidChild("div",i.name)?i.wrap(a(new wv("div",1))):g[i.name]?i.empty().remove():i.unwrap()}}}(w)),S&&("body"===I.name||l.isRootContent)&&function(){var n,i,r=I.firstChild,o=function(e){e&&((r=e.firstChild)&&3===r.type&&(r.value=r.value.replace(T,"")),(r=e.lastChild)&&3===r.type&&(r.value=r.value.replace(E,"")))};if(t.isValidChild(I.name,S.toLowerCase())){for(;r;)n=r.next,3===r.type||1===r.type&&"p"!==r.name&&!v[r.name]&&!r.attr("data-mce-type")?(i||((i=A(S,1)).attr(e.forced_root_block_attrs),I.insert(i,r)),i.append(r)):(o(i),i=null),r=n;o(i)}}(),!l.invalid){for(g in r){for(m=n[g],f=(d=r[g]).length;f--;)d[f].parent||d.splice(f,1);for(u=0,h=m.length;u<h;u++)m[u](d,g,l)}for(u=0,h=i.length;u<h;u++)if((m=i[u]).name in o){for(f=(d=o[m.name]).length;f--;)d[f].parent||d.splice(f,1);for(f=0,p=m.callbacks.length;f<p;f++)m.callbacks[f](d,m.name,l)}}return I}};return Tv(s,e),gv.register(s,e),s}var Iv=function(e,t,n){-1===Kt.inArray(t,n)&&(e.addAttributeFilter(n,function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),t.push(n))},Rv=function(e,t,n){var i=pa(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||Sr(li.fromDom(t))?i:Kt.trim(i)},Pv=function(e,t,n){var i=n.selection?hv({forced_root_block:!1},n):n,r=e.parse(t,i);return fv.trimTrailingBr(r),r},Mv=function(e,t,n,i,r){var o,a,s,l;return a=e,l=(o=i,Yc(t,n).serialize(o)),!(s=r).no_events&&a?function(e,t){return e.fire("PostProcess",t)}(a,hv(s,{content:l})).content:l};function jv(e,t){var n,i,r,a,s,l,c=(n=e,l=["data-mce-selected"],r=(i=t)&&i.dom?i.dom:xo.DOM,a=i&&i.schema?i.schema:so(n),n.entity_encoding=n.entity_encoding||"named",n.remove_trailing_brs=!("remove_trailing_brs"in n)||n.remove_trailing_brs,s=Ov(n,a),fv.register(s,n,r),{schema:a,addNodeFilter:s.addNodeFilter,addAttributeFilter:s.addAttributeFilter,serialize:function(e,t){var o=hv({format:"html"},t||{}),l=pv.process(i,e,o),c=Rv(r,l,o),d=Pv(s,c,o);return"tree"===o.format?d:Mv(i,n,a,d,o)},addRules:function(e){a.addValidElements(e)},setRules:function(e){a.setValidElements(e)},addTempAttr:o(Iv,s,l),getTempAttrs:function(){return l}});return{schema:c.schema,addNodeFilter:c.addNodeFilter,addAttributeFilter:c.addAttributeFilter,serialize:c.serialize,addRules:c.addRules,setRules:c.setRules,addTempAttr:c.addTempAttr,getTempAttrs:c.getTempAttrs}}function Lv(e){return{getBookmark:o(ec,e),moveToBookmark:o(tc,e)}}(Lv||(Lv={})).isBookmarkNode=nc;var Bv,$v,Fv=Lv,Hv=jr.isContentEditableFalse,zv=jr.isContentEditableTrue,Wv=function(t,n){var i,r,o,a,s,l,c,d,u,h,f,p,m,g,v,y,b,w=n.dom,x=Kt.each,_=n.getDoc(),C=e.document,S=Math.abs,k=Math.round,T=n.getBody();a={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var E=".mce-content-body";n.contentStyles.push(E+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: content-box;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+E+" .mce-resizehandle:hover {background: #000}"+E+" img[data-mce-selected],"+E+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+E+" .mce-clonedresizable {position: absolute;"+(fe.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+E+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}");var D=function(e){return e&&("IMG"===e.nodeName||n.dom.is(e,"figure.image"))},N=function(e){var t,i,r=e.target;t=e,i=n.selection.getRng(),!D(t.target)||rg(t.clientX,t.clientY,i)||e.isDefaultPrevented()||n.selection.select(r)},A=function(e){return n.dom.is(e,"figure.image")?e.querySelector("img"):e},O=function(e){var t=n.settings.object_resizing;return!1!==t&&!fe.iOS&&("string"!=typeof t&&(t="table,img,figure.image,div"),"false"!==e.getAttribute("data-mce-resize")&&e!==n.getBody()&&Ri(li.fromDom(e),t))},I=function(e){var t,a,x,_;t=e.screenX-l,a=e.screenY-c,g=t*s[2]+h,v=a*s[3]+f,g=g<5?5:g,v=v<5?5:v,(D(i)&&!1!==n.settings.resize_img_proportional?!og.modifierPressed(e):og.modifierPressed(e)||D(i)&&s[2]*s[3]!=0)&&(S(t)>S(a)?(v=k(g*p),g=k(v/p)):(g=k(v/p),v=k(g*p))),w.setStyles(A(r),{width:g,height:v}),x=0<(x=s.startPos.x+t)?x:0,_=0<(_=s.startPos.y+a)?_:0,w.setStyles(o,{left:x,top:_,display:"block"}),o.innerHTML=g+" &times; "+v,s[2]<0&&r.clientWidth<=g&&w.setStyle(r,"left",d+(h-g)),s[3]<0&&r.clientHeight<=v&&w.setStyle(r,"top",u+(f-v)),(t=T.scrollWidth-y)+(a=T.scrollHeight-b)!=0&&w.setStyles(o,{left:x-t,top:_-a}),m||(function(e,t,n,i){e.fire("ObjectResizeStart",{target:t,width:n,height:i})}(n,i,h,f),m=!0)},R=function(){m=!1;var e=function(e,t){t&&(i.style[e]||!n.schema.isValid(i.nodeName.toLowerCase(),e)?w.setStyle(A(i),e,t):w.setAttrib(A(i),e,t))};e("width",g),e("height",v),w.unbind(_,"mousemove",I),w.unbind(_,"mouseup",R),C!==_&&(w.unbind(C,"mousemove",I),w.unbind(C,"mouseup",R)),w.remove(r),w.remove(o),P(i),function(e,t,n,i){e.fire("ObjectResized",{target:t,width:n,height:i})}(n,i,g,v),w.setAttrib(i,"style",w.getAttrib(i,"style")),n.nodeChanged()},P=function(e){var t,m,S,k,E;M(),B(),t=w.getPos(e,T),d=t.x,u=t.y,E=e.getBoundingClientRect(),m=E.width||E.right-E.left,S=E.height||E.bottom-E.top,i!==e&&(i=e,g=v=0),k=n.fire("ObjectSelected",{target:e}),O(e)&&!k.isDefaultPrevented()?x(a,function(e,t){var n;(n=w.get("mceResizeHandle"+t))&&w.remove(n),n=w.add(T,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),11===fe.ie&&(n.contentEditable=!1),w.bind(n,"mousedown",function(t){var n;t.stopImmediatePropagation(),t.preventDefault(),l=(n=t).screenX,c=n.screenY,h=A(i).clientWidth,f=A(i).clientHeight,p=f/h,(s=e).startPos={x:m*e[0]+d,y:S*e[1]+u},y=T.scrollWidth,b=T.scrollHeight,r=i.cloneNode(!0),w.addClass(r,"mce-clonedresizable"),w.setAttrib(r,"data-mce-bogus","all"),r.contentEditable=!1,r.unSelectabe=!0,w.setStyles(r,{left:d,top:u,margin:0}),r.removeAttribute("data-mce-selected"),T.appendChild(r),w.bind(_,"mousemove",I),w.bind(_,"mouseup",R),C!==_&&(w.bind(C,"mousemove",I),w.bind(C,"mouseup",R)),o=w.add(T,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},h+" &times; "+f)}),e.elm=n,w.setStyles(n,{left:m*e[0]+d-n.offsetWidth/2,top:S*e[1]+u-n.offsetHeight/2})}):M(),i.setAttribute("data-mce-selected","1")},M=function(){var e,t;for(e in B(),i&&i.removeAttribute("data-mce-selected"),a)(t=w.get("mceResizeHandle"+e))&&(w.unbind(t),w.remove(t))},j=function(e){var i,r=function(e,t){if(e)do{if(e===t)return!0}while(e=e.parentNode)};m||n.removed||(x(w.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")}),i="mousedown"===e.type?e.target:t.getNode(),r(i=w.$(i).closest("table,img,figure.image,hr")[0],T)&&($(),r(t.getStart(!0),i)&&r(t.getEnd(!0),i))?P(i):M())},L=function(e){return Hv(function(e,t){for(;t&&t!==e;){if(zv(t)||Hv(t))return t;t=t.parentNode}return null}(n.getBody(),e))},B=function(){for(var e in a){var t=a[e];t.elm&&(w.unbind(t.elm),delete t.elm)}},$=function(){try{n.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}};return n.on("init",function(){$(),fe.ie&&11<=fe.ie&&(n.on("mousedown click",function(e){var t=e.target,i=t.nodeName;m||!/^(TABLE|IMG|HR)$/.test(i)||L(t)||(2!==e.button&&n.selection.select(t,"TABLE"===i),"mousedown"===e.type&&n.nodeChanged())}),n.dom.bind(T,"mscontrolselect",function(e){var t=function(e){ye.setEditorTimeout(n,function(){n.selection.select(e)})};if(L(e.target))return e.preventDefault(),void t(e.target);/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"===e.target.tagName&&t(e.target))}));var e=ye.throttle(function(e){n.composing||j(e)});n.on("nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged",e),n.on("keyup compositionend",function(t){i&&"TABLE"===i.nodeName&&e(t)}),n.on("hide blur",M),n.on("contextmenu",N)}),n.on("remove",B),{isResizable:O,showResizeRect:P,hideResizeRect:M,updateResizeRect:j,destroy:function(){i=r=null}}},Uv=function(e){for(var t=0,n=0,i=e;i&&i.nodeType;)t+=i.offsetLeft||0,n+=i.offsetTop||0,i=i.offsetParent;return{x:t,y:n}},qv=function(e){return jr.isContentEditableTrue(e)||jr.isContentEditableFalse(e)},Vv=function(e,t,n){var i,r,o,a,s,l=n;if(l.caretPositionFromPoint)(r=l.caretPositionFromPoint(e,t))&&((i=n.createRange()).setStart(r.offsetNode,r.offset),i.collapse(!0));else if(n.caretRangeFromPoint)i=n.caretRangeFromPoint(e,t);else if(l.body.createTextRange){i=l.body.createTextRange();try{i.moveToPoint(e,t),i.collapse(!0)}catch(r){i=function(e,t,n){var i,r,o;if(i=n.elementFromPoint(e,t),r=n.body.createTextRange(),i&&"HTML"!==i.tagName||(i=n.body),r.moveToElementText(i),0<(o=(o=Kt.toArray(r.getClientRects())).sort(function(e,n){return(e=Math.abs(Math.max(e.top-t,e.bottom-t)))-Math.abs(Math.max(n.top-t,n.bottom-t))})).length){t=(o[0].bottom+o[0].top)/2;try{return r.moveToPoint(e,t),r.collapse(!0),r}catch(e){}}return null}(e,t,n)}return o=i,a=n.body,s=o&&o.parentElement?o.parentElement():null,jr.isContentEditableFalse(function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(s,a,qv))?null:o}return i},Yv=function(e,t){return U(t,function(t){var n=e.fire("GetSelectionRange",{range:t});return n.range!==t?n.range:t})},Xv=function(t,n){var i=(n||e.document).createDocumentFragment();return q(t,function(e){i.appendChild(e.dom())}),li.fromDom(i)},Gv=Di("element","width","rows"),Kv=Di("element","cells"),Jv=Di("x","y"),Qv=function(e,t){var n=parseInt(Si(e,t),10);return isNaN(n)?1:n},Zv=function(e){return X(e,function(e,t){return t.cells().length>e?t.cells().length:e},0)},ey=function(e,t){for(var n=e.rows(),i=0;i<n.length;i++)for(var r=n[i].cells(),o=0;o<r.length;o++)if(Mi(r[o],t))return O.some(Jv(o,i));return O.none()},ty=function(e,t,n,i,r){for(var o=[],a=e.rows(),s=n;s<=r;s++){var l=a[s].cells(),c=t<i?l.slice(t,i+1):l.slice(i,t+1);o.push(Kv(a[s].element(),c))}return o},ny=function(e){return n=U((t=e).rows(),function(e){var t=U(e.cells(),function(e){var t=ca(e);return ki(t,"colspan"),ki(t,"rowspan"),t}),n=la(e.element());return Po(n,t),n}),i=la(t.element()),r=li.fromTag("tbody"),Po(r,n),Ro(i,r),i;var t,n,i,r},iy=function(e,t){return G(e,function(e){return"li"===hi(e)&&function(e,t){return Xa([(a=t,s=a.startContainer,l=a.startOffset,jr.isText(s)?0===l?O.some(li.fromDom(s)):O.none():O.from(s.childNodes[l]).map(li.fromDom)),(n=t,i=n.endContainer,r=n.endOffset,jr.isText(i)?r===i.data.length?O.some(li.fromDom(i)):O.none():O.from(i.childNodes[r-1]).map(li.fromDom))],function(t,n){var i=G(Am(e),o(Mi,t)),r=G(Om(e),o(Mi,n));return i.isSome()&&r.isSome()}).getOr(!1);var n,i,r,a,s,l}(e,t)}).fold(i([]),function(t){return(n=e,G(n,function(e){return"ul"===hi(e)||"ol"===hi(e)})).map(function(e){return[li.fromTag("li"),li.fromTag(hi(e))]}).getOr([]);var n})},ry=function(){return Xv([])},oy=function(e,t){return n=li.fromDom(t.cloneContents()),r=function(e,t){var n,r=li.fromDom(t.commonAncestorContainer),o=Dd(r,e),a=Y(o,function(e){return gr(e)||pr(e)}),s=iy(o,t),l=a.concat(s.length?s:wr(n=r)?$i(n).filter(br).fold(i([]),function(e){return[n,e]}):br(n)?[n]:[]);return U(l,la)}(e,t),o=X(r,function(e,t){return Ro(t,e),t},n),0<r.length?Xv([o]):o;var n,r,o},ay=function(e,t){return(n=e,i=t[0],Ko(i,"table",o(Mi,n))).bind(function(e){var n=t[0],i=t[t.length-1];return function(e,t,n){return ey(e,t).bind(function(t){return ey(e,n).map(function(n){return i=e,o=n,a=(r=t).x(),s=r.y(),l=o.x(),d=s<(c=o.y())?ty(i,a,s,l,c):ty(i,a,c,l,s),Gv(i.element(),Zv(d),d);var i,r,o,a,s,l,c,d})})}(function(e){var t=Gv(la(e),0,[]);return q(qo(e,"tr"),function(e,n){q(qo(e,"td,th"),function(i,r){!function(e,t,n,i,r){for(var o=Qv(r,"rowspan"),a=Qv(r,"colspan"),s=e.rows(),l=n;l<n+o;l++){s[l]||(s[l]=Kv(ca(i),[]));for(var c=t;c<t+a;c++)s[l].cells()[c]=l===n&&c===t?r:la(r)}}(t,function(e,t,n){for(;i=t,r=n,o=void 0,((o=e.rows())[r]?o[r].cells():[])[i];)t++;var i,r,o;return t}(t,r,n),n,e,i)})}),Gv(t.element(),Zv(t.rows()),t.rows())}(e),n,i).map(function(e){return Xv([ny(e)])})}).getOrThunk(ry);var n,i},sy=function(e,t){if(void 0===t&&(t={}),t.get=!0,t.format=t.format||"html",t.selection=!0,(t=e.fire("BeforeGetContent",t)).isDefaultPrevented())return e.fire("GetContent",t),t.content;if("text"===t.format)return c=e,O.from(c.selection.getRng()).map(function(e){var t=c.dom.add(c.getBody(),"div",{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},e.cloneContents()),n=pa(t.innerText);return c.dom.remove(t),n}).getOr("");t.getInner=!0;var n,i,r,o,a,s,l,c,d=(i=t,o=(n=e).selection.getRng(),a=n.dom.create("body"),s=n.selection.getSel(),l=Yv(n,Sh(s)),(r=i.contextual?function(e,t){var n,i,r=Eh(t,e);return 0<r.length?ay(e,r):(n=e,0<(i=t).length&&i[0].collapsed?ry():oy(n,i[0]))}(li.fromDom(n.getBody()),l).dom():o.cloneContents())&&a.appendChild(r),n.selection.serializer.serialize(a,i));return"tree"===t.format?d:(t.content=e.selection.isCollapsed()?"":d,e.fire("GetContent",t),t.content)},ly=function(e,t,n,i,r){var o=n?t.startContainer:t.endContainer,a=n?t.startOffset:t.endOffset;return O.from(o).map(li.fromDom).map(function(e){return i&&t.collapsed?e:qi(e,r(e,a)).getOr(e)}).bind(function(e){return pi(e)?O.some(e):$i(e)}).map(function(e){return e.dom()}).getOr(e)},cy=function(e,t,n){return ly(e,t,!0,n,function(e,t){return Math.min(e.dom().childNodes.length,t)})},dy=function(e,t,n){return ly(e,t,!1,n,function(e,t){return 0<t?t-1:t})},uy=function(e,t){for(var n=e;e&&jr.isText(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n},hy=Kt.each,fy=function(e){return!!e.select},py=function(e){return!(!e||!e.ownerDocument)&&ji(li.fromDom(e.ownerDocument),li.fromDom(e))},my=function(e,t,n,i){var r,o,a,s,l,c=function(e,t){return function(e,t,n){var i,r,o,a=e.selection.getRng(),s=e.getDoc();if((n=n||{format:"html"}).set=!0,n.selection=!0,n.content=t,n.no_events||!(n=e.fire("BeforeSetContent",n)).isDefaultPrevented()){if(t=n.content,a.insertNode){t+='<span id="__caret">_</span>',a.startContainer===s&&a.endContainer===s?s.body.innerHTML=t:(a.deleteContents(),0===s.body.childNodes.length?s.body.innerHTML=t:a.createContextualFragment?a.insertNode(a.createContextualFragment(t)):(r=s.createDocumentFragment(),o=s.createElement("div"),r.appendChild(o),o.outerHTML=t,a.insertNode(r))),i=e.dom.get("__caret"),(a=s.createRange()).setStartBefore(i),a.setEndBefore(i),e.selection.setRng(a),e.dom.remove("__caret");try{e.selection.setRng(a)}catch(e){}}else a.item&&(s.execCommand("Delete",!1,null),a=e.getRng()),/^\s+/.test(t)?(a.pasteHTML('<span id="__mce_tmp">_</span>'+t),e.dom.remove("__mce_tmp")):a.pasteHTML(t);n.no_events||e.fire("SetContent",n)}else e.fire("SetContent",n)}(i,e,t)},d=function(e){var t=h();t.collapse(!!e),f(t)},u=function(){return t.getSelection?t.getSelection():t.document.selection},h=function(){var n,r,o,l,c=function(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}};if(!t)return null;if(null==(l=t.document))return null;if(void 0!==i.bookmark&&!1===Vp(i)){var d=rp(i);if(d.isSome())return d.map(function(e){return Yv(i,[e])[0]}).getOr(l.createRange())}try{(n=u())&&!jr.isRestrictedNode(n.anchorNode)&&(r=0<n.rangeCount?n.getRangeAt(0):n.createRange?n.createRange():l.createRange())}catch(e){}return(r=Yv(i,[r])[0])||(r=l.createRange?l.createRange():l.body.createTextRange()),r.setStart&&9===r.startContainer.nodeType&&r.collapsed&&(o=e.getRoot(),r.setStart(o,0),r.setEnd(o,0)),a&&s&&(0===c(r.START_TO_START,r,a)&&0===c(r.END_TO_END,r,a)?r=s:s=a=null),r},f=function(e,t){var n,r;if((o=e)&&(fy(o)||py(o.startContainer)&&py(o.endContainer))){var o,l=fy(e)?e:null;if(l){s=null;try{l.select()}catch(e){}}else{if(n=u(),e=i.fire("SetSelectionRange",{range:e,forward:t}).range,n){s=e;try{n.removeAllRanges(),n.addRange(e)}catch(e){}!1===t&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),a=0<n.rangeCount?n.getRangeAt(0):null}e.collapsed||e.startContainer!==e.endContainer||!n.setBaseAndExtent||fe.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(r=e.startContainer.childNodes[e.startOffset])&&"IMG"===r.tagName&&(n.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),n.anchorNode===e.startContainer&&n.focusNode===e.endContainer||n.setBaseAndExtent(r,0,r,1)),i.fire("AfterSetSelectionRange",{range:e,forward:t})}}},p=function(){var t,n,i=u();return!(i&&i.anchorNode&&i.focusNode)||((t=e.createRng()).setStart(i.anchorNode,i.anchorOffset),t.collapse(!0),(n=e.createRng()).setStart(i.focusNode,i.focusOffset),n.collapse(!0),t.compareBoundaryPoints(t.START_TO_START,n)<=0)},m={bookmarkManager:null,controlSelection:null,dom:e,win:t,serializer:n,editor:i,collapse:d,setCursorLocation:function(t,n){var r=e.createRng();t?(r.setStart(t,n),r.setEnd(t,n),f(r),d(!1)):(Im(e,r,i.getBody(),!0),f(r))},getContent:function(e){return sy(i,e)},setContent:c,getBookmark:function(e,t){return r.getBookmark(e,t)},moveToBookmark:function(e){return r.moveToBookmark(e)},select:function(t,n){var i,r,o;return(i=e,r=t,o=n,O.from(r).map(function(e){var t=i.nodeIndex(e),n=i.createRng();return n.setStart(e.parentNode,t),n.setEnd(e.parentNode,t+1),o&&(Im(i,n,e,!0),Im(i,n,e,!1)),n})).each(f),t},isCollapsed:function(){var e=h(),t=u();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},isForward:p,setNode:function(t){return c(e.getOuterHTML(t)),t},getNode:function(){return e=i.getBody(),(t=h())?(r=t.startContainer,o=t.endContainer,a=t.startOffset,s=t.endOffset,n=t.commonAncestorContainer,!t.collapsed&&(r===o&&s-a<2&&r.hasChildNodes()&&(n=r.childNodes[a]),3===r.nodeType&&3===o.nodeType&&(r=r.length===a?uy(r.nextSibling,!0):r.parentNode,o=0===s?uy(o.previousSibling,!1):o.parentNode,r&&r===o))?r:n&&3===n.nodeType?n.parentNode:n):e;var e,t,n,r,o,a,s},getSel:u,setRng:f,getRng:h,getStart:function(e){return cy(i.getBody(),h(),e)},getEnd:function(e){return dy(i.getBody(),h(),e)},getSelectedBlocks:function(t,n){return function(e,t,n,i){var r,o,a=[];if(o=e.getRoot(),n=e.getParent(n||cy(o,t,t.collapsed),e.isBlock),i=e.getParent(i||dy(o,t,t.collapsed),e.isBlock),n&&n!==o&&a.push(n),n&&i&&n!==i)for(var s=new cr(r=n,o);(r=s.next())&&r!==i;)e.isBlock(r)&&a.push(r);return i&&n!==i&&i!==o&&a.push(i),a}(e,h(),t,n)},normalize:function(){var t=h();if(!function(e){return 1<Ch(e).length}(u())&&Rm(i)){var n=Of(e,t);return n.each(function(e){f(e,p())}),n.getOr(t)}return t},selectorChanged:function(t,n){var r;return l||(l={},r={},i.on("NodeChange",function(t){var n=t.element,i=e.getParents(n,null,e.getRoot()),o={};hy(l,function(t,n){hy(i,function(a){if(e.is(a,n))return r[n]||(hy(t,function(e){e(!0,{node:a,selector:n,parents:i})}),r[n]=t),o[n]=t,!1})}),hy(r,function(e,t){o[t]||(delete r[t],hy(e,function(e){e(!1,{node:n,selector:t,parents:i})}))})})),l[t]||(l[t]=[]),l[t].push(n),m},getScrollContainer:function(){for(var t,n=e.getRoot();n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t},scrollIntoView:function(e,t){return function(e,t,n){var i,r,o,a,s,l=e.dom,c=l.getRoot(),d=0;if(s={elm:t,alignToTop:n},e.fire("scrollIntoView",s),!s.isDefaultPrevented()&&jr.isElement(t)){if(!1===n&&(d=t.offsetHeight),"BODY"!==c.nodeName){var u=e.selection.getScrollContainer();if(u)return i=Uv(t).y-Uv(u).y+d,a=u.clientHeight,void((i<(o=u.scrollTop)||o+a<i+25)&&(u.scrollTop=i<o?i:i-a+25))}r=l.getViewPort(e.getWin()),i=l.getPos(t).y+d,o=r.y,a=r.h,(i<r.y||o+a<i+25)&&e.getWin().scrollTo(0,i<o?i:i-a+25)}}(i,e,t)},placeCaretAt:function(e,t){return f(Vv(e,t,i.getDoc()))},getBoundingClientRect:function(){var e=h();return e.collapsed?vs.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:function(){t=a=s=null,o.destroy()}};return r=Fv(m),o=Wv(m,i),m.bookmarkManager=r,m.controlSelection=o,m};($v=Bv||(Bv={}))[$v.Br=0]="Br",$v[$v.Block=1]="Block",$v[$v.Wrap=2]="Wrap",$v[$v.Eol=3]="Eol";var gy=function(e,t){return e===ms.Backwards?t.reverse():t},vy=function(e,t,n,i){for(var r,o,a,s,l,c,d=Ll(n),u=i,h=[];u&&(l=d,c=u,r=t===ms.Forwards?l.next(c):l.prev(c));){if(jr.isBr(r.getNode(!1)))return t===ms.Forwards?{positions:gy(t,h).concat([r]),breakType:Bv.Br,breakAt:O.some(r)}:{positions:gy(t,h),breakType:Bv.Br,breakAt:O.some(r)};if(r.isVisible()){if(e(u,r)){var f=(o=t,a=u,s=r,jr.isBr(s.getNode(o===ms.Forwards))?Bv.Br:!1===fl(a,s)?Bv.Block:Bv.Wrap);return{positions:gy(t,h),breakType:f,breakAt:O.some(r)}}h.push(r),u=r}else u=r}return{positions:gy(t,h),breakType:Bv.Eol,breakAt:O.none()}},yy=function(e,t,n,i){return t(n,i).breakAt.map(function(i){var r=t(n,i).positions;return e===ms.Backwards?r.concat(i):[i].concat(r)}).getOr([])},by=function(e,t){return X(e,function(e,n){return e.fold(function(){return O.some(n)},function(i){return Xa([ne(i.getClientRects()),ne(n.getClientRects())],function(e,r){var o=Math.abs(t-e.left);return Math.abs(t-r.left)<=o?n:i}).or(e)})},O.none())},wy=function(e,t){return ne(t.getClientRects()).bind(function(t){return by(e,t.left)})},xy=o(vy,ps.isAbove,-1),_y=o(vy,ps.isBelow,1),Cy=o(yy,-1,xy),Sy=o(yy,1,_y),ky=jr.isContentEditableFalse,Ty=Ua,Ey=function(e,t,n){var i,r,a,s,l=Ll(e.getBody()),c=o(Cl,l.next),d=o(Cl,l.prev);if(n.collapsed&&e.settings.forced_root_block){if(!(i=e.dom.getParent(n.startContainer,"PRE")))return;(1===t?c(vs.fromRangeStart(n)):d(vs.fromRangeStart(n)))||(s=(a=e).dom.create(nd(a)),(!fe.ie||11<=fe.ie)&&(s.innerHTML='<br data-mce-bogus="1">'),r=s,1===t?e.$(i).after(r):e.$(i).before(r),e.selection.select(r,!0),e.selection.collapse())}},Dy=function(e,t){return function(){var n,i,r,a,s,l,c,d,u,h=(i=t,a=Ll((n=e).getBody()),s=o(Cl,a.next),l=o(Cl,a.prev),c=i?ms.Forwards:ms.Backwards,d=i?s:l,u=n.selection.getRng(),(r=function(e,t,n,i){var r=e===ms.Forwards,o=r?tu:nu;if(!i.collapsed){var a=Ty(i);if(ky(a))return df(e,t,a,e===ms.Backwards,!0)}var s=va(i.startContainer),l=xl(e,t.getBody(),i);if(o(l))return uf(t,l.getNode(!r));var c=pd.normalizePosition(r,n(l));if(!c)return s?i:null;if(o(c))return df(e,t,c.getNode(!r),r,!0);var d=n(c);return d&&o(d)&&Sl(c,d)?df(e,t,d.getNode(!r),r,!0):s?ff(t,c.toRange(),!0):null}(c,n,d,u))?r:(r=Ey(n,c,u))||null);return!!h&&(e.selection.setRng(h),!0)}},Ny=function(e,t){return function(){var n,i,r,o,a,s,l=(o=(i=t)?1:-1,a=i?Xm:Ym,s=(n=e).selection.getRng(),(r=function(e,t,n,i){var r,o,a,s,l,c,d,u,h;if(h=Ty(i),r=xl(e,t.getBody(),i),o=n(t.getBody(),Gm(1),r),a=Y(o,Km(1)),l=qt.last(r.getClientRects()),(tu(r)||ru(r))&&(h=r.getNode()),(nu(r)||ou(r))&&(h=r.getNode(!0)),!l)return null;if(c=l.left,(s=ng(a,c))&&ky(s.node))return d=Math.abs(c-s.left),u=Math.abs(c-s.right),df(e,t,s.node,d<u,!0);if(h){var f=function(e,t,n,i){var r,o,a,s,l,c,d=Ll(t),u=[],h=0,f=function(e){return qt.last(e.getClientRects())};1===e?(r=d.next,o=za,a=Ha,s=vs.after(i)):(r=d.prev,o=Ha,a=za,s=vs.before(i)),c=f(s);do{if(s.isVisible()&&!a(l=f(s),c)){if(0<u.length&&o(l,qt.last(u))&&h++,(l=Ba(l)).position=s,l.line=h,n(l))return u;u.push(l)}}while(s=r(s));return u}(e,t.getBody(),Gm(1),h);if(s=ng(Y(f,Km(1)),c))return ff(t,s.position.toRange(),!0);if(s=qt.last(Y(f,Km(0))))return ff(t,s.position.toRange(),!0)}}(o,n,a,s))?r:(r=Ey(n,o,s))||null);return!!l&&(e.selection.setRng(l),!0)}},Ay=function(e,t){return function(){var n,r=t?vs.fromRangeEnd(e.selection.getRng()):vs.fromRangeStart(e.selection.getRng()),o=t?_y(e.getBody(),r):xy(e.getBody(),r);return(t?ie(o.positions):ne(o.positions)).filter((n=t,function(e){return n?nu(e):tu(e)})).fold(i(!1),function(t){return e.selection.setRng(t.toRange()),!0})}},Oy=function(e,t,n,i,r){var o,a,s,l,c=qo(li.fromDom(n),"td,th,caption").map(function(e){return e.dom()});return(a=Y((o=e,Z(c,function(e){var t,n,i=(n=-1,{left:(t=Ba(e.getBoundingClientRect())).left-n,top:t.top-n,right:t.right+-2,bottom:t.bottom+-2,width:t.width+n,height:t.height+n});return[{x:i.left,y:o(i),cell:e},{x:i.right,y:o(i),cell:e}]})),function(e){return t(e,r)}),s=i,l=r,X(a,function(e,t){return e.fold(function(){return O.some(t)},function(e){var n=Math.sqrt(Math.abs(e.x-s)+Math.abs(e.y-l)),i=Math.sqrt(Math.abs(t.x-s)+Math.abs(t.y-l));return O.some(i<n?t:e)})},O.none())).map(function(e){return e.cell})},Iy=o(Oy,function(e){return e.bottom},function(e,t){return e.y<t}),Ry=o(Oy,function(e){return e.top},function(e,t){return e.y>t}),Py=function(e,t){e.selection.setRng(t),function(e,t){ne(ps.fromRangeStart(t).getClientRects()).each(function(t){var n,i,r,o,a,s,l,c,d,u=(a=n=function(e){if(e.inline)return e.getBody().getBoundingClientRect();var t=e.getWin();return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight,width:t.innerWidth,height:t.innerHeight}}(e),(s=i=t).left>a.left&&s.right<a.right?0:s.left<a.left?s.left-a.left:s.right-a.right),h=(r=n,(o=i).top>r.top&&o.bottom<r.bottom?0:o.top<r.top?o.top-r.top:o.bottom-r.bottom);c=0!==u?0<u?u+4:u-4:0,d=0!==h?0<h?h+4:h-4:0,(l=e).inline?(l.getBody().scrollLeft+=c,l.getBody().scrollTop+=d):l.getWin().scrollBy(c,d)})}(e,t)},My=function(e,t,n){var i,r,o,a,s=e(t,n);return(a=s).breakType===Bv.Wrap&&0===a.positions.length||!jr.isBr(n.getNode())&&(o=s).breakType===Bv.Br&&1===o.positions.length?(i=e,r=t,!s.breakAt.map(function(e){return i(r,e).breakAt.isSome()}).getOr(!1)):s.breakAt.isNone()},jy=o(My,xy),Ly=o(My,_y),By=function(e,t,n){var i=function(e,t){var n=t.getNode(e);return jr.isElement(n)&&"TABLE"===n.nodeName?O.some(n):O.none()}(!!t,n),r=!1===t;i.fold(function(){return Py(e,n.toRange())},function(i){return Yl.positionIn(r,e.getBody()).filter(function(e){return e.isEqual(n)}).fold(function(){return Py(e,n.toRange())},function(r){return o=t,s=i,l=n,void((c=nd(a=e))?a.undoManager.transact(function(){var e=li.fromTag(c);Ci(e,id(a)),Ro(e,li.fromTag("br")),o?Oo(li.fromDom(s),e):Ao(li.fromDom(s),e);var t=a.dom.createRng();t.setStart(e.dom(),0),t.setEnd(e.dom(),0),Py(a,t)}):Py(a,l.toRange()));var o,a,s,l,c})})},$y=function(e,t,n,i){var r,o,a,s,l,c,d=e.selection.getRng(),u=vs.fromRangeStart(d),h=e.getBody();if(!t&&jy(i,u)){var f=(s=h,function(e,t){return ne(t.getClientRects()).bind(function(t){return Iy(e,t.left,t.top)}).bind(function(e){return wy((n=e,Yl.lastPositionIn(n).map(function(e){return xy(n,e).positions.concat(e)}).getOr([])),t);var n})}(l=n,c=u).orThunk(function(){return ne(c.getClientRects()).bind(function(e){return by(Cy(s,vs.before(l)),e.left)})}).getOr(vs.before(l)));return By(e,t,f),!0}return!(!t||!Ly(i,u)||(r=h,f=function(e,t){return ie(t.getClientRects()).bind(function(t){return Ry(e,t.left,t.top)}).bind(function(e){return wy((n=e,Yl.firstPositionIn(n).map(function(e){return[e].concat(_y(n,e).positions)}).getOr([])),t);var n})}(o=n,a=u).orThunk(function(){return ne(a.getClientRects()).bind(function(e){return by(Sy(r,vs.after(o)),e.left)})}).getOr(vs.after(o)),By(e,t,f),0))},Fy=function(e,t){return function(){return O.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(n){return O.from(e.dom.getParent(n,"table")).map(function(n){return function(e,t,n,i){var r,o,a,s,l=e.selection.getRng(),c=t?1:-1;if(el()&&(r=t,o=l,a=n,s=vs.fromRangeStart(o),Yl.positionIn(!r,a).map(function(e){return e.isEqual(s)}).getOr(!1))){var d=df(c,e,n,!t,!0);return Py(e,d),!0}return!1}(e,t,n)})}).getOr(!1)}},Hy=function(e,t){return function(){return O.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(n){return O.from(e.dom.getParent(n,"table")).map(function(i){return $y(e,t,i,n)})}).getOr(!1)}},zy=function(e){return z(["figcaption"],hi(e))},Wy=function(t){var n=e.document.createRange();return n.setStartBefore(t.dom()),n.setEndBefore(t.dom()),n},Uy=function(e,t,n){n?Ro(e,t):Io(e,t)},qy=function(e,t){var n,i,r,a=li.fromDom(e.getBody()),s=vs.fromRangeStart(e.selection.getRng()),l=nd(e),c=id(e);return(n=s,i=a,r=o(Mi,i),Go(li.fromDom(n.container()),mr,r).filter(zy)).exists(function(){if(function(e,t,n){return t?(r=e.dom(),_y(r,n).breakAt.isNone()):(i=e.dom(),xy(i,n).breakAt.isNone());var i,r}(a,t,s)){var n=function(e,t,n,i){return""===t?(d=e,u=i,h=li.fromTag("br"),Uy(d,h,u),Wy(h)):(r=e,o=i,a=t,s=n,l=li.fromTag(a),c=li.fromTag("br"),Ci(l,s),Ro(l,c),Uy(r,l,o),Wy(c));var r,o,a,s,l,c,d,u,h}(a,l,c,t);return e.selection.setRng(n),!0}return!1})},Vy=function(e,t){return function(){return!!e.selection.isCollapsed()&&qy(e,t)}},Yy=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,i)}},Xy=function(e,n){return G(function(e,n){return Z(U(e,function(e){return hv({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:t},e)}),function(e){return t=e,(i=n).keyCode===t.keyCode&&i.shiftKey===t.shiftKey&&i.altKey===t.altKey&&i.ctrlKey===t.ctrlKey&&i.metaKey===t.metaKey?[e]:[];var t,i})}(e,n),function(e){return e.action()})},Gy=function(e){return O.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},Ky=function(e,t){var n,i,r,o=t,a=e.dom,s=e.schema.getMoveCaretBeforeOnEnterElements();if(t){if(/^(LI|DT|DD)$/.test(t.nodeName)){var l=function(e){for(;e;){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}}(t.firstChild);l&&/^(UL|OL|DL)$/.test(l.nodeName)&&t.insertBefore(a.doc.createTextNode("Â "),t.firstChild)}if(r=a.createRng(),t.normalize(),t.hasChildNodes()){for(n=new cr(t,t);i=n.current();){if(jr.isText(i)){r.setStart(i,0),r.setEnd(i,0);break}if(s[i.nodeName.toLowerCase()]){r.setStartBefore(i),r.setEndBefore(i);break}o=i,i=n.next()}i||(r.setStart(o,0),r.setEnd(o,0))}else jr.isBr(t)?t.nextSibling&&a.isBlock(t.nextSibling)?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)):(r.setStart(t,0),r.setEnd(t,0));e.selection.setRng(r),a.remove(void 0),e.selection.scrollIntoView(t)}},Jy=Gy,Qy=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t},Zy=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},eb=function(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},tb=function(e,t,n){for(var i=e[n?"firstChild":"lastChild"];i&&!jr.isElement(i);)i=i[n?"nextSibling":"previousSibling"];return i===t},nb=function(e){e.innerHTML='<br data-mce-bogus="1">'},ib=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t},rb=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t)},ob=function(e,t,n){return!1===jr.isText(t)?n:e?1===n&&t.data.charAt(n-1)===fa?0:n:n===t.data.length-1&&t.data.charAt(n)===fa?t.data.length:n},ab=function(e,t){var n,i,r=e.getRoot();for(n=t;n!==r&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(i=n),n=n.parentNode;return n!==r?i:r},sb=function(e,t){var n=nd(e);n&&n.toLowerCase()===t.tagName.toLowerCase()&&e.dom.setAttribs(t,id(e))},lb=function(e,t){var n,i,r,o,a,s,l,c,d,u,h,f,p,m,g,v,y,b,w,x=e.dom,_=e.schema,C=_.getNonEmptyElements(),S=e.selection.getRng(),k=function(t){var n,o,s,l=r,c=_.getTextInlineElements();if(t||"TABLE"===u||"HR"===u?(n=x.create(t||f),sb(e,n)):n=a.cloneNode(!1),s=n,!1===function(e){return e.getParam("keep_styles",!0)}(e))x.setAttrib(n,"style",null),x.setAttrib(n,"class",null);else do{if(c[l.nodeName]){if(Fs(l)||nc(l))continue;o=l.cloneNode(!1),x.setAttrib(o,"id",""),n.hasChildNodes()?o.appendChild(n.firstChild):s=o,n.appendChild(o)}}while((l=l.parentNode)&&l!==i);return nb(s),n},T=function(e){var t,n,i,s;if(s=ob(e,r,o),jr.isText(r)&&(e?0<s:s<r.nodeValue.length))return!1;if(r.parentNode===a&&p&&!e)return!0;if(e&&jr.isElement(r)&&r===a.firstChild)return!0;if(ib(r,"TABLE")||ib(r,"HR"))return p&&!e||!p&&e;for(t=new cr(r,a),jr.isText(r)&&(e&&0===s?t.prev():e||s!==r.nodeValue.length||t.next());n=t.current();){if(jr.isElement(n)){if(!n.getAttribute("data-mce-bogus")&&(i=n.nodeName.toLowerCase(),C[i]&&"br"!==i))return!1}else if(jr.isText(n)&&!/^[ \t\r\n]*$/.test(n.nodeValue))return!1;e?t.prev():t.next()}return!0},E=function(){l=/^(H[1-6]|PRE|FIGURE)$/.test(u)&&"HGROUP"!==h?k(f):k(),e.getParam("end_container_on_empty_block",!1)&&rb(x,d)&&x.isEmpty(a)?l=x.split(d,a):x.insertAfter(l,a),Ky(e,l)};Of(x,S).each(function(e){S.setStart(e.startContainer,e.startOffset),S.setEnd(e.endContainer,e.endOffset)}),r=S.startContainer,o=S.startOffset,f=nd(e),s=t.shiftKey,jr.isElement(r)&&r.hasChildNodes()&&(p=o>r.childNodes.length-1,r=r.childNodes[Math.min(o,r.childNodes.length-1)]||r,o=p&&jr.isText(r)?r.nodeValue.length:0),(i=ab(x,r))&&((f&&!s||!f&&s)&&(r=function(e,t,n,i,r){var o,a,s,l,c,d,u,h=t||"P",f=e.dom,p=ab(f,i);if(!(a=f.getParent(i,f.isBlock))||!rb(f,a)){if(d=(a=a||p)===e.getBody()||(u=a)&&/^(TD|TH|CAPTION)$/.test(u.nodeName)?a.nodeName.toLowerCase():a.parentNode.nodeName.toLowerCase(),!a.hasChildNodes())return o=f.create(h),sb(e,o),a.appendChild(o),n.setStart(o,0),n.setEnd(o,0),o;for(l=i;l.parentNode!==a;)l=l.parentNode;for(;l&&!f.isBlock(l);)l=(s=l).previousSibling;if(s&&e.schema.isValidChild(d,h.toLowerCase())){for(o=f.create(h),sb(e,o),s.parentNode.insertBefore(o,s),l=s;l&&!f.isBlock(l);)c=l.nextSibling,o.appendChild(l),l=c;n.setStart(i,r),n.setEnd(i,r)}}return i}(e,f,S,r,o)),a=x.getParent(r,x.isBlock),d=a?x.getParent(a.parentNode,x.isBlock):null,u=a?a.nodeName.toUpperCase():"","LI"!==(h=d?d.nodeName.toUpperCase():"")||t.ctrlKey||(d=(a=d).parentNode,u=h),/^(LI|DT|DD)$/.test(u)&&x.isEmpty(a)?function(e,t,n,i,r){var o=e.dom,a=e.selection.getRng();if(n!==e.getBody()){var s;Zy(s=n)&&Zy(s.parentNode)&&(r="LI");var l,c=r?t(r):o.create("BR");if(tb(n,i,!0)&&tb(n,i,!1))Qy(n,"LI")?o.insertAfter(c,eb(n)):o.replace(c,n);else if(tb(n,i,!0))Qy(n,"LI")?(o.insertAfter(c,eb(n)),c.appendChild(o.doc.createTextNode(" ")),c.appendChild(n)):n.parentNode.insertBefore(c,n);else if(tb(n,i,!1))o.insertAfter(c,eb(n));else{n=eb(n);var d=a.cloneRange();d.setStartAfter(i),d.setEndAfter(n);var u=d.extractContents();"LI"===r&&(l=u).firstChild&&"LI"===l.firstChild.nodeName?(c=u.firstChild,o.insertAfter(u,n)):(o.insertAfter(u,n),o.insertAfter(c,n))}o.remove(i),Ky(e,c)}}(e,k,d,a,f):f&&a===e.getBody()||(f=f||"P",va(a)?(l=ka(a),x.isEmpty(a)&&nb(a),Ky(e,l)):T()?E():T(!0)?(l=a.parentNode.insertBefore(k(),a),Ky(e,ib(a,"HR")?l:a)):((n=(b=S,w=b.cloneRange(),w.setStart(b.startContainer,ob(!0,b.startContainer,b.startOffset)),w.setEnd(b.endContainer,ob(!1,b.endContainer,b.endOffset)),w).cloneRange()).setEndAfter(a),y=c=n.extractContents(),q(Uo(li.fromDom(y),mi),function(e){var t=e.dom();t.nodeValue=pa(t.nodeValue)}),function(e){for(;jr.isText(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;);}(c),l=c.firstChild,x.insertAfter(c,a),function(e,t,n){var i,r=n,o=[];if(r){for(;r=r.firstChild;){if(e.isBlock(r))return;jr.isElement(r)&&!t[r.nodeName.toLowerCase()]&&o.push(r)}for(i=o.length;i--;)!(r=o[i]).hasChildNodes()||r.firstChild===r.lastChild&&""===r.firstChild.nodeValue?e.remove(r):(a=e,(s=r)&&"A"===s.nodeName&&a.isEmpty(s)&&e.remove(r));var a,s}}(x,C,l),m=x,(g=a).normalize(),(v=g.lastChild)&&!/^(left|right)$/gi.test(m.getStyle(v,"float",!0))||m.add(g,"br"),x.isEmpty(a)&&nb(a),l.normalize(),x.isEmpty(l)?(x.remove(l),E()):Ky(e,l)),x.setAttrib(l,"id",""),e.fire("NewBlock",{newBlock:l})))},cb=function(e,t){return Jy(e).filter(function(e){return 0<t.length&&Ri(li.fromDom(e),t)}).isSome()},db=Fd([{br:[]},{block:[]},{none:[]}]),ub=function(e,t){return function(e){return cb(e,function(e){return e.getParam("no_newline_selector","")}(e))}(e)},hb=function(e){return function(t,n){return""===nd(t)===e}},fb=function(e){return function(t,n){return function(e){return Gy(e).filter(function(e){return wr(li.fromDom(e))}).isSome()}(t)===e}},pb=function(e,t){return function(n,r){return function(e){return Gy(e).fold(i(""),function(e){return e.nodeName.toUpperCase()})}(n)===e.toUpperCase()===t}},mb=function(e){return pb("pre",e)},gb=function(e){return function(t,n){return function(e){return e.getParam("br_in_pre",!0)}(t)===e}},vb=function(e,t){return function(e){return cb(e,function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")}(e))}(e)},yb=function(e,t){return t},bb=function(e){var t=nd(e),n=function(e,t){var n,i,r=e.getRoot();for(n=t;n!==r&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(i=n),n=n.parentNode;return n!==r?i:r}(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t||"P")},wb=function(e,t){return function(n,i){return X(e,function(e,t){return e&&t(n,i)},!0)?O.some(t):O.none()}},xb=function(e,n){(function(e,t){return Iu([wb([ub],db.none()),wb([pb("summary",!0)],db.br()),wb([mb(!0),gb(!1),yb],db.br()),wb([mb(!0),gb(!1)],db.block()),wb([mb(!0),gb(!0),yb],db.block()),wb([mb(!0),gb(!0)],db.br()),wb([fb(!0),yb],db.br()),wb([fb(!0)],db.block()),wb([hb(!0),yb,bb],db.block()),wb([hb(!0)],db.br()),wb([vb],db.br()),wb([hb(!1),yb],db.br()),wb([bb],db.block())],[e,t.shiftKey]).getOr(db.none())})(e,n).fold(function(){Ff(e,n)},function(){lb(e,n)},t)},_b=function(e,t){var n=t.container(),i=t.offset();return jr.isText(n)?(n.insertData(i,e),O.some(ps(n,i+e.length))):_l(t).map(function(n){var i=li.fromText(e);return t.isAtEnd()?Oo(n,i):Ao(n,i),ps(i.dom(),e.length)})},Cb=o(_b,"Â "),Sb=o(_b," "),kb=function(e,t,n){return Yl.navigateIgnore(e,t,n,Zd)},Tb=function(e,t){return G(Dd(li.fromDom(t.container()),e),mr)},Eb=function(e,t,n){return kb(e,t.dom(),n).forall(function(e){return Tb(t,n).fold(function(){return!1===fl(e,n,t.dom())},function(i){return!1===fl(e,n,t.dom())&&ji(i,li.fromDom(e.container()))})})},Db=function(e,t,n){return Tb(t,n).fold(function(){return kb(e,t.dom(),n).forall(function(e){return!1===fl(e,n,t.dom())})},function(t){return kb(e,t.dom(),n).isNone()})},Nb=o(Db,!1),Ab=o(Db,!0),Ob=o(Eb,!1),Ib=o(Eb,!0),Rb=function(e){return ps.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},Pb=function(e,t){var n=Y(Dd(li.fromDom(t.container()),e),mr);return ne(n).getOr(e)},Mb=function(e,t){return Rb(t)?Qd(t):Qd(t)||Yl.prevPosition(Pb(e,t).dom(),t).exists(Qd)},jb=function(e,t){return Rb(t)?Jd(t):Jd(t)||Yl.nextPosition(Pb(e,t).dom(),t).exists(Jd)},Lb=function(e){return _l(e).bind(function(e){return Go(e,pi)}).exists(function(e){return t=Ti(e,"white-space"),z(["pre","pre-wrap"],t);var t})},Bb=function(e,t){return n=e,!Lb(i=t)&&(Nb(n,i)||Ob(n,i)||Ud(n,i)||Mb(n,i))||function(e,t){var n,i,r,o=(i=(n=t).container(),r=n.offset(),jr.isText(i)&&r<i.data.length?ps(i,r+1):n);return!Lb(o)&&(Ab(e,o)||Ib(e,o)||Wd(e,o)||jb(e,o))}(e,t);var n,i},$b=function(e,t){return Yd(e.charAt(t))},Fb=function(e){var t=e.container();return jr.isText(t)&&Jn(t.data,"Â ")},Hb=function(e,t){return O.some(t).filter(Fb).bind(function(t){var n,i,r,o,a,s,l,c,d=t.container();return a=e,l=(s=d).data,c=ps(s,0),$b(l,0)&&!Bb(a,c)&&(s.data=" "+l.slice(1),1)||function(e){var t=e.data,n=U(t.split(""),function(e,t,n){return Yd(e)&&0<t&&t<n.length-1&&Gd(n[t-1])&&Gd(n[t+1])?" ":e}).join("");return n!==t&&(e.data=n,!0)}(d)||(n=e,r=(i=d).data,o=ps(i,r.length-1),$b(r,r.length-1)&&!Bb(n,o)&&(i.data=r.slice(0,-1)+" ",1))?O.some(t):O.none()})},zb=function(e){var t=li.fromDom(e.getBody());e.selection.isCollapsed()&&Hb(t,ps.fromRangeStart(e.selection.getRng())).each(function(t){e.selection.setRng(t.toRange())})},Wb=function(e,t){return function(n){return i=e,!Lb(r=n)&&(function(e,t){return r=e,o=t,Yl.prevPosition(r.dom(),o).isNone()||(n=e,i=t,Yl.nextPosition(n.dom(),i).isNone())||Nb(e,t)||Ab(e,t)||Ud(e,t)||Wd(e,t);var n,i,r,o}(i,r)||Mb(i,r)||jb(i,r))?Cb(t):Sb(t);var i,r}},Ub=function(e){var t,n,i=vs.fromRangeStart(e.selection.getRng()),r=li.fromDom(e.getBody());if(e.selection.isCollapsed()){var a=o(pd.isInlineTarget,e),s=vs.fromRangeStart(e.selection.getRng());return Ku(a,e.getBody(),s).bind((n=r,function(e){return e.fold(function(e){return Yl.prevPosition(n.dom(),vs.before(e))},function(e){return Yl.firstPositionIn(e)},function(e){return Yl.lastPositionIn(e)},function(e){return Yl.nextPosition(n.dom(),vs.after(e))})})).bind(Wb(r,i)).exists((t=e,function(e){return t.selection.setRng(e.toRange()),t.nodeChanged(),!0}))}return!1},qb=function(e,t){var n;t.hasAttribute("data-mce-caret")&&(ka(t),(n=e).selection.setRng(n.selection.getRng()),e.selection.scrollIntoView(t))},Vb=function(e,t){var n,r=(n=e,Jo(li.fromDom(n.getBody()),"*[data-mce-caret]").fold(i(null),function(e){return e.dom()}));if(r)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void qb(e,r)):void(wa(r)&&(qb(e,r),e.undoManager.add()))},Yb=ai.detect().browser,Xb=function(e){var t,n,i,r,a=sh.setupSelectedState(e);(function(e){e.on("keyup compositionstart",o(Vb,e))})(e),r=a,(i=e).on("keydown",function(e){var t,n,o,a;!1===e.isDefaultPrevented()&&(t=i,n=r,o=e,a=ai.detect().os,Xy([{keyCode:og.RIGHT,action:Dy(t,!0)},{keyCode:og.LEFT,action:Dy(t,!1)},{keyCode:og.UP,action:Ny(t,!1)},{keyCode:og.DOWN,action:Ny(t,!0)},{keyCode:og.RIGHT,action:Fy(t,!0)},{keyCode:og.LEFT,action:Fy(t,!1)},{keyCode:og.UP,action:Hy(t,!1)},{keyCode:og.DOWN,action:Hy(t,!0)},{keyCode:og.RIGHT,action:sh.move(t,n,!0)},{keyCode:og.LEFT,action:sh.move(t,n,!1)},{keyCode:og.RIGHT,ctrlKey:!a.isOSX(),altKey:a.isOSX(),action:sh.moveNextWord(t,n)},{keyCode:og.LEFT,ctrlKey:!a.isOSX(),altKey:a.isOSX(),action:sh.movePrevWord(t,n)},{keyCode:og.UP,action:Vy(t,!1)},{keyCode:og.DOWN,action:Vy(t,!0)}],o).each(function(e){o.preventDefault()}))}),function(e,t){e.on("keydown",function(n){var i,r,o;!1===n.isDefaultPrevented()&&(i=e,r=t,o=n,Xy([{keyCode:og.BACKSPACE,action:Yy(wu,i,!1)},{keyCode:og.DELETE,action:Yy(wu,i,!0)},{keyCode:og.BACKSPACE,action:Yy(mf,i,!1)},{keyCode:og.DELETE,action:Yy(mf,i,!0)},{keyCode:og.BACKSPACE,action:Yy(dh,i,r,!1)},{keyCode:og.DELETE,action:Yy(dh,i,r,!0)},{keyCode:og.BACKSPACE,action:Yy(jh,i,!1)},{keyCode:og.DELETE,action:Yy(jh,i,!0)},{keyCode:og.BACKSPACE,action:Yy($d,i,!1)},{keyCode:og.DELETE,action:Yy($d,i,!0)},{keyCode:og.BACKSPACE,action:Yy(jd,i,!1)},{keyCode:og.DELETE,action:Yy(jd,i,!0)},{keyCode:og.BACKSPACE,action:Yy(sf,i,!1)},{keyCode:og.DELETE,action:Yy(sf,i,!0)}],o).each(function(e){o.preventDefault()}))}),e.on("keyup",function(t){var n,i;!1===t.isDefaultPrevented()&&(n=e,i=t,Xy([{keyCode:og.BACKSPACE,action:Yy(xu,n)},{keyCode:og.DELETE,action:Yy(xu,n)}],i))})}(e,a),(n=e).on("keydown",function(e){var t,i,r;e.keyCode===og.ENTER&&(t=n,(i=e).isDefaultPrevented()||(i.preventDefault(),(r=t.undoManager).typing&&(r.typing=!1,r.add()),t.undoManager.transact(function(){!1===t.selection.isCollapsed()&&t.execCommand("Delete"),xb(t,i)})))}),(t=e).on("keydown",function(e){var n,i;!1===e.isDefaultPrevented()&&(n=t,i=e,Xy([{keyCode:og.SPACEBAR,action:Yy(Ub,n)}],i).each(function(e){i.preventDefault()}))}),function(e){var t,n;t=e,n=Bo(function(){t.composing||zb(t)},0),Yb.isIE()&&(t.on("keypress",function(e){n.throttle()}),t.on("remove",function(e){n.cancel()})),e.on("input",function(t){!1===t.isComposing&&zb(e)})}(e),function(e){e.on("keydown",function(t){var n,i;!1===t.isDefaultPrevented()&&(n=e,i=t,Xy([{keyCode:og.END,action:Ay(n,!0)},{keyCode:og.HOME,action:Ay(n,!1)}],i).each(function(e){i.preventDefault()}))})}(e)};var Gb=function(e){return jr.isElement(e)&&yr(li.fromDom(e))},Kb=xo.DOM,Jb=function(e){var t;e.bindPendingEventDelegates(),e.initialized=!0,e.fire("init"),e.focus(!0),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),(t=e).settings.auto_focus&&ye.setEditorTimeout(t,function(){var e;(e=!0===t.settings.auto_focus?t:t.editorManager.get(t.settings.auto_focus)).destroyed||e.focus()},100)},Qb=function(t,n){var i,r,o,a,s,l,c,d,u,h=t.settings,f=t.getElement(),p=t.getDoc();h.inline||(t.getElement().style.visibility=t.orgVisibility),n||h.content_editable||(p.open(),p.write(t.iframeHTML),p.close()),h.content_editable&&(t.on("remove",function(){var e=this.getBody();Kb.removeClass(e,"mce-content-body"),Kb.removeClass(e,"mce-edit-focus"),Kb.setAttrib(e,"contentEditable",null)}),Kb.addClass(f,"mce-content-body"),t.contentDocument=p=h.content_document||e.document,t.contentWindow=h.content_window||e.window,t.bodyElement=f,h.content_document=h.content_window=null,h.root_name=f.nodeName.toLowerCase()),(i=t.getBody()).disabled=!0,t.readonly=h.readonly,t.readonly||(t.inline&&"static"===Kb.getStyle(i,"position",!0)&&(i.style.position="relative"),i.contentEditable=t.getParam("content_editable_state",!0)),i.disabled=!1,t.editorUpload=km(t),t.schema=so(h),t.dom=xo(p,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,hex_colors:h.force_hex_style_colors,class_filter:h.class_filter,update_styles:!0,root_element:t.inline?t.getBody():null,collect:h.content_editable,schema:t.schema,contentCssCors:hd(t),onSetAttrib:function(e){t.fire("SetAttrib",e)}}),t.parser=((a=Ov((o=t).settings,o.schema)).addAttributeFilter("src,href,style,tabindex",function(e,t){for(var n,i,r,a=e.length,s=o.dom;a--;)if(i=(n=e[a]).attr(t),r="data-mce-"+t,!n.attributes.map[r]){if(0===i.indexOf("data:")||0===i.indexOf("blob:"))continue;"style"===t?((i=s.serializeStyle(s.parseStyle(i),n.name)).length||(i=null),n.attr(r,i),n.attr(t,i)):"tabindex"===t?(n.attr(r,i),n.attr(t,null)):n.attr(r,o.convertURL(i,t,n.name))}}),a.addNodeFilter("script",function(e){for(var t,n,i=e.length;i--;)0!==(n=(t=e[i]).attr("type")||"no/type").indexOf("mce-")&&t.attr("type","mce-"+n)}),a.addNodeFilter("#cdata",function(e){for(var t,n=e.length;n--;)(t=e[n]).type=8,t.name="#comment",t.value="[CDATA["+t.value+"]]"}),a.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(e){for(var t,n=e.length,i=o.schema.getNonEmptyElements();n--;)(t=e[n]).isEmpty(i)&&0===t.getAll("br").length&&(t.append(new wv("br",1)).shortEnded=!0)}),a),t.serializer=jv(h,t),t.selection=my(t.dom,t.getWin(),t.serializer,t),t.annotator=jc(t),t.formatter=cv(t),t.undoManager=kg(t),t._nodeChangeDispatcher=new Pm(t),t._selectionOverrides=cg(t),function(e){var t,n;(t=e).on("click",function(e){t.dom.getParent(e.target,"details")&&e.preventDefault()}),(n=e).parser.addNodeFilter("details",function(e){q(e,function(e){e.attr("data-mce-open",e.attr("open")),e.attr("open","open")})}),n.serializer.addNodeFilter("details",function(e){q(e,function(e){var t=e.attr("data-mce-open");e.attr("open",R(t)?t:null),e.attr("data-mce-open",null)})})}(t),function(e){e.on("click",function(t){3<=t.detail&&function(e){var t=e.selection.getRng(),n=ps.fromRangeStart(t),i=ps.fromRangeEnd(t);if(ps.isElementPosition(n)){var r=n.container();Gb(r)&&Yl.firstPositionIn(r).each(function(e){return t.setStart(e.container(),e.offset())})}ps.isElementPosition(i)&&(r=n.container(),Gb(r)&&Yl.lastPositionIn(r).each(function(e){return t.setEnd(e.container(),e.offset())})),e.selection.setRng(Xc(t))}(e)})}(t),Xb(t),Nm(t),t.fire("PreInit"),h.browser_spellcheck||h.gecko_spellcheck||(p.body.spellcheck=!1,Kb.setAttrib(i,"spellcheck","false")),t.quirks=function(t){var n,i,r,o=Kt.each,a=og.BACKSPACE,s=og.DELETE,l=t.dom,c=t.selection,d=t.settings,u=t.parser,h=fe.gecko,f=fe.ie,p=fe.webkit,m="data:text/mce-internal,",g=f?"Text":"URL",v=function(e,n){try{t.getDoc().execCommand(e,!1,n)}catch(e){}},y=function(e){return e.isDefaultPrevented()},b=function(){t.shortcuts.add("meta+a",null,"SelectAll")},w=function(){t.on("keydown",function(e){if(!y(e)&&e.keyCode===a&&c.isCollapsed()&&0===c.getRng().startOffset){var t=c.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})},x=function(){t.inline||(t.contentStyles.push("body {min-height: 150px}"),t.on("click",function(e){var n;if("HTML"===e.target.nodeName){if(11<fe.ie)return void t.getBody().focus();n=t.selection.getRng(),t.getBody().focus(),t.selection.setRng(n),t.selection.normalize(),t.nodeChanged()}}))};return t.on("keydown",function(e){var n,i,r,o,a;if(!y(e)&&e.keyCode===og.BACKSPACE&&(i=(n=c.getRng()).startContainer,r=n.startOffset,o=l.getRoot(),a=i,n.collapsed&&0===r)){for(;a&&a.parentNode&&a.parentNode.firstChild===a&&a.parentNode!==o;)a=a.parentNode;"BLOCKQUOTE"===a.tagName&&(t.formatter.toggle("blockquote",null,a),(n=l.createRng()).setStart(i,0),n.setEnd(i,0),c.setRng(n))}}),n=function(e){var t=l.create("body"),n=e.cloneContents();return t.appendChild(n),c.serializer.serialize(t,{format:"html"})},t.on("keydown",function(e){var i,r,o,c,d,u=e.keyCode;if(!y(e)&&(u===s||u===a)){if(i=t.selection.isCollapsed(),r=t.getBody(),i&&!l.isEmpty(r))return;if(!i&&(o=t.selection.getRng(),c=n(o),(d=l.createRng()).selectNode(t.getBody()),c!==n(d)))return;e.preventDefault(),t.setContent(""),r.firstChild&&l.isBlock(r.firstChild)?t.selection.setCursorLocation(r.firstChild,0):t.selection.setCursorLocation(r,0),t.nodeChanged()}}),fe.windowsPhone||t.on("keyup focusin mouseup",function(e){og.modifierPressed(e)||c.normalize()},!0),p&&(t.settings.content_editable||l.bind(t.getDoc(),"mousedown mouseup",function(e){var n;if(e.target===t.getDoc().documentElement)if(n=c.getRng(),t.getBody().focus(),"mousedown"===e.type){if(ba(n.startContainer))return;c.placeCaretAt(e.clientX,e.clientY)}else c.setRng(n)}),t.on("click",function(e){var n=e.target;/^(IMG|HR)$/.test(n.nodeName)&&"false"!==l.getContentEditableParent(n)&&(e.preventDefault(),t.selection.select(n),t.nodeChanged()),"A"===n.nodeName&&l.hasClass(n,"mce-item-anchor")&&(e.preventDefault(),c.select(n))}),d.forced_root_block&&t.on("init",function(){v("DefaultParagraphSeparator",d.forced_root_block)}),t.on("init",function(){t.dom.bind(t.getBody(),"submit",function(e){e.preventDefault()})}),w(),u.addNodeFilter("br",function(e){for(var t=e.length;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()}),fe.iOS?(t.inline||t.on("keydown",function(){e.document.activeElement===e.document.body&&t.getWin().focus()}),x(),t.on("click",function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)}),t.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")):b()),11<=fe.ie&&(x(),w()),fe.ie&&(b(),v("AutoUrlDetect",!1),t.on("dragstart",function(e){var n,i,r;(n=e).dataTransfer&&(t.selection.isCollapsed()&&"IMG"===n.target.tagName&&c.select(n.target),0<(i=t.selection.getContent()).length&&(r=m+escape(t.id)+","+escape(i),n.dataTransfer.setData(g,r)))}),t.on("drop",function(e){if(!y(e)){var n=(o=e).dataTransfer&&(a=o.dataTransfer.getData(g))&&0<=a.indexOf(m)?(a=a.substr(m.length).split(","),{id:unescape(a[0]),html:unescape(a[1])}):null;if(n&&n.id!==t.id){e.preventDefault();var i=Vv(e.x,e.y,t.getDoc());c.setRng(i),r=n.html,t.queryCommandSupported("mceInsertClipboardContent")?t.execCommand("mceInsertClipboardContent",!1,{content:r,internal:!0}):t.execCommand("mceInsertContent",!1,r)}}var r,o,a})),h&&(t.on("keydown",function(e){if(!y(e)&&e.keyCode===a){if(!t.getBody().getElementsByTagName("hr").length)return;if(c.isCollapsed()&&0===c.getRng().startOffset){var n=c.getNode(),i=n.previousSibling;if("HR"===n.nodeName)return l.remove(n),void e.preventDefault();i&&i.nodeName&&"hr"===i.nodeName.toLowerCase()&&(l.remove(i),e.preventDefault())}}}),e.Range.prototype.getClientRects||t.on("mousedown",function(e){if(!y(e)&&"HTML"===e.target.nodeName){var n=t.getBody();n.blur(),ye.setEditorTimeout(t,function(){n.focus()})}}),i=function(){var e=l.getAttribs(c.getStart().cloneNode(!1));return function(){var n=c.getStart();n!==t.getBody()&&(l.setAttrib(n,"style",null),o(e,function(e){n.setAttributeNode(e.cloneNode(!0))}))}},r=function(){return!c.isCollapsed()&&l.getParent(c.getStart(),l.isBlock)!==l.getParent(c.getEnd(),l.isBlock)},t.on("keypress",function(e){var n;if(!y(e)&&(8===e.keyCode||46===e.keyCode)&&r())return n=i(),t.getDoc().execCommand("delete",!1,null),n(),e.preventDefault(),!1}),l.bind(t.getDoc(),"cut",function(e){var n;!y(e)&&r()&&(n=i(),ye.setEditorTimeout(t,function(){n()}))}),d.readonly||t.on("BeforeExecCommand MouseDown",function(){v("StyleWithCSS",!1),v("enableInlineTableEditing",!1),d.object_resizing||v("enableObjectResizing",!1)}),t.on("SetContent ExecCommand",function(e){"setcontent"!==e.type&&"mceInsertLink"!==e.command||o(l.select("a"),function(e){var t=e.parentNode,n=l.getRoot();if(t.lastChild===e){for(;t&&!l.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}l.add(t,"br",{"data-mce-bogus":1})}})}),t.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),fe.mac&&t.on("keydown",function(e){!og.metaKeyPressed(e)||e.shiftKey||37!==e.keyCode&&39!==e.keyCode||(e.preventDefault(),t.selection.getSel().modify("move",37===e.keyCode?"backward":"forward","lineboundary"))}),w()),{refreshContentEditable:function(){},isHidden:function(){var e;return!h||t.removed?0:!(e=t.selection.getSel())||!e.rangeCount||0===e.rangeCount}}}(t),t.fire("PostRender"),h.directionality&&(i.dir=h.directionality),h.nowrap&&(i.style.whiteSpace="nowrap"),h.protect&&t.on("BeforeSetContent",function(e){Kt.each(h.protect,function(t){e.content=e.content.replace(t,function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"})})}),t.on("SetContent",function(){t.addVisual(t.getBody())}),t.load({initial:!0,format:"html"}),t.startContent=t.getContent({format:"raw"}),t.on("compositionstart compositionend",function(e){t.composing="compositionstart"===e.type}),0<t.contentStyles.length&&(r="",Kt.each(t.contentStyles,function(e){r+=e+"\r\n"}),t.dom.addStyle(r)),(s=t,s.inline?Kb.styleSheetLoader:s.dom.styleSheetLoader).loadAll(t.contentCSS,function(e){Jb(t)},function(e){Jb(t)}),h.content_style&&(l=t,c=h.content_style,d=li.fromDom(l.getDoc().head),u=li.fromTag("style"),_i(u,"type","text/css"),Ro(u,li.fromText(c)),Ro(d,u))},Zb=xo.DOM,ew=function(t,n){var i,r,o,a,s,l,c,d=t.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),u=(i=t.id,r=d,o=n.height,a=function(e){return e.getParam("iframe_attrs",{})}(t),c=li.fromTag("iframe"),Ci(c,a),Ci(c,{id:i+"_ifr",frameBorder:"0",allowTransparency:"true",title:r}),function(t,n){var i=t.dom();yi(n,function(t,n){!function(t,n,i){if(!R(i))throw e.console.error("Invalid call to CSS.set. Property ",n,":: Value ",i,":: Element ",t),new Error("CSS value must be a string: "+i);wi(t)&&t.style.setProperty(n,i)}(i,n,t)})}(c,{width:"100%",height:(s=o,l="number"==typeof s?s+"px":s,l||""),display:"block"}),c).dom();u.onload=function(){u.onload=null,t.fire("load")};var h,f,p,m,g=function(t,n){if(e.document.domain!==e.window.location.hostname&&fe.ie&&fe.ie<12){var i=Sm.uuid("mce");t[i]=function(){Qb(t)};var r='javascript:(function(){document.open();document.domain="'+e.document.domain+'";var ed = window.parent.tinymce.get("'+t.id+'");document.write(ed.iframeHTML);document.close();ed.'+i+"(true);})()";return Zb.setAttrib(n,"src",r),!0}return!1}(t,u);return t.contentAreaContainer=n.iframeContainer,t.iframeElement=u,t.iframeHTML=(m=function(e){return e.getParam("doctype","<!DOCTYPE html>")}(h=t)+"<html><head>",function(e){return e.getParam("document_base_url","")}(h)!==h.documentBaseUrl&&(m+='<base href="'+h.documentBaseURI.getURI()+'" />'),m+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',f=function(e){return ed(e,"body_id","tinymce")}(h),p=function(e){return ed(e,"body_class","")}(h),td(h)&&(m+='<meta http-equiv="Content-Security-Policy" content="'+td(h)+'" />'),m+='</head><body id="'+f+'" class="mce-content-body '+p+'" data-id="'+h.id+'"><br></body></html>'),Zb.add(n.iframeContainer,u),g},tw=xo.DOM,nw=function(e,t,n){var i=um.get(n),r=um.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=Kt.trim(n),i&&-1===Kt.inArray(t,n)){if(Kt.each(um.dependencies(n),function(n){nw(e,t,n)}),e.plugins[n])return;try{var o=new i(e,r,e.$);(e.plugins[n]=o).init&&(o.init(e,r),t.push(n))}catch(t){dm.pluginInitError(e,n,t)}}},iw=function(e){return e.replace(/^\-/,"")},rw=function(e){return{editorContainer:e,iframeContainer:e}},ow=function(e){var t,n,i,r,o,a,s,l,c,d,u,h=e.settings,f=e.getElement();return e.orgDisplay=f.style.display,R(h.theme)?(d=(r=e).settings,u=r.getElement(),o=d.width||tw.getStyle(u,"width")||"100%",a=d.height||tw.getStyle(u,"height")||u.offsetHeight,s=d.min_height||100,(l=/^[0-9\.]+(|px)$/i).test(""+o)&&(o=Math.max(parseInt(o,10),100)),l.test(""+a)&&(a=Math.max(parseInt(a,10),s)),c=r.theme.renderUI({targetNode:u,width:o,height:a,deltaWidth:d.delta_width,deltaHeight:d.delta_height}),d.content_editable||(a=(c.iframeHeight||a)+("number"==typeof a?c.deltaHeight||0:""))<s&&(a=s),c.height=a,c):B(h.theme)?(i=(t=e).getElement(),(n=t.settings.theme(t,i)).editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||t.id+"_parent"),n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||t.id+"_iframecontainer"),n.height=n.iframeHeight?n.iframeHeight:i.offsetHeight,n):function(e){var t,n,i=e.getElement();return e.inline?rw(null):(t=i,n=tw.create("div"),tw.insertAfter(n,t),rw(n))}(e)},aw=function(e){var t,n,i,r,o,a,s=e.settings,l=e.getElement();return e.rtl=s.rtl_ui||e.editorManager.i18n.rtl,e.editorManager.i18n.setCode(s.language),s.aria_label=s.aria_label||tw.getAttrib(l,"aria-label",e.getLang("aria.rich_text_area")),e.fire("ScriptsLoaded"),r=(n=e).settings.theme,R(r)?(n.settings.theme=iw(r),i=hm.get(r),n.theme=new i(n,hm.urls[r]),n.theme.init&&n.theme.init(n,hm.urls[r]||n.documentBaseUrl.replace(/\/$/,""),n.$)):n.theme={},o=e,a=[],Kt.each(o.settings.plugins.split(/[ ,]/),function(e){nw(o,a,iw(e))}),t=ow(e),e.editorContainer=t.editorContainer?t.editorContainer:null,s.content_css&&Kt.each(Kt.explode(s.content_css),function(t){e.contentCSS.push(e.documentBaseURI.toAbsolute(t))}),s.content_editable?Qb(e):function(e,t){var n=ew(e,t);t.editorContainer&&(Zb.get(t.editorContainer).style.display=e.orgDisplay,e.hidden=Zb.isHidden(t.editorContainer)),e.getElement().style.display="none",Zb.setAttrib(e.id,"aria-hidden","true"),n||Qb(e)}(e,t)},sw=xo.DOM,lw=function(e){return"-"===e.charAt(0)},cw=function(t){var n,i,r,o=t.settings,a=t.id,s=function(){sw.unbind(e.window,"ready",s),t.render()};if(Ee.Event.domLoaded){if(t.getElement()&&fe.contentEditable){o.inline?t.inline=!0:(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden");var l=t.getElement().form||sw.getParent(a,"form");l&&(t.formElement=l,o.hidden_input&&!/TEXTAREA|INPUT/i.test(t.getElement().nodeName)&&(sw.insertAfter(sw.create("input",{type:"hidden",name:a}),a),t.hasHiddenInput=!0),t.formEventDelegate=function(e){t.fire(e.type,e)},sw.bind(l,"submit reset",t.formEventDelegate),t.on("reset",function(){t.setContent(t.startContent,{format:"raw"})}),!o.submit_patch||l.submit.nodeType||l.submit.length||l._mceOldSubmit||(l._mceOldSubmit=l.submit,l.submit=function(){return t.editorManager.triggerSave(),t.setDirty(!1),l._mceOldSubmit(l)})),t.windowManager=nm(t),t.notificationManager=tm(t),"xml"===o.encoding&&t.on("GetContent",function(e){e.save&&(e.content=sw.encode(e.content))}),o.add_form_submit_trigger&&t.on("submit",function(){t.initialized&&t.save()}),o.add_unload_trigger&&(t._beforeUnload=function(){!t.initialized||t.destroyed||t.isHidden()||t.save({format:"raw",no_events:!0,set_dirty:!1})},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),n=t,i=t.suffix,function(e,t,n,i){var r=t.settings,o=r.theme;if(R(o)){if(!lw(o)&&!hm.urls.hasOwnProperty(o)){var a=r.theme_url;a?hm.load(o,t.documentBaseURI.toAbsolute(a)):hm.load(o,"themes/"+o+"/theme"+n+".js")}e.loadQueue(function(){hm.waitFor(o,i)})}else i()}(r=To.ScriptLoader,n,i,function(){var e,t,o,a,s;e=r,(o=(t=n).settings).language&&"en"!==o.language&&!o.language_url&&(o.language_url=t.editorManager.baseURL+"/langs/"+o.language+".js"),o.language_url&&!t.editorManager.i18n.data[o.language]&&e.add(o.language_url),a=n.settings,s=i,Kt.isArray(a.plugins)&&(a.plugins=a.plugins.join(" ")),Kt.each(a.external_plugins,function(e,t){um.load(t,e),a.plugins+=" "+t}),Kt.each(a.plugins.split(/[ ,]/),function(e){if((e=Kt.trim(e))&&!um.urls[e])if(lw(e)){e=e.substr(1,e.length);var t=um.dependencies(e);Kt.each(t,function(e){var t={prefix:"plugins/",resource:e,suffix:"/plugin"+s+".js"};e=um.createUrl(t,e),um.load(e.resource,e)})}else um.load(e,{prefix:"plugins/",resource:e,suffix:"/plugin"+s+".js"})}),r.loadQueue(function(){n.removed||aw(n)},n,function(e){dm.pluginLoadError(n,e[0]),n.removed||aw(n)})})}}else sw.bind(e.window,"ready",s)},dw=Kt.each,uw=Kt.trim,hw="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),fw={ftp:21,http:80,https:443,mailto:25},pw=function(t,n){var i,r,o=this;if(t=uw(t),i=(n=o.settings=n||{}).base_uri,/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t))o.source=t;else{var a=0===t.indexOf("//");0!==t.indexOf("/")||a||(t=(i&&i.protocol||"http")+"://mce_host"+t),/^[\w\-]*:?\/\//.test(t)||(r=n.base_uri?n.base_uri.path:new pw(e.document.location.href).directory,""==n.base_uri.protocol?t="//mce_host"+o.toAbsPath(r,t):(t=/([^#?]*)([#?]?.*)/.exec(t),t=(i&&i.protocol||"http")+"://mce_host"+o.toAbsPath(r,t[1])+t[2])),t=t.replace(/@@/g,"(mce_at)"),t=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t),dw(hw,function(e,n){var i=t[n];i&&(i=i.replace(/\(mce_at\)/g,"@@")),o[e]=i}),i&&(o.protocol||(o.protocol=i.protocol),o.userInfo||(o.userInfo=i.userInfo),o.port||"mce_host"!==o.host||(o.port=i.port),o.host&&"mce_host"!==o.host||(o.host=i.host),o.source=""),a&&(o.protocol="")}};pw.prototype={setPath:function(e){e=/^(.*?)\/?(\w+)?$/.exec(e),this.path=e[0],this.directory=e[1],this.file=e[2],this.source="",this.getURI()},toRelative:function(e){var t;if("./"===e)return e;if("mce_host"!==(e=new pw(e,{base_uri:this})).host&&this.host!==e.host&&e.host||this.port!==e.port||this.protocol!==e.protocol&&""!==e.protocol)return e.getURI();var n=this.getURI(),i=e.getURI();return n===i||"/"===n.charAt(n.length-1)&&n.substr(0,n.length-1)===i?n:(t=this.toRelPath(this.path,e.path),e.query&&(t+="?"+e.query),e.anchor&&(t+="#"+e.anchor),t)},toAbsolute:function(e,t){return(e=new pw(e,{base_uri:this})).getURI(t&&this.isSameOrigin(e))},isSameOrigin:function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=fw[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},toRelPath:function(e,t){var n,i,r,o=0,a="";if(e=(e=e.substring(0,e.lastIndexOf("/"))).split("/"),n=t.split("/"),e.length>=n.length)for(i=0,r=e.length;i<r;i++)if(i>=n.length||e[i]!==n[i]){o=i+1;break}if(e.length<n.length)for(i=0,r=n.length;i<r;i++)if(i>=e.length||e[i]!==n[i]){o=i+1;break}if(1===o)return t;for(i=0,r=e.length-(o-1);i<r;i++)a+="../";for(i=o-1,r=n.length;i<r;i++)a+=i!==o-1?"/"+n[i]:n[i];return a},toAbsPath:function(e,t){var n,i,r,o=0,a=[];for(i=/\/$/.test(t)?"/":"",e=e.split("/"),t=t.split("/"),dw(e,function(e){e&&a.push(e)}),e=a,n=t.length-1,a=[];0<=n;n--)0!==t[n].length&&"."!==t[n]&&(".."!==t[n]?0<o?o--:a.push(t[n]):o++);return 0!==(r=(n=e.length-o)<=0?a.reverse().join("/"):e.slice(0,n).join("/")+"/"+a.reverse().join("/")).indexOf("/")&&(r="/"+r),i&&r.lastIndexOf("/")!==r.length-1&&(r+=i),r},getURI:function(e){var t,n=this;return n.source&&!e||(t="",e||(n.protocol?t+=n.protocol+"://":t+="//",n.userInfo&&(t+=n.userInfo+"@"),n.host&&(t+=n.host),n.port&&(t+=":"+n.port)),n.path&&(t+=n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),n.source=t),n.source}},pw.parseDataUri=function(e){var t,n;return e=decodeURIComponent(e).split(","),(n=/data:([^;]+)/.exec(e[0]))&&(t=n[1]),{type:t,data:e[1]}},pw.getDocumentBaseUrl=function(e){var t;return t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t};var mw=function(e,t){t(e),e.firstChild&&mw(e.firstChild,t),e.next&&mw(e.next,t)},gw=function(e){return e instanceof wv},vw=function(e,t){var n;e.dom.setHTML(e.getBody(),t),Vp(n=e)&&Yl.firstPositionIn(n.getBody()).each(function(e){var t=e.getNode(),i=jr.isTable(t)?Yl.firstPositionIn(t).getOr(e):e;n.selection.setRng(i.toRange())})},yw=function(e,t,n){return void 0===n&&(n={}),n.format=n.format?n.format:"html",n.set=!0,n.content=gw(t)?"":t,gw(t)||n.no_events||(e.fire("BeforeSetContent",n),t=n.content),O.from(e.getBody()).fold(i(t),function(i){return gw(t)?function(e,t,n,i){!function(e,t,n){var i=function(e,t,n){var i={},r={},o=[];for(var a in n.firstChild&&mw(n.firstChild,function(n){q(e,function(e){e.name===n.name&&(i[e.name]?i[e.name].nodes.push(n):i[e.name]={filter:e,nodes:[n]})}),q(t,function(e){"string"==typeof n.attr(e.name)&&(r[e.name]?r[e.name].nodes.push(n):r[e.name]={filter:e,nodes:[n]})})}),i)i.hasOwnProperty(a)&&o.push(i[a]);for(var a in r)r.hasOwnProperty(a)&&o.push(r[a]);return o}(e,t,n);q(i,function(e){q(e.filter.callbacks,function(t){t(e.nodes,e.filter.name,{})})})}(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);var r=Yc({validate:e.validate},e.schema).serialize(n);return i.content=Sr(li.fromDom(t))?r:Kt.trim(r),vw(e,i.content),i.no_events||e.fire("SetContent",i),n}(e,i,t,n):(r=e,o=i,s=n,0===(a=t).length||/^\s+$/.test(a)?(c='<br data-mce-bogus="1">',"TABLE"===o.nodeName?a="<tr><td>"+c+"</td></tr>":/^(UL|OL)$/.test(o.nodeName)&&(a="<li>"+c+"</li>"),(l=nd(r))&&r.schema.isValidChild(o.nodeName.toLowerCase(),l.toLowerCase())?(a=c,a=r.dom.createHTML(l,r.settings.forced_root_block_attrs,a)):a||(a='<br data-mce-bogus="1">'),vw(r,a),r.fire("SetContent",s)):("raw"!==s.format&&(a=Yc({validate:r.validate},r.schema).serialize(r.parser.parse(a,{isRootContent:!0,insert:!0}))),s.content=Sr(li.fromDom(o))?a:Kt.trim(a),vw(r,s.content),s.no_events||r.fire("SetContent",s)),s.content);var r,o,a,s,l,c})},bw=xo.DOM,ww=function(e){return O.from(e).each(function(e){return e.destroy()})},xw=xo.DOM,_w=Kt.extend,Cw=Kt.each,Sw=Kt.resolve,kw=fe.ie,Tw=function(e,t,n){var i,r,o,a,s,l,c,d=this,u=d.documentBaseUrl=n.documentBaseURL,h=n.baseURI;i=d,r=e,o=u,a=n.defaultSettings,s=t,c={id:r,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:o,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,render_ui:!0,indentation:"40px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:(l=i).convertURL,url_converter_scope:l,ie7_compat:!0},t=Rp(Ep,c,a,s),d.settings=t,No.language=t.language||"en",No.languageLoad=t.language_load,No.baseURL=n.baseURL,d.id=e,d.setDirty(!1),d.plugins={},d.documentBaseURI=new pw(t.document_base_url,{base_uri:h}),d.baseURI=h,d.contentCSS=[],d.contentStyles=[],d.shortcuts=new $p(d),d.loadedCSS={},d.editorCommands=new up(d),d.suffix=n.suffix,d.editorManager=n,d.inline=t.inline,d.buttons={},d.menuItems={},t.cache_suffix&&(fe.cacheSuffix=t.cache_suffix.replace(/^[\?\&]+/,"")),!1===t.override_viewport&&(fe.overrideViewPort=!1),n.fire("SetupEditor",{editor:d}),d.execCallback("setup",d),d.$=gn.overrideDefaults(function(){return{context:d.inline?d.getBody():d.getDoc(),element:d.getBody()}})};_w(Tw.prototype={render:function(){cw(this)},focus:function(e){!function(e,t){e.removed||(t?qp(e):function(e){var t=e.selection,n=e.settings.content_editable,i=e.getBody(),r=t.getRng();e.quirks.refreshContentEditable();var o,a,s=(o=e,a=t.getNode(),o.dom.getParent(a,function(e){return"true"===o.dom.getContentEditable(e)}));if(e.$.contains(i,s))return zp(s),Hp(e,r),qp(e);void 0!==e.bookmark&&!1===Up(e)&&rp(e).each(function(t){e.selection.setRng(t),r=t}),n||(fe.opera||zp(i),e.getWin().focus()),(fe.gecko||n)&&(zp(i),Hp(e,r)),qp(e)}(e))}(this,e)},hasFocus:function(){return Vp(this)},execCallback:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i,r=this.settings[e];if(r)return this.callbackLookup&&(i=this.callbackLookup[e])&&(r=i.func,i=i.scope),"string"==typeof r&&(i=(i=r.replace(/\.\w+$/,""))?Sw(i):0,r=Sw(r),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[e]={func:r,scope:i}),r.apply(i||this,Array.prototype.slice.call(arguments,1))},translate:function(e){if(e&&Kt.is(e,"string")){var t=this.settings.language||"en",n=this.editorManager.i18n;e=n.data[t+"."+e]||e.replace(/\{\#([^\}]+)\}/g,function(e,i){return n.data[t+"."+i]||"{#"+i+"}"})}return this.editorManager.translate(e)},getLang:function(e,t){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+e]||(void 0!==t?t:"{#"+e+"}")},getParam:function(e,t,n){return function(e,t,n,i){var r,o,a,s=t in e.settings?e.settings[t]:n;return"hash"===i?(a={},"string"==typeof(o=s)?q(0<o.indexOf("=")?o.split(/[;,](?![^=;,]*(?:[;,]|$))/):o.split(","),function(e){var t=e.split("=");1<t.length?a[Kt.trim(t[0])]=Kt.trim(t[1]):a[Kt.trim(t[0])]=Kt.trim(t)}):a=o,a):"string"===i?Pp(R,e,t).getOr(n):"number"===i?Pp($,e,t).getOr(n):"boolean"===i?Pp(L,e,t).getOr(n):"object"===i?Pp(P,e,t).getOr(n):"array"===i?Pp(M,e,t).getOr(n):"string[]"===i?Pp((r=R,function(e){return M(e)&&ee(e,r)}),e,t).getOr(n):"function"===i?Pp(B,e,t).getOr(n):s}(this,e,t,n)},nodeChanged:function(e){this._nodeChangeDispatcher.nodeChanged(e)},addButton:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),t.stateSelector&&void 0===t.active&&(t.active=!1),t.text||t.icon||(t.icon=e),t.tooltip=t.tooltip||t.title,n.buttons[e]=t},addSidebar:function(e,t){return function(e,t,n){var i=e.sidebars?e.sidebars:[];i.push({name:t,settings:n}),e.sidebars=i}(this,e,t)},addMenuItem:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),n.menuItems[e]=t},addContextToolbar:function(e,t){var n,i=this;i.contextToolbars=i.contextToolbars||[],"string"==typeof e&&(n=e,e=function(e){return i.dom.is(e,n)}),i.contextToolbars.push({id:Sm.uuid("mcet"),predicate:e,items:t})},addCommand:function(e,t,n){this.editorCommands.addCommand(e,t,n)},addQueryStateHandler:function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},addQueryValueHandler:function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},addShortcut:function(e,t,n,i){this.shortcuts.add(e,t,n,i)},execCommand:function(e,t,n,i){return this.editorCommands.execCommand(e,t,n,i)},queryCommandState:function(e){return this.editorCommands.queryCommandState(e)},queryCommandValue:function(e){return this.editorCommands.queryCommandValue(e)},queryCommandSupported:function(e){return this.editorCommands.queryCommandSupported(e)},show:function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable=!0:(xw.show(this.getContainer()),xw.hide(this.id)),this.load(),this.fire("show"))},hide:function(){var e=this,t=e.getDoc();e.hidden||(kw&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable=!1,e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(xw.hide(e.getContainer()),xw.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(e,t){this.fire("ProgressState",{state:e,time:t})},load:function(e){var t,n=this.getElement();return this.removed?"":n?((e=e||{}).load=!0,t=this.setContent(void 0!==n.value?n.value:n.innerHTML,e),e.element=n,e.no_events||this.fire("LoadContent",e),e.element=n=null,t):void 0},save:function(e){var t,n,i=this,r=i.getElement();if(r&&i.initialized&&!i.removed)return(e=e||{}).save=!0,e.element=r,e.content=i.getContent(e),e.no_events||i.fire("SaveContent",e),"raw"===e.format&&i.fire("RawSaveContent",e),t=e.content,/TEXTAREA|INPUT/i.test(r.nodeName)?r.value=t:(!e.is_removing&&i.inline||(r.innerHTML=t),(n=xw.getParent(i.id,"form"))&&Cw(n.elements,function(e){if(e.name===i.id)return e.value=t,!1})),e.element=r=null,!1!==e.set_dirty&&i.setDirty(!1),t},setContent:function(e,t){return yw(this,e,t)},getContent:function(e){return t=this,void 0===(n=e)&&(n={}),O.from(t.getBody()).fold(i("tree"===n.format?new wv("body",11):""),function(e){return function(e,t,n){var i,r,o,a,s;if(t.format=t.format?t.format:"html",t.get=!0,t.getInner=!0,t.no_events||e.fire("BeforeGetContent",t),"raw"===t.format)i=Kt.trim(mg(e.serializer,n.innerHTML));else if("text"===t.format)i=pa(n.innerText||n.textContent);else{if("tree"===t.format)return e.serializer.serialize(n,t);o=(r=e).serializer.serialize(n,t),a=nd(r),s=new RegExp("^(<"+a+"[^>]*>(&nbsp;|&#160;|\\s|Â |<br \\/>|)<\\/"+a+">[\r\n]*|<br \\/>[\r\n]*)$"),i=o.replace(s,"")}return"text"===t.format||Sr(li.fromDom(n))?t.content=i:t.content=Kt.trim(i),t.no_events||e.fire("GetContent",t),t.content}(t,n,e)});var t,n},insertContent:function(e,t){t&&(e=_w({content:e},t)),this.execCommand("mceInsertContent",!1,e)},isDirty:function(){return!this.isNotDirty},setDirty:function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.fire("dirty")},setMode:function(e){var t,n;(n=e)!==function(e){return e.readonly?"readonly":"design"}(t=this)&&(t.initialized?bp(t,"readonly"===n):t.on("init",function(){bp(t,"readonly"===n)}),function(e,t){e.fire("SwitchMode",{mode:t})}(t,n))},getContainer:function(){return this.container||(this.container=xw.get(this.editorContainer||this.id+"_parent")),this.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=xw.get(this.id)),this.targetElm},getWin:function(){var e;return this.contentWindow||(e=this.iframeElement)&&(this.contentWindow=e.contentWindow),this.contentWindow},getDoc:function(){var e;return this.contentDocument||(e=this.getWin())&&(this.contentDocument=e.document),this.contentDocument},getBody:function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},convertURL:function(e,t,n){var i=this.settings;return i.urlconverter_callback?this.execCallback("urlconverter_callback",e,n,!0,t):!i.convert_urls||n&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length?e:i.relative_urls?this.documentBaseURI.toRelative(e):e=this.documentBaseURI.toAbsolute(e,i.remove_script_host)},addVisual:function(e){var t,n=this,i=n.settings,r=n.dom;e=e||n.getBody(),void 0===n.hasVisual&&(n.hasVisual=i.visual),Cw(r.select("table,a",e),function(e){var o;switch(e.nodeName){case"TABLE":return t=i.visual_table_class||"mce-item-table",void((o=r.getAttrib(e,"border"))&&"0"!==o||!n.hasVisual?r.removeClass(e,t):r.addClass(e,t));case"A":return void(r.getAttrib(e,"href")||(o=r.getAttrib(e,"name")||e.id,t=i.visual_anchor_class||"mce-item-anchor",o&&n.hasVisual?r.addClass(e,t):r.removeClass(e,t)))}}),n.fire("VisualAid",{element:e,hasVisual:n.hasVisual})},remove:function(){!function(e){if(!e.removed){var t=e._selectionOverrides,n=e.editorUpload,i=e.getBody(),r=e.getElement();i&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&r&&bw.remove(r.nextSibling),function(e){e.fire("remove")}(e),e.editorManager.remove(e),!e.inline&&i&&(o=e,bw.setStyle(o.id,"display",o.orgDisplay)),function(e){e.fire("detach")}(e),bw.remove(e.getContainer()),ww(t),ww(n),e.destroy()}var o}(this)},destroy:function(e){!function(e,t){var n,i,r,o=e.selection,a=e.dom;e.destroyed||(t||e.removed?(t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),ww(o),ww(a)),(i=(n=e).formElement)&&(i._mceOldSubmit&&(i.submit=i._mceOldSubmit,i._mceOldSubmit=null),bw.unbind(i,"submit reset",n.formEventDelegate)),(r=e).contentAreaContainer=r.formElement=r.container=r.editorContainer=null,r.bodyElement=r.contentDocument=r.contentWindow=null,r.iframeElement=r.targetElm=null,r.selection&&(r.selection=r.selection.win=r.selection.dom=r.selection.dom.doc=null),e.destroyed=!0):e.remove())}(this,e)},uploadImages:function(e){return this.editorUpload.uploadImages(e)},_scanForImages:function(){return this.editorUpload.scanForImages()}},kp);var Ew,Dw,Nw,Aw={isEditorUIElement:function(e){return-1!==e.className.toString().indexOf("mce-")}},Ow=function(t){var n,i,r,o=Bo(function(){np(t)},0);t.inline&&(n=t,i=o,r=function(){i.throttle()},xo.DOM.bind(e.document,"mouseup",r),n.on("remove",function(){xo.DOM.unbind(e.document,"mouseup",r)})),t.on("init",function(){!function(e,t){var n,i;ai.detect().browser.isIE()?(i=e).on("focusout",function(){np(i)}):(n=t,e.on("mouseup touchend",function(e){n.throttle()})),e.on("keyup nodechange",function(t){var n;"nodechange"===(n=t).type&&n.selectionChange||np(e)})}(t,o)}),t.on("remove",function(){o.cancel()})},Iw=xo.DOM,Rw=function(e,t){var n=e?e.settings.custom_ui_selector:"";return null!==Iw.getParent(t,function(t){return function(e){return Aw.isEditorUIElement(e)}(t)||!!n&&e.dom.is(t,n)})},Pw=function(t,n){var i=n.editor;Ow(i),i.on("focusin",function(){var e=t.focusedEditor;e!==this&&(e&&e.fire("blur",{focusedEditor:this}),t.setActive(this),(t.focusedEditor=this).fire("focus",{blurredEditor:e}),this.focus(!0))}),i.on("focusout",function(){var n=this;ye.setEditorTimeout(n,function(){var i=t.focusedEditor;Rw(n,function(){try{return e.document.activeElement}catch(t){return e.document.body}}())||i!==n||(n.fire("blur",{focusedEditor:null}),t.focusedEditor=null)})}),Ew||(Ew=function(n){var i,r=t.activeEditor;i=n.target,r&&i.ownerDocument===e.document&&(i===e.document.body||Rw(r,i)||t.focusedEditor!==r||(r.fire("blur",{focusedEditor:null}),t.focusedEditor=null))},Iw.bind(e.document,"focusin",Ew))},Mw=function(t,n){t.focusedEditor===n.editor&&(t.focusedEditor=null),t.activeEditor||(Iw.unbind(e.document,"focusin",Ew),Ew=null)},jw=xo.DOM,Lw=Kt.explode,Bw=Kt.each,$w=Kt.extend,Fw=0,Hw=!1,zw=[],Ww=[],Uw=function(e){var t=e.type;Bw(Nw.get(),function(n){switch(t){case"scroll":n.fire("ScrollWindow",e);break;case"resize":n.fire("ResizeWindow",e)}})},qw=function(e){e!==Hw&&(e?gn(window).on("resize scroll",Uw):gn(window).off("resize scroll",Uw),Hw=e)},Vw=function(e){var t=Ww;delete zw[e.id];for(var n=0;n<zw.length;n++)if(zw[n]===e){zw.splice(n,1);break}return Ww=Y(Ww,function(t){return e!==t}),Nw.activeEditor===e&&(Nw.activeEditor=0<Ww.length?Ww[0]:null),Nw.focusedEditor===e&&(Nw.focusedEditor=null),t.length!==Ww.length};$w(Nw={defaultSettings:{},$:gn,majorVersion:"4",minorVersion:"9.6",releaseDate:"2019-09-02",editors:zw,i18n:om,activeEditor:null,settings:{},setup:function(){var t,n,i,r,a="";if(n=pw.getDocumentBaseUrl(e.document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/")),i=window.tinymce||window.tinyMCEPreInit)t=i.base||i.baseURL,a=i.suffix;else{for(var s=e.document.getElementsByTagName("script"),l=0;l<s.length;l++){var c=(r=s[l].src).substring(r.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(r)){-1!==c.indexOf(".min")&&(a=".min"),t=r.substring(0,r.lastIndexOf("/"));break}}!t&&e.document.currentScript&&(-1!==(r=e.document.currentScript.src).indexOf(".min")&&(a=".min"),t=r.substring(0,r.lastIndexOf("/")))}this.baseURL=new pw(n).toAbsolute(t),this.documentBaseURL=n,this.baseURI=new pw(this.baseURL),this.suffix=a,function(e){e.on("AddEditor",o(Pw,e)),e.on("RemoveEditor",o(Mw,e))}(this)},overrideDefaults:function(e){var t,n;(t=e.base_url)&&(this.baseURL=new pw(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new pw(this.baseURL)),n=e.suffix,e.suffix&&(this.suffix=n);var i=(this.defaultSettings=e).plugin_base_urls;for(var r in i)No.PluginManager.urls[r]=i[r]},init:function(t){var n,i,r=this;i=Kt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var o=function(e){var t=e.id;return t||(t=(t=e.name)&&!jw.get(t)?e.name:jw.uniqueId(),e.setAttribute("id",t)),t},a=function(e,t){return t.constructor===RegExp?t.test(e.className):jw.hasClass(e,t)},s=function(e){n=e},l=function(){var n,c=0,d=[],u=function(e,t,i){var o=new Tw(e,t,r);d.push(o),o.on("init",function(){++c===n.length&&s(d)}),o.targetElm=o.targetElm||i,o.render()};jw.unbind(window,"ready",l),function(e){var n=t.onpageload;n&&n.apply(r,Array.prototype.slice.call(arguments,2))}("onpageload"),n=gn.unique(function(t){var n,i=[];if(fe.ie&&fe.ie<11)return dm.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(t.types)return Bw(t.types,function(e){i=i.concat(jw.select(e.selector))}),i;if(t.selector)return jw.select(t.selector);if(t.target)return[t.target];switch(t.mode){case"exact":0<(n=t.elements||"").length&&Bw(Lw(n),function(t){var n;(n=jw.get(t))?i.push(n):Bw(e.document.forms,function(e){Bw(e.elements,function(e){e.name===t&&(t="mce_editor_"+Fw++,jw.setAttrib(e,"id",t),i.push(e))})})});break;case"textareas":case"specific_textareas":Bw(jw.select("textarea"),function(e){t.editor_deselector&&a(e,t.editor_deselector)||t.editor_selector&&!a(e,t.editor_selector)||i.push(e)})}return i}(t)),t.types?Bw(t.types,function(e){Kt.each(n,function(n){return!jw.is(n,e.selector)||(u(o(n),$w({},t,e),n),!1)})}):(Kt.each(n,function(e){var t;(t=r.get(e.id))&&t.initialized&&!(t.getContainer()||t.getBody()).parentNode&&(Vw(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0,t=null)}),0===(n=Kt.grep(n,function(e){return!r.get(e.id)})).length?s([]):Bw(n,function(e){var n;n=e,t.inline&&n.tagName.toLowerCase()in i?dm.initError("Could not initialize inline editor on invalid inline target element",e):u(o(e),t,e)}))};return r.settings=t,jw.bind(window,"ready",l),new pe(function(e){n?e(n):s=function(t){e(t)}})},get:function(e){return 0===arguments.length?Ww.slice(0):R(e)?G(Ww,function(t){return t.id===e}).getOr(null):$(e)&&Ww[e]?Ww[e]:null},add:function(e){var t=this;return zw[e.id]===e||(null===t.get(e.id)&&("length"!==e.id&&(zw[e.id]=e),zw.push(e),Ww.push(e)),qw(!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),Dw||(Dw=function(){t.fire("BeforeUnload")},jw.bind(window,"beforeunload",Dw))),e},createEditor:function(e,t){return this.add(new Tw(e,t,this))},remove:function(e){var t,n,i=this;if(e){if(!R(e))return n=e,j(i.get(n.id))?null:(Vw(n)&&i.fire("RemoveEditor",{editor:n}),0===Ww.length&&jw.unbind(window,"beforeunload",Dw),n.remove(),qw(0<Ww.length),n);Bw(jw.select(e),function(e){(n=i.get(e.id))&&i.remove(n)})}else for(t=Ww.length-1;0<=t;t--)i.remove(Ww[t])},execCommand:function(e,t,n){var i=this.get(n);switch(e){case"mceAddEditor":return this.get(n)||new Tw(n,this.settings,this).render(),!0;case"mceRemoveEditor":return i&&i.remove(),!0;case"mceToggleEditor":return i?i.isHidden()?i.show():i.hide():this.execCommand("mceAddEditor",0,n),!0}return!!this.activeEditor&&this.activeEditor.execCommand(e,t,n)},triggerSave:function(){Bw(Ww,function(e){e.save()})},addI18n:function(e,t){om.add(e,t)},translate:function(e){return om.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e}},gp),Nw.setup();var Yw,Xw=Nw;function Gw(e){return{walk:function(t,n){return Ac(e,t,n)},split:qh,normalize:function(t){return Of(e,t).fold(i(!1),function(e){return t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0})}}}(Yw=Gw||(Gw={})).compareRanges=Sf,Yw.getCaretRangeFromPoint=Vv,Yw.getSelectedNode=Ua,Yw.getNode=qa;var Kw,Jw,Qw=Gw,Zw=Math.min,ex=Math.max,tx=Math.round,nx=function(e,t,n){var i,r,o,a,s,l;return i=t.x,r=t.y,o=e.w,a=e.h,s=t.w,l=t.h,"b"===(n=(n||"").split(""))[0]&&(r+=l),"r"===n[1]&&(i+=s),"c"===n[0]&&(r+=tx(l/2)),"c"===n[1]&&(i+=tx(s/2)),"b"===n[3]&&(r-=a),"r"===n[4]&&(i-=o),"c"===n[3]&&(r-=tx(a/2)),"c"===n[4]&&(i-=tx(o/2)),ix(i,r,o,a)},ix=function(e,t,n,i){return{x:e,y:t,w:n,h:i}},rx={inflate:function(e,t,n){return ix(e.x-t,e.y-n,e.w+2*t,e.h+2*n)},relativePosition:nx,findBestRelativePosition:function(e,t,n,i){var r,o;for(o=0;o<i.length;o++)if((r=nx(e,t,i[o])).x>=n.x&&r.x+r.w<=n.w+n.x&&r.y>=n.y&&r.y+r.h<=n.h+n.y)return i[o];return null},intersect:function(e,t){var n,i,r,o;return n=ex(e.x,t.x),i=ex(e.y,t.y),r=Zw(e.x+e.w,t.x+t.w),o=Zw(e.y+e.h,t.y+t.h),r-n<0||o-i<0?null:ix(n,i,r-n,o-i)},clamp:function(e,t,n){var i,r,o,a,s,l,c,d,u,h;return s=e.x,l=e.y,c=e.x+e.w,d=e.y+e.h,u=t.x+t.w,h=t.y+t.h,i=ex(0,t.x-s),r=ex(0,t.y-l),o=ex(0,c-u),a=ex(0,d-h),s+=i,l+=r,n&&(c+=i,d+=r,s-=o,l-=a),ix(s,l,(c-=o)-s,(d-=a)-l)},create:ix,fromClientRect:function(e){return ix(e.left,e.top,e.width,e.height)}},ox={},ax={add:function(e,t){ox[e.toLowerCase()]=t},has:function(e){return!!ox[e.toLowerCase()]},get:function(e){var t=e.toLowerCase(),n=ox.hasOwnProperty(t)?ox[t]:null;if(null===n)throw new Error("Could not find module for type: "+e);return n},create:function(e,t){var n;if("string"==typeof e?(t=t||{}).type=e:e=(t=e).type,e=e.toLowerCase(),!(n=ox[e]))throw new Error("Could not find control by type: "+e);return(n=new n(t)).type=e,n}},sx=Kt.each,lx=Kt.extend,cx=function(){};cx.extend=Kw=function(e){var t,n,i,r=this.prototype,o=function(){var e,t,n;if(!Jw&&(this.init&&this.init.apply(this,arguments),t=this.Mixins))for(e=t.length;e--;)(n=t[e]).init&&n.init.apply(this,arguments)},a=function(){return this},s=function(e,t){return function(){var n,i=this._super;return this._super=r[e],n=t.apply(this,arguments),this._super=i,n}};for(n in Jw=!0,t=new this,Jw=!1,e.Mixins&&(sx(e.Mixins,function(t){for(var n in t)"init"!==n&&(e[n]=t[n])}),r.Mixins&&(e.Mixins=r.Mixins.concat(e.Mixins))),e.Methods&&sx(e.Methods.split(","),function(t){e[t]=a}),e.Properties&&sx(e.Properties.split(","),function(t){var n="_"+t;e[t]=function(e){return void 0!==e?(this[n]=e,this):this[n]}}),e.Statics&&sx(e.Statics,function(e,t){o[t]=e}),e.Defaults&&r.Defaults&&(e.Defaults=lx({},r.Defaults,e.Defaults)),e)"function"==typeof(i=e[n])&&r[n]?t[n]=s(n,i):t[n]=i;return o.prototype=t,(o.constructor=o).extend=Kw,o};var dx=Math.min,ux=Math.max,hx=Math.round,fx=function(e,t){var n,i,r,o;if(t=t||'"',null===e)return"null";if("string"==(r=typeof e))return i="\bb\tt\nn\ff\rr\"\"''\\\\",t+e.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(e,r){return'"'===t&&"'"===e?e:(n=i.indexOf(r))+1?"\\"+i.charAt(n+1):(e=r.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e)})+t;if("object"===r){if(e.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(e)){for(n=0,i="[";n<e.length;n++)i+=(0<n?",":"")+fx(e[n],t);return i+"]"}for(o in i="{",e)e.hasOwnProperty(o)&&(i+="function"!=typeof e[o]?(1<i.length?","+t:t)+o+t+":"+fx(e[o],t):"");return i+"}"}return""+e},px={serialize:fx,parse:function(e){try{return JSON.parse(e)}catch(e){}}},mx={callbacks:{},count:0,send:function(e){var t=this,n=xo.DOM,i=void 0!==e.count?e.count:t.count,r="tinymce_jsonp_"+i;t.callbacks[i]=function(o){n.remove(r),delete t.callbacks[i],e.callback(o)},n.add(n.doc.body,"script",{id:r,src:e.url,type:"text/javascript"}),t.count++}},gx={send:function(e){var t,n=0,i=function(){!e.async||4===t.readyState||1e4<n++?(e.success&&n<1e4&&200===t.status?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,1e4<n?"TIMED_OUT":"GENERAL",t,e),t=null):setTimeout(i,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",gx.fire("beforeInitialize",{settings:e}),t=fm()){if(t.overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&Kt.each(e.requestheaders,function(e){t.setRequestHeader(e.key,e.value)}),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),(t=gx.fire("beforeSend",{xhr:t,settings:e}).xhr).send(e.data),!e.async)return i();setTimeout(i,10)}}};Kt.extend(gx,gp);var vx,yx,bx,wx,xx=Kt.extend,_x=function(e){this.settings=xx({},e),this.count=0};_x.sendRPC=function(e){return(new _x).send(e)},_x.prototype={send:function(e){var t=e.error,n=e.success;(e=xx(this.settings,e)).success=function(i,r){void 0===(i=px.parse(i))&&(i={error:"JSON Parse error."}),i.error?t.call(e.error_scope||e.scope,i.error,r):n.call(e.success_scope||e.scope,i.result)},e.error=function(n,i){t&&t.call(e.error_scope||e.scope,n,i)},e.data=px.serialize({id:e.id||"c"+this.count++,method:e.method,params:e.params}),e.content_type="application/json",gx.send(e)}};try{vx=e.window.localStorage}catch(e){yx={},bx=[],wx={getItem:function(e){return yx[e]||null},setItem:function(e,t){bx.push(e),yx[e]=String(t)},key:function(e){return bx[e]},removeItem:function(e){bx=bx.filter(function(t){return t===e}),delete yx[e]},clear:function(){bx=[],yx={}},length:0},Object.defineProperty(wx,"length",{get:function(){return bx.length},configurable:!1,enumerable:!1}),vx=wx}var Cx,Sx=Xw,kx={geom:{Rect:rx},util:{Promise:pe,Delay:ye,Tools:Kt,VK:og,URI:pw,Class:cx,EventDispatcher:fp,Observable:gp,I18n:om,XHR:gx,JSON:px,JSONRequest:_x,JSONP:mx,LocalStorage:vx,Color:function(e){var t={},n=0,i=0,r=0,o=function(e){var o;return"object"==typeof e?"r"in e?(n=e.r,i=e.g,r=e.b):"v"in e&&function(e,t,o){var a,s,l,c;if(e=(parseInt(e,10)||0)%360,t=parseInt(t,10)/100,o=parseInt(o,10)/100,t=ux(0,dx(t,1)),o=ux(0,dx(o,1)),0!==t){switch(a=e/60,l=(s=o*t)*(1-Math.abs(a%2-1)),c=o-s,Math.floor(a)){case 0:n=s,i=l,r=0;break;case 1:n=l,i=s,r=0;break;case 2:n=0,i=s,r=l;break;case 3:n=0,i=l,r=s;break;case 4:n=l,i=0,r=s;break;case 5:n=s,i=0,r=l;break;default:n=i=r=0}n=hx(255*(n+c)),i=hx(255*(i+c)),r=hx(255*(r+c))}else n=i=r=hx(255*o)}(e.h,e.s,e.v):(o=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(n=parseInt(o[1],10),i=parseInt(o[2],10),r=parseInt(o[3],10)):(o=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(n=parseInt(o[1],16),i=parseInt(o[2],16),r=parseInt(o[3],16)):(o=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(n=parseInt(o[1]+o[1],16),i=parseInt(o[2]+o[2],16),r=parseInt(o[3]+o[3],16)),n=n<0?0:255<n?255:n,i=i<0?0:255<i?255:i,r=r<0?0:255<r?255:r,t};return e&&o(e),t.toRgb=function(){return{r:n,g:i,b:r}},t.toHsv=function(){return e=n,t=i,o=r,s=0,(l=dx(e/=255,dx(t/=255,o/=255)))===(c=ux(e,ux(t,o)))?{h:0,s:0,v:100*(s=l)}:(a=(c-l)/c,{h:hx(60*((e===l?3:o===l?1:5)-(e===l?t-o:o===l?e-t:o-e)/((s=c)-l))),s:hx(100*a),v:hx(100*s)});var e,t,o,a,s,l,c},t.toHex=function(){var e=function(e){return 1<(e=parseInt(e,10).toString(16)).length?e:"0"+e};return"#"+e(n)+e(i)+e(r)},t.parse=o,t}},dom:{EventUtils:Ee,Sizzle:Et,DomQuery:gn,TreeWalker:cr,DOMUtils:xo,ScriptLoader:To,RangeUtils:Qw,Serializer:jv,ControlSelection:Wv,BookmarkManager:Fv,Selection:my,Event:Ee.Event},html:{Styles:co,Entities:Kr,Node:wv,Schema:so,SaxParser:fg,DomParser:Ov,Writer:Vc,Serializer:Yc},ui:{Factory:ax},Env:fe,AddOnManager:No,Annotator:jc,Formatter:cv,UndoManager:kg,EditorCommands:up,WindowManager:nm,NotificationManager:tm,EditorObservable:kp,Shortcuts:$p,Editor:Tw,FocusManager:Aw,EditorManager:Xw,DOM:xo.DOM,ScriptLoader:To.ScriptLoader,PluginManager:No.PluginManager,ThemeManager:No.ThemeManager,trim:Kt.trim,isArray:Kt.isArray,is:Kt.is,toArray:Kt.toArray,makeMap:Kt.makeMap,each:Kt.each,map:Kt.map,grep:Kt.grep,inArray:Kt.inArray,extend:Kt.extend,create:Kt.create,walk:Kt.walk,createNS:Kt.createNS,resolve:Kt.resolve,explode:Kt.explode,_addCacheSuffix:Kt._addCacheSuffix,isOpera:fe.opera,isWebKit:fe.webkit,isIE:fe.ie,isGecko:fe.gecko,isMac:fe.mac},Tx=Sx=Kt.extend(Sx,kx);Cx=Tx,window.tinymce=Cx,window.tinyMCE=Cx,function(e){if("object"==typeof module)try{module.exports=e}catch(e){}}(Tx)}(window),function(e){"use strict";var t=function(t,n){this.options=e.extend({},e.fn.editableform.defaults,n),this.$div=e(t),this.options.scope||(this.options.scope=this)};t.prototype={constructor:t,initInput:function(){this.input=this.options.input,this.value=this.input.str2value(this.options.value),this.input.prerender()},initTemplate:function(){this.$form=e(e.fn.editableform.template)},initButtons:function(){var t=this.$form.find(".editable-buttons");t.append(e.fn.editableform.buttons),"bottom"===this.options.showbuttons&&t.addClass("editable-buttons-bottom")},render:function(){this.$loading=e(e.fn.editableform.loading),this.$div.empty().append(this.$loading),this.initTemplate(),this.options.showbuttons?this.initButtons():this.$form.find(".editable-buttons").remove(),this.showLoading(),this.isSaving=!1,this.$div.triggerHandler("rendering"),this.initInput(),this.$form.find("div.editable-input").append(this.input.$tpl),this.$div.append(this.$form),e.when(this.input.render()).then(e.proxy(function(){if(this.options.showbuttons||this.input.autosubmit(),this.$form.find(".editable-cancel").click(e.proxy(this.cancel,this)),this.input.error)this.error(this.input.error),this.$form.find(".editable-submit").attr("disabled",!0),this.input.$input.attr("disabled",!0),this.$form.submit(function(e){e.preventDefault()});else{this.error(!1),this.input.$input.removeAttr("disabled"),this.$form.find(".editable-submit").removeAttr("disabled");var t=null===this.value||void 0===this.value||""===this.value?this.options.defaultValue:this.value;this.input.value2input(t),this.$form.submit(e.proxy(this.submit,this))}this.$div.triggerHandler("rendered"),this.showForm(),this.input.postrender&&this.input.postrender()},this))},cancel:function(){this.$div.triggerHandler("cancel")},showLoading:function(){var e,t;this.$form?(e=this.$form.outerWidth(),t=this.$form.outerHeight(),e&&this.$loading.width(e),t&&this.$loading.height(t),this.$form.hide()):(e=this.$loading.parent().width())&&this.$loading.width(e),this.$loading.show()},showForm:function(e){this.$loading.hide(),this.$form.show(),!1!==e&&this.input.activate(),this.$div.triggerHandler("show")},error:function(t){var n,i=this.$form.find(".control-group"),r=this.$form.find(".editable-error-block");if(!1===t)i.removeClass(e.fn.editableform.errorGroupClass),r.removeClass(e.fn.editableform.errorBlockClass).empty().hide();else{if(t){n=(""+t).split("\n");for(var o=0;o<n.length;o++)n[o]=e("<div>").text(n[o]).html();t=n.join("<br>")}i.addClass(e.fn.editableform.errorGroupClass),r.addClass(e.fn.editableform.errorBlockClass).html(t).show()}},submit:function(t){t.stopPropagation(),t.preventDefault();var n=this.input.input2value(),i=this.validate(n);if("object"===e.type(i)&&void 0!==i.newValue){if(n=i.newValue,this.input.value2input(n),"string"==typeof i.msg)return this.error(i.msg),void this.showForm()}else if(i)return this.error(i),void this.showForm();if(this.options.savenochange||this.input.value2str(n)!=this.input.value2str(this.value)){var r=this.input.value2submit(n);this.isSaving=!0,e.when(this.save(r)).done(e.proxy(function(e){this.isSaving=!1;var t="function"==typeof this.options.success?this.options.success.call(this.options.scope,e,n):null;return!1===t?(this.error(!1),void this.showForm(!1)):"string"==typeof t?(this.error(t),void this.showForm()):(t&&"object"==typeof t&&t.hasOwnProperty("newValue")&&(n=t.newValue),this.error(!1),this.value=n,void this.$div.triggerHandler("save",{newValue:n,submitValue:r,response:e}))},this)).fail(e.proxy(function(e){var t;this.isSaving=!1,t="function"==typeof this.options.error?this.options.error.call(this.options.scope,e,n):"string"==typeof e?e:e.responseText||e.statusText||"Unknown error!",this.error(t),this.showForm()},this))}else this.$div.triggerHandler("nochange")},save:function(t){this.options.pk=e.fn.editableutils.tryParseJson(this.options.pk,!0);var n,i="function"==typeof this.options.pk?this.options.pk.call(this.options.scope):this.options.pk;return!!("function"==typeof this.options.url||this.options.url&&("always"===this.options.send||"auto"===this.options.send&&null!=i))?(this.showLoading(),n={name:this.options.name||"",value:t,pk:i},"function"==typeof this.options.params?n=this.options.params.call(this.options.scope,n):(this.options.params=e.fn.editableutils.tryParseJson(this.options.params,!0),e.extend(n,this.options.params)),"function"==typeof this.options.url?this.options.url.call(this.options.scope,n):e.ajax(e.extend({url:this.options.url,data:n,type:"POST"},this.options.ajaxOptions))):void 0},validate:function(e){return void 0===e&&(e=this.value),"function"==typeof this.options.validate?this.options.validate.call(this.options.scope,e):void 0},option:function(e,t){e in this.options&&(this.options[e]=t),"value"===e&&this.setValue(t)},setValue:function(e,t){this.value=t?this.input.str2value(e):e,this.$form&&this.$form.is(":visible")&&this.input.value2input(this.value)}},e.fn.editableform=function(n){var i=arguments;return this.each(function(){var r=e(this),o=r.data("editableform"),a="object"==typeof n&&n;o||r.data("editableform",o=new t(this,a)),"string"==typeof n&&o[n].apply(o,Array.prototype.slice.call(i,1))})},e.fn.editableform.Constructor=t,e.fn.editableform.defaults={type:"text",url:null,params:null,name:null,pk:null,value:null,defaultValue:null,send:"auto",validate:null,success:null,error:null,ajaxOptions:null,showbuttons:!0,scope:null,savenochange:!1},e.fn.editableform.template='<form class="form-inline editableform"><div class="control-group"><div><div class="editable-input"></div><div class="editable-buttons"></div></div><div class="editable-error-block"></div></div></form>',e.fn.editableform.loading='<div class="editableform-loading"></div>',e.fn.editableform.buttons='<button type="submit" class="editable-submit">ok</button><button type="button" class="editable-cancel">cancel</button>',e.fn.editableform.errorGroupClass=null,e.fn.editableform.errorBlockClass="editable-error",e.fn.editableform.engine="jquery"}(window.jQuery),function(e){"use strict";e.fn.editableutils={inherit:function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.superclass=t.prototype},setCursorPosition:function(e,t){if(e.setSelectionRange)e.setSelectionRange(t,t);else if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}},tryParseJson:function(e,t){if("string"==typeof e&&e.length&&e.match(/^[\{\[].*[\}\]]$/))if(t)try{e=new Function("return "+e)()}catch(e){}finally{return e}else e=new Function("return "+e)();return e},sliceObj:function(t,n,i){var r,o,a={};if(!e.isArray(n)||!n.length)return a;for(var s=0;s<n.length;s++)r=n[s],t.hasOwnProperty(r)&&(a[r]=t[r]),!0!==i&&(o=r.toLowerCase(),t.hasOwnProperty(o)&&(a[r]=t[o]));return a},getConfigData:function(t){var n={};return e.each(t.data(),function(e,t){("object"!=typeof t||t&&"object"==typeof t&&(t.constructor===Object||t.constructor===Array))&&(n[e]=t)}),n},objectKeys:function(e){if(Object.keys)return Object.keys(e);if(e!==Object(e))throw new TypeError("Object.keys called on a non-object");var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n},escape:function(t){return e("<div>").text(t).html()},itemsByValue:function(t,n,i){if(!n||null===t)return[];if("function"!=typeof i){var r=i||"value";i=function(e){return e[r]}}var o=e.isArray(t),a=[],s=this;return e.each(n,function(n,r){if(r.children)a=a.concat(s.itemsByValue(t,r.children,i));else if(o)e.grep(t,function(e){return e==(r&&"object"==typeof r?i(r):r)}).length&&a.push(r);else{var l=r&&"object"==typeof r?i(r):r;t==l&&a.push(r)}}),a},createInput:function(t){var n,i=t.type;return"date"===i&&("inline"===t.mode?e.fn.editabletypes.datefield?i="datefield":e.fn.editabletypes.dateuifield&&(i="dateuifield"):e.fn.editabletypes.date?i="date":e.fn.editabletypes.dateui&&(i="dateui"),"date"!==i||e.fn.editabletypes.date||(i="combodate")),"datetime"===i&&"inline"===t.mode&&(i="datetimefield"),"wysihtml5"!==i||e.fn.editabletypes[i]||(i="textarea"),"function"==typeof e.fn.editabletypes[i]?new(n=e.fn.editabletypes[i])(this.sliceObj(t,this.objectKeys(n.defaults))):(e.error("Unknown type: "+i),!1)},supportsTransitions:function(){var e=(document.body||document.documentElement).style,t="transition",n=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof e[t])return!0;t=t.charAt(0).toUpperCase()+t.substr(1);for(var i=0;i<n.length;i++)if("string"==typeof e[n[i]+t])return!0;return!1}}}(window.jQuery),function(e){"use strict";var t=function(e,t){this.init(e,t)},n=function(e,t){this.init(e,t)};t.prototype={containerName:null,containerDataName:null,innerCss:null,containerClass:"editable-container editable-popup",defaults:{},init:function(n,i){this.$element=e(n),this.options=e.extend({},e.fn.editableContainer.defaults,i),this.splitOptions(),this.formOptions.scope=this.$element[0],this.initContainer(),this.delayedHide=!1,this.$element.on("destroyed",e.proxy(function(){this.destroy()},this)),e(document).data("editable-handlers-attached")||(e(document).on("keyup.editable",function(t){27===t.which&&e(".editable-open").editableContainer("hide")}),e(document).on("click.editable",function(n){var i,r=e(n.target),o=[".editable-container",".ui-datepicker-header",".datepicker",".modal-backdrop",".bootstrap-wysihtml5-insert-image-modal",".bootstrap-wysihtml5-insert-link-modal"];if(e.contains(document.documentElement,n.target)&&!r.is(document)){for(i=0;i<o.length;i++)if(r.is(o[i])||r.parents(o[i]).length)return;t.prototype.closeOthers(n.target)}}),e(document).data("editable-handlers-attached",!0))},splitOptions:function(){if(this.containerOptions={},this.formOptions={},!e.fn[this.containerName])throw new Error(this.containerName+" not found. Have you included corresponding js file?");for(var t in this.options)t in this.defaults?this.containerOptions[t]=this.options[t]:this.formOptions[t]=this.options[t]},tip:function(){return this.container()?this.container().$tip:null},container:function(){var e;return this.containerDataName&&(e=this.$element.data(this.containerDataName))?e:e=this.$element.data(this.containerName)},call:function(){this.$element[this.containerName].apply(this.$element,arguments)},initContainer:function(){this.call(this.containerOptions)},renderForm:function(){this.$form.editableform(this.formOptions).on({save:e.proxy(this.save,this),nochange:e.proxy(function(){this.hide("nochange")},this),cancel:e.proxy(function(){this.hide("cancel")},this),show:e.proxy(function(){this.delayedHide?(this.hide(this.delayedHide.reason),this.delayedHide=!1):this.setPosition()},this),rendering:e.proxy(this.setPosition,this),resize:e.proxy(this.setPosition,this),rendered:e.proxy(function(){this.$element.triggerHandler("shown",e(this.options.scope).data("editable"))},this)}).editableform("render")},show:function(t){this.$element.addClass("editable-open"),!1!==t&&this.closeOthers(this.$element[0]),this.innerShow(),this.tip().addClass(this.containerClass),this.$form,this.$form=e("<div>"),this.tip().is(this.innerCss)?this.tip().append(this.$form):this.tip().find(this.innerCss).append(this.$form),this.renderForm()},hide:function(e){if(this.tip()&&this.tip().is(":visible")&&this.$element.hasClass("editable-open")){if(this.$form.data("editableform").isSaving)return void(this.delayedHide={reason:e});this.delayedHide=!1,this.$element.removeClass("editable-open"),this.innerHide(),this.$element.triggerHandler("hidden",e||"manual")}},innerShow:function(){},innerHide:function(){},toggle:function(e){this.container()&&this.tip()&&this.tip().is(":visible")?this.hide():this.show(e)},setPosition:function(){},save:function(e,t){this.$element.triggerHandler("save",t),this.hide("save")},option:function(e,t){this.options[e]=t,e in this.containerOptions?(this.containerOptions[e]=t,this.setContainerOption(e,t)):(this.formOptions[e]=t,this.$form&&this.$form.editableform("option",e,t))},setContainerOption:function(e,t){this.call("option",e,t)},destroy:function(){this.hide(),this.innerDestroy(),this.$element.off("destroyed"),this.$element.removeData("editableContainer")},innerDestroy:function(){},closeOthers:function(t){e(".editable-open").each(function(n,i){if(i!==t&&!e(i).find(t).length){var r=e(i),o=r.data("editableContainer");o&&("cancel"===o.options.onblur?r.data("editableContainer").hide("onblur"):"submit"===o.options.onblur&&r.data("editableContainer").tip().find("form").submit())}})},activate:function(){this.tip&&this.tip().is(":visible")&&this.$form&&this.$form.data("editableform").input.activate()}},e.fn.editableContainer=function(i){var r=arguments;return this.each(function(){var o=e(this),a="editableContainer",s=o.data(a),l="object"==typeof i&&i,c="inline"===l.mode?n:t;s||o.data(a,s=new c(this,l)),"string"==typeof i&&s[i].apply(s,Array.prototype.slice.call(r,1))})},e.fn.editableContainer.Popup=t,e.fn.editableContainer.Inline=n,e.fn.editableContainer.defaults={value:null,placement:"top",autohide:!0,onblur:"cancel",anim:!1,mode:"popup"},jQuery.event.special.destroyed={remove:function(e){e.handler&&e.handler()}}}(window.jQuery),function(e){"use strict";e.extend(e.fn.editableContainer.Inline.prototype,e.fn.editableContainer.Popup.prototype,{containerName:"editableform",innerCss:".editable-inline",containerClass:"editable-container editable-inline",initContainer:function(){this.$tip=e("<span></span>"),this.options.anim||(this.options.anim=0)},splitOptions:function(){this.containerOptions={},this.formOptions=this.options},tip:function(){return this.$tip},innerShow:function(){this.$element.hide(),this.tip().insertAfter(this.$element).show()},innerHide:function(){this.$tip.hide(this.options.anim,e.proxy(function(){this.$element.show(),this.innerDestroy()},this))},innerDestroy:function(){this.tip()&&this.tip().empty().remove()}})}(window.jQuery),function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.editable.defaults,n,e.fn.editableutils.getConfigData(this.$element)),this.options.selector?this.initLive():this.init(),this.options.highlight&&!e.fn.editableutils.supportsTransitions()&&(this.options.highlight=!1)};t.prototype={constructor:t,init:function(){var t,n=!1;if(this.options.name=this.options.name||this.$element.attr("id"),this.options.scope=this.$element[0],this.input=e.fn.editableutils.createInput(this.options),this.input){switch(void 0===this.options.value||null===this.options.value?(this.value=this.input.html2value(e.trim(this.$element.html())),n=!0):(this.options.value=e.fn.editableutils.tryParseJson(this.options.value,!0),this.value="string"==typeof this.options.value?this.input.str2value(this.options.value):this.options.value),this.$element.addClass("editable"),"textarea"===this.input.type&&this.$element.addClass("editable-pre-wrapped"),"manual"!==this.options.toggle?(this.$element.addClass("editable-click"),this.$element.on(this.options.toggle+".editable",e.proxy(function(e){if(this.options.disabled||e.preventDefault(),"mouseenter"===this.options.toggle)this.show();else{var t="click"!==this.options.toggle;this.toggle(t)}},this))):this.$element.attr("tabindex",-1),"function"==typeof this.options.display&&(this.options.autotext="always"),this.options.autotext){case"always":t=!0;break;case"auto":t=!e.trim(this.$element.text()).length&&null!==this.value&&void 0!==this.value&&!n;break;default:t=!1}e.when(!t||this.render()).then(e.proxy(function(){this.options.disabled?this.disable():this.enable(),this.$element.triggerHandler("init",this)},this))}},initLive:function(){var t=this.options.selector;this.options.selector=!1,this.options.autotext="never",this.$element.on(this.options.toggle+".editable",t,e.proxy(function(t){var n=e(t.target);n.data("editable")||(n.hasClass(this.options.emptyclass)&&n.empty(),n.editable(this.options).trigger(t))},this))},render:function(e){return!1!==this.options.display?this.input.value2htmlFinal?this.input.value2html(this.value,this.$element[0],this.options.display,e):"function"==typeof this.options.display?this.options.display.call(this.$element[0],this.value,e):this.input.value2html(this.value,this.$element[0]):void 0},enable:function(){this.options.disabled=!1,this.$element.removeClass("editable-disabled"),this.handleEmpty(this.isEmpty),"manual"!==this.options.toggle&&"-1"===this.$element.attr("tabindex")&&this.$element.removeAttr("tabindex")},disable:function(){this.options.disabled=!0,this.hide(),this.$element.addClass("editable-disabled"),this.handleEmpty(this.isEmpty),this.$element.attr("tabindex",-1)},toggleDisabled:function(){this.options.disabled?this.enable():this.disable()},option:function(t,n){return t&&"object"==typeof t?void e.each(t,e.proxy(function(t,n){this.option(e.trim(t),n)},this)):(this.options[t]=n,"disabled"===t?n?this.disable():this.enable():("value"===t&&this.setValue(n),this.container&&this.container.option(t,n),void(this.input.option&&this.input.option(t,n))))},handleEmpty:function(t){!1!==this.options.display&&(this.isEmpty=void 0!==t?t:"function"==typeof this.input.isEmpty?this.input.isEmpty(this.$element):""===e.trim(this.$element.html()),this.options.disabled?this.isEmpty&&(this.$element.empty(),this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass)):this.isEmpty?(this.$element.html(this.options.emptytext),this.options.emptyclass&&this.$element.addClass(this.options.emptyclass)):this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass))},show:function(t){if(!this.options.disabled){if(this.container){if(this.container.tip().is(":visible"))return}else{var n=e.extend({},this.options,{value:this.value,input:this.input});this.$element.editableContainer(n),this.$element.on("save.internal",e.proxy(this.save,this)),this.container=this.$element.data("editableContainer")}this.container.show(t)}},hide:function(){this.container&&this.container.hide()},toggle:function(e){this.container&&this.container.tip().is(":visible")?this.hide():this.show(e)},save:function(e,t){if(this.options.unsavedclass){var n=!1;(n=(n=(n=(n=n||"function"==typeof this.options.url)||!1===this.options.display)||void 0!==t.response)||this.options.savenochange&&this.input.value2str(this.value)!==this.input.value2str(t.newValue))?this.$element.removeClass(this.options.unsavedclass):this.$element.addClass(this.options.unsavedclass)}if(this.options.highlight){var i=this.$element,r=i.css("background-color");i.css("background-color",this.options.highlight),setTimeout(function(){"transparent"===r&&(r=""),i.css("background-color",r),i.addClass("editable-bg-transition"),setTimeout(function(){i.removeClass("editable-bg-transition")},1700)},10)}this.setValue(t.newValue,!1,t.response)},validate:function(){return"function"==typeof this.options.validate?this.options.validate.call(this,this.value):void 0},setValue:function(t,n,i){this.value=n?this.input.str2value(t):t,this.container&&this.container.option("value",this.value),e.when(this.render(i)).then(e.proxy(function(){this.handleEmpty()},this))},activate:function(){this.container&&this.container.activate()},destroy:function(){this.disable(),this.container&&this.container.destroy(),this.input.destroy(),"manual"!==this.options.toggle&&(this.$element.removeClass("editable-click"),this.$element.off(this.options.toggle+".editable")),this.$element.off("save.internal"),this.$element.removeClass("editable editable-open editable-disabled"),this.$element.removeData("editable")}},e.fn.editable=function(n){var i={},r=arguments,o="editable";switch(n){case"validate":return this.each(function(){var t,n=e(this).data(o);n&&(t=n.validate())&&(i[n.options.name]=t)}),i;case"getValue":return 2===arguments.length&&!0===arguments[1]?i=this.eq(0).data(o).value:this.each(function(){var t=e(this).data(o);t&&void 0!==t.value&&null!==t.value&&(i[t.options.name]=t.input.value2submit(t.value))}),i;case"submit":var a=arguments[1]||{},s=this,l=this.editable("validate");if(e.isEmptyObject(l)){var c={};if(1===s.length){var d=s.data("editable"),u={name:d.options.name||"",value:d.input.value2submit(d.value),pk:"function"==typeof d.options.pk?d.options.pk.call(d.options.scope):d.options.pk};"function"==typeof d.options.params?u=d.options.params.call(d.options.scope,u):(d.options.params=e.fn.editableutils.tryParseJson(d.options.params,!0),e.extend(u,d.options.params)),c={url:d.options.url,data:u,type:"POST"},a.success=a.success||d.options.success,a.error=a.error||d.options.error}else{var h=this.editable("getValue");c={url:a.url,data:h,type:"POST"}}c.success="function"==typeof a.success?function(e){a.success.call(s,e,a)}:e.noop,c.error="function"==typeof a.error?function(){a.error.apply(s,arguments)}:e.noop,a.ajaxOptions&&e.extend(c,a.ajaxOptions),a.data&&e.extend(c.data,a.data),e.ajax(c)}else"function"==typeof a.error&&a.error.call(s,l);return this}return this.each(function(){var i=e(this),a=i.data(o),s="object"==typeof n&&n;return s&&s.selector?void(a=new t(this,s)):(a||i.data(o,a=new t(this,s)),void("string"==typeof n&&a[n].apply(a,Array.prototype.slice.call(r,1))))})},e.fn.editable.defaults={type:"text",disabled:!1,toggle:"click",emptytext:"Empty",autotext:"auto",value:null,display:null,emptyclass:"editable-empty",unsavedclass:"editable-unsaved",selector:null,highlight:"#FFFF80"}}(window.jQuery),function(e){"use strict";e.fn.editabletypes={};var t=function(){};t.prototype={init:function(t,n,i){this.type=t,this.options=e.extend({},i,n)},prerender:function(){this.$tpl=e(this.options.tpl),this.$input=this.$tpl,this.$clear=null,this.error=null},render:function(){},value2html:function(t,n){e(n)[this.options.escape?"text":"html"](e.trim(t))},html2value:function(t){return e("<div>").html(t).text()},value2str:function(e){return e},str2value:function(e){return e},value2submit:function(e){return e},value2input:function(e){this.$input.val(e)},input2value:function(){return this.$input.val()},activate:function(){this.$input.is(":visible")&&this.$input.focus()},clear:function(){this.$input.val(null)},escape:function(t){return e("<div>").text(t).html()},autosubmit:function(){},destroy:function(){},setClass:function(){this.options.inputclass&&this.$input.addClass(this.options.inputclass)},setAttr:function(e){void 0!==this.options[e]&&null!==this.options[e]&&this.$input.attr(e,this.options[e])},option:function(e,t){this.options[e]=t}},t.defaults={tpl:"",inputclass:null,escape:!0,scope:null,showbuttons:!0},e.extend(e.fn.editabletypes,{abstractinput:t})}(window.jQuery),function(e){"use strict";var t=function(){};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput),e.extend(t.prototype,{render:function(){var t=e.Deferred();return this.error=null,this.onSourceReady(function(){this.renderList(),t.resolve()},function(){this.error=this.options.sourceError,t.resolve()}),t.promise()},html2value:function(){return null},value2html:function(t,n,i,r){var o=e.Deferred(),a=function(){"function"==typeof i?i.call(n,t,this.sourceData,r):this.value2htmlFinal(t,n),o.resolve()};return null===t?a.call(this):this.onSourceReady(a,function(){o.resolve()}),o.promise()},onSourceReady:function(t,n){var i;if(e.isFunction(this.options.source)?(i=this.options.source.call(this.options.scope),this.sourceData=null):i=this.options.source,this.options.sourceCache&&e.isArray(this.sourceData))t.call(this);else{try{i=e.fn.editableutils.tryParseJson(i,!1)}catch(e){return void n.call(this)}if("string"==typeof i){if(this.options.sourceCache){var r,o=i;if(e(document).data(o)||e(document).data(o,{}),!1===(r=e(document).data(o)).loading&&r.sourceData)return this.sourceData=r.sourceData,this.doPrepend(),void t.call(this);if(!0===r.loading)return r.callbacks.push(e.proxy(function(){this.sourceData=r.sourceData,this.doPrepend(),t.call(this)},this)),void r.err_callbacks.push(e.proxy(n,this));r.loading=!0,r.callbacks=[],r.err_callbacks=[]}var a=e.extend({url:i,type:"get",cache:!1,dataType:"json",success:e.proxy(function(i){r&&(r.loading=!1),this.sourceData=this.makeArray(i),e.isArray(this.sourceData)?(r&&(r.sourceData=this.sourceData,e.each(r.callbacks,function(){this.call()})),this.doPrepend(),t.call(this)):(n.call(this),r&&e.each(r.err_callbacks,function(){this.call()}))},this),error:e.proxy(function(){n.call(this),r&&(r.loading=!1,e.each(r.err_callbacks,function(){this.call()}))},this)},this.options.sourceOptions);e.ajax(a)}else this.sourceData=this.makeArray(i),e.isArray(this.sourceData)?(this.doPrepend(),t.call(this)):n.call(this)}},doPrepend:function(){null!==this.options.prepend&&void 0!==this.options.prepend&&(e.isArray(this.prependData)||(e.isFunction(this.options.prepend)&&(this.options.prepend=this.options.prepend.call(this.options.scope)),this.options.prepend=e.fn.editableutils.tryParseJson(this.options.prepend,!0),"string"==typeof this.options.prepend&&(this.options.prepend={"":this.options.prepend}),this.prependData=this.makeArray(this.options.prepend)),e.isArray(this.prependData)&&e.isArray(this.sourceData)&&(this.sourceData=this.prependData.concat(this.sourceData)))},renderList:function(){},value2htmlFinal:function(){},makeArray:function(t){var n,i,r,o,a=[];if(!t||"string"==typeof t)return null;if(e.isArray(t)){o=function(e,t){return i={value:e,text:t},!(n++>=2)&&void 0};for(var s=0;s<t.length;s++)"object"==typeof(r=t[s])?(n=0,e.each(r,o),1===n?a.push(i):n>1&&(r.children&&(r.children=this.makeArray(r.children)),a.push(r))):a.push({value:r,text:r})}else e.each(t,function(e,t){a.push({value:e,text:t})});return a},option:function(e,t){this.options[e]=t,"source"===e&&(this.sourceData=null),"prepend"===e&&(this.prependData=null)}}),t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{source:null,prepend:!1,sourceError:"Error when loading list",sourceCache:!0,sourceOptions:null}),e.fn.editabletypes.list=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("text",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput),e.extend(t.prototype,{render:function(){this.renderClear(),this.setClass(),this.setAttr("placeholder")},activate:function(){this.$input.is(":visible")&&(this.$input.focus(),e.fn.editableutils.setCursorPosition(this.$input.get(0),this.$input.val().length),this.toggleClear&&this.toggleClear())},renderClear:function(){this.options.clear&&(this.$clear=e('<span class="editable-clear-x"></span>'),this.$input.after(this.$clear).css("padding-right",24).keyup(e.proxy(function(t){if(!~e.inArray(t.keyCode,[40,38,9,13,27])){clearTimeout(this.t);var n=this;this.t=setTimeout(function(){n.toggleClear(t)},100)}},this)).parent().css("position","relative"),this.$clear.click(e.proxy(this.clear,this)))},postrender:function(){},toggleClear:function(){if(this.$clear){var e=this.$input.val().length,t=this.$clear.is(":visible");e&&!t&&this.$clear.show(),!e&&t&&this.$clear.hide()}},clear:function(){this.$clear.hide(),this.$input.val("").focus()}}),t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',placeholder:null,clear:!0}),e.fn.editabletypes.text=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("textarea",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput),e.extend(t.prototype,{render:function(){this.setClass(),this.setAttr("placeholder"),this.setAttr("rows"),this.$input.keydown(function(t){t.ctrlKey&&13===t.which&&e(this).closest("form").submit()})},activate:function(){e.fn.editabletypes.text.prototype.activate.call(this)}}),t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:"<textarea></textarea>",inputclass:"input-large",placeholder:null,rows:7}),e.fn.editabletypes.textarea=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("select",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.list),e.extend(t.prototype,{renderList:function(){this.$input.empty();var t=function(n,i){var r;if(e.isArray(i))for(var o=0;o<i.length;o++)r={},i[o].children?(r.label=i[o].text,n.append(t(e("<optgroup>",r),i[o].children))):(r.value=i[o].value,i[o].disabled&&(r.disabled=!0),n.append(e("<option>",r).text(i[o].text)));return n};t(this.$input,this.sourceData),this.setClass(),this.$input.on("keydown.editable",function(t){13===t.which&&e(this).closest("form").submit()})},value2htmlFinal:function(t,n){var i="",r=e.fn.editableutils.itemsByValue(t,this.sourceData);r.length&&(i=r[0].text),e.fn.editabletypes.abstractinput.prototype.value2html.call(this,i,n)},autosubmit:function(){this.$input.off("keydown.editable").on("change.editable",function(){e(this).closest("form").submit()})}}),t.defaults=e.extend({},e.fn.editabletypes.list.defaults,{tpl:"<select></select>"}),e.fn.editabletypes.select=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("checklist",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.list),e.extend(t.prototype,{renderList:function(){var t;if(this.$tpl.empty(),e.isArray(this.sourceData)){for(var n=0;n<this.sourceData.length;n++)t=e("<label>").append(e("<input>",{type:"checkbox",value:this.sourceData[n].value})).append(e("<span>").text(" "+this.sourceData[n].text)),e("<div>").append(t).appendTo(this.$tpl);this.$input=this.$tpl.find('input[type="checkbox"]'),this.setClass()}},value2str:function(t){return e.isArray(t)?t.sort().join(e.trim(this.options.separator)):""},str2value:function(t){var n,i=null;return"string"==typeof t&&t.length?(n=new RegExp("\\s*"+e.trim(this.options.separator)+"\\s*"),i=t.split(n)):i=e.isArray(t)?t:[t],i},value2input:function(t){this.$input.prop("checked",!1),e.isArray(t)&&t.length&&this.$input.each(function(n,i){var r=e(i);e.each(t,function(e,t){r.val()==t&&r.prop("checked",!0)})})},input2value:function(){var t=[];return this.$input.filter(":checked").each(function(n,i){t.push(e(i).val())}),t},value2htmlFinal:function(t,n){var i=[],r=e.fn.editableutils.itemsByValue(t,this.sourceData),o=this.options.escape;r.length?(e.each(r,function(t,n){var r=o?e.fn.editableutils.escape(n.text):n.text;i.push(r)}),e(n).html(i.join("<br>"))):e(n).empty()},activate:function(){this.$input.first().focus()},autosubmit:function(){this.$input.on("keydown",function(t){13===t.which&&e(this).closest("form").submit()})}}),t.defaults=e.extend({},e.fn.editabletypes.list.defaults,{tpl:'<div class="editable-checklist"></div>',inputclass:null,separator:","}),e.fn.editabletypes.checklist=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("password",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.text),e.extend(t.prototype,{value2html:function(t,n){t?e(n).text("[hidden]"):e(n).empty()},html2value:function(){return null}}),t.defaults=e.extend({},e.fn.editabletypes.text.defaults,{tpl:'<input type="password">'}),e.fn.editabletypes.password=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("email",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.text),t.defaults=e.extend({},e.fn.editabletypes.text.defaults,{tpl:'<input type="email">'}),e.fn.editabletypes.email=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("url",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.text),t.defaults=e.extend({},e.fn.editabletypes.text.defaults,{tpl:'<input type="url">'}),e.fn.editabletypes.url=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("tel",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.text),t.defaults=e.extend({},e.fn.editabletypes.text.defaults,{tpl:'<input type="tel">'}),e.fn.editabletypes.tel=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("number",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.text),e.extend(t.prototype,{render:function(){t.superclass.render.call(this),this.setAttr("min"),this.setAttr("max"),this.setAttr("step")},postrender:function(){this.$clear&&this.$clear.css({right:24})}}),t.defaults=e.extend({},e.fn.editabletypes.text.defaults,{tpl:'<input type="number">',inputclass:"input-mini",min:null,max:null,step:null}),e.fn.editabletypes.number=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("range",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.number),e.extend(t.prototype,{render:function(){this.$input=this.$tpl.filter("input"),this.setClass(),this.setAttr("min"),this.setAttr("max"),this.setAttr("step"),this.$input.on("input",function(){e(this).siblings("output").text(e(this).val())})},activate:function(){this.$input.focus()}}),t.defaults=e.extend({},e.fn.editabletypes.number.defaults,{tpl:'<input type="range"><output style="width: 30px; display: inline-block"></output>',inputclass:"input-medium"}),e.fn.editabletypes.range=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("time",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput),e.extend(t.prototype,{render:function(){this.setClass()}}),t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="time">'}),e.fn.editabletypes.time=t}(window.jQuery),function(e){"use strict";var t=function(n){if(this.init("select2",n,t.defaults),n.select2=n.select2||{},this.sourceData=null,n.placeholder&&(n.select2.placeholder=n.placeholder),!n.select2.tags&&n.source){var i=n.source;e.isFunction(n.source)&&(i=n.source.call(n.scope)),"string"==typeof i?(n.select2.ajax=n.select2.ajax||{},n.select2.ajax.data||(n.select2.ajax.data=function(e){return{query:e}}),n.select2.ajax.results||(n.select2.ajax.results=function(e){return{results:e}}),n.select2.ajax.url=i):(this.sourceData=this.convertSource(i),n.select2.data=this.sourceData)}if(this.options.select2=e.extend({},t.defaults.select2,n.select2),this.isMultiple=this.options.select2.tags||this.options.select2.multiple,this.isRemote="ajax"in this.options.select2,this.idFunc=this.options.select2.id,"function"!=typeof this.idFunc){var r=this.idFunc||"id";this.idFunc=function(e){return e[r]}}this.formatSelection=this.options.select2.formatSelection,"function"!=typeof this.formatSelection&&(this.formatSelection=function(e){return e.text})};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput),e.extend(t.prototype,{render:function(){this.setClass(),this.isRemote&&this.$input.on("select2-loaded",e.proxy(function(e){this.sourceData=e.items.results},this)),this.isMultiple&&this.$input.on("change",function(){e(this).closest("form").parent().triggerHandler("resize")})},value2html:function(n,i){var r,o="",a=this;this.options.select2.tags?r=n:this.sourceData&&(r=e.fn.editableutils.itemsByValue(n,this.sourceData,this.idFunc)),e.isArray(r)?(o=[],e.each(r,function(e,t){o.push(t&&"object"==typeof t?a.formatSelection(t):t)})):r&&(o=a.formatSelection(r)),o=e.isArray(o)?o.join(this.options.viewseparator):o,t.superclass.value2html.call(this,o,i)},html2value:function(e){return this.options.select2.tags?this.str2value(e,this.options.viewseparator):null},value2input:function(t){if(e.isArray(t)&&(t=t.join(this.getSeparator())),this.$input.data("select2")?this.$input.val(t).trigger("change",!0):(this.$input.val(t),this.$input.select2(this.options.select2)),this.isRemote&&!this.isMultiple&&!this.options.select2.initSelection){var n=this.options.select2.id,i=this.options.select2.formatSelection;if(!n&&!i){var r=e(this.options.scope);if(!r.data("editable").isEmpty){var o={id:t,text:r.text()};this.$input.select2("data",o)}}}},input2value:function(){return this.$input.select2("val")},str2value:function(t,n){if("string"!=typeof t||!this.isMultiple)return t;var i,r,o;if(n=n||this.getSeparator(),null===t||t.length<1)return null;for(r=0,o=(i=t.split(n)).length;o>r;r+=1)i[r]=e.trim(i[r]);return i},autosubmit:function(){this.$input.on("change",function(t,n){n||e(this).closest("form").submit()})},getSeparator:function(){return this.options.select2.separator||e.fn.select2.defaults.separator},convertSource:function(t){if(e.isArray(t)&&t.length&&void 0!==t[0].value)for(var n=0;n<t.length;n++)void 0!==t[n].value&&(t[n].id=t[n].value,delete t[n].value);return t},destroy:function(){this.$input.data("select2")&&this.$input.select2("destroy")}}),t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="hidden">',select2:null,placeholder:null,source:null,viewseparator:", "}),e.fn.editabletypes.select2=t}(window.jQuery),function(e){var t=function(t,n){return this.$element=e(t),this.$element.is("input")?(this.options=e.extend({},e.fn.combodate.defaults,n,this.$element.data()),void this.init()):void e.error("Combodate should be applied to INPUT element")};t.prototype={constructor:t,init:function(){this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]},this.$widget=e('<span class="combodate"></span>').html(this.getTemplate()),this.initCombos(),this.$widget.on("change","select",e.proxy(function(t){this.$element.val(this.getValue()).change(),this.options.smartDays&&(e(t.target).is(".month")||e(t.target).is(".year"))&&this.fillCombo("day")},this)),this.$widget.find("select").css("width","auto"),this.$element.hide().after(this.$widget),this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var t=this.options.template;return e.each(this.map,function(e,n){n=n[0];var i=new RegExp(n+"+"),r=n.length>1?n.substring(1,2):n;t=t.replace(i,"{"+r+"}")}),t=t.replace(/ /g,"&nbsp;"),e.each(this.map,function(e,n){var i=(n=n[0]).length>1?n.substring(1,2):n;t=t.replace("{"+i+"}",'<select class="'+e+'"></select>')}),t},initCombos:function(){for(var e in this.map){var t=this.$widget.find("."+e);this["$"+e]=t.length?t:null,this.fillCombo(e)}},fillCombo:function(e){var t=this["$"+e];if(t){var n=this["fill"+e.charAt(0).toUpperCase()+e.slice(1)](),i=t.val();t.empty();for(var r=0;r<n.length;r++)t.append('<option value="'+n[r][0]+'">'+n[r][1]+"</option>");t.val(i)}},fillCommon:function(e){var t,n=[];if("name"===this.options.firstItem){var i="function"==typeof(t=moment.relativeTime||moment.langData()._relativeTime)[e]?t[e](1,!0,e,!1):t[e];i=i.split(" ").reverse()[0],n.push(["",i])}else"empty"===this.options.firstItem&&n.push(["",""]);return n},fillDay:function(){var e,t,n=this.fillCommon("d"),i=-1!==this.options.template.indexOf("DD"),r=31;if(this.options.smartDays&&this.$month&&this.$year){var o=parseInt(this.$month.val(),10),a=parseInt(this.$year.val(),10);isNaN(o)||isNaN(a)||(r=moment([a,o]).daysInMonth())}for(t=1;r>=t;t++)e=i?this.leadZero(t):t,n.push([t,e]);return n},fillMonth:function(){var e,t,n=this.fillCommon("M"),i=-1!==this.options.template.indexOf("MMMM"),r=-1!==this.options.template.indexOf("MMM"),o=-1!==this.options.template.indexOf("MM");for(t=0;11>=t;t++)e=i?moment().date(1).month(t).format("MMMM"):r?moment().date(1).month(t).format("MMM"):o?this.leadZero(t+1):t+1,n.push([t,e]);return n},fillYear:function(){var e,t,n=[],i=-1!==this.options.template.indexOf("YYYY");for(t=this.options.maxYear;t>=this.options.minYear;t--)e=i?t:(t+"").substring(2),n[this.options.yearDescending?"push":"unshift"]([t,e]);return this.fillCommon("y").concat(n)},fillHour:function(){var e,t,n=this.fillCommon("h"),i=-1!==this.options.template.indexOf("h"),r=(this.options.template.indexOf("H"),-1!==this.options.template.toLowerCase().indexOf("hh")),o=i?12:23;for(t=i?1:0;o>=t;t++)e=r?this.leadZero(t):t,n.push([t,e]);return n},fillMinute:function(){var e,t,n=this.fillCommon("m"),i=-1!==this.options.template.indexOf("mm");for(t=0;59>=t;t+=this.options.minuteStep)e=i?this.leadZero(t):t,n.push([t,e]);return n},fillSecond:function(){var e,t,n=this.fillCommon("s"),i=-1!==this.options.template.indexOf("ss");for(t=0;59>=t;t+=this.options.secondStep)e=i?this.leadZero(t):t,n.push([t,e]);return n},fillAmpm:function(){var e=-1!==this.options.template.indexOf("a");return this.options.template.indexOf("A"),[["am",e?"am":"AM"],["pm",e?"pm":"PM"]]},getValue:function(t){var n,i={},r=this,o=!1;return e.each(this.map,function(e){if("ampm"!==e){var t="day"===e?1:0;return i[e]=r["$"+e]?parseInt(r["$"+e].val(),10):t,isNaN(i[e])?(o=!0,!1):void 0}}),o?"":(this.$ampm&&(i.hour=12===i.hour?"am"===this.$ampm.val()?0:12:"am"===this.$ampm.val()?i.hour:i.hour+12),n=moment([i.year,i.month,i.day,i.hour,i.minute,i.second]),this.highlight(n),null===(t=void 0===t?this.options.format:t)?n.isValid()?n:null:n.isValid()?n.format(t):"")},setValue:function(t){function n(t,n){var i={};return t.children("option").each(function(t,r){var o,a=e(r).attr("value");""!==a&&(o=Math.abs(a-n),(void 0===i.distance||o<i.distance)&&(i={value:a,distance:o}))}),i.value}if(t){var i="string"==typeof t?moment(t,this.options.format):moment(t),r=this,o={};i.isValid()&&(e.each(this.map,function(e,t){"ampm"!==e&&(o[e]=i[t[1]]())}),this.$ampm&&(o.hour>=12?(o.ampm="pm",o.hour>12&&(o.hour-=12)):(o.ampm="am",0===o.hour&&(o.hour=12))),e.each(o,function(e,t){r["$"+e]&&("minute"===e&&r.options.minuteStep>1&&r.options.roundTime&&(t=n(r["$"+e],t)),"second"===e&&r.options.secondStep>1&&r.options.roundTime&&(t=n(r["$"+e],t)),r["$"+e].val(t))}),this.options.smartDays&&this.fillCombo("day"),this.$element.val(i.format(this.options.format)).change())}},highlight:function(e){e.isValid()?this.options.errorClass?this.$widget.removeClass(this.options.errorClass):this.$widget.find("select").css("border-color",this.borderColor):this.options.errorClass?this.$widget.addClass(this.options.errorClass):(this.borderColor||(this.borderColor=this.$widget.find("select").css("border-color")),this.$widget.find("select").css("border-color","red"))},leadZero:function(e){return 9>=e?"0"+e:e},destroy:function(){this.$widget.remove(),this.$element.removeData("combodate").show()}},e.fn.combodate=function(n){var i,r=Array.apply(null,arguments);return r.shift(),"getValue"===n&&this.length&&(i=this.eq(0).data("combodate"))?i.getValue.apply(i,r):this.each(function(){var i=e(this),o=i.data("combodate"),a="object"==typeof n&&n;o||i.data("combodate",o=new t(this,a)),"string"==typeof n&&"function"==typeof o[n]&&o[n].apply(o,r)})},e.fn.combodate.defaults={format:"DD-MM-YYYY HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:2015,yearDescending:!0,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,roundTime:!0,smartDays:!1}}(window.jQuery),function(e){"use strict";var t=function(n){this.init("combodate",n,t.defaults),this.options.viewformat||(this.options.viewformat=this.options.format),n.combodate=e.fn.editableutils.tryParseJson(n.combodate,!0),this.options.combodate=e.extend({},t.defaults.combodate,n.combodate,{format:this.options.format,template:this.options.template})};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput),e.extend(t.prototype,{render:function(){this.$input.combodate(this.options.combodate),"bs3"===e.fn.editableform.engine&&this.$input.siblings().find("select").addClass("form-control"),this.options.inputclass&&this.$input.siblings().find("select").addClass(this.options.inputclass)},value2html:function(e,n){var i=e?e.format(this.options.viewformat):"";t.superclass.value2html.call(this,i,n)},html2value:function(e){return e?moment(e,this.options.viewformat):null},value2str:function(e){return e?e.format(this.options.format):""},str2value:function(e){return e?moment(e,this.options.format):null},value2submit:function(e){return this.value2str(e)},value2input:function(e){this.$input.combodate("setValue",e)},input2value:function(){return this.$input.combodate("getValue",null)},activate:function(){this.$input.siblings(".combodate").find("select").eq(0).focus()},autosubmit:function(){}}),t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',inputclass:null,format:"YYYY-MM-DD",viewformat:null,template:"D / MMM / YYYY",combodate:null}),e.fn.editabletypes.combodate=t}(window.jQuery),function(e){"use strict";var t=e.fn.editableform.Constructor.prototype.initInput;e.extend(e.fn.editableform.Constructor.prototype,{initTemplate:function(){this.$form=e(e.fn.editableform.template),this.$form.find(".control-group").addClass("form-group"),this.$form.find(".editable-error-block").addClass("help-block")},initInput:function(){t.apply(this);var n=null===this.input.options.inputclass||!1===this.input.options.inputclass,i="input-sm",r="text,select,textarea,password,email,url,tel,number,range,time,typeaheadjs".split(",");~e.inArray(this.input.type,r)&&(this.input.$input.addClass("form-control"),n&&(this.input.options.inputclass=i,this.input.$input.addClass(i)));for(var o=this.$form.find(".editable-buttons"),a=n?[i]:this.input.options.inputclass.split(" "),s=0;s<a.length;s++)"input-lg"===a[s].toLowerCase()&&o.find("button").removeClass("btn-sm").addClass("btn-lg")}}),e.fn.editableform.buttons='<button type="submit" class="btn btn-primary btn-sm editable-submit"><i class="glyphicon glyphicon-ok"></i></button><button type="button" class="btn btn-default btn-sm editable-cancel"><i class="glyphicon glyphicon-remove"></i></button>',e.fn.editableform.errorGroupClass="has-error",e.fn.editableform.errorBlockClass=null,e.fn.editableform.engine="bs3"}(window.jQuery),function(e){"use strict";e.extend(e.fn.editableContainer.Popup.prototype,{containerName:"popover",containerDataName:"bs.popover",innerCss:".popover-content",defaults:e.fn.popover.Constructor.DEFAULTS,initContainer:function(){var t;e.extend(this.containerOptions,{trigger:"manual",selector:!1,content:" ",template:this.defaults.template}),this.$element.data("template")&&(t=this.$element.data("template"),this.$element.removeData("template")),this.call(this.containerOptions),t&&this.$element.data("template",t)},innerShow:function(){this.call("show")},innerHide:function(){this.call("hide")},innerDestroy:function(){this.call("destroy")},setContainerOption:function(e,t){this.container().options[e]=t},setPosition:function(){(function(){var e=this.tip(),t="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,n=/\s?auto?\s?/i,i=n.test(t);i&&(t=t.replace(n,"")||"top");var r=this.getPosition(),o=e[0].offsetWidth,a=e[0].offsetHeight;if(i){var s=this.$element.parent(),l=t,c=document.documentElement.scrollTop||document.body.scrollTop,d="body"==this.options.container?window.innerWidth:s.outerWidth(),u="body"==this.options.container?window.innerHeight:s.outerHeight(),h="body"==this.options.container?0:s.offset().left;t="bottom"==t&&r.top+r.height+a-c>u?"top":"top"==t&&r.top-c-a<0?"bottom":"right"==t&&r.right+o>d?"left":"left"==t&&r.left-o<h?"right":t,e.removeClass(l).addClass(t)}var f=this.getCalculatedOffset(t,r,o,a);this.applyPlacement(f,t)}).call(this.container())}})}(window.jQuery),function(e){function t(){return new Date(Date.UTC.apply(Date,arguments))}function n(t){var n={};if(c[t]||(t=t.split("-")[0],c[t])){var i=c[t];return e.each(l,function(e,t){t in i&&(n[t]=i[t])}),n}}var i=function(t,n){this._process_options(n),this.element=e(t),this.isInline=!1,this.isInput=this.element.is("input"),this.component=!!this.element.is(".date")&&this.element.find(".add-on, .btn"),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=e(d.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(e,t){return parseInt(t)+1}),this._allow_update=!1,this.setStartDate(this.o.startDate),this.setEndDate(this.o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};i.prototype={constructor:i,_process_options:function(t){this._o=e.extend({},this._o,t);var n=this.o=e.extend({},this._o),i=n.language;switch(c[i]||(i=i.split("-")[0],c[i]||(i=s.language)),n.language=i,n.startView){case 2:case"decade":n.startView=2;break;case 1:case"year":n.startView=1;break;default:n.startView=0}switch(n.minViewMode){case 1:case"months":n.minViewMode=1;break;case 2:case"years":n.minViewMode=2;break;default:n.minViewMode=0}n.startView=Math.max(n.startView,n.minViewMode),n.weekStart%=7,n.weekEnd=(n.weekStart+6)%7;var r=d.parseFormat(n.format);n.startDate!==-1/0&&(n.startDate=d.parseDate(n.startDate,r,n.language)),1/0!==n.endDate&&(n.endDate=d.parseDate(n.endDate,r,n.language)),n.daysOfWeekDisabled=n.daysOfWeekDisabled||[],e.isArray(n.daysOfWeekDisabled)||(n.daysOfWeekDisabled=n.daysOfWeekDisabled.split(/[,\s]*/)),n.daysOfWeekDisabled=e.map(n.daysOfWeekDisabled,function(e){return parseInt(e,10)})},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var t,n,i=0;i<e.length;i++)t=e[i][0],n=e[i][1],t.on(n)},_unapplyEvents:function(e){for(var t,n,i=0;i<e.length;i++)t=e[i][0],n=e[i][1],t.off(n)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this),keydown:e.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this),keydown:e.proxy(this.keydown,this)}],[this.component,{click:e.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:e.proxy(this.show,this)}]],this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{mousedown:e.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).size()||this.picker.is(e.target)||this.picker.find(e.target).size()||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,n){var i=n||this.date,r=new Date(i.getTime()+6e4*i.getTimezoneOffset());this.element.trigger({type:t,date:r,format:e.proxy(function(e){var t=e||this.o.format;return d.formatDate(i,t,this.o.language)},this)})},show:function(e){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.place(),this._attachSecondaryEvents(),e&&e.preventDefault(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},getDate:function(){var e=this.getUTCDate();return new Date(e.getTime()+6e4*e.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(e){this.setUTCDate(new Date(e.getTime()-6e4*e.getTimezoneOffset()))},setUTCDate:function(e){this.date=e,this.setValue()},setValue:function(){var e=this.getFormattedDate();this.isInput?this.element.val(e):this.component&&this.element.find("input").val(e)},getFormattedDate:function(e){return void 0===e&&(e=this.o.format),d.formatDate(this.date,e,this.o.language)},setStartDate:function(e){this._process_options({startDate:e}),this.update(),this.updateNavArrows()},setEndDate:function(e){this._process_options({endDate:e}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(e){this._process_options({daysOfWeekDisabled:e}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var t=parseInt(this.element.parents().filter(function(){return"auto"!=e(this).css("z-index")}).first().css("z-index"))+10,n=this.component?this.component.parent().offset():this.element.offset(),i=this.component?this.component.outerHeight(!0):this.element.outerHeight(!0);this.picker.css({top:n.top+i,left:n.left,zIndex:t})}},_allow_update:!0,update:function(){if(this._allow_update){var e,t=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(e=arguments[0],t=!0):(e=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),delete this.element.data().date),this.date=d.parseDate(e,this.o.format,this.o.language),t&&this.setValue(),this.viewDate=this.date<this.o.startDate?new Date(this.o.startDate):this.date>this.o.endDate?new Date(this.o.endDate):new Date(this.date),this.fill()}},fillDow:function(){var e=this.o.weekStart,t="<tr>";if(this.o.calendarWeeks){var n='<th class="cw">&nbsp;</th>';t+=n,this.picker.find(".datepicker-days thead tr:first-child").prepend(n)}for(;e<this.o.weekStart+7;)t+='<th class="dow">'+c[this.o.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){for(var e="",t=0;12>t;)e+='<span class="month">'+c[this.o.language].monthsShort[t++]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(t){t&&t.length?this.range=e.map(t,function(e){return e.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var n=[],i=this.viewDate.getUTCFullYear(),r=this.viewDate.getUTCMonth(),o=this.date.valueOf(),a=new Date;return t.getUTCFullYear()<i||t.getUTCFullYear()==i&&t.getUTCMonth()<r?n.push("old"):(t.getUTCFullYear()>i||t.getUTCFullYear()==i&&t.getUTCMonth()>r)&&n.push("new"),this.o.todayHighlight&&t.getUTCFullYear()==a.getFullYear()&&t.getUTCMonth()==a.getMonth()&&t.getUTCDate()==a.getDate()&&n.push("today"),o&&t.valueOf()==o&&n.push("active"),(t.valueOf()<this.o.startDate||t.valueOf()>this.o.endDate||-1!==e.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled))&&n.push("disabled"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&n.push("range"),-1!=e.inArray(t.valueOf(),this.range)&&n.push("selected")),n},fill:function(){var n,i=new Date(this.viewDate),r=i.getUTCFullYear(),o=i.getUTCMonth(),a=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,s=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,l=1/0!==this.o.endDate?this.o.endDate.getUTCFullYear():1/0,u=1/0!==this.o.endDate?this.o.endDate.getUTCMonth():1/0;this.date&&this.date.valueOf(),this.picker.find(".datepicker-days thead th.datepicker-switch").text(c[this.o.language].months[o]+" "+r),this.picker.find("tfoot th.today").text(c[this.o.language].today).toggle(!1!==this.o.todayBtn),this.picker.find("tfoot th.clear").text(c[this.o.language].clear).toggle(!1!==this.o.clearBtn),this.updateNavArrows(),this.fillMonths();var h=t(r,o-1,28,0,0,0,0),f=d.getDaysInMonth(h.getUTCFullYear(),h.getUTCMonth());h.setUTCDate(f),h.setUTCDate(f-(h.getUTCDay()-this.o.weekStart+7)%7);var p=new Date(h);p.setUTCDate(p.getUTCDate()+42),p=p.valueOf();for(var m,g=[];h.valueOf()<p;){if(h.getUTCDay()==this.o.weekStart&&(g.push("<tr>"),this.o.calendarWeeks)){var v=new Date(+h+(this.o.weekStart-h.getUTCDay()-7)%7*864e5),y=new Date(+v+(11-v.getUTCDay())%7*864e5),b=new Date(+(b=t(y.getUTCFullYear(),0,1))+(11-b.getUTCDay())%7*864e5),w=(y-b)/864e5/7+1;g.push('<td class="cw">'+w+"</td>")}(m=this.getClassNames(h)).push("day");var x=this.o.beforeShowDay(h);void 0===x?x={}:"boolean"==typeof x?x={enabled:x}:"string"==typeof x&&(x={classes:x}),!1===x.enabled&&m.push("disabled"),x.classes&&(m=m.concat(x.classes.split(/\s+/))),x.tooltip&&(n=x.tooltip),m=e.unique(m),g.push('<td class="'+m.join(" ")+'"'+(n?' title="'+n+'"':"")+">"+h.getUTCDate()+"</td>"),h.getUTCDay()==this.o.weekEnd&&g.push("</tr>"),h.setUTCDate(h.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(g.join(""));var _=this.date&&this.date.getUTCFullYear(),C=this.picker.find(".datepicker-months").find("th:eq(1)").text(r).end().find("span").removeClass("active");_&&_==r&&C.eq(this.date.getUTCMonth()).addClass("active"),(a>r||r>l)&&C.addClass("disabled"),r==a&&C.slice(0,s).addClass("disabled"),r==l&&C.slice(u+1).addClass("disabled"),g="",r=10*parseInt(r/10,10);var S=this.picker.find(".datepicker-years").find("th:eq(1)").text(r+"-"+(r+9)).end().find("td");r-=1;for(var k=-1;11>k;k++)g+='<span class="year'+(-1==k?" old":10==k?" new":"")+(_==r?" active":"")+(a>r||r>l?" disabled":"")+'">'+r+"</span>",r+=1;S.html(g)},updateNavArrows:function(){if(this._allow_update){var e=new Date(this.viewDate),t=e.getUTCFullYear(),n=e.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-1/0&&t<=this.o.startDate.getUTCFullYear()&&n<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.o.endDate&&t>=this.o.endDate.getUTCFullYear()&&n>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-1/0&&t<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.o.endDate&&t>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(n){n.preventDefault();var i=e(n.target).closest("span, td, th");if(1==i.length)switch(i[0].nodeName.toLowerCase()){case"th":switch(i[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var r=d.modes[this.viewMode].navStep*("prev"==i[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,r);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,r)}this.fill();break;case"today":var o=new Date;o=t(o.getFullYear(),o.getMonth(),o.getDate(),0,0,0),this.showMode(-2);var a="linked"==this.o.todayBtn?null:"view";this._setDate(o,a);break;case"clear":var s;this.isInput?s=this.element:this.component&&(s=this.element.find("input")),s&&s.val("").change(),this._trigger("changeDate"),this.update(),this.o.autoclose&&this.hide()}break;case"span":if(!i.is(".disabled")){if(this.viewDate.setUTCDate(1),i.is(".month")){var l=1,c=i.parent().find("span").index(i),u=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(c),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(t(u,c,l,0,0,0,0))}else{u=parseInt(i.text(),10)||0,l=1,c=0;this.viewDate.setUTCFullYear(u),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(t(u,c,l,0,0,0,0))}this.showMode(-1),this.fill()}break;case"td":if(i.is(".day")&&!i.is(".disabled")){l=parseInt(i.text(),10)||1,u=this.viewDate.getUTCFullYear(),c=this.viewDate.getUTCMonth();i.is(".old")?0===c?(c=11,u-=1):c-=1:i.is(".new")&&(11==c?(c=0,u+=1):c+=1),this._setDate(t(u,c,l,0,0,0,0))}}},_setDate:function(e,t){var n;t&&"date"!=t||(this.date=new Date(e)),t&&"view"!=t||(this.viewDate=new Date(e)),this.fill(),this.setValue(),this._trigger("changeDate"),this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&(n.change(),!this.o.autoclose||t&&"date"!=t||this.hide())},moveMonth:function(e,t){if(!t)return e;var n,i,r=new Date(e.valueOf()),o=r.getUTCDate(),a=r.getUTCMonth(),s=Math.abs(t);if(t=t>0?1:-1,1==s)i=-1==t?function(){return r.getUTCMonth()==a}:function(){return r.getUTCMonth()!=n},n=a+t,r.setUTCMonth(n),(0>n||n>11)&&(n=(n+12)%12);else{for(var l=0;s>l;l++)r=this.moveMonth(r,t);n=r.getUTCMonth(),r.setUTCDate(o),i=function(){return n!=r.getUTCMonth()}}for(;i();)r.setUTCDate(--o),r.setUTCMonth(n);return r},moveYear:function(e,t){return this.moveMonth(e,12*t)},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(this.picker.is(":not(:visible)"))27==e.keyCode&&this.show();else{var t,n,i,r,o=!1;switch(e.keyCode){case 27:this.hide(),e.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;t=37==e.keyCode?-1:1,e.ctrlKey?(n=this.moveYear(this.date,t),i=this.moveYear(this.viewDate,t)):e.shiftKey?(n=this.moveMonth(this.date,t),i=this.moveMonth(this.viewDate,t)):((n=new Date(this.date)).setUTCDate(this.date.getUTCDate()+t),(i=new Date(this.viewDate)).setUTCDate(this.viewDate.getUTCDate()+t)),this.dateWithinRange(n)&&(this.date=n,this.viewDate=i,this.setValue(),this.update(),e.preventDefault(),o=!0);break;case 38:case 40:if(!this.o.keyboardNavigation)break;t=38==e.keyCode?-1:1,e.ctrlKey?(n=this.moveYear(this.date,t),i=this.moveYear(this.viewDate,t)):e.shiftKey?(n=this.moveMonth(this.date,t),i=this.moveMonth(this.viewDate,t)):((n=new Date(this.date)).setUTCDate(this.date.getUTCDate()+7*t),(i=new Date(this.viewDate)).setUTCDate(this.viewDate.getUTCDate()+7*t)),this.dateWithinRange(n)&&(this.date=n,this.viewDate=i,this.setValue(),this.update(),e.preventDefault(),o=!0);break;case 13:this.hide(),e.preventDefault();break;case 9:this.hide()}if(o)this._trigger("changeDate"),this.isInput?r=this.element:this.component&&(r=this.element.find("input")),r&&r.change()}},showMode:function(e){e&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+e))),this.picker.find(">div").hide().filter(".datepicker-"+d.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var r=function(t,n){this.element=e(t),this.inputs=e.map(n.inputs,function(e){return e.jquery?e[0]:e}),delete n.inputs,e(this.inputs).datepicker(n).bind("changeDate",e.proxy(this.dateUpdated,this)),this.pickers=e.map(this.inputs,function(t){return e(t).data("datepicker")}),this.updateDates()};r.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(e){return e.date}),this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,function(e){return e.valueOf()});e.each(this.pickers,function(e,n){n.setRange(t)})},dateUpdated:function(t){var n=e(t.target).data("datepicker").getUTCDate(),i=e.inArray(t.target,this.inputs),r=this.inputs.length;if(-1!=i){if(n<this.dates[i])for(;i>=0&&n<this.dates[i];)this.pickers[i--].setUTCDate(n);else if(n>this.dates[i])for(;r>i&&n>this.dates[i];)this.pickers[i++].setUTCDate(n);this.updateDates()}},remove:function(){e.map(this.pickers,function(e){e.remove()}),delete this.element.data().datepicker}};var o=e.fn.datepicker,a=e.fn.datepicker=function(t){var o,a=Array.apply(null,arguments);return a.shift(),this.each(function(){var l=e(this),c=l.data("datepicker"),d="object"==typeof t&&t;if(!c){var u=function(t,n){var i=e(t).data(),r={},o=new RegExp("^"+n.toLowerCase()+"([A-Z])");for(var a in n=new RegExp("^"+n.toLowerCase()),i)n.test(a)&&(r[a.replace(o,function(e,t){return t.toLowerCase()})]=i[a]);return r}(this,"date"),h=n(e.extend({},s,u,d).language),f=e.extend({},s,h,u,d);if(l.is(".input-daterange")||f.inputs){var p={inputs:f.inputs||l.find("input").toArray()};l.data("datepicker",c=new r(this,e.extend(f,p)))}else l.data("datepicker",c=new i(this,f))}return("string"!=typeof t||"function"!=typeof c[t]||void 0===(o=c[t].apply(c,a)))&&void 0}),void 0!==o?o:this},s=e.fn.datepicker.defaults={autoclose:!1,beforeShowDay:e.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},l=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=i;var c=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},d={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(e){return 0==e%4&&0!=e%100||0==e%400},getDaysInMonth:function(e,t){return[31,d.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(e){var t=e.replace(this.validParts,"\0").split("\0"),n=e.match(this.validParts);if(!t||!t.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:t,parts:n}},parseDate:function(n,r,o){if(n instanceof Date)return n;if("string"==typeof r&&(r=d.parseFormat(r)),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(n)){var a,s=/([\-+]\d+)([dmwy])/,l=n.match(/([\-+]\d+)([dmwy])/g);n=new Date;for(var u=0;u<l.length;u++)switch(p=s.exec(l[u]),a=parseInt(p[1]),p[2]){case"d":n.setUTCDate(n.getUTCDate()+a);break;case"m":n=i.prototype.moveMonth.call(i.prototype,n,a);break;case"w":n.setUTCDate(n.getUTCDate()+7*a);break;case"y":n=i.prototype.moveYear.call(i.prototype,n,a)}return t(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),0,0,0)}l=n&&n.match(this.nonpunctuation)||[],n=new Date;var h,f,p,m={},g=["yyyy","yy","M","MM","m","mm","d","dd"],v={yyyy:function(e,t){return e.setUTCFullYear(t)},yy:function(e,t){return e.setUTCFullYear(2e3+t)},m:function(e,t){for(t-=1;0>t;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!=t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}};v.M=v.MM=v.mm=v.m,v.dd=v.d,n=t(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0);var y=r.parts.slice();if(l.length!=y.length&&(y=e(y).filter(function(t,n){return-1!==e.inArray(n,g)}).toArray()),l.length==y.length){u=0;for(var b=y.length;b>u;u++){if(h=parseInt(l[u],10),p=y[u],isNaN(h))switch(p){case"MM":f=e(c[o].months).filter(function(){var e=this.slice(0,l[u].length);return e==l[u].slice(0,e.length)}),h=e.inArray(f[0],c[o].months)+1;break;case"M":f=e(c[o].monthsShort).filter(function(){var e=this.slice(0,l[u].length);return e==l[u].slice(0,e.length)}),h=e.inArray(f[0],c[o].monthsShort)+1}m[p]=h}var w;for(u=0;u<g.length;u++)(w=g[u])in m&&!isNaN(m[w])&&v[w](n,m[w])}return n},formatDate:function(t,n,i){"string"==typeof n&&(n=d.parseFormat(n));var r={d:t.getUTCDate(),D:c[i].daysShort[t.getUTCDay()],DD:c[i].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:c[i].monthsShort[t.getUTCMonth()],MM:c[i].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};r.dd=(r.d<10?"0":"")+r.d,r.mm=(r.m<10?"0":"")+r.m;t=[];for(var o=e.extend([],n.separators),a=0,s=n.parts.length;s>=a;a++)o.length&&t.push(o.shift()),t.push(r[n.parts[a]]);return t.join("")},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="datepicker-switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};d.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+d.headTemplate+"<tbody></tbody>"+d.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+d.headTemplate+d.contTemplate+d.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+d.headTemplate+d.contTemplate+d.footTemplate+"</table></div></div>",e.fn.datepicker.DPGlobal=d,e.fn.datepicker.noConflict=function(){return e.fn.datepicker=o,this},e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var n=e(this);n.data("datepicker")||(t.preventDefault(),a.call(n,"show"))}),e(function(){a.call(e('[data-provide="datepicker-inline"]'))})}(window.jQuery),function(e){"use strict";e.fn.bdatepicker=e.fn.datepicker.noConflict(),e.fn.datepicker||(e.fn.datepicker=e.fn.bdatepicker);var t=function(e){this.init("date",e,t.defaults),this.initPicker(e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput),e.extend(t.prototype,{initPicker:function(t,n){this.options.viewformat||(this.options.viewformat=this.options.format),t.datepicker=e.fn.editableutils.tryParseJson(t.datepicker,!0),this.options.datepicker=e.extend({},n.datepicker,t.datepicker,{format:this.options.viewformat}),this.options.datepicker.language=this.options.datepicker.language||"en",this.dpg=e.fn.bdatepicker.DPGlobal,this.parsedFormat=this.dpg.parseFormat(this.options.format),this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat)},render:function(){this.$input.bdatepicker(this.options.datepicker),this.options.clear&&(this.$clear=e('<a href="#"></a>').html(this.options.clear).click(e.proxy(function(e){e.preventDefault(),e.stopPropagation(),this.clear()},this)),this.$tpl.parent().append(e('<div class="editable-clear">').append(this.$clear)))},value2html:function(e,n){var i=e?this.dpg.formatDate(e,this.parsedViewFormat,this.options.datepicker.language):"";t.superclass.value2html.call(this,i,n)},html2value:function(e){return this.parseDate(e,this.parsedViewFormat)},value2str:function(e){return e?this.dpg.formatDate(e,this.parsedFormat,this.options.datepicker.language):""},str2value:function(e){return this.parseDate(e,this.parsedFormat)},value2submit:function(e){return this.value2str(e)},value2input:function(e){this.$input.bdatepicker("update",e)},input2value:function(){return this.$input.data("datepicker").date},activate:function(){},clear:function(){this.$input.data("datepicker").date=null,this.$input.find(".active").removeClass("active"),this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".day",function(t){if(!e(t.currentTarget).is(".old")&&!e(t.currentTarget).is(".new")){var n=e(this).closest("form");setTimeout(function(){n.submit()},200)}})},parseDate:function(e,t){var n=null;return e&&(n=this.dpg.parseDate(e,t,this.options.datepicker.language),"string"==typeof e&&(e!==this.dpg.formatDate(n,t,this.options.datepicker.language)&&(n=null))),n}}),t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd",viewformat:null,datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!1},clear:"&times; clear"}),e.fn.editabletypes.date=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("datefield",e,t.defaults),this.initPicker(e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.date),e.extend(t.prototype,{render:function(){this.$input=this.$tpl.find("input"),this.setClass(),this.setAttr("placeholder"),this.$tpl.bdatepicker(this.options.datepicker),this.$input.off("focus keydown"),this.$input.keyup(e.proxy(function(){this.$tpl.removeData("date"),this.$tpl.bdatepicker("update")},this))},value2input:function(e){this.$input.val(e?this.dpg.formatDate(e,this.parsedViewFormat,this.options.datepicker.language):""),this.$tpl.bdatepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){e.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}}),t.defaults=e.extend({},e.fn.editabletypes.date.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-small",datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!0}}),e.fn.editabletypes.datefield=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("datetime",e,t.defaults),this.initPicker(e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput),e.extend(t.prototype,{initPicker:function(t,n){this.options.viewformat||(this.options.viewformat=this.options.format),t.datetimepicker=e.fn.editableutils.tryParseJson(t.datetimepicker,!0),this.options.datetimepicker=e.extend({},n.datetimepicker,t.datetimepicker,{format:this.options.viewformat}),this.options.datetimepicker.language=this.options.datetimepicker.language||"en",this.dpg=e.fn.datetimepicker.DPGlobal,this.parsedFormat=this.dpg.parseFormat(this.options.format,this.options.formatType),this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat,this.options.formatType)},render:function(){this.$input.datetimepicker(this.options.datetimepicker),this.$input.on("changeMode",function(){var t=e(this).closest("form").parent();setTimeout(function(){t.triggerHandler("resize")},0)}),this.options.clear&&(this.$clear=e('<a href="#"></a>').html(this.options.clear).click(e.proxy(function(e){e.preventDefault(),e.stopPropagation(),this.clear()},this)),this.$tpl.parent().append(e('<div class="editable-clear">').append(this.$clear)))},value2html:function(e,n){var i=e?this.dpg.formatDate(this.toUTC(e),this.parsedViewFormat,this.options.datetimepicker.language,this.options.formatType):"";return n?void t.superclass.value2html.call(this,i,n):i},html2value:function(e){var t=this.parseDate(e,this.parsedViewFormat);return t?this.fromUTC(t):null},value2str:function(e){return e?this.dpg.formatDate(this.toUTC(e),this.parsedFormat,this.options.datetimepicker.language,this.options.formatType):""},str2value:function(e){var t=this.parseDate(e,this.parsedFormat);return t?this.fromUTC(t):null},value2submit:function(e){return this.value2str(e)},value2input:function(e){e&&this.$input.data("datetimepicker").setDate(e)},input2value:function(){var e=this.$input.data("datetimepicker");return e.date?e.getDate():null},activate:function(){},clear:function(){this.$input.data("datetimepicker").date=null,this.$input.find(".active").removeClass("active"),this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".minute",function(){var t=e(this).closest("form");setTimeout(function(){t.submit()},200)})},toUTC:function(e){return e?new Date(e.valueOf()-6e4*e.getTimezoneOffset()):e},fromUTC:function(e){return e?new Date(e.valueOf()+6e4*e.getTimezoneOffset()):e},parseDate:function(e,t){var n=null;return e&&(n=this.dpg.parseDate(e,t,this.options.datetimepicker.language,this.options.formatType),"string"==typeof e&&(e!==this.dpg.formatDate(n,t,this.options.datetimepicker.language,this.options.formatType)&&(n=null))),n}}),t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd hh:ii",formatType:"standard",viewformat:null,datetimepicker:{todayHighlight:!1,autoclose:!1},clear:"&times; clear"}),e.fn.editabletypes.datetime=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("datetimefield",e,t.defaults),this.initPicker(e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.datetime),e.extend(t.prototype,{render:function(){this.$input=this.$tpl.find("input"),this.setClass(),this.setAttr("placeholder"),this.$tpl.datetimepicker(this.options.datetimepicker),this.$input.off("focus keydown"),this.$input.keyup(e.proxy(function(){this.$tpl.removeData("date"),this.$tpl.datetimepicker("update")},this))},value2input:function(e){this.$input.val(this.value2html(e)),this.$tpl.datetimepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){e.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}}),t.defaults=e.extend({},e.fn.editabletypes.datetime.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-medium",datetimepicker:{todayHighlight:!1,autoclose:!0}}),e.fn.editabletypes.datetimefield=t}(window.jQuery),function(e){"use strict";var t=function(n){this.init("wysihtml5",n,t.defaults),this.options.wysihtml5=e.extend({},t.defaults.wysihtml5,n.wysihtml5)};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput),e.extend(t.prototype,{render:function(){var t=e.Deferred();return this.$input.attr("id","textarea_"+(new Date).getTime()),this.setClass(),this.setAttr("placeholder"),e.extend(this.options.wysihtml5,{events:{load:function(){t.resolve()}}}),this.$input.wysihtml5(this.options.wysihtml5),/msie\s*(8|7|6)/.test(navigator.userAgent.toLowerCase())&&this.$input.before("<br><br>"),t.promise()},value2html:function(t,n){e(n).html(t)},html2value:function(e){return e},value2input:function(e){this.$input.data("wysihtml5").editor.setValue(e,!0)},activate:function(){this.$input.data("wysihtml5").editor.focus()},isEmpty:function(t){return""===e.trim(t.html())||""===e.trim(t.text())&&(!t.height()||!t.width())}}),t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:"<textarea></textarea>",inputclass:"editable-wysihtml5",placeholder:null,wysihtml5:{stylesheets:!1}}),e.fn.editabletypes.wysihtml5=t}(window.jQuery),Object.defineProperty&&Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(Element.prototype,"textContent")&&!Object.getOwnPropertyDescriptor(Element.prototype,"textContent").get&&function(){var e=Object.getOwnPropertyDescriptor(Element.prototype,"innerText");Object.defineProperty(Element.prototype,"textContent",{get:function(){return e.get.call(this)},set:function(t){return e.set.call(this,t)}})}(),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var wysihtml5={version:"0.4.13",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"\ufeff",EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,DELETE_KEY:46};!function(e,t){"function"==typeof define&&define.amd?define(e):t.rangy=e()}(function(){function e(e,t){var n=typeof e[t];return n==g||!(n!=m||!e[t])||"unknown"==n}function t(e,t){return!(typeof e[t]!=m||!e[t])}function n(e,t){return typeof e[t]!=v}function i(e){return function(t,n){for(var i=n.length;i--;)if(!e(t,n[i]))return!1;return!0}}function r(e){return e&&_(e,x)&&S(e,w)}function o(e){return t(e,"body")?e.body:e.getElementsByTagName("body")[0]}function a(n){t(window,"console")&&e(window.console,"log")&&window.console.log(n)}function s(e,t){t?window.alert(e):a(e)}function l(e){T.initialized=!0,T.supported=!1,s("Rangy is not supported on this page in your browser. Reason: "+e,T.config.alertOnFail)}function c(e){return e.message||e.description||String(e)}function d(){if(!T.initialized){var t,n=!1,i=!1;e(document,"createRange")&&(t=document.createRange(),_(t,b)&&S(t,y)&&(n=!0));var s,d=o(document);if(!d||"body"!=d.nodeName.toLowerCase())return void l("No body element found");if(d&&e(d,"createTextRange")&&(r(t=d.createTextRange())&&(i=!0)),!n&&!i)return void l("Neither Range nor TextRange are available");for(var h in T.initialized=!0,T.features={implementsDomRange:n,implementsTextRange:i},k)(s=k[h])instanceof u&&s.init(s,T);for(var f=0,p=E.length;p>f;++f)try{E[f](T)}catch(e){a("Rangy init listener threw an exception. Continuing. Detail: "+c(e))}}}function u(e,t,n){this.name=e,this.dependencies=t,this.initialized=!1,this.supported=!1,this.initializer=n}function h(e,t,n,i){var r=new u(t,n,function(e){if(!e.initialized){e.initialized=!0;try{i(T,e),e.supported=!0}catch(e){a("Module '"+t+"' failed to load: "+c(e))}}});k[t]=r}function f(){}var p,m="object",g="function",v="undefined",y=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],b=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],w=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],x=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"],_=i(e),C=i(t),S=i(n),k={},T={version:"1.3alpha.20140804",initialized:!1,supported:!0,util:{isHostMethod:e,isHostObject:t,isHostProperty:n,areHostMethods:_,areHostObjects:C,areHostProperties:S,isTextRange:r,getBody:o},features:{},modules:k,config:{alertOnFail:!0,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==v||rangyAutoInitialize}};T.fail=l,T.warn=function(e){s("Rangy warning: "+e,T.config.alertOnWarn)},{}.hasOwnProperty?T.util.extend=function(e,t,n){var i,r;for(var o in t)t.hasOwnProperty(o)&&(i=e[o],r=t[o],n&&null!==i&&"object"==typeof i&&null!==r&&"object"==typeof r&&T.util.extend(i,r,!0),e[o]=r);return t.hasOwnProperty("toString")&&(e.toString=t.toString),e}:l("hasOwnProperty not supported"),function(){var e=document.createElement("div");e.appendChild(document.createElement("span"));var t,n=[].slice;try{1==n.call(e.childNodes,0)[0].nodeType&&(t=function(e){return n.call(e,0)})}catch(e){}t||(t=function(e){for(var t=[],n=0,i=e.length;i>n;++n)t[n]=e[n];return t}),T.util.toArray=t}(),e(document,"addEventListener")?p=function(e,t,n){e.addEventListener(t,n,!1)}:e(document,"attachEvent")?p=function(e,t,n){e.attachEvent("on"+t,n)}:l("Document does not have required addEventListener or attachEvent method"),T.util.addListener=p;var E=[];T.init=d,T.addInitListener=function(e){T.initialized?e(T):E.push(e)};var D=[];T.addShimListener=function(e){D.push(e)},T.shim=T.createMissingNativeApi=function(e){e=e||window,d();for(var t=0,n=D.length;n>t;++t)D[t](e)},u.prototype={init:function(){for(var e,t,n=this.dependencies||[],i=0,r=n.length;r>i;++i){if(t=n[i],!((e=k[t])&&e instanceof u))throw new Error("required module '"+t+"' not found");if(e.init(),!e.supported)throw new Error("required module '"+t+"' not supported")}this.initializer(this)},fail:function(e){throw this.initialized=!0,this.supported=!1,new Error("Module '"+this.name+"' failed to load: "+e)},warn:function(e){T.warn("Module "+this.name+": "+e)},deprecationNotice:function(e,t){T.warn("DEPRECATED: "+e+" in module "+this.name+"is deprecated. Please use "+t+" instead")},createError:function(e){return new Error("Error in Rangy "+this.name+" module: "+e)}},T.createModule=function(e){var t,n;2==arguments.length?(t=arguments[1],n=[]):(t=arguments[2],n=arguments[1]);var i=h(0,e,n,t);T.initialized&&i.init()},T.createCoreModule=function(e,t,n){h(0,e,t,n)},T.RangePrototype=f,T.rangePrototype=new f,T.selectionPrototype=new function(){};var N=!1,A=function(){N||(N=!0,!T.initialized&&T.config.autoInitialize&&d())};return typeof window==v?void l("No window found"):typeof document==v?void l("No document found"):(e(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",A,!1),p(window,"load",A),T.createCoreModule("DomUtil",[],function(e,t){function n(e){for(var t=0;e=e.previousSibling;)++t;return t}function i(e,t){var n,i=[];for(n=e;n;n=n.parentNode)i.push(n);for(n=t;n;n=n.parentNode)if(_(i,n))return n;return null}function r(e,t,n){for(var i=n?t:t.parentNode;i;){if(i===e)return!0;i=i.parentNode}return!1}function o(e,t,n){for(var i,r=n?e:e.parentNode;r;){if((i=r.parentNode)===t)return r;r=i}return null}function a(e){var t=e.nodeType;return 3==t||4==t||8==t}function s(e,t){var n=t.nextSibling,i=t.parentNode;return n?i.insertBefore(e,n):i.appendChild(e),e}function l(e){if(9==e.nodeType)return e;if(typeof e.ownerDocument!=v)return e.ownerDocument;if(typeof e.document!=v)return e.document;if(e.parentNode)return l(e.parentNode);throw t.createError("getDocument: no document found for node")}function c(e){var n=l(e);if(typeof n.defaultView!=v)return n.defaultView;if(typeof n.parentWindow!=v)return n.parentWindow;throw t.createError("Cannot get a window object for node")}function d(e){if(typeof e.contentDocument!=v)return e.contentDocument;if(typeof e.contentWindow!=v)return e.contentWindow.document;throw t.createError("getIframeDocument: No Document object found for iframe element")}function u(e){return e&&y.isHostMethod(e,"setTimeout")&&y.isHostObject(e,"document")}function h(e){try{return e.parentNode,!1}catch(e){return!0}}function f(e){if(!e)return"[No node]";if(C&&h(e))return"[Broken node]";if(a(e))return'"'+e.data+'"';if(1==e.nodeType){var t=e.id?' id="'+e.id+'"':"";return"<"+e.nodeName+t+">[index:"+n(e)+",length:"+e.childNodes.length+"]["+(e.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return e.nodeName}function p(e){this.root=e,this._next=e}function m(e,t){this.node=e,this.offset=t}function g(e){this.code=this[e],this.codeName=e,this.message="DOMException: "+this.codeName}var v="undefined",y=e.util;y.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||t.fail("document missing a Node creation method"),y.isHostMethod(document,"getElementsByTagName")||t.fail("document missing getElementsByTagName method");var b=document.createElement("div");y.areHostMethods(b,["insertBefore","appendChild","cloneNode"]||!y.areHostObjects(b,["previousSibling","nextSibling","childNodes","parentNode"]))||t.fail("Incomplete Element implementation"),y.isHostProperty(b,"innerHTML")||t.fail("Element is missing innerHTML property");var w=document.createTextNode("test");y.areHostMethods(w,["splitText","deleteData","insertData","appendData","cloneNode"]||!y.areHostObjects(b,["previousSibling","nextSibling","childNodes","parentNode"])||!y.areHostProperties(w,["data"]))||t.fail("Incomplete Text Node implementation");var x,_=function(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1},C=!1;!function(){var t=document.createElement("b");t.innerHTML="1";var n=t.firstChild;t.innerHTML="<br>",C=h(n),e.features.crashyTextNodes=C}(),typeof window.getComputedStyle!=v?x=function(e,t){return c(e).getComputedStyle(e,null)[t]}:typeof document.documentElement.currentStyle!=v?x=function(e,t){return e.currentStyle[t]}:t.fail("No means of obtaining computed style properties found"),p.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var e,t,n=this._current=this._next;if(this._current)if(e=n.firstChild)this._next=e;else{for(t=null;n!==this.root&&!(t=n.nextSibling);)n=n.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}},m.prototype={equals:function(e){return!!e&&this.node===e.node&&this.offset==e.offset},inspect:function(){return"[DomPosition("+f(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},g.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},g.prototype.toString=function(){return this.message},e.dom={arrayContains:_,isHtmlNamespace:function(e){var t;return typeof e.namespaceURI==v||null===(t=e.namespaceURI)||"http://www.w3.org/1999/xhtml"==t},parentElement:function(e){var t=e.parentNode;return 1==t.nodeType?t:null},getNodeIndex:n,getNodeLength:function(e){switch(e.nodeType){case 7:case 10:return 0;case 3:case 8:return e.length;default:return e.childNodes.length}},getCommonAncestor:i,isAncestorOf:r,isOrIsAncestorOf:function(e,t){return r(e,t,!0)},getClosestAncestorIn:o,isCharacterDataNode:a,isTextOrCommentNode:function(e){if(!e)return!1;var t=e.nodeType;return 3==t||8==t},insertAfter:s,splitDataNode:function(e,t,i){var r=e.cloneNode(!1);if(r.deleteData(0,t),e.deleteData(t,e.length-t),s(r,e),i)for(var o,a=0;o=i[a++];)o.node==e&&o.offset>t?(o.node=r,o.offset-=t):o.node==e.parentNode&&o.offset>n(e)&&++o.offset;return r},getDocument:l,getWindow:c,getIframeWindow:function(e){if(typeof e.contentWindow!=v)return e.contentWindow;if(typeof e.contentDocument!=v)return e.contentDocument.defaultView;throw t.createError("getIframeWindow: No Window object found for iframe element")},getIframeDocument:d,getBody:y.getBody,isWindow:u,getContentDocument:function(e,t,n){var i;if(e?y.isHostProperty(e,"nodeType")?i=1==e.nodeType&&"iframe"==e.tagName.toLowerCase()?d(e):l(e):u(e)&&(i=e.document):i=document,!i)throw t.createError(n+"(): Parameter must be a Window object or DOM node");return i},getRootContainer:function(e){for(var t;t=e.parentNode;)e=t;return e},comparePoints:function(e,r,a,s){var l,c,d,u,h;if(e==a)return r===s?0:s>r?-1:1;if(l=o(a,e,!0))return r<=n(l)?-1:1;if(l=o(e,a,!0))return n(l)<s?-1:1;if(!(c=i(e,a)))throw new Error("comparePoints error: nodes have no common ancestor");if((d=e===c?c:o(e,c,!0))===(u=a===c?c:o(a,c,!0)))throw t.createError("comparePoints got to case 4 and childA and childB are the same!");for(h=c.firstChild;h;){if(h===d)return-1;if(h===u)return 1;h=h.nextSibling}},isBrokenNode:h,inspectNode:f,getComputedStyleProperty:x,fragmentFromNodeChildren:function(e){for(var t,n=l(e).createDocumentFragment();t=e.firstChild;)n.appendChild(t);return n},createIterator:function(e){return new p(e)},DomPosition:m},e.DOMException=g}),T.createCoreModule("DomRange",["DomUtil"],function(e){function t(e,t){return 3!=e.nodeType&&(B(e,t.startContainer)||B(e,t.endContainer))}function n(e){return e.document||$(e.startContainer)}function i(e){return new P(e.parentNode,L(e))}function r(e){return new P(e.parentNode,L(e)+1)}function o(e,t,n){var i=11==e.nodeType?e.firstChild:e;return j(t)?n==t.length?I.insertAfter(e,t):t.parentNode.insertBefore(e,0==n?t:H(t,n)):n>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[n]),i}function a(e,t,i){if(_(e),_(t),n(t)!=n(e))throw new M("WRONG_DOCUMENT_ERR");var r=F(e.startContainer,e.startOffset,t.endContainer,t.endOffset),o=F(e.endContainer,e.endOffset,t.startContainer,t.startOffset);return i?0>=r&&o>=0:0>r&&o>0}function s(e,t,n){var i,r,o,a;for(n=n||{stop:!1};o=e.next();)if(e.isPartiallySelectedSubtree()){if(!1===t(o))return void(n.stop=!0);if(s(a=e.getSubtreeIterator(),t,n),a.detach(),n.stop)return}else for(i=I.createIterator(o);r=i.next();)if(!1===t(r))return void(n.stop=!0)}function l(e){for(var t;e.next();)e.isPartiallySelectedSubtree()?(l(t=e.getSubtreeIterator()),t.detach()):e.remove()}function c(e){for(var t,i,r=n(e.range).createDocumentFragment();t=e.next();){if(e.isPartiallySelectedSubtree()?(t=t.cloneNode(!1),i=e.getSubtreeIterator(),t.appendChild(c(i)),i.detach()):e.remove(),10==t.nodeType)throw new M("HIERARCHY_REQUEST_ERR");r.appendChild(t)}return r}function d(e){return"["+(void 0===e.getName?"Range":e.getName())+"("+I.inspectNode(e.startContainer)+":"+e.startOffset+", "+I.inspectNode(e.endContainer)+":"+e.endOffset+")]"}function u(e,t){if(this.range=e,this.clonePartiallySelectedTextNodes=t,!e.collapsed){this.sc=e.startContainer,this.so=e.startOffset,this.ec=e.endContainer,this.eo=e.endOffset;var n=e.commonAncestorContainer;this.sc===this.ec&&j(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||j(this.sc)?z(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||j(this.ec)?z(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}function h(e){return function(t,n){for(var i,r=n?t:t.parentNode;r;){if(i=r.nodeType,U(e,i))return r;r=r.parentNode}return null}}function f(e,t){if(Z(e,t))throw new M("INVALID_NODE_TYPE_ERR")}function p(e,t){if(!U(t,e.nodeType))throw new M("INVALID_NODE_TYPE_ERR")}function m(e,t){if(0>t||t>(j(e)?e.length:e.childNodes.length))throw new M("INDEX_SIZE_ERR")}function g(e,t){if(J(e,!0)!==J(t,!0))throw new M("WRONG_DOCUMENT_ERR")}function v(e){if(Q(e,!0))throw new M("NO_MODIFICATION_ALLOWED_ERR")}function y(e,t){if(!e)throw new M(t)}function b(e){return V&&I.isBrokenNode(e)||!U(X,e.nodeType)&&!J(e,!0)}function w(e,t){return t<=(j(e)?e.length:e.childNodes.length)}function x(e){return!!e.startContainer&&!!e.endContainer&&!b(e.startContainer)&&!b(e.endContainer)&&w(e.startContainer,e.startOffset)&&w(e.endContainer,e.endOffset)}function _(e){if(!x(e))throw new Error("Range error: Range is no longer valid after DOM mutation ("+e.inspect()+")")}function C(e,t){_(e);var n=e.startContainer,i=e.startOffset,r=e.endContainer,o=e.endOffset,a=n===r;j(r)&&o>0&&o<r.length&&H(r,o,t),j(n)&&i>0&&i<n.length&&(n=H(n,i,t),a?(o-=i,r=n):r==n.parentNode&&o>=L(n)&&o++,i=0),e.setStartAndEnd(n,i,r,o)}function S(e){_(e);var t=e.commonAncestorContainer.parentNode.cloneNode(!1);return t.appendChild(e.cloneContents()),t.innerHTML}function k(e){e.START_TO_START=re,e.START_TO_END=oe,e.END_TO_END=ae,e.END_TO_START=se,e.NODE_BEFORE=le,e.NODE_AFTER=ce,e.NODE_BEFORE_AND_AFTER=de,e.NODE_INSIDE=ue}function T(e){k(e),k(e.prototype)}function E(e,t){return function(){_(this);var n,i=this.startContainer,o=this.startOffset,a=this.commonAncestorContainer,l=new u(this,!0);i!==a&&(i=(n=r(z(i,a,!0))).node,o=n.offset),s(l,v),l.reset();var c=e(l);return l.detach(),t(this,i,o,i,o),c}}function D(n,o){function a(e,t){return function(n){p(n,Y),p(q(n),X);var o=(e?i:r)(n);(t?s:d)(this,o.node,o.offset)}}function s(e,t,n){var i=e.endContainer,r=e.endOffset;(t!==e.startContainer||n!==e.startOffset)&&((q(t)!=q(i)||1==F(t,n,i,r))&&(i=t,r=n),o(e,t,n,i,r))}function d(e,t,n){var i=e.startContainer,r=e.startOffset;(t!==e.endContainer||n!==e.endOffset)&&((q(t)!=q(i)||-1==F(t,n,i,r))&&(i=t,r=n),o(e,i,r,t,n))}var h=function(){};h.prototype=e.rangePrototype,n.prototype=new h,R.extend(n.prototype,{setStart:function(e,t){f(e,!0),m(e,t),s(this,e,t)},setEnd:function(e,t){f(e,!0),m(e,t),d(this,e,t)},setStartAndEnd:function(){var e=arguments,t=e[0],n=e[1],i=t,r=n;switch(e.length){case 3:r=e[2];break;case 4:i=e[2],r=e[3]}o(this,t,n,i,r)},setBoundary:function(e,t,n){this["set"+(n?"Start":"End")](e,t)},setStartBefore:a(!0,!0),setStartAfter:a(!1,!0),setEndBefore:a(!0,!1),setEndAfter:a(!1,!1),collapse:function(e){_(this),e?o(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):o(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(e){f(e,!0),o(this,e,0,e,W(e))},selectNode:function(e){f(e,!1),p(e,Y);var t=i(e),n=r(e);o(this,t.node,t.offset,n.node,n.offset)},extractContents:E(c,o),deleteContents:E(l,o),canSurroundContents:function(){_(this),v(this.startContainer),v(this.endContainer);var e=new u(this,!0),n=e._first&&t(e._first,this)||e._last&&t(e._last,this);return e.detach(),!n},splitBoundaries:function(){C(this)},splitBoundariesPreservingPositions:function(e){C(this,e)},normalizeBoundaries:function(){_(this);var e=this.startContainer,t=this.startOffset,n=this.endContainer,i=this.endOffset,r=function(e){var t=e.nextSibling;t&&t.nodeType==e.nodeType&&(n=e,i=e.length,e.appendData(t.data),t.parentNode.removeChild(t))},a=function(r){var o=r.previousSibling;if(o&&o.nodeType==r.nodeType){e=r;var a=r.length;if(t=o.length,r.insertData(0,o.data),o.parentNode.removeChild(o),e==n)i+=t,n=e;else if(n==r.parentNode){var s=L(r);i==s?(n=r,i=a):i>s&&i--}}},s=!0;if(j(n))n.length==i&&r(n);else{if(i>0){var l=n.childNodes[i-1];l&&j(l)&&r(l)}s=!this.collapsed}if(s){if(j(e))0==t&&a(e);else if(t<e.childNodes.length){var c=e.childNodes[t];c&&j(c)&&a(c)}}else e=n,t=i;o(this,e,t,n,i)},collapseToPoint:function(e,t){f(e,!0),m(e,t),this.setStartAndEnd(e,t)}}),T(n)}function N(e){e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e.commonAncestorContainer=e.collapsed?e.startContainer:I.getCommonAncestor(e.startContainer,e.endContainer)}function A(e,t,n,i,r){e.startContainer=t,e.startOffset=n,e.endContainer=i,e.endOffset=r,e.document=I.getDocument(t),N(e)}function O(e){this.startContainer=e,this.startOffset=0,this.endContainer=e,this.endOffset=0,this.document=e,N(this)}var I=e.dom,R=e.util,P=I.DomPosition,M=e.DOMException,j=I.isCharacterDataNode,L=I.getNodeIndex,B=I.isOrIsAncestorOf,$=I.getDocument,F=I.comparePoints,H=I.splitDataNode,z=I.getClosestAncestorIn,W=I.getNodeLength,U=I.arrayContains,q=I.getRootContainer,V=e.features.crashyTextNodes;u.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next;return e&&(this._next=e!==this._last?e.nextSibling:null,j(e)&&this.clonePartiallySelectedTextNodes&&(e===this.ec&&(e=e.cloneNode(!0)).deleteData(this.eo,e.length-this.eo),this._current===this.sc&&(e=e.cloneNode(!0)).deleteData(0,this.so))),e},remove:function(){var e,t,n=this._current;!j(n)||n!==this.sc&&n!==this.ec?n.parentNode&&n.parentNode.removeChild(n):(e=n===this.sc?this.so:0)!=(t=n===this.ec?this.eo:n.length)&&n.deleteData(e,t-e)},isPartiallySelectedSubtree:function(){return t(this._current,this.range)},getSubtreeIterator:function(){var e;if(this.isSingleCharacterDataNode)(e=this.range.cloneRange()).collapse(!1);else{e=new O(n(this.range));var t=this._current,i=t,r=0,o=t,a=W(t);B(t,this.sc)&&(i=this.sc,r=this.so),B(t,this.ec)&&(o=this.ec,a=this.eo),A(e,i,r,o,a)}return new u(e,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var Y=[1,3,4,5,7,8,10],X=[2,9,11],G=[1,3,4,5,7,8,10,11],K=[1,3,4,5,7,8],J=h([9,11]),Q=h([5,6,10,12]),Z=h([6,10,12]),ee=document.createElement("style"),te=!1;try{ee.innerHTML="<b>x</b>",te=3==ee.firstChild.nodeType}catch(e){}e.features.htmlParsingConforms=te;var ne=te?function(e){var t=this.startContainer,n=$(t);if(!t)throw new M("INVALID_STATE_ERR");var i=null;return 1==t.nodeType?i=t:j(t)&&(i=I.parentElement(t)),(i=null===i||"HTML"==i.nodeName&&I.isHtmlNamespace($(i).documentElement)&&I.isHtmlNamespace(i)?n.createElement("body"):i.cloneNode(!1)).innerHTML=e,I.fragmentFromNodeChildren(i)}:function(e){var t=n(this).createElement("body");return t.innerHTML=e,I.fragmentFromNodeChildren(t)},ie=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],re=0,oe=1,ae=2,se=3,le=0,ce=1,de=2,ue=3;R.extend(e.rangePrototype,{compareBoundaryPoints:function(e,t){_(this),g(this.startContainer,t.startContainer);var n,i,r,o,a=e==se||e==re?"start":"end",s=e==oe||e==re?"start":"end";return n=this[a+"Container"],i=this[a+"Offset"],r=t[s+"Container"],o=t[s+"Offset"],F(n,i,r,o)},insertNode:function(e){if(_(this),p(e,G),v(this.startContainer),B(e,this.startContainer))throw new M("HIERARCHY_REQUEST_ERR");var t=o(e,this.startContainer,this.startOffset);this.setStartBefore(t)},cloneContents:function(){var e,t;if(_(this),this.collapsed)return n(this).createDocumentFragment();if(this.startContainer===this.endContainer&&j(this.startContainer))return(e=this.startContainer.cloneNode(!0)).data=e.data.slice(this.startOffset,this.endOffset),(t=n(this).createDocumentFragment()).appendChild(e),t;var i=new u(this,!0);return e=function e(t){for(var i,r,o,a=n(t.range).createDocumentFragment();r=t.next();){if(i=t.isPartiallySelectedSubtree(),r=r.cloneNode(!i),i&&(o=t.getSubtreeIterator(),r.appendChild(e(o)),o.detach()),10==r.nodeType)throw new M("HIERARCHY_REQUEST_ERR");a.appendChild(r)}return a}(i),i.detach(),e},canSurroundContents:function(){_(this),v(this.startContainer),v(this.endContainer);var e=new u(this,!0),n=e._first&&t(e._first,this)||e._last&&t(e._last,this);return e.detach(),!n},surroundContents:function(e){if(p(e,K),!this.canSurroundContents())throw new M("INVALID_STATE_ERR");var t=this.extractContents();if(e.hasChildNodes())for(;e.lastChild;)e.removeChild(e.lastChild);o(e,this.startContainer,this.startOffset),e.appendChild(t),this.selectNode(e)},cloneRange:function(){_(this);for(var e,t=new O(n(this)),i=ie.length;i--;)t[e=ie[i]]=this[e];return t},toString:function(){_(this);var e=this.startContainer;if(e===this.endContainer&&j(e))return 3==e.nodeType||4==e.nodeType?e.data.slice(this.startOffset,this.endOffset):"";var t=[],n=new u(this,!0);return s(n,function(e){(3==e.nodeType||4==e.nodeType)&&t.push(e.data)}),n.detach(),t.join("")},compareNode:function(e){_(this);var t=e.parentNode,n=L(e);if(!t)throw new M("NOT_FOUND_ERR");var i=this.comparePoint(t,n),r=this.comparePoint(t,n+1);return 0>i?r>0?de:le:r>0?ce:ue},comparePoint:function(e,t){return _(this),y(e,"HIERARCHY_REQUEST_ERR"),g(e,this.startContainer),F(e,t,this.startContainer,this.startOffset)<0?-1:F(e,t,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:ne,toHtml:function(){return S(this)},intersectsNode:function(e,t){if(_(this),y(e,"NOT_FOUND_ERR"),$(e)!==n(this))return!1;var i=e.parentNode,r=L(e);y(i,"NOT_FOUND_ERR");var o=F(i,r,this.endContainer,this.endOffset),a=F(i,r+1,this.startContainer,this.startOffset);return t?0>=o&&a>=0:0>o&&a>0},isPointInRange:function(e,t){return _(this),y(e,"HIERARCHY_REQUEST_ERR"),g(e,this.startContainer),F(e,t,this.startContainer,this.startOffset)>=0&&F(e,t,this.endContainer,this.endOffset)<=0},intersectsRange:function(e){return a(this,e,!1)},intersectsOrTouchesRange:function(e){return a(this,e,!0)},intersection:function(e){if(this.intersectsRange(e)){var t=F(this.startContainer,this.startOffset,e.startContainer,e.startOffset),n=F(this.endContainer,this.endOffset,e.endContainer,e.endOffset),i=this.cloneRange();return-1==t&&i.setStart(e.startContainer,e.startOffset),1==n&&i.setEnd(e.endContainer,e.endOffset),i}return null},union:function(e){if(this.intersectsOrTouchesRange(e)){var t=this.cloneRange();return-1==F(e.startContainer,e.startOffset,this.startContainer,this.startOffset)&&t.setStart(e.startContainer,e.startOffset),1==F(e.endContainer,e.endOffset,this.endContainer,this.endOffset)&&t.setEnd(e.endContainer,e.endOffset),t}throw new M("Ranges do not intersect")},containsNode:function(e,t){return t?this.intersectsNode(e,!1):this.compareNode(e)==ue},containsNodeContents:function(e){return this.comparePoint(e,0)>=0&&this.comparePoint(e,W(e))<=0},containsRange:function(e){var t=this.intersection(e);return null!==t&&e.equals(t)},containsNodeText:function(e){var t=this.cloneRange();t.selectNode(e);var n=t.getNodes([3]);if(n.length>0){t.setStart(n[0],0);var i=n.pop();return t.setEnd(i,i.length),this.containsRange(t)}return this.containsNodeContents(e)},getNodes:function(e,t){return _(this),function(e,t,n){var i,r=!(!t||!t.length),o=!!n;r&&(i=new RegExp("^("+t.join("|")+")$"));var a=[];return s(new u(e,!1),function(t){if(!(r&&!i.test(t.nodeType)||o&&!n(t))){var s=e.startContainer;if(t!=s||!j(s)||e.startOffset!=s.length){var l=e.endContainer;t==l&&j(l)&&0==e.endOffset||a.push(t)}}}),a}(this,e,t)},getDocument:function(){return n(this)},collapseBefore:function(e){this.setEndBefore(e),this.collapse(!1)},collapseAfter:function(e){this.setStartAfter(e),this.collapse(!0)},getBookmark:function(t){var i=n(this),r=e.createRange(i);t=t||I.getBody(i),r.selectNodeContents(t);var o=this.intersection(r),a=0,s=0;return o&&(r.setEnd(o.startContainer,o.startOffset),s=(a=r.toString().length)+o.toString().length),{start:a,end:s,containerNode:t}},moveToBookmark:function(e){var t=e.containerNode,n=0;this.setStart(t,0),this.collapse(!0);for(var i,r,o,a,s=[t],l=!1,c=!1;!c&&(i=s.pop());)if(3==i.nodeType)r=n+i.length,!l&&e.start>=n&&e.start<=r&&(this.setStart(i,e.start-n),l=!0),l&&e.end>=n&&e.end<=r&&(this.setEnd(i,e.end-n),c=!0),n=r;else for(o=(a=i.childNodes).length;o--;)s.push(a[o])},getName:function(){return"DomRange"},equals:function(e){return O.rangesEqual(this,e)},isValid:function(){return x(this)},inspect:function(){return d(this)},detach:function(){}}),D(O,A),R.extend(O,{rangeProperties:ie,RangeIterator:u,copyComparisonConstants:T,createPrototypeRange:D,inspect:d,toHtml:S,getRangeDocument:n,rangesEqual:function(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}}),e.DomRange=O}),T.createCoreModule("WrappedRange",["DomRange"],function(e,t){var n,i,r=e.dom,o=e.util,a=r.DomPosition,s=e.DomRange,l=r.getBody,c=r.getContentDocument,d=r.isCharacterDataNode;if(e.features.implementsDomRange&&function(){function i(e){for(var t,n=u.length;n--;)e[t=u[n]]=e.nativeRange[t];e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset}var a,d,u=s.rangeProperties;n=function(e){if(!e)throw t.createError("WrappedRange: Range must be specified");this.nativeRange=e,i(this)},s.createPrototypeRange(n,function(e,t,n,i,r){var o=e.startContainer!==t||e.startOffset!=n,a=e.endContainer!==i||e.endOffset!=r,s=!e.equals(e.nativeRange);(o||a||s)&&(e.setEnd(i,r),e.setStart(t,n))}),(a=n.prototype).selectNode=function(e){this.nativeRange.selectNode(e),i(this)},a.cloneContents=function(){return this.nativeRange.cloneContents()},a.surroundContents=function(e){this.nativeRange.surroundContents(e),i(this)},a.collapse=function(e){this.nativeRange.collapse(e),i(this)},a.cloneRange=function(){return new n(this.nativeRange.cloneRange())},a.refresh=function(){i(this)},a.toString=function(){return this.nativeRange.toString()};var h=document.createTextNode("test");l(document).appendChild(h);var f=document.createRange();f.setStart(h,0),f.setEnd(h,0);try{f.setStart(h,1),a.setStart=function(e,t){this.nativeRange.setStart(e,t),i(this)},a.setEnd=function(e,t){this.nativeRange.setEnd(e,t),i(this)},d=function(e){return function(t){this.nativeRange[e](t),i(this)}}}catch(e){a.setStart=function(e,t){try{this.nativeRange.setStart(e,t)}catch(n){this.nativeRange.setEnd(e,t),this.nativeRange.setStart(e,t)}i(this)},a.setEnd=function(e,t){try{this.nativeRange.setEnd(e,t)}catch(n){this.nativeRange.setStart(e,t),this.nativeRange.setEnd(e,t)}i(this)},d=function(e,t){return function(n){try{this.nativeRange[e](n)}catch(i){this.nativeRange[t](n),this.nativeRange[e](n)}i(this)}}}a.setStartBefore=d("setStartBefore","setEndBefore"),a.setStartAfter=d("setStartAfter","setEndAfter"),a.setEndBefore=d("setEndBefore","setStartBefore"),a.setEndAfter=d("setEndAfter","setStartAfter"),a.selectNodeContents=function(e){this.setStartAndEnd(e,0,r.getNodeLength(e))},f.selectNodeContents(h),f.setEnd(h,3);var p=document.createRange();p.selectNodeContents(h),p.setEnd(h,4),p.setStart(h,2),a.compareBoundaryPoints=-1==f.compareBoundaryPoints(f.START_TO_END,p)&&1==f.compareBoundaryPoints(f.END_TO_START,p)?function(e,t){return e==(t=t.nativeRange||t).START_TO_END?e=t.END_TO_START:e==t.END_TO_START&&(e=t.START_TO_END),this.nativeRange.compareBoundaryPoints(e,t)}:function(e,t){return this.nativeRange.compareBoundaryPoints(e,t.nativeRange||t)};var m=document.createElement("div");m.innerHTML="123";var g=m.firstChild,v=l(document);v.appendChild(m),f.setStart(g,1),f.setEnd(g,2),f.deleteContents(),"13"==g.data&&(a.deleteContents=function(){this.nativeRange.deleteContents(),i(this)},a.extractContents=function(){var e=this.nativeRange.extractContents();return i(this),e}),v.removeChild(m),v=null,o.isHostMethod(f,"createContextualFragment")&&(a.createContextualFragment=function(e){return this.nativeRange.createContextualFragment(e)}),l(document).removeChild(h),a.getName=function(){return"WrappedRange"},e.WrappedRange=n,e.createNativeRange=function(e){return(e=c(e,t,"createNativeRange")).createRange()}}(),e.features.implementsTextRange){var u=function(e,t,n,i,o){var s=e.duplicate();s.collapse(n);var l=s.parentElement();if(r.isOrIsAncestorOf(t,l)||(l=t),!l.canHaveHTML){var c=new a(l.parentNode,r.getNodeIndex(l));return{boundaryPosition:c,nodeInfo:{nodeIndex:c.offset,containerElement:c.node}}}var u=r.getDocument(l).createElement("span");u.parentNode&&u.parentNode.removeChild(u);for(var h,f,p,m,g,v=n?"StartToStart":"StartToEnd",y=o&&o.containerElement==l?o.nodeIndex:0,b=l.childNodes.length,w=b,x=w;x==b?l.appendChild(u):l.insertBefore(u,l.childNodes[x]),s.moveToElementText(u),0!=(h=s.compareEndPoints(v,e))&&y!=w;){if(-1==h){if(w==y+1)break;y=x}else w=w==y+1?y:x;x=Math.floor((y+w)/2),l.removeChild(u)}if(g=u.nextSibling,-1==h&&g&&d(g)){var _;if(s.setEndPoint(n?"EndToStart":"EndToEnd",e),/[\r\n]/.test(g.data)){var C=s.duplicate(),S=C.text.replace(/\r\n/g,"\r").length;for(_=C.moveStart("character",S);-1==(h=C.compareEndPoints("StartToEnd",C));)_++,C.moveStart("character",1)}else _=s.text.length;m=new a(g,_)}else f=(i||!n)&&u.previousSibling,m=(p=(i||n)&&u.nextSibling)&&d(p)?new a(p,0):f&&d(f)?new a(f,f.data.length):new a(l,r.getNodeIndex(u));return u.parentNode.removeChild(u),{boundaryPosition:m,nodeInfo:{nodeIndex:x,containerElement:l}}},h=function(e,t){var n,i,o,a,s=e.offset,c=r.getDocument(e.node),u=l(c).createTextRange(),h=d(e.node);return h?i=(n=e.node).parentNode:(n=s<(a=e.node.childNodes).length?a[s]:null,i=e.node),(o=c.createElement("span")).innerHTML="&#feff;",n?i.insertBefore(o,n):i.appendChild(o),u.moveToElementText(o),u.collapse(!t),i.removeChild(o),h&&u[t?"moveStart":"moveEnd"]("character",s),u};((i=function(e){this.textRange=e,this.refresh()}).prototype=new s(document)).refresh=function(){var e,t,n,i=function(e){var t=e.parentElement(),n=e.duplicate();n.collapse(!0);var i=n.parentElement();(n=e.duplicate()).collapse(!1);var o=n.parentElement(),a=i==o?i:r.getCommonAncestor(i,o);return a==t?a:r.getCommonAncestor(t,a)}(this.textRange);!function(e){return 0==e.compareEndPoints("StartToEnd",e)}(this.textRange)?(e=(n=u(this.textRange,i,!0,!1)).boundaryPosition,t=u(this.textRange,i,!1,!1,n.nodeInfo).boundaryPosition):t=e=u(this.textRange,i,!0,!0).boundaryPosition,this.setStart(e.node,e.offset),this.setEnd(t.node,t.offset)},i.prototype.getName=function(){return"WrappedTextRange"},s.copyComparisonConstants(i);var f=function(e){if(e.collapsed)return h(new a(e.startContainer,e.startOffset),!0);var t=h(new a(e.startContainer,e.startOffset),!0),n=h(new a(e.endContainer,e.endOffset),!1),i=l(s.getRangeDocument(e)).createTextRange();return i.setEndPoint("StartToStart",t),i.setEndPoint("EndToEnd",n),i};if(i.rangeToTextRange=f,i.prototype.toTextRange=function(){return f(this)},e.WrappedTextRange=i,!e.features.implementsDomRange||e.config.preferTextRange){var p=function(){return this}();void 0===p.Range&&(p.Range=i),e.createNativeRange=function(e){return e=c(e,t,"createNativeRange"),l(e).createTextRange()},e.WrappedRange=i}}e.createRange=function(n){return n=c(n,t,"createRange"),new e.WrappedRange(e.createNativeRange(n))},e.createRangyRange=function(e){return e=c(e,t,"createRangyRange"),new s(e)},e.createIframeRange=function(n){return t.deprecationNotice("createIframeRange()","createRange(iframeEl)"),e.createRange(n)},e.createIframeRangyRange=function(n){return t.deprecationNotice("createIframeRangyRange()","createRangyRange(iframeEl)"),e.createRangyRange(n)},e.addShimListener(function(t){var n=t.document;void 0===n.createRange&&(n.createRange=function(){return e.createRange(n)}),n=t=null})}),T.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(e,t){function n(e){return"string"==typeof e?/^backward(s)?$/i.test(e):!!e}function i(e,n){if(e){if(k.isWindow(e))return e;if(e instanceof p)return e.win;var i=k.getContentDocument(e,t,n);return k.getWindow(i)}return window}function r(e){return i(e,"getDocSelection").document.selection}function o(e){var t=!1;return e.anchorNode&&(t=1==k.comparePoints(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)),t}function a(e,t,n){var i=n?"end":"start",r=n?"start":"end";e.anchorNode=t[i+"Container"],e.anchorOffset=t[i+"Offset"],e.focusNode=t[r+"Container"],e.focusOffset=t[r+"Offset"]}function s(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0}function l(t){var n;return t instanceof D?((n=e.createNativeRange(t.getDocument())).setEnd(t.endContainer,t.endOffset),n.setStart(t.startContainer,t.startOffset)):t instanceof N?n=t.nativeRange:I.implementsDomRange&&t instanceof k.getWindow(t.startContainer).Range&&(n=t),n}function c(e){var n=e.getNodes();if(!function(e){if(!e.length||1!=e[0].nodeType)return!1;for(var t=1,n=e.length;n>t;++t)if(!k.isAncestorOf(e[0],e[t]))return!1;return!0}(n))throw t.createError("getSingleElementFromRange: range "+e.inspect()+" did not consist of a single element");return n[0]}function d(e){return!!e&&void 0!==e.text}function u(e,t){var n=new N(t);e._ranges=[n],a(e,n,!1),e.rangeCount=1,e.isCollapsed=n.collapsed}function h(t){if(t._ranges.length=0,"None"==t.docSelection.type)s(t);else{var n=t.docSelection.createRange();if(d(n))u(t,n);else{t.rangeCount=n.length;for(var i,r=P(n.item(0)),o=0;o<t.rangeCount;++o)(i=e.createRange(r)).selectNode(n.item(o)),t._ranges.push(i);t.isCollapsed=1==t.rangeCount&&t._ranges[0].collapsed,a(t,t._ranges[t.rangeCount-1],!1)}}}function f(e,n){for(var i=e.docSelection.createRange(),r=c(n),o=P(i.item(0)),a=M(o).createControlRange(),s=0,l=i.length;l>s;++s)a.add(i.item(s));try{a.add(r)}catch(e){throw t.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}a.select(),h(e)}function p(e,t,n){this.nativeSelection=e,this.docSelection=t,this._ranges=[],this.win=n,this.refresh()}function m(e){e.win=e.anchorNode=e.focusNode=e._ranges=null,e.rangeCount=e.anchorOffset=e.focusOffset=0,e.detached=!0}function g(e,t){for(var n,i,r=Q.length;r--;)if(i=(n=Q[r]).selection,"deleteAll"==t)m(i);else if(n.win==e)return"delete"==t?(Q.splice(r,1),!0):i;return"deleteAll"==t&&(Q.length=0),null}function v(e,n){for(var i,r=P(n[0].startContainer),o=M(r).createControlRange(),a=0,s=n.length;s>a;++a){i=c(n[a]);try{o.add(i)}catch(e){throw t.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}o.select(),h(e)}function y(e,t){if(e.win.document!=P(t))throw new A("WRONG_DOCUMENT_ERR")}function b(t){return function(n,i){var r;this.rangeCount?(r=this.getRangeAt(0))["set"+(t?"Start":"End")](n,i):(r=e.createRange(this.win.document)).setStartAndEnd(n,i),this.setSingleRange(r,this.isBackward())}}function w(e){var t=[],n=new O(e.anchorNode,e.anchorOffset),i=new O(e.focusNode,e.focusOffset),r="function"==typeof e.getName?e.getName():"Selection";if(void 0!==e.rangeCount)for(var o=0,a=e.rangeCount;a>o;++o)t[o]=D.inspect(e.getRangeAt(o));return"["+r+"(Ranges: "+t.join(", ")+")(anchor: "+n.inspect()+", focus: "+i.inspect()+"]"}e.config.checkSelectionRanges=!0;var x,_,C="boolean",S="number",k=e.dom,T=e.util,E=T.isHostMethod,D=e.DomRange,N=e.WrappedRange,A=e.DOMException,O=k.DomPosition,I=e.features,R="Control",P=k.getDocument,M=k.getBody,j=D.rangesEqual,L=E(window,"getSelection"),B=T.isHostObject(document,"selection");I.implementsWinGetSelection=L,I.implementsDocSelection=B;var $=B&&(!L||e.config.preferTextRange);$?(x=r,e.isSelectionValid=function(e){var t=i(e,"isSelectionValid").document,n=t.selection;return"None"!=n.type||P(n.createRange().parentElement())==t}):L?(x=function(e){return i(e,"getWinSelection").getSelection()},e.isSelectionValid=function(){return!0}):t.fail("Neither document.selection or window.getSelection() detected."),e.getNativeSelection=x;var F=x(),H=e.createNativeRange(document),z=M(document),W=T.areHostProperties(F,["anchorNode","focusNode","anchorOffset","focusOffset"]);I.selectionHasAnchorAndFocus=W;var U=E(F,"extend");I.selectionHasExtend=U;var q=typeof F.rangeCount==S;I.selectionHasRangeCount=q;var V=!1,Y=!0,X=U?function(t,n){var i=D.getRangeDocument(n),r=e.createRange(i);r.collapseToPoint(n.endContainer,n.endOffset),t.addRange(l(r)),t.extend(n.startContainer,n.startOffset)}:null;T.areHostMethods(F,["addRange","getRangeAt","removeAllRanges"])&&typeof F.rangeCount==S&&I.implementsDomRange&&function(){var t=window.getSelection();if(t){for(var n=t.rangeCount,i=n>1,r=[],a=o(t),s=0;n>s;++s)r[s]=t.getRangeAt(s);var l=M(document),c=l.appendChild(document.createElement("div"));c.contentEditable="false";var d=c.appendChild(document.createTextNode("Â Â Â ")),u=document.createRange();if(u.setStart(d,1),u.collapse(!0),t.addRange(u),Y=1==t.rangeCount,t.removeAllRanges(),!i){var h=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(h&&parseInt(h[1])>=36)V=!1;else{var f=u.cloneRange();u.setStart(d,0),f.setEnd(d,3),f.setStart(d,2),t.addRange(u),t.addRange(f),V=2==t.rangeCount}}for(l.removeChild(c),t.removeAllRanges(),s=0;n>s;++s)0==s&&a?X?X(t,r[s]):(e.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),t.addRange(r[s])):t.addRange(r[s])}}(),I.selectionSupportsMultipleRanges=V,I.collapsedNonEditableSelectionsSupported=Y;var G,K,J=!1;z&&E(z,"createControlRange")&&(G=z.createControlRange(),T.areHostProperties(G,["item","add"])&&(J=!0)),I.implementsControlRange=J,_=W?function(e){return e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset}:function(e){return!!e.rangeCount&&e.getRangeAt(e.rangeCount-1).collapsed},E(F,"getRangeAt")?K=function(e,t){try{return e.getRangeAt(t)}catch(e){return null}}:W&&(K=function(t){var n=P(t.anchorNode),i=e.createRange(n);return i.setStartAndEnd(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),i.collapsed!==this.isCollapsed&&i.setStartAndEnd(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset),i}),p.prototype=e.selectionPrototype;var Q=[],Z=function(e){if(e&&e instanceof p)return e.refresh(),e;var t=g(e=i(e,"getNativeSelection")),n=x(e),o=B?r(e):null;return t?(t.nativeSelection=n,t.docSelection=o,t.refresh()):(t=new p(n,o,e),Q.push({win:e,selection:t})),t};e.getSelection=Z,e.getIframeSelection=function(n){return t.deprecationNotice("getIframeSelection()","getSelection(iframeEl)"),e.getSelection(k.getIframeWindow(n))};var ee,te=p.prototype;if(!$&&W&&T.areHostMethods(F,["removeAllRanges","addRange"])){te.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),s(this)};var ne=function(e,t){X(e.nativeSelection,t),e.refresh()};te.addRange=q?function(t,i){if(J&&B&&this.docSelection.type==R)f(this,t);else if(n(i)&&U)ne(this,t);else{var r;if(V?r=this.rangeCount:(this.removeAllRanges(),r=0),this.nativeSelection.addRange(l(t).cloneRange()),this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==r+1){if(e.config.checkSelectionRanges){var o=K(this.nativeSelection,this.rangeCount-1);o&&!j(o,t)&&(t=new N(o))}this._ranges[this.rangeCount-1]=t,a(this,t,ie(this.nativeSelection)),this.isCollapsed=_(this)}else this.refresh()}}:function(e,t){n(t)&&U?ne(this,e):(this.nativeSelection.addRange(l(e)),this.refresh())},te.setRanges=function(e){if(J&&B&&e.length>1)v(this,e);else{this.removeAllRanges();for(var t=0,n=e.length;n>t;++t)this.addRange(e[t])}}}else{if(!(E(F,"empty")&&E(H,"select")&&J&&$))return t.fail("No means of selecting a Range or TextRange was found"),!1;te.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var e;if(this.anchorNode)e=P(this.anchorNode);else if(this.docSelection.type==R){var t=this.docSelection.createRange();t.length&&(e=P(t.item(0)))}if(e)M(e).createTextRange().select(),this.docSelection.empty()}}catch(e){}s(this)},te.addRange=function(t){this.docSelection.type==R?f(this,t):(e.WrappedTextRange.rangeToTextRange(t).select(),this._ranges[0]=t,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,a(this,t,!1))},te.setRanges=function(e){this.removeAllRanges();var t=e.length;t>1?v(this,e):t&&this.addRange(e[0])}}if(te.getRangeAt=function(e){if(0>e||e>=this.rangeCount)throw new A("INDEX_SIZE_ERR");return this._ranges[e].cloneRange()},$)ee=function(t){var n;e.isSelectionValid(t.win)?n=t.docSelection.createRange():(n=M(t.win.document).createTextRange()).collapse(!0),t.docSelection.type==R?h(t):d(n)?u(t,n):s(t)};else if(E(F,"getRangeAt")&&typeof F.rangeCount==S)ee=function(t){if(J&&B&&t.docSelection.type==R)h(t);else if(t._ranges.length=t.rangeCount=t.nativeSelection.rangeCount,t.rangeCount){for(var n=0,i=t.rangeCount;i>n;++n)t._ranges[n]=new e.WrappedRange(t.nativeSelection.getRangeAt(n));a(t,t._ranges[t.rangeCount-1],ie(t.nativeSelection)),t.isCollapsed=_(t)}else s(t)};else{if(!W||typeof F.isCollapsed!=C||typeof H.collapsed!=C||!I.implementsDomRange)return t.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;ee=function(e){var t,n=e.nativeSelection;n.anchorNode?(t=K(n,0),e._ranges=[t],e.rangeCount=1,function(e){var t=e.nativeSelection;e.anchorNode=t.anchorNode,e.anchorOffset=t.anchorOffset,e.focusNode=t.focusNode,e.focusOffset=t.focusOffset}(e),e.isCollapsed=_(e)):s(e)}}te.refresh=function(e){var t=e?this._ranges.slice(0):null,n=this.anchorNode,i=this.anchorOffset;if(ee(this),e){var r=t.length;if(r!=this._ranges.length)return!0;if(this.anchorNode!=n||this.anchorOffset!=i)return!0;for(;r--;)if(!j(t[r],this._ranges[r]))return!0;return!1}};var ie,re=function(e,t){var n=e.getAllRanges();e.removeAllRanges();for(var i=0,r=n.length;r>i;++i)j(t,n[i])||e.addRange(n[i]);e.rangeCount||s(e)};te.removeRange=J&&B?function(e){if(this.docSelection.type==R){for(var t=this.docSelection.createRange(),n=c(e),i=P(t.item(0)),r=M(i).createControlRange(),o=!1,a=0,s=t.length;s>a;++a)t.item(a)!==n||o?r.add(t.item(a)):o=!0;r.select(),h(this)}else re(this,e)}:function(e){re(this,e)},!$&&W&&I.implementsDomRange?(ie=o,te.isBackward=function(){return ie(this)}):ie=te.isBackward=function(){return!1},te.isBackwards=te.isBackward,te.toString=function(){for(var e=[],t=0,n=this.rangeCount;n>t;++t)e[t]=""+this._ranges[t];return e.join("")},te.collapse=function(t,n){y(this,t);var i=e.createRange(t);i.collapseToPoint(t,n),this.setSingleRange(i),this.isCollapsed=!0},te.collapseToStart=function(){if(!this.rangeCount)throw new A("INVALID_STATE_ERR");var e=this._ranges[0];this.collapse(e.startContainer,e.startOffset)},te.collapseToEnd=function(){if(!this.rangeCount)throw new A("INVALID_STATE_ERR");var e=this._ranges[this.rangeCount-1];this.collapse(e.endContainer,e.endOffset)},te.selectAllChildren=function(t){y(this,t);var n=e.createRange(t);n.selectNodeContents(t),this.setSingleRange(n)},te.deleteFromDocument=function(){if(J&&B&&this.docSelection.type==R){for(var e,t=this.docSelection.createRange();t.length;)e=t.item(0),t.remove(e),e.parentNode.removeChild(e);this.refresh()}else if(this.rangeCount){var n=this.getAllRanges();if(n.length){this.removeAllRanges();for(var i=0,r=n.length;r>i;++i)n[i].deleteContents();this.addRange(n[r-1])}}},te.eachRange=function(e,t){for(var n=0,i=this._ranges.length;i>n;++n)if(e(this.getRangeAt(n)))return t},te.getAllRanges=function(){var e=[];return this.eachRange(function(t){e.push(t)}),e},te.setSingleRange=function(e,t){this.removeAllRanges(),this.addRange(e,t)},te.callMethodOnEachRange=function(e,t){var n=[];return this.eachRange(function(i){n.push(i[e].apply(i,t))}),n},te.setStart=b(!0),te.setEnd=b(!1),e.rangePrototype.select=function(e){Z(this.getDocument()).setSingleRange(this,e)},te.changeEachRange=function(e){var t=[],n=this.isBackward();this.eachRange(function(n){e(n),t.push(n)}),this.removeAllRanges(),n&&1==t.length?this.addRange(t[0],"backward"):this.setRanges(t)},te.containsNode=function(e,t){return this.eachRange(function(n){return n.containsNode(e,t)},!0)||!1},te.getBookmark=function(e){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[e])}},te.moveToBookmark=function(t){for(var n,i,r=[],o=0;n=t.rangeBookmarks[o++];)(i=e.createRange(this.win)).moveToBookmark(n),r.push(i);t.backward?this.setSingleRange(r[0],"backward"):this.setRanges(r)},te.toHtml=function(){var e=[];return this.eachRange(function(t){e.push(D.toHtml(t))}),e.join("")},I.implementsTextRange&&(te.getNativeTextRange=function(){var n;if(n=this.docSelection){var i=n.createRange();if(d(i))return i;throw t.createError("getNativeTextRange: selection is a control selection")}if(this.rangeCount>0)return e.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw t.createError("getNativeTextRange: selection contains no range")}),te.getName=function(){return"WrappedSelection"},te.inspect=function(){return w(this)},te.detach=function(){g(this.win,"delete"),m(this)},p.detachAll=function(){g(null,"deleteAll")},p.inspect=w,p.isDirectionBackward=n,e.Selection=p,e.selectionPrototype=te,e.addShimListener(function(e){void 0===e.getSelection&&(e.getSelection=function(){return Z(e)}),e=null})}),T)},this),function(e,t){"function"==typeof define&&define.amd?define(["rangy"],e):e(t.rangy)}(function(e){e.createModule("SaveRestore",["WrappedRange"],function(e,t){function n(e,t){return(t||document).getElementById(e)}function i(e,t){var n,i="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),r=u.getDocument(e.startContainer),o=e.cloneRange();return o.collapse(t),(n=r.createElement("span")).id=i,n.style.lineHeight="0",n.style.display="none",n.className="rangySelectionBoundary",n.appendChild(r.createTextNode(h)),o.insertNode(n),n}function r(e,i,r,o){var a=n(r,e);a?(i[o?"setStartBefore":"setEndBefore"](a),a.parentNode.removeChild(a)):t.warn("Marker element has been removed. Cannot restore selection.")}function o(e,t){return t.compareBoundaryPoints(e.START_TO_START,e)}function a(t,n){var r,o=e.DomRange.getRangeDocument(t),a=t.toString();return t.collapsed?{document:o,markerId:(r=i(t,!1)).id,collapsed:!0}:(r=i(t,!1),{document:o,startMarkerId:i(t,!0).id,endMarkerId:r.id,collapsed:!1,backward:n,toString:function(){return"original text: '"+a+"', new text: '"+t.toString()+"'"}})}function s(i,o){var a=i.document;void 0===o&&(o=!0);var s=e.createRange(a);if(i.collapsed){var l=n(i.markerId,a);if(l){l.style.display="inline";var c=l.previousSibling;c&&3==c.nodeType?(l.parentNode.removeChild(l),s.collapseToPoint(c,c.length)):(s.collapseBefore(l),l.parentNode.removeChild(l))}else t.warn("Marker element has been removed. Cannot restore selection.")}else r(a,s,i.startMarkerId,!0),r(a,s,i.endMarkerId,!1);return o&&s.normalizeBoundaries(),s}function l(t,i){var r,s,l=[];(t=t.slice(0)).sort(o);for(var c=0,d=t.length;d>c;++c)l[c]=a(t[c],i);for(c=d-1;c>=0;--c)r=t[c],s=e.DomRange.getRangeDocument(r),r.collapsed?r.collapseAfter(n(l[c].markerId,s)):(r.setEndBefore(n(l[c].endMarkerId,s)),r.setStartAfter(n(l[c].startMarkerId,s)));return l}function c(e){for(var t=[],n=e.length-1;n>=0;n--)t[n]=s(e[n],!0);return t}function d(e,t){var i=n(t,e);i&&i.parentNode.removeChild(i)}var u=e.dom,h="\ufeff";e.util.extend(e,{saveRange:a,restoreRange:s,saveRanges:l,restoreRanges:c,saveSelection:function(n){if(!e.isSelectionValid(n))return t.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),null;var i=e.getSelection(n),r=i.getAllRanges(),o=1==r.length&&i.isBackward(),a=l(r,o);return o?i.setSingleRange(r[0],"backward"):i.setRanges(r),{win:n,rangeInfos:a,restored:!1}},restoreSelection:function(t,n){if(!t.restored){var i=t.rangeInfos,r=e.getSelection(t.win),o=c(i);1==i.length&&n&&e.features.selectionHasExtend&&i[0].backward?(r.removeAllRanges(),r.addRange(o[0],!0)):r.setRanges(o),t.restored=!0}},removeMarkerElement:d,removeMarkers:function(e){for(var t,n=e.rangeInfos,i=0,r=n.length;r>i;++i)(t=n[i]).collapsed?d(e.doc,t.markerId):(d(e.doc,t.startMarkerId),d(e.doc,t.endMarkerId))}})})},this);var Base=function(){};Base.extend=function(e,t){var n=Base.prototype.extend;Base._prototyping=!0;var i=new this;n.call(i,e),i.base=function(){},delete Base._prototyping;var r=i.constructor,o=i.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==o)this._constructing=!0,r.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||n).call(arguments[0],i)};return o.ancestor=this,o.extend=this.extend,o.forEach=this.forEach,o.implement=this.implement,o.prototype=i,o.toString=this.toString,o.valueOf=function(e){return"object"==e?o:r.valueOf()},n.call(o,t),"function"==typeof o.init&&o.init(),o},Base.prototype={extend:function(e,t){if(arguments.length>1){var n=this[e];if(n&&"function"==typeof t&&(!n.valueOf||n.valueOf()!=t.valueOf())&&/\bbase\b/.test(t)){var i=t.valueOf();(t=function(){var e=this.base||Base.prototype.base;this.base=n;var t=i.apply(this,arguments);return this.base=e,t}).valueOf=function(e){return"object"==e?t:i},t.toString=Base.toString}this[e]=t}else if(e){var r=Base.prototype.extend;Base._prototyping||"function"==typeof this||(r=this.extend||r);for(var o={toSource:null},a=["constructor","toString","valueOf"],s=Base._prototyping?0:1;l=a[s++];)e[l]!=o[l]&&r.call(this,l,e[l]);for(var l in e)o[l]||r.call(this,l,e[l])}return this}},Base=Base.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:"1.1",forEach:function(e,t,n){for(var i in e)void 0===this.prototype[i]&&t.call(n,e[i],i,e)},implement:function(){for(var e=0;e<arguments.length;e++)"function"==typeof arguments[e]?arguments[e](this.prototype):this.prototype.extend(arguments[e]);return this},toString:function(){return String(this.valueOf())}}),wysihtml5.browser=function(){function e(e,t){var n,i=-1;return"Microsoft Internet Explorer"==navigator.appName?n=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"):"Netscape"==navigator.appName&&(n=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})")),n&&null!=n.exec(navigator.userAgent)&&(i=parseFloat(RegExp.$1)),-1!==i&&(!e||(t?"<"===t?i>e:">"===t?e>i:"<="===t?i>=e:">="===t?e>=i:void 0:e===i))}var t=navigator.userAgent,n=document.createElement("div"),i=-1!==t.indexOf("Gecko")&&-1===t.indexOf("KHTML"),r=-1!==t.indexOf("AppleWebKit/"),o=-1!==t.indexOf("Chrome/"),a=-1!==t.indexOf("Opera/");return{USER_AGENT:t,supported:function(){var e=this.USER_AGENT.toLowerCase(),t="contentEditable"in n,i=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,r=document.querySelector&&document.querySelectorAll,o=this.isIos()&&function(e){return+(/ipad|iphone|ipod/.test(e)&&e.match(/ os (\d+).+? like mac os x/)||[void 0,0])[1]}(e)<5||this.isAndroid()&&function(e){return+(e.match(/android (\d+)/)||[void 0,0])[1]}(e)<4||-1!==e.indexOf("opera mobi")||-1!==e.indexOf("hpwos/");return t&&i&&r&&!o},isTouchDevice:function(){return this.supportsEvent("touchmove")},isIos:function(){return/ipad|iphone|ipod/i.test(this.USER_AGENT)},isAndroid:function(){return-1!==this.USER_AGENT.indexOf("Android")},supportsSandboxedIframes:function(){return e()},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!("querySelector"in document)},displaysCaretInEmptyContentEditableCorrectly:function(){return e()},hasCurrentStyleProperty:function(){return"currentStyle"in n},hasHistoryIssue:function(){return i&&"Mac"===navigator.platform.substr(0,3)},insertsLineBreaksOnReturn:function(){return i},supportsPlaceholderAttributeOn:function(e){return"placeholder"in e},supportsEvent:function(e){return"on"+e in n||(n.setAttribute("on"+e,"return;"),"function"==typeof n["on"+e])},supportsEventsInIframeCorrectly:function(){return!a},supportsHTML5Tags:function(e){var t=e.createElement("div"),n="<article>foo</article>";return t.innerHTML=n,t.innerHTML.toLowerCase()===n},supportsCommand:function(){var t={formatBlock:e(10,"<="),insertUnorderedList:e(),insertOrderedList:e()},n={insertHTML:i};return function(e,i){if(!t[i]){try{return e.queryCommandSupported(i)}catch(e){}try{return e.queryCommandEnabled(i)}catch(e){return!!n[i]}}return!1}}(),doesAutoLinkingInContentEditable:function(){return e()},canDisableAutoLinking:function(){return this.supportsCommand(document,"AutoUrlDetect")},clearsContentEditableCorrectly:function(){return i||a||r},supportsGetAttributeCorrectly:function(){return"1"!=document.createElement("td").getAttribute("rowspan")},canSelectImagesInContentEditable:function(){return i||e()||a},autoScrollsToCaret:function(){return!r},autoClosesUnclosedTags:function(){var e,t,i=n.cloneNode(!1);return i.innerHTML="<p><div></div>",t=i.innerHTML.toLowerCase(),e="<p></p><div></div>"===t||"<p><div></div></p>"===t,this.autoClosesUnclosedTags=function(){return e},e},supportsNativeGetElementsByClassName:function(){return-1!==String(document.getElementsByClassName).indexOf("[native code]")},supportsSelectionModify:function(){return"getSelection"in window&&"modify"in window.getSelection()},needsSpaceAfterLineBreak:function(){return a},supportsSpeechApiOn:function(e){return(t.match(/Chrome\/(\d+)/)||[void 0,0])[1]>=11&&("onwebkitspeechchange"in e||"speech"in e)},crashesWhenDefineProperty:function(t){return e(9)&&("XMLHttpRequest"===t||"XDomainRequest"===t)},doesAsyncFocus:function(){return e()},hasProblemsSettingCaretAfterImg:function(){return e()},hasUndoInContextMenu:function(){return i||o||a},hasInsertNodeIssue:function(){return a},hasIframeFocusIssue:function(){return e()},createsNestedInvalidMarkupAfterPaste:function(){return r},supportsMutationEvents:function(){return"MutationEvent"in window}}}(),wysihtml5.lang.array=function(e){return{contains:function(t){if(Array.isArray(t)){for(var n=t.length;n--;)if(-1!==wysihtml5.lang.array(e).indexOf(t[n]))return!0;return!1}return-1!==wysihtml5.lang.array(e).indexOf(t)},indexOf:function(t){if(e.indexOf)return e.indexOf(t);for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},without:function(t){t=wysihtml5.lang.array(t);for(var n=[],i=0,r=e.length;r>i;i++)t.contains(e[i])||n.push(e[i]);return n},get:function(){for(var t=0,n=e.length,i=[];n>t;t++)i.push(e[t]);return i},map:function(t,n){if(Array.prototype.map)return e.map(t,n);for(var i=e.length>>>0,r=new Array(i),o=0;i>o;o++)r[o]=t.call(n,e[o],o,e);return r},unique:function(){for(var t=[],n=e.length,i=0;n>i;)wysihtml5.lang.array(t).contains(e[i])||t.push(e[i]),i++;return t}}},wysihtml5.lang.Dispatcher=Base.extend({on:function(e,t){return this.events=this.events||{},this.events[e]=this.events[e]||[],this.events[e].push(t),this},off:function(e,t){this.events=this.events||{};var n,i,r=0;if(e){for(n=this.events[e]||[],i=[];r<n.length;r++)n[r]!==t&&t&&i.push(n[r]);this.events[e]=i}else this.events={};return this},fire:function(e,t){this.events=this.events||{};for(var n=this.events[e]||[],i=0;i<n.length;i++)n[i].call(this,t);return this},observe:function(){return this.on.apply(this,arguments)},stopObserving:function(){return this.off.apply(this,arguments)}}),wysihtml5.lang.object=function(e){return{merge:function(t){for(var n in t)e[n]=t[n];return this},get:function(){return e},clone:function(){var t,n={};for(t in e)n[t]=e[t];return n},isArray:function(){return"[object Array]"===Object.prototype.toString.call(e)}}},function(){var e=/^\s+/,t=/\s+$/,n=/[&<>"]/g,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};wysihtml5.lang.string=function(r){return r=String(r),{trim:function(){return r.replace(e,"").replace(t,"")},interpolate:function(e){for(var t in e)r=this.replace("#{"+t+"}").by(e[t]);return r},replace:function(e){return{by:function(t){return r.split(e).join(t)}}},escapeHTML:function(){return r.replace(n,function(e){return i[e]})}}}}(),function(e){function t(t){var n=t.parentNode,i=e.lang.string(t.data).escapeHTML(),r=function(e){var t=e._wysihtml5_tempElement;return t||(t=e._wysihtml5_tempElement=e.createElement("div")),t}(n.ownerDocument);for(r.innerHTML="<span></span>"+function(e){return e.replace(o,function(e,t){var n=(t.match(a)||[])[1]||"",i=l[n];(t=t.replace(a,"")).split(i).length>t.split(n).length&&(t+=n,n="");var r=t,o=t;return t.length>s&&(o=o.substr(0,s)+"..."),"www."===r.substr(0,4)&&(r="http://"+r),'<a href="'+r+'">'+o+"</a>"+n})}(i),r.removeChild(r.firstChild);r.firstChild;)n.insertBefore(r.firstChild,t);n.removeChild(t)}function n(t,n){for(var i;t.parentNode;){if(i=(t=t.parentNode).nodeName,t.className&&e.lang.array(t.className.split(" ")).contains(n))return!0;if(r.contains(i))return!0;if("body"===i)return!1}return!1}function i(n,a){if(!(r.contains(n.nodeName)||n.className&&e.lang.array(n.className.split(" ")).contains(a))){if(n.nodeType===e.TEXT_NODE&&n.data.match(o))return void t(n);for(var s=e.lang.array(n.childNodes).get(),l=s.length,c=0;l>c;c++)i(s[c],a);return n}}var r=e.lang.array(["CODE","PRE","A","SCRIPT","HEAD","TITLE","STYLE"]),o=/((https?:\/\/|www\.)[^\s<]{3,})/gi,a=/([^\w\/\-](,?))$/i,s=100,l={")":"(","]":"[","}":"{"};e.dom.autoLink=function(e,t){return n(e,t)?e:(e===e.ownerDocument.documentElement&&(e=e.ownerDocument.body),i(e,t))},e.dom.autoLink.URL_REG_EXP=o}(wysihtml5),function(e){var t=wysihtml5.dom;t.addClass=function(e,n){var i=e.classList;return i?i.add(n):void(t.hasClass(e,n)||(e.className+=" "+n))},t.removeClass=function(e,t){var n=e.classList;return n?n.remove(t):void(e.className=e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," "))},t.hasClass=function(e,t){var n=e.classList;if(n)return n.contains(t);var i=e.className;return i.length>0&&(i==t||new RegExp("(^|\\s)"+t+"(\\s|$)").test(i))}}(),wysihtml5.dom.contains=function(){var e=document.documentElement;return e.contains?function(e,t){return t.nodeType!==wysihtml5.ELEMENT_NODE&&(t=t.parentNode),e!==t&&e.contains(t)}:e.compareDocumentPosition?function(e,t){return!!(16&e.compareDocumentPosition(t))}:void 0}(),wysihtml5.dom.convertToList=function(){function e(e,t){var n=e.createElement("li");return t.appendChild(n),n}return function(t,n,i){if("UL"===t.nodeName||"OL"===t.nodeName||"MENU"===t.nodeName)return t;var r,o,a,s,l,c,d,u,h,f=t.ownerDocument,p=function(e,t){return e.createElement(t)}(f,n),m=t.querySelectorAll("br"),g=m.length;for(h=0;g>h;h++)for(s=m[h];(l=s.parentNode)&&l!==t&&l.lastChild===s;){if("block"===wysihtml5.dom.getStyle("display").from(l)){l.removeChild(s);break}wysihtml5.dom.insert(s).after(s.parentNode)}for(o=(r=wysihtml5.lang.array(t.childNodes).get()).length,h=0;o>h;h++)u=u||e(f,p),a=r[h],c="block"===wysihtml5.dom.getStyle("display").from(a),d="BR"===a.nodeName,!c||i&&wysihtml5.dom.hasClass(a,i)?d?u=u.firstChild?null:u:u.appendChild(a):((u=u.firstChild?e(f,p):u).appendChild(a),u=null);return 0===r.length&&e(f,p),t.parentNode.replaceChild(p,t),p}}(),wysihtml5.dom.copyAttributes=function(e){return{from:function(t){return{to:function(n){for(var i,r=0,o=e.length;o>r;r++)i=e[r],void 0!==t[i]&&""!==t[i]&&(n[i]=t[i]);return{andTo:arguments.callee}}}}}},function(e){var t=["-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing"],n=function(t){return!!i(t)&&parseInt(e.getStyle("width").from(t),10)<t.offsetWidth},i=function(n){for(var i=0,r=t.length;r>i;i++)if("border-box"===e.getStyle(t[i]).from(n))return t[i]};e.copyStyles=function(i){return{from:function(r){n(r)&&(i=wysihtml5.lang.array(i).without(t));for(var o,a="",s=i.length,l=0;s>l;l++)o=i[l],a+=o+":"+e.getStyle(o).from(r)+";";return{to:function(t){return e.setStyles(a).on(t),{andTo:arguments.callee}}}}}}}(wysihtml5.dom),function(e){e.dom.delegate=function(t,n,i,r){return e.dom.observe(t,i,function(i){for(var o=i.target,a=e.lang.array(t.querySelectorAll(n));o&&o!==t;){if(a.contains(o)){r.call(o,i);break}o=o.parentNode}})}}(wysihtml5),function(e){e.dom.domNode=function(t){var n=[e.ELEMENT_NODE,e.TEXT_NODE],i=function(t){return t.nodeType===e.TEXT_NODE&&/^\s*$/g.test(t.data)};return{prev:function(r){var o=t.previousSibling,a=r&&r.nodeTypes?r.nodeTypes:n;return o?!e.lang.array(a).contains(o.nodeType)||r&&r.ignoreBlankTexts&&i(o)?e.dom.domNode(o).prev(r):o:null},next:function(r){var o=t.nextSibling,a=r&&r.nodeTypes?r.nodeTypes:n;return o?!e.lang.array(a).contains(o.nodeType)||r&&r.ignoreBlankTexts&&i(o)?e.dom.domNode(o).next(r):o:null}}}}(wysihtml5),wysihtml5.dom.getAsDom=function(){var e=function(e){if(!e._wysihtml5_supportsHTML5Tags){for(var n=0,i=t.length;i>n;n++)e.createElement(t[n]);e._wysihtml5_supportsHTML5Tags=!0}},t=["abbr","article","aside","audio","bdi","canvas","command","datalist","details","figcaption","figure","footer","header","hgroup","keygen","mark","meter","nav","output","progress","rp","rt","ruby","svg","section","source","summary","time","track","video","wbr"];return function(t,n){var i;return n=n||document,"object"==typeof t&&t.nodeType?(i=n.createElement("div")).appendChild(t):wysihtml5.browser.supportsHTML5Tags(n)?(i=n.createElement("div")).innerHTML=t:(e(n),i=function(e,t){var n=t.createElement("div");n.style.display="none",t.body.appendChild(n);try{n.innerHTML=e}catch(e){}return t.body.removeChild(n),n}(t,n)),i}}(),wysihtml5.dom.getParentElement=function(){function e(e,t){return!t||!t.length||("string"==typeof t?e===t:wysihtml5.lang.array(t).contains(e))}function t(e){return e.nodeType===wysihtml5.ELEMENT_NODE}function n(e,t,n){var i=(e.className||"").match(n)||[];return t?i[i.length-1]===t:!!i.length}function i(e,t,n){var i=(e.getAttribute("style")||"").match(n)||[];return t?i[i.length-1]===t:!!i.length}return function(r,o,a,s){var l=o.cssStyle||o.styleRegExp,c=o.className||o.classRegExp;for(a=a||50;a--&&r&&"BODY"!==r.nodeName&&(!s||r!==s);){if(t(r)&&e(r.nodeName,o.nodeName)&&(!l||i(r,o.cssStyle,o.styleRegExp))&&(!c||n(r,o.className,o.classRegExp)))return r;r=r.parentNode}return null}}(),wysihtml5.dom.getStyle=function(){function e(e){return e.replace(n,function(e){return e.charAt(1).toUpperCase()})}var t={float:"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat"},n=/\-[a-z]/g;return function(n){return{from:function(i){if(i.nodeType===wysihtml5.ELEMENT_NODE){var r=i.ownerDocument,o=t[n]||e(n),a=i.style,s=i.currentStyle,l=a[o];if(l)return l;if(s)try{return s[o]}catch(e){}var c,d,u=r.defaultView||r.parentWindow,h=("height"===n||"width"===n)&&"TEXTAREA"===i.nodeName;return u.getComputedStyle?(h&&(c=a.overflow,a.overflow="hidden"),d=u.getComputedStyle(i,null).getPropertyValue(n),h&&(a.overflow=c||""),d):void 0}}}}}(),wysihtml5.dom.getTextNodes=function(e,t){var n=[];for(e=e.firstChild;e;e=e.nextSibling)3==e.nodeType?t&&/^\s*$/.test(e.innerText||e.textContent)||n.push(e):n=n.concat(wysihtml5.dom.getTextNodes(e,t));return n},wysihtml5.dom.hasElementWithTagName=function(){function e(e){return e._wysihtml5_identifier||(e._wysihtml5_identifier=n++)}var t={},n=1;return function(n,i){var r=e(n)+":"+i,o=t[r];return o||(o=t[r]=n.getElementsByTagName(i)),o.length>0}}(),function(e){function t(e){return e._wysihtml5_identifier||(e._wysihtml5_identifier=i++)}var n={},i=1;e.dom.hasElementWithClassName=function(i,r){if(!e.browser.supportsNativeGetElementsByClassName())return!!i.querySelector("."+r);var o=t(i)+":"+r,a=n[o];return a||(a=n[o]=i.getElementsByClassName(r)),a.length>0}}(wysihtml5),wysihtml5.dom.insert=function(e){return{after:function(t){t.parentNode.insertBefore(e,t.nextSibling)},before:function(t){t.parentNode.insertBefore(e,t)},into:function(t){t.appendChild(e)}}},wysihtml5.dom.insertCSS=function(e){return e=e.join("\n"),{into:function(t){var n=t.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(t.createTextNode(e));var i=t.querySelector("head link");if(i)i.parentNode.insertBefore(n,i);else{var r=t.querySelector("head");r&&r.appendChild(n)}}}},function(e){e.dom.lineBreaks=function(t){function n(e){return"BR"===e.nodeName}function i(t){return!!n(t)||"block"===e.dom.getStyle("display").from(t)}return{add:function(){var n=t.ownerDocument,r=e.dom.domNode(t).next({ignoreBlankTexts:!0}),o=e.dom.domNode(t).prev({ignoreBlankTexts:!0});r&&!i(r)&&e.dom.insert(n.createElement("br")).after(t),o&&!i(o)&&e.dom.insert(n.createElement("br")).before(t)},remove:function(){var i=e.dom.domNode(t).next({ignoreBlankTexts:!0}),r=e.dom.domNode(t).prev({ignoreBlankTexts:!0});i&&n(i)&&i.parentNode.removeChild(i),r&&n(r)&&r.parentNode.removeChild(r)}}}}(wysihtml5),wysihtml5.dom.observe=function(e,t,n){for(var i,r,o=0,a=(t="string"==typeof t?[t]:t).length;a>o;o++)r=t[o],e.addEventListener?e.addEventListener(r,n,!1):(i=function(t){"target"in t||(t.target=t.srcElement),t.preventDefault=t.preventDefault||function(){this.returnValue=!1},t.stopPropagation=t.stopPropagation||function(){this.cancelBubble=!0},n.call(e,t)},e.attachEvent("on"+r,i));return{stop:function(){for(var r,o=0,a=t.length;a>o;o++)r=t[o],e.removeEventListener?e.removeEventListener(r,n,!1):e.detachEvent("on"+r,i)}}},wysihtml5.dom.parse=function(){function e(t,n,i){var r,s,l,c=t.nodeType,u=t.childNodes,h=u.length,f=o[c],p=0;if(d&&1===c&&wysihtml5.dom.hasClass(t,d))return t;if(!(s=f&&f(t,i))){if(!1===s){for(r=t.ownerDocument.createDocumentFragment(),p=h;p--;)u[p]&&((l=e(u[p],n,i))&&(u[p]===l&&p--,r.insertBefore(l,r.firstChild)));return wysihtml5.lang.array(["div","pre","p","table","td","th","ul","ol","li","dd","dl","footer","header","section","h1","h2","h3","h4","h5","h6"]).contains(t.nodeName.toLowerCase())&&t.parentNode.lastChild!==t&&(t.nextSibling&&3===t.nextSibling.nodeType&&/^\s/.test(t.nextSibling.nodeValue)||r.appendChild(t.ownerDocument.createTextNode(" "))),r.normalize&&r.normalize(),r}return null}for(p=0;h>p;p++)u[p]&&((l=e(u[p],n,i))&&(u[p]===l&&p--,s.appendChild(l)));if(n&&s.nodeName.toLowerCase()===a&&(!s.childNodes.length||/^\s*$/gi.test(s.innerHTML)&&(i||"_wysihtml5-temp-placeholder"!==t.className&&"rangySelectionBoundary"!==t.className)||!s.attributes.length)){for(r=s.ownerDocument.createDocumentFragment();s.firstChild;)r.appendChild(s.firstChild);return r.normalize&&r.normalize(),r}return s.normalize&&s.normalize(),s}function t(e,t,i,r){var o;if("SPAN"===e.nodeName&&!r&&("_wysihtml5-temp-placeholder"===e.className||"rangySelectionBoundary"===e.className))return!0;for(o in i)if(i.hasOwnProperty(o)&&t.type_definitions&&t.type_definitions[o]&&n(e,t.type_definitions[o]))return!0;return!1}function n(e,t){var n,i,o,a,l,c=e.getAttribute("class"),d=e.getAttribute("style");if(t.methods)for(var u in t.methods)if(t.methods.hasOwnProperty(u)&&g[u]&&g[u](e))return!0;if(c&&t.classes){n=(c=c.replace(/^\s+/g,"").replace(/\s+$/g,"").split(s)).length;for(var h=0;n>h;h++)if(t.classes[c[h]])return!0}if(d&&t.styles)for(i in d=d.split(";"),t.styles)if(t.styles.hasOwnProperty(i))for(var f=d.length;f--;)if((l=d[f].split(":"))[0].replace(/\s/g,"").toLowerCase()===i&&(!0===t.styles[i]||1===t.styles[i]||wysihtml5.lang.array(t.styles[i]).contains(l[1].replace(/\s/g,"").toLowerCase())))return!0;if(t.attrs)for(o in t.attrs)if(t.attrs.hasOwnProperty(o)&&("string"==typeof(a=r(e,o))&&a.search(t.attrs[o])>-1))return!0;return!1}function i(e,t,n,i){var o,a,l,d,u,h,g,v={},y=n.set_class,b=n.add_class,w=n.add_style,x=n.set_attributes,_=n.check_attributes,C=c.classes,S=0,k=[],T=[],E=[],D=[];if(x&&(v=wysihtml5.lang.object(x).clone()),_)for(d in _)(h=f[_[d]])&&(((g=r(e,d))||"alt"===d&&"IMG"==e.nodeName)&&("string"==typeof(u=h(g))&&(v[d]=u)));if(y&&k.push(y),b)for(d in b)(h=m[b[d]])&&("string"==typeof(l=h(r(e,d)))&&k.push(l));if(w)for(d in w)(h=p[w[d]])&&(newStyle=h(r(e,d)),"string"==typeof newStyle&&T.push(newStyle));if("string"==typeof C&&"any"===C&&e.getAttribute("class"))v.class=e.getAttribute("class");else{for(i||(C["_wysihtml5-temp-placeholder"]=1,C._rangySelectionBoundary=1,C["wysiwyg-tmp-selected-cell"]=1),(D=e.getAttribute("class"))&&(k=k.concat(D.split(s))),o=k.length;o>S;S++)C[a=k[S]]&&E.push(a);E.length&&(v.class=wysihtml5.lang.array(E).unique().join(" "))}for(d in v.class&&i&&(v.class=v.class.replace("wysiwyg-tmp-selected-cell",""),/^\s*$/g.test(v.class)&&delete v.class),T.length&&(v.style=wysihtml5.lang.array(T).unique().join(" ")),v)try{t.setAttribute(d,v[d])}catch(e){}v.src&&(void 0!==v.width&&t.setAttribute("width",v.width),void 0!==v.height&&t.setAttribute("height",v.height))}function r(e,t){return t=t.toLowerCase(),"IMG"==e.nodeName&&"src"==t&&!0===function(e){try{return e.complete&&!e.mozMatchesSelector(":-moz-broken")}catch(t){if(e.complete&&"complete"===e.readyState)return!0}}(e)?e.src:u&&"outerHTML"in e?-1!=e.outerHTML.toLowerCase().indexOf(" "+t+"=")?e.getAttribute(t):null:e.getAttribute(t)}var o={1:function(e,n){var r,o,s=c.tags,l=e.nodeName.toLowerCase(),d=e.scopeName;if(e._wysihtml5)return null;if(e._wysihtml5=1,"wysihtml5-temp"===e.className)return null;if(d&&"HTML"!=d&&(l=d+":"+l),"outerHTML"in e&&(wysihtml5.browser.autoClosesUnclosedTags()||"P"!==e.nodeName||"</p>"===e.outerHTML.slice(-4).toLowerCase()||(l="div")),l in s){if(!(r=s[l])||r.remove)return null;if(r.unwrap)return!1;r="string"==typeof r?{rename_tag:r}:r}else{if(!e.firstChild)return null;r={rename_tag:a}}return o=e.ownerDocument.createElement(r.rename_tag||l),i(e,o,r,n),function(e,t,n){var i;if(n&&n.keep_styles)for(i in n.keep_styles)n.keep_styles.hasOwnProperty(i)&&("float"==i?(e.style.styleFloat&&(t.style.styleFloat=e.style.styleFloat),e.style.cssFloat&&(t.style.cssFloat=e.style.cssFloat)):e.style[i]&&(t.style[i]=e.style[i]))}(e,o,r),r.one_of_type&&!t(e,c,r.one_of_type,n)?(!r.remove_action||"unwrap"!=r.remove_action)&&null:(e=null,o.normalize&&o.normalize(),o)},3:function(e){var t=e.nextSibling;if(!t||t.nodeType!==wysihtml5.TEXT_NODE){var n=e.data.replace(h,"");return e.ownerDocument.createTextNode(n)}t.data=e.data.replace(h,"")+t.data.replace(h,"")},8:function(e){return c.comments?e.ownerDocument.createComment(e.nodeValue):void 0}},a="span",s=/\s+/,l={tags:{},classes:{}},c={},d=!1,u=!wysihtml5.browser.supportsGetAttributeCorrectly(),h=/\uFEFF/g,f={url:function(){var e=/^https?:\/\//i;return function(t){return t&&t.match(e)?t.replace(e,function(e){return e.toLowerCase()}):null}}(),src:function(){var e=/^(\/|https?:\/\/)/i;return function(t){return t&&t.match(e)?t.replace(e,function(e){return e.toLowerCase()}):null}}(),href:function(){var e=/^(#|\/|https?:\/\/|mailto:)/i;return function(t){return t&&t.match(e)?t.replace(e,function(e){return e.toLowerCase()}):null}}(),alt:function(){var e=/[^ a-z0-9_\-]/gi;return function(t){return t?t.replace(e,""):""}}(),numbers:function(){var e=/\D/g;return function(t){return(t=(t||"").replace(e,""))||null}}(),any:function(e){return e}},p={align_text:function(){var e={left:"text-align: left;",right:"text-align: right;",center:"text-align: center;"};return function(t){return e[String(t).toLowerCase()]}}()},m={align_img:function(){var e={left:"wysiwyg-float-left",right:"wysiwyg-float-right"};return function(t){return e[String(t).toLowerCase()]}}(),align_text:function(){var e={left:"wysiwyg-text-align-left",right:"wysiwyg-text-align-right",center:"wysiwyg-text-align-center",justify:"wysiwyg-text-align-justify"};return function(t){return e[String(t).toLowerCase()]}}(),clear_br:function(){var e={left:"wysiwyg-clear-left",right:"wysiwyg-clear-right",both:"wysiwyg-clear-both",all:"wysiwyg-clear-both"};return function(t){return e[String(t).toLowerCase()]}}(),size_font:function(){var e={1:"wysiwyg-font-size-xx-small",2:"wysiwyg-font-size-small",3:"wysiwyg-font-size-medium",4:"wysiwyg-font-size-large",5:"wysiwyg-font-size-x-large",6:"wysiwyg-font-size-xx-large",7:"wysiwyg-font-size-xx-large","-":"wysiwyg-font-size-smaller","+":"wysiwyg-font-size-larger"};return function(t){return e[String(t).charAt(0)]}}()},g={has_visible_contet:function(){var e,t=["img","video","picture","br","script","noscript","style","table","iframe","object","embed","audio","svg","input","button","select","textarea","canvas"];return function(n){if((e=(n.innerText||n.textContent).replace(/\s/g,""))&&e.length>0)return!0;for(var i=t.length;i--;)if(n.querySelector(t[i]))return!0;return!!(n.offsetWidth&&n.offsetWidth>0&&n.offsetHeight&&n.offsetHeight>0)}}()};return function(t,n){wysihtml5.lang.object(c).merge(l).merge(n.rules).get();var i,r,o,a=n.context||t.ownerDocument||document,s=a.createDocumentFragment(),u="string"==typeof t,h=!1;for(!0===n.clearInternals&&(h=!0),n.uneditableClass&&(d=n.uneditableClass),i=u?wysihtml5.dom.getAsDom(t,a):t;i.firstChild;)(r=e(o=i.firstChild,n.cleanUp,h))&&s.appendChild(r),o!==r&&i.removeChild(o);return i.innerHTML="",i.appendChild(s),u?wysihtml5.quirks.getCorrectInnerHTML(i):i}}(),wysihtml5.dom.removeEmptyTextNodes=function(e){for(var t,n=wysihtml5.lang.array(e.childNodes).get(),i=n.length,r=0;i>r;r++)(t=n[r]).nodeType===wysihtml5.TEXT_NODE&&""===t.data&&t.parentNode.removeChild(t)},wysihtml5.dom.renameElement=function(e,t){for(var n,i=e.ownerDocument.createElement(t);n=e.firstChild;)i.appendChild(n);return wysihtml5.dom.copyAttributes(["align","className"]).from(e).to(i),e.parentNode.replaceChild(i,e),i},wysihtml5.dom.replaceWithChildNodes=function(e){if(e.parentNode){if(!e.firstChild)return void e.parentNode.removeChild(e);for(var t=e.ownerDocument.createDocumentFragment();e.firstChild;)t.appendChild(e.firstChild);e.parentNode.replaceChild(t,e),e=t=null}},function(e){function t(t){return"block"===e.getStyle("display").from(t)}function n(e){return"BR"===e.nodeName}function i(e){var t=e.ownerDocument.createElement("br");e.appendChild(t)}e.resolveList=function(e,r){if(e.nodeName.match(/^(MENU|UL|OL)$/)){var o,a,s,l,c,d=e.ownerDocument,u=d.createDocumentFragment(),h=wysihtml5.dom.domNode(e).prev({ignoreBlankTexts:!0});if(r)for(!h||t(h)||n(h)||i(u);c=e.firstElementChild||e.firstChild;){for(a=c.lastChild;o=c.firstChild;)s=o===a&&!t(o)&&!n(o),u.appendChild(o),s&&i(u);c.parentNode.removeChild(c)}else for(;c=e.firstElementChild||e.firstChild;){if(c.querySelector&&c.querySelector("div, p, ul, ol, menu, blockquote, h1, h2, h3, h4, h5, h6"))for(;o=c.firstChild;)u.appendChild(o);else{for(l=d.createElement("p");o=c.firstChild;)l.appendChild(o);u.appendChild(l)}c.parentNode.removeChild(c)}e.parentNode.replaceChild(u,e)}}}(wysihtml5.dom),function(e){var t=document,n=["parent","top","opener","frameElement","frames","localStorage","globalStorage","sessionStorage","indexedDB"],i=["open","close","openDialog","showModalDialog","alert","confirm","prompt","openDatabase","postMessage","XMLHttpRequest","XDomainRequest"],r=["referrer","write","open","close"];e.dom.Sandbox=Base.extend({constructor:function(t,n){this.callback=t||e.EMPTY_FUNCTION,this.config=e.lang.object({}).merge(n).get(),this.editableArea=this._createIframe()},insertInto:function(e){"string"==typeof e&&(e=t.getElementById(e)),e.appendChild(this.editableArea)},getIframe:function(){return this.editableArea},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var e=this.getIframe();e.parentNode.removeChild(e)},_readyError:function(){throw new Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet")},_createIframe:function(){var n=this,i=t.createElement("iframe");return i.className="wysihtml5-sandbox",e.dom.setAttributes({security:"restricted",allowtransparency:"true",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(i),e.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(i.src="javascript:'<html></html>'"),i.onload=function(){i.onreadystatechange=i.onload=null,n._onLoadIframe(i)},i.onreadystatechange=function(){/loaded|complete/.test(i.readyState)&&(i.onreadystatechange=i.onload=null,n._onLoadIframe(i))},i},_onLoadIframe:function(o){if(e.dom.contains(t.documentElement,o)){var a=this,s=o.contentWindow,l=o.contentWindow.document,c=t.characterSet||t.charset||"utf-8",d=this._getHtml({charset:c,stylesheets:this.config.stylesheets});if(l.open("text/html","replace"),l.write(d),l.close(),this.getWindow=function(){return o.contentWindow},this.getDocument=function(){return o.contentWindow.document},s.onerror=function(e,t,n){throw new Error("wysihtml5.Sandbox: "+e,t,n)},!e.browser.supportsSandboxedIframes()){var u,h;for(u=0,h=n.length;h>u;u++)this._unset(s,n[u]);for(u=0,h=i.length;h>u;u++)this._unset(s,i[u],e.EMPTY_FUNCTION);for(u=0,h=r.length;h>u;u++)this._unset(l,r[u]);this._unset(l,"cookie","",!0)}this.loaded=!0,setTimeout(function(){a.callback(a)},0)}},_getHtml:function(t){var n,i=t.stylesheets,r="",o=0;if(i="string"==typeof i?[i]:i)for(n=i.length;n>o;o++)r+='<link rel="stylesheet" href="'+i[o]+'">';return t.stylesheets=r,e.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(t)},_unset:function(t,n,i,r){try{t[n]=i}catch(e){}try{t.__defineGetter__(n,function(){return i})}catch(e){}if(r)try{t.__defineSetter__(n,function(){})}catch(e){}if(!e.browser.crashesWhenDefineProperty(n))try{var o={get:function(){return i}};r&&(o.set=function(){}),Object.defineProperty(t,n,o)}catch(e){}}})}(wysihtml5),function(e){var t=document;e.dom.ContentEditableArea=Base.extend({getContentEditable:function(){return this.element},getWindow:function(){return this.element.ownerDocument.defaultView},getDocument:function(){return this.element.ownerDocument},constructor:function(t,n,i){this.callback=t||e.EMPTY_FUNCTION,this.config=e.lang.object({}).merge(n).get(),this.element=i?this._bindElement(i):this._createElement()},_createElement:function(){var e=t.createElement("div");return e.className="wysihtml5-sandbox",this._loadElement(e),e},_bindElement:function(e){return e.className=e.className&&""!=e.className?e.className+" wysihtml5-sandbox":"wysihtml5-sandbox",this._loadElement(e,!0),e},_loadElement:function(e,t){var n=this;if(!t){var i=this._getHtml();e.innerHTML=i}this.getWindow=function(){return e.ownerDocument.defaultView},this.getDocument=function(){return e.ownerDocument},this.loaded=!0,setTimeout(function(){n.callback(n)},0)},_getHtml:function(){return""}})}(wysihtml5),function(){var e={className:"class"};wysihtml5.dom.setAttributes=function(t){return{on:function(n){for(var i in t)n.setAttribute(e[i]||i,t[i])}}}}(),wysihtml5.dom.setStyles=function(e){return{on:function(t){var n=t.style;if("string"!=typeof e)for(var i in e)"float"===i?(n.cssFloat=e[i],n.styleFloat=e[i]):n[i]=e[i];else n.cssText+=";"+e}}},function(e){e.simulatePlaceholder=function(t,n,i){var r="placeholder",o=function(){var t=n.element.offsetWidth>0&&n.element.offsetHeight>0;n.hasPlaceholderSet()&&(n.clear(),n.element.focus(),t&&setTimeout(function(){var e=n.selection.getSelection();e.focusNode&&e.anchorNode||n.selection.selectNode(n.element.firstChild||n.element)},0)),n.placeholderSet=!1,e.removeClass(n.element,r)},a=function(){n.isEmpty()&&(n.placeholderSet=!0,n.setValue(i),e.addClass(n.element,r))};t.on("set_placeholder",a).on("unset_placeholder",o).on("focus:composer",o).on("paste:composer",o).on("blur:composer",a),a()}}(wysihtml5.dom),function(e){var t=document.documentElement;"textContent"in t?(e.setTextContent=function(e,t){e.textContent=t},e.getTextContent=function(e){return e.textContent}):"innerText"in t?(e.setTextContent=function(e,t){e.innerText=t},e.getTextContent=function(e){return e.innerText}):(e.setTextContent=function(e,t){e.nodeValue=t},e.getTextContent=function(e){return e.nodeValue})}(wysihtml5.dom),wysihtml5.dom.getAttribute=function(e,t){var n=!wysihtml5.browser.supportsGetAttributeCorrectly();return t=t.toLowerCase(),"IMG"==e.nodeName&&"src"==t&&!0===_isLoadedImage(e)?e.src:n&&"outerHTML"in e?-1!=e.outerHTML.toLowerCase().indexOf(" "+t+"=")?e.getAttribute(t):null:e.getAttribute(t)},function(e){function t(e,t){for(var n,i=[],r=0,o=e.length;o>r;r++)if(n=e[r].querySelectorAll(t))for(var a=n.length;a--;i.unshift(n[a]));return i}function n(e){e.parentNode.removeChild(e)}function i(e,t){e.parentNode.insertBefore(t,e.nextSibling)}function r(e,t){for(var n=e.nextSibling;1!=n.nodeType;)if(n=n.nextSibling,!t||t==n.tagName.toLowerCase())return n;return null}var o=e.dom,a=function(e){this.el=e,this.isColspan=!1,this.isRowspan=!1,this.firstCol=!0,this.lastCol=!0,this.firstRow=!0,this.lastRow=!0,this.isReal=!0,this.spanCollection=[],this.modified=!1},s=function(e,t){e?(this.cell=e,this.table=o.getParentElement(e,{nodeName:["TABLE"]})):t&&(this.table=t,this.cell=this.table.querySelectorAll("th, td")[0])};s.prototype={addSpannedCellToMap:function(e,t,n,i,r,o){for(var s=[],l=n+(o?parseInt(o,10)-1:0),c=i+(r?parseInt(r,10)-1:0),d=n;l>=d;d++){void 0===t[d]&&(t[d]=[]);for(var u=i;c>=u;u++)t[d][u]=new a(e),t[d][u].isColspan=r&&parseInt(r,10)>1,t[d][u].isRowspan=o&&parseInt(o,10)>1,t[d][u].firstCol=u==i,t[d][u].lastCol=u==c,t[d][u].firstRow=d==n,t[d][u].lastRow=d==l,t[d][u].isReal=u==i&&d==n,t[d][u].spanCollection=s,s.push(t[d][u])}},setCellAsModified:function(e){if(e.modified=!0,e.spanCollection.length>0)for(var t=0,n=e.spanCollection.length;n>t;t++)e.spanCollection[t].modified=!0},setTableMap:function(){var e,t,n,i,r,s,l,c,d=[],u=this.getTableRows();for(e=0;e<u.length;e++)for(t=u[e],n=this.getRowCells(t),s=0,void 0===d[e]&&(d[e]=[]),i=0;i<n.length;i++){for(r=n[i];void 0!==d[e][s];)s++;l=o.getAttribute(r,"colspan"),c=o.getAttribute(r,"rowspan"),l||c?(this.addSpannedCellToMap(r,d,e,s,l,c),s+=l?parseInt(l,10):1):(d[e][s]=new a(r),s++)}return this.map=d,d},getRowCells:function(n){var i=this.table.querySelectorAll("table"),r=i?t(i,"th, td"):[],o=n.querySelectorAll("th, td");return r.length>0?e.lang.array(o).without(r):o},getTableRows:function(){var n=this.table.querySelectorAll("table"),i=n?t(n,"tr"):[],r=this.table.querySelectorAll("tr");return i.length>0?e.lang.array(r).without(i):r},getMapIndex:function(e){for(var t=this.map.length,n=this.map&&this.map[0]?this.map[0].length:0,i=0;t>i;i++)for(var r=0;n>r;r++)if(this.map[i][r].el===e)return{row:i,col:r};return!1},getElementAtIndex:function(e){return this.setTableMap(),this.map[e.row]&&this.map[e.row][e.col]&&this.map[e.row][e.col].el?this.map[e.row][e.col].el:null},getMapElsTo:function(e){var t=[];if(this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(e),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var n=this.idx_start;this.idx_start=this.idx_end,this.idx_end=n}if(this.idx_start.col>this.idx_end.col){var i=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=i}if(null!=this.idx_start&&null!=this.idx_end)for(var r=this.idx_start.row,o=this.idx_end.row;o>=r;r++)for(var a=this.idx_start.col,s=this.idx_end.col;s>=a;a++)t.push(this.map[r][a].el);return t},orderSelectionEnds:function(e){if(this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(e),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var t=this.idx_start;this.idx_start=this.idx_end,this.idx_end=t}if(this.idx_start.col>this.idx_end.col){var n=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=n}return{start:this.map[this.idx_start.row][this.idx_start.col].el,end:this.map[this.idx_end.row][this.idx_end.col].el}},createCells:function(e,t,n){for(var i,r=this.table.ownerDocument,o=r.createDocumentFragment(),a=0;t>a;a++){if(i=r.createElement(e),n)for(var s in n)n.hasOwnProperty(s)&&i.setAttribute(s,n[s]);i.appendChild(document.createTextNode("Â ")),o.appendChild(i)}return o},correctColIndexForUnreals:function(e,t){for(var n=this.map[t],i=-1,r=0;e>r;r++)n[r].isReal&&i++;return i},getLastNewCellOnRow:function(e,t){for(var n,i,r=this.getRowCells(e),o=0,a=r.length;a>o;o++)if(n=r[o],!1===(i=this.getMapIndex(n))||void 0!==t&&i.row!=t)return n;return null},removeEmptyTable:function(){var e=this.table.querySelectorAll("td, th");return(!e||0==e.length)&&(n(this.table),!0)},splitRowToCells:function(e){if(e.isColspan){var t=parseInt(o.getAttribute(e.el,"colspan")||1,10),n=e.el.tagName.toLowerCase();if(t>1){var r=this.createCells(n,t-1);i(e.el,r)}e.el.removeAttribute("colspan")}},getRealRowEl:function(e,t){var n=null,i=null;t=t||this.idx;for(var r=0,a=this.map[t.row].length;a>r;r++)if((i=this.map[t.row][r]).isReal&&(n=o.getParentElement(i.el,{nodeName:["TR"]})))return n;return null===n&&e&&(n=o.getParentElement(this.map[t.row][t.col].el,{nodeName:["TR"]})||null),n},injectRowAt:function(e,t,n,r,a){var s=this.getRealRowEl(!1,{row:e,col:t}),l=this.createCells(r,n);if(s){var c=this.correctColIndexForUnreals(t,e);c>=0?i(this.getRowCells(s)[c],l):s.insertBefore(l,s.firstChild)}else{var d=this.table.ownerDocument.createElement("tr");d.appendChild(l),i(o.getParentElement(a.el,{nodeName:["TR"]}),d)}},canMerge:function(e){if(this.to=e,this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(this.to),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var t=this.idx_start;this.idx_start=this.idx_end,this.idx_end=t}if(this.idx_start.col>this.idx_end.col){var n=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=n}for(var i=this.idx_start.row,r=this.idx_end.row;r>=i;i++)for(var o=this.idx_start.col,a=this.idx_end.col;a>=o;o++)if(this.map[i][o].isColspan||this.map[i][o].isRowspan)return!1;return!0},decreaseCellSpan:function(e,t){var n=parseInt(o.getAttribute(e.el,t),10)-1;n>=1?e.el.setAttribute(t,n):(e.el.removeAttribute(t),"colspan"==t&&(e.isColspan=!1),"rowspan"==t&&(e.isRowspan=!1),e.firstCol=!0,e.lastCol=!0,e.firstRow=!0,e.lastRow=!0,e.isReal=!0)},removeSurplusLines:function(){var e,t,i,r,a,s,l;if(this.setTableMap(),this.map){for(i=0,r=this.map.length;r>i;i++){for(l=!0,a=0,s=(e=this.map[i]).length;s>a;a++)if(t=e[a],!(o.getAttribute(t.el,"rowspan")&&parseInt(o.getAttribute(t.el,"rowspan"),10)>1&&!0!==t.firstRow)){l=!1;break}if(l)for(a=0;s>a;a++)this.decreaseCellSpan(e[a],"rowspan")}var c=this.getTableRows();for(i=0,r=c.length;r>i;i++)0==(e=c[i]).childNodes.length&&/^\s*$/.test(e.textContent||e.innerText)&&n(e)}},fillMissingCells:function(){var e=0,t=0,n=null;if(this.setTableMap(),this.map){e=this.map.length;for(var r=0;e>r;r++)this.map[r].length>t&&(t=this.map[r].length);for(var o=0;e>o;o++)for(var s=0;t>s;s++)this.map[o]&&!this.map[o][s]&&s>0&&(this.map[o][s]=new a(this.createCells("td",1)),(n=this.map[o][s-1])&&n.el&&n.el.parent&&i(this.map[o][s-1].el,this.map[o][s].el))}},rectify:function(){return!this.removeEmptyTable()&&(this.removeSurplusLines(),this.fillMissingCells(),!0)},unmerge:function(){if(this.rectify()&&(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx)){var e=this.map[this.idx.row][this.idx.col],t=o.getAttribute(e.el,"colspan")?parseInt(o.getAttribute(e.el,"colspan"),10):1,n=e.el.tagName.toLowerCase();if(e.isRowspan){var i=parseInt(o.getAttribute(e.el,"rowspan"),10);if(i>1)for(var r=1,a=i-1;a>=r;r++)this.injectRowAt(this.idx.row+r,this.idx.col,t,n,e);e.el.removeAttribute("rowspan")}this.splitRowToCells(e)}},merge:function(e){if(this.rectify())if(this.canMerge(e)){for(var t=this.idx_end.row-this.idx_start.row+1,i=this.idx_end.col-this.idx_start.col+1,r=this.idx_start.row,o=this.idx_end.row;o>=r;r++)for(var a=this.idx_start.col,s=this.idx_end.col;s>=a;a++)r==this.idx_start.row&&a==this.idx_start.col?(t>1&&this.map[r][a].el.setAttribute("rowspan",t),i>1&&this.map[r][a].el.setAttribute("colspan",i)):(/^\s*<br\/?>\s*$/.test(this.map[r][a].el.innerHTML.toLowerCase())||(this.map[this.idx_start.row][this.idx_start.col].el.innerHTML+=" "+this.map[r][a].el.innerHTML),n(this.map[r][a].el));this.rectify()}else window.console},collapseCellToNextRow:function(e){var t=this.getMapIndex(e.el),n=t.row+1,r={row:n,col:t.col};if(n<this.map.length){var a=this.getRealRowEl(!1,r);if(null!==a){var s=this.correctColIndexForUnreals(r.col,r.row);if(s>=0)i(this.getRowCells(a)[s],e.el);else{var l=this.getLastNewCellOnRow(a,n);null!==l?i(l,e.el):a.insertBefore(e.el,a.firstChild)}parseInt(o.getAttribute(e.el,"rowspan"),10)>2?e.el.setAttribute("rowspan",parseInt(o.getAttribute(e.el,"rowspan"),10)-1):e.el.removeAttribute("rowspan")}}},removeRowCell:function(e){e.isReal?e.isRowspan?this.collapseCellToNextRow(e):n(e.el):parseInt(o.getAttribute(e.el,"rowspan"),10)>2?e.el.setAttribute("rowspan",parseInt(o.getAttribute(e.el,"rowspan"),10)-1):e.el.removeAttribute("rowspan")},getRowElementsByCell:function(){var e=[];if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),!1!==this.idx)for(var t=this.map[this.idx.row],n=0,i=t.length;i>n;n++)t[n].isReal&&e.push(t[n].el);return e},getColumnElementsByCell:function(){var e=[];if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),!1!==this.idx)for(var t=0,n=this.map.length;n>t;t++)this.map[t][this.idx.col]&&this.map[t][this.idx.col].isReal&&e.push(this.map[t][this.idx.col].el);return e},removeRow:function(){var e=o.getParentElement(this.cell,{nodeName:["TR"]});if(e){if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),!1!==this.idx)for(var t=this.map[this.idx.row],i=0,r=t.length;r>i;i++)t[i].modified||(this.setCellAsModified(t[i]),this.removeRowCell(t[i]));n(e)}},removeColCell:function(e){e.isColspan?parseInt(o.getAttribute(e.el,"colspan"),10)>2?e.el.setAttribute("colspan",parseInt(o.getAttribute(e.el,"colspan"),10)-1):e.el.removeAttribute("colspan"):e.isReal&&n(e.el)},removeColumn:function(){if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),!1!==this.idx)for(var e=0,t=this.map.length;t>e;e++)this.map[e][this.idx.col].modified||(this.setCellAsModified(this.map[e][this.idx.col]),this.removeColCell(this.map[e][this.idx.col]))},remove:function(e){if(this.rectify()){switch(e){case"row":this.removeRow();break;case"column":this.removeColumn()}this.rectify()}},addRow:function(e){var t=this.table.ownerDocument;if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),"below"==e&&o.getAttribute(this.cell,"rowspan")&&(this.idx.row=this.idx.row+parseInt(o.getAttribute(this.cell,"rowspan"),10)-1),!1!==this.idx){for(var n=this.map[this.idx.row],r=t.createElement("tr"),a=0,s=n.length;s>a;a++)n[a].modified||(this.setCellAsModified(n[a]),this.addRowCell(n[a],r,e));switch(e){case"below":i(this.getRealRowEl(!0),r);break;case"above":var l=o.getParentElement(this.map[this.idx.row][this.idx.col].el,{nodeName:["TR"]});l&&l.parentNode.insertBefore(r,l)}}},addRowCell:function(e,t,n){var i=e.isColspan?{colspan:o.getAttribute(e.el,"colspan")}:null;e.isReal?"above"!=n&&e.isRowspan?e.el.setAttribute("rowspan",parseInt(o.getAttribute(e.el,"rowspan"),10)+1):t.appendChild(this.createCells("td",1,i)):"above"!=n&&e.isRowspan&&e.lastRow?t.appendChild(this.createCells("td",1,i)):c.isRowspan&&e.el.attr("rowspan",parseInt(o.getAttribute(e.el,"rowspan"),10)+1)},add:function(e){this.rectify()&&(("below"==e||"above"==e)&&this.addRow(e),("before"==e||"after"==e)&&this.addColumn(e))},addColCell:function(e,t,n){var r,a=e.el.tagName.toLowerCase();switch(n){case"before":r=!e.isColspan||e.firstCol;break;case"after":r=!e.isColspan||e.lastCol||e.isColspan&&c.el==this.cell}if(r){switch(n){case"before":e.el.parentNode.insertBefore(this.createCells(a,1),e.el);break;case"after":i(e.el,this.createCells(a,1))}e.isRowspan&&this.handleCellAddWithRowspan(e,t+1,n)}else e.el.setAttribute("colspan",parseInt(o.getAttribute(e.el,"colspan"),10)+1)},addColumn:function(e){var t,n;if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),"after"==e&&o.getAttribute(this.cell,"colspan")&&(this.idx.col=this.idx.col+parseInt(o.getAttribute(this.cell,"colspan"),10)-1),!1!==this.idx)for(var i=0,r=this.map.length;r>i;i++)(t=this.map[i])[this.idx.col]&&((n=t[this.idx.col]).modified||(this.setCellAsModified(n),this.addColCell(n,i,e)))},handleCellAddWithRowspan:function(e,t,n){for(var a,s,l,c=parseInt(o.getAttribute(this.cell,"rowspan"),10)-1,d=o.getParentElement(e.el,{nodeName:["TR"]}),u=e.el.tagName.toLowerCase(),h=this.table.ownerDocument,f=0;c>f;f++)if(a=this.correctColIndexForUnreals(this.idx.col,t+f),d=r(d,"tr"))if(a>0)switch(n){case"before":s=this.getRowCells(d),a>0&&this.map[t+f][this.idx.col].el!=s[a]&&a==s.length-1?i(s[a],this.createCells(u,1)):s[a].parentNode.insertBefore(this.createCells(u,1),s[a]);break;case"after":i(this.getRowCells(d)[a],this.createCells(u,1))}else d.insertBefore(this.createCells(u,1),d.firstChild);else(l=h.createElement("tr")).appendChild(this.createCells(u,1)),this.table.appendChild(l)}},o.table={getCellsBetween:function(e,t){return new s(e).getMapElsTo(t)},addCells:function(e,t){new s(e).add(t)},removeCells:function(e,t){new s(e).remove(t)},mergeCellsBetween:function(e,t){new s(e).merge(t)},unmergeCell:function(e){new s(e).unmerge()},orderSelectionEnds:function(e,t){return new s(e).orderSelectionEnds(t)},indexOf:function(e){var t=new s(e);return t.setTableMap(),t.getMapIndex(e)},findCell:function(e,t){return new s(null,e).getElementAtIndex(t)},findRowByCell:function(e){return new s(e).getRowElementsByCell()},findColumnByCell:function(e){return new s(e).getColumnElementsByCell()},canMerge:function(e,t){return new s(e).canMerge(t)}}}(wysihtml5),wysihtml5.dom.query=function(e,t){var n,i=[];e.nodeType&&(e=[e]);for(var r=0,o=e.length;o>r;r++)if(n=e[r].querySelectorAll(t))for(var a=n.length;a--;i.unshift(n[a]));return i},wysihtml5.dom.compareDocumentPosition=document.documentElement.compareDocumentPosition?function(e,t){return e.compareDocumentPosition(t)}:function(e,t){var n,i;if(n=9===e.nodeType?e:e.ownerDocument,i=9===t.nodeType?t:t.ownerDocument,e===t)return 0;if(e===t.ownerDocument)return 20;if(e.ownerDocument===t)return 10;if(n!==i)return 1;if(2===e.nodeType&&e.childNodes&&-1!==wysihtml5.lang.array(e.childNodes).indexOf(t))return 20;if(2===t.nodeType&&t.childNodes&&-1!==wysihtml5.lang.array(t.childNodes).indexOf(e))return 10;for(var r=e,o=[],a=null;r;){if(r==t)return 10;o.push(r),r=r.parentNode}for(r=t,a=null;r;){if(r==e)return 20;var s=wysihtml5.lang.array(o).indexOf(r);if(-1!==s){var l=o[s];return wysihtml5.lang.array(l.childNodes).indexOf(o[s-1])>wysihtml5.lang.array(l.childNodes).indexOf(a)?2:4}a=r,r=r.parentNode}return 1},wysihtml5.dom.unwrap=function(e){if(e.parentNode){for(;e.lastChild;)wysihtml5.dom.insert(e.lastChild).after(e);e.parentNode.removeChild(e)}},wysihtml5.quirks.cleanPastedHTML=function(){var e={"a u":wysihtml5.dom.replaceWithChildNodes};return function(t,n,i){n=n||e,i=i||t.ownerDocument||document;var r,o,a,s,l,c,d="string"==typeof t,u=0;for(l in r=d?wysihtml5.dom.getAsDom(t,i):t,n)for(a=r.querySelectorAll(l),o=n[l],s=a.length;s>u;u++)o(a[u]);var h=wysihtml5.dom.getTextNodes(r);for(c=h.length;c--;)h[c].nodeValue=h[c].nodeValue.replace(/([\S\u00A0])\u00A0/gi,"$1 ");return a=t=n=null,d?r.innerHTML:r}}(),wysihtml5.quirks.ensureProperClearing=function(){var e=function(){var e=this;setTimeout(function(){var t=e.innerHTML.toLowerCase();("<p>&nbsp;</p>"==t||"<p>&nbsp;</p><p>&nbsp;</p>"==t)&&(e.innerHTML="")},0)};return function(t){wysihtml5.dom.observe(t.element,["cut","keydown"],e)}}(),function(e){e.quirks.getCorrectInnerHTML=function(t){var n=t.innerHTML;if(-1===n.indexOf("%7E"))return n;var i,r,o,a,s=t.querySelectorAll("[href*='~'], [src*='~']");for(a=0,o=s.length;o>a;a++)i=s[a].href||s[a].src,r=e.lang.string(i).replace("~").by("%7E"),n=e.lang.string(n).replace(r).by(i);return n}}(wysihtml5),function(e){var t="wysihtml5-quirks-redraw";e.quirks.redraw=function(n){e.dom.addClass(n,t),e.dom.removeClass(n,t);try{var i=n.ownerDocument;i.execCommand("italic",!1,null),i.execCommand("italic",!1,null)}catch(e){}}}(wysihtml5),wysihtml5.quirks.tableCellsSelection=function(e,t){function n(n){c.start=n,c.end=n,c.cells=[n],c.table=l.getParentElement(c.start,{nodeName:["TABLE"]}),c.table&&(i(),l.addClass(n,d),u=l.observe(e,"mousemove",o),h=l.observe(e,"mouseup",a),t.fire("tableselectstart").fire("tableselectstart:composer"))}function i(){if(e){var t=e.querySelectorAll("."+d);if(t.length>0)for(var n=0;n<t.length;n++)l.removeClass(t[n],d)}}function r(e){for(var t=0;t<e.length;t++)l.addClass(e[t],d)}function o(e){var n,o=null,a=l.getParentElement(e.target,{nodeName:["TD","TH"]});a&&c.table&&c.start&&((o=l.getParentElement(a,{nodeName:["TABLE"]}))&&o===c.table&&(i(),n=c.end,c.end=a,c.cells=l.table.getCellsBetween(c.start,a),c.cells.length>1&&t.composer.selection.deselect(),r(c.cells),c.end!==n&&t.fire("tableselectchange").fire("tableselectchange:composer")))}function a(){u.stop(),h.stop(),t.fire("tableselect").fire("tableselect:composer"),setTimeout(function(){s()},0)}function s(){var n=l.observe(e.ownerDocument,"click",function(e){n.stop(),l.getParentElement(e.target,{nodeName:["TABLE"]})!=c.table&&(i(),c.table=null,c.start=null,c.end=null,t.fire("tableunselect").fire("tableunselect:composer"))})}var l=wysihtml5.dom,c={table:null,start:null,end:null,cells:null,select:function(e,n){c.start=e,c.end=n,c.table=l.getParentElement(c.start,{nodeName:["TABLE"]}),selectedCells=l.table.getCellsBetween(c.start,c.end),r(selectedCells),s(),t.fire("tableselect").fire("tableselect:composer")}},d="wysiwyg-tmp-selected-cell",u=null,h=null;return l.observe(e,"mousedown",function(e){var t=wysihtml5.dom.getParentElement(e.target,{nodeName:["TD","TH"]});t&&n(t)}),c},function(e){var t=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([\d\.]+)\s*\)/i,n=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/i,i=/^#([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])/i,r=/^#([0-9a-f])([0-9a-f])([0-9a-f])/i,o=function(e){return new RegExp("(^|\\s|;)"+e+"\\s*:\\s*[^;$]+","gi")};e.quirks.styleParser={parseColor:function(a,s){var l,c,d=o(s),u=a.match(d),h=10;if(u){for(var f=u.length;f--;)u[f]=e.lang.string(u[f].split(":")[1]).trim();if(l=u[u.length-1],t.test(l))c=l.match(t);else if(n.test(l))c=l.match(n);else if(i.test(l))c=l.match(i),h=16;else if(r.test(l))return(c=l.match(r)).shift(),c.push(1),e.lang.array(c).map(function(e,t){return 3>t?16*parseInt(e,16)+parseInt(e,16):parseFloat(e)});if(c)return c.shift(),c[3]||c.push(1),e.lang.array(c).map(function(e,t){return 3>t?parseInt(e,h):parseFloat(e)})}return!1},unparseColor:function(e,t){if(t){if("hex"==t)return e[0].toString(16).toUpperCase()+e[1].toString(16).toUpperCase()+e[2].toString(16).toUpperCase();if("hash"==t)return"#"+e[0].toString(16).toUpperCase()+e[1].toString(16).toUpperCase()+e[2].toString(16).toUpperCase();if("rgb"==t)return"rgb("+e[0]+","+e[1]+","+e[2]+")";if("rgba"==t)return"rgba("+e[0]+","+e[1]+","+e[2]+","+e[3]+")";if("csv"==t)return e[0]+","+e[1]+","+e[2]+","+e[3]}return e[3]&&1!==e[3]?"rgba("+e[0]+","+e[1]+","+e[2]+","+e[3]+")":"rgb("+e[0]+","+e[1]+","+e[2]+")"},parseFontSize:function(t){var n=t.match(o("font-size"));return!!n&&e.lang.string(n[n.length-1].split(":")[1]).trim()}}}(wysihtml5),function(e){function t(e,t){for(var n=0;t!==e;)if(n++,!(t=t.parentNode))throw new Error("not a descendant of ancestor!");return n}function n(e){if(!e.canSurroundContents())for(var n=e.commonAncestorContainer,i=t(n,e.startContainer),r=t(n,e.endContainer);!e.canSurroundContents();)i>r?(e.setStartBefore(e.startContainer),i=t(n,e.startContainer)):(e.setEndAfter(e.endContainer),r=t(n,e.endContainer))}var i=e.dom;e.Selection=Base.extend({constructor:function(e,t,n){window.rangy.init(),this.editor=e,this.composer=e.composer,this.doc=this.composer.doc,this.contain=t,this.unselectableClass=n||!1},getBookmark:function(){var e=this.getRange();return e&&n(e),e&&e.cloneRange()},setBookmark:function(e){e&&this.setSelection(e)},setBefore:function(e){var t=rangy.createRange(this.doc);return t.setStartBefore(e),t.setEndBefore(e),this.setSelection(t)},setAfter:function(e){var t=rangy.createRange(this.doc);return t.setStartAfter(e),t.setEndAfter(e),this.setSelection(t)},selectNode:function(t,n){var r=rangy.createRange(this.doc),o=t.nodeType===e.ELEMENT_NODE,a="canHaveHTML"in t?t.canHaveHTML:"IMG"!==t.nodeName,s=o?t.innerHTML:t.data,l=""===s||s===e.INVISIBLE_SPACE,c=i.getStyle("display").from(t),d="block"===c||"list-item"===c;if(l&&o&&a&&!n)try{t.innerHTML=e.INVISIBLE_SPACE}catch(e){}a?r.selectNodeContents(t):r.selectNode(t),a&&l&&o?r.collapse(d):a&&l&&(r.setStartAfter(t),r.setEndAfter(t)),this.setSelection(r)},getSelectedNode:function(e){var t,n;return e&&this.doc.selection&&"Control"===this.doc.selection.type&&((n=this.doc.selection.createRange())&&n.length)?n.item(0):(t=this.getSelection(this.doc)).focusNode===t.anchorNode?t.focusNode:(n=this.getRange(this.doc))?n.commonAncestorContainer:this.doc.body},fixSelBorders:function(){var e=this.getRange();n(e),this.setSelection(e)},getSelectedOwnNodes:function(){for(var e=this.getOwnRanges(),t=[],n=0,i=e.length;i>n;n++)t.push(e[n].commonAncestorContainer||this.doc.body);return t},findNodesInSelection:function(t){for(var n,i=this.getOwnRanges(),r=[],o=0,a=i.length;a>o;o++)n=i[o].getNodes([1],function(n){return e.lang.array(t).contains(n.nodeName)}),r=r.concat(n);return r},containsUneditable:function(){for(var e=this.getOwnUneditables(),t=this.getSelection(),n=0,i=e.length;i>n;n++)if(t.containsNode(e[n]))return!0;return!1},deleteContents:function(){for(var e=this.getOwnRanges(),t=e.length;t--;)e[t].deleteContents();this.setSelection(e[0])},getPreviousNode:function(t,n){t||(t=this.getSelection().anchorNode);if(t===this.contain)return!1;var i,r=t.previousSibling;return r!==this.contain&&(r&&3!==r.nodeType&&1!==r.nodeType?r=this.getPreviousNode(r,n):r&&3===r.nodeType&&/^\s*$/.test(r.textContent)?r=this.getPreviousNode(r,n):n&&r&&1===r.nodeType&&!e.lang.array(["BR","HR","IMG"]).contains(r.nodeName)&&/^[\s]*$/.test(r.innerHTML)?r=this.getPreviousNode(r,n):r||t===this.contain||(i=t.parentNode)!==this.contain&&(r=this.getPreviousNode(i,n)),r!==this.contain&&r)},getSelectionParentsByTag:function(){for(var t,n=this.getSelectedOwnNodes(),i=[],r=0,o=n.length;o>r;r++)(t=n[r].nodeName&&"LI"===n[r].nodeName?n[r]:e.dom.getParentElement(n[r],{nodeName:["LI"]},!1,this.contain))&&i.push(t);return i.length?i:null},getRangeToNodeEnd:function(){if(this.isCollapsed()){var e=this.getRange(),t=e.startContainer,n=e.startOffset,i=rangy.createRange(this.doc);return i.selectNodeContents(t),i.setStart(t,n),i}},caretIsLastInSelection:function(){var e=(rangy.createRange(this.doc),this.getSelection(),this.getRangeToNodeEnd().cloneContents()).textContent;return/^\s*$/.test(e)},caretIsFirstInSelection:function(){var t=rangy.createRange(this.doc),n=this.getSelection(),i=this.getRange(),r=i.startContainer;return r.nodeType===e.TEXT_NODE?this.isCollapsed()&&r.nodeType===e.TEXT_NODE&&/^\s*$/.test(r.data.substr(0,i.startOffset)):(t.selectNodeContents(this.getRange().commonAncestorContainer),t.collapse(!0),this.isCollapsed()&&(t.startContainer===n.anchorNode||t.endContainer===n.anchorNode)&&t.startOffset===n.anchorOffset)},caretIsInTheBeginnig:function(t){var n=this.getSelection(),i=n.anchorNode,r=n.anchorOffset;return t?0===r&&(i.nodeName&&i.nodeName===t.toUpperCase()||e.dom.getParentElement(i.parentNode,{nodeName:t},1)):0===r&&!this.getPreviousNode(i,!0)},caretIsBeforeUneditable:function(){var e=this.getSelection(),t=e.anchorNode;if(0===e.anchorOffset){var n=this.getPreviousNode(t,!0);if(n)for(var i=this.getOwnUneditables(),r=0,o=i.length;o>r;r++)if(n===i[r])return i[r]}return!1},executeAndRestoreRangy:function(e){var t=this.doc.defaultView||this.doc.parentWindow,n=rangy.saveSelection(t);if(n)try{e()}catch(e){setTimeout(function(){throw e},0)}else e();rangy.restoreSelection(n)},executeAndRestore:function(t,n){var r,o,a,s,l,c,d,u,h=this.doc.body,f=n&&h.scrollTop,p=n&&h.scrollLeft,m="_wysihtml5-temp-placeholder",g='<span class="'+m+'">'+e.INVISIBLE_SPACE+"</span>",v=this.getRange(!0);if(v){v.collapsed||(c=(d=v.cloneRange()).createContextualFragment(g),d.collapse(!1),d.insertNode(c),d.detach()),l=v.createContextualFragment(g),v.insertNode(l),c&&(r=this.contain.querySelectorAll("."+m),v.setStartBefore(r[0]),v.setEndAfter(r[r.length-1])),this.setSelection(v);try{t(v.startContainer,v.endContainer)}catch(e){setTimeout(function(){throw e},0)}if((r=this.contain.querySelectorAll("."+m))&&r.length){u=rangy.createRange(this.doc),a=r[0].nextSibling,r.length>1&&(s=r[r.length-1].previousSibling),s&&a?(u.setStartBefore(a),u.setEndAfter(s)):(o=this.doc.createTextNode(e.INVISIBLE_SPACE),i.insert(o).after(r[0]),u.setStartBefore(o),u.setEndAfter(o)),this.setSelection(u);for(var y=r.length;y--;)r[y].parentNode.removeChild(r[y])}else this.contain.focus();n&&(h.scrollTop=f,h.scrollLeft=p);try{r.parentNode.removeChild(r)}catch(e){}}else t(h,h)},set:function(e,t){var n=rangy.createRange(this.doc);n.setStart(e,t||0),this.setSelection(n)},insertHTML:function(e){var t=rangy.createRange(this.doc).createContextualFragment(e),n=t.lastChild;this.insertNode(t),n&&this.setAfter(n)},insertNode:function(e){var t=this.getRange();t&&t.insertNode(e)},surround:function(e){var t,n=this.getOwnRanges(),i=[];if(0==n.length)return i;for(var r=n.length;r--;){t=this.doc.createElement(e.nodeName),i.push(t),e.className&&(t.className=e.className),e.cssStyle&&t.setAttribute("style",e.cssStyle);try{n[r].surroundContents(t),this.selectNode(t)}catch(e){t.appendChild(n[r].extractContents()),n[r].insertNode(t)}}return i},deblockAndSurround:function(t){var n,i,r,o=this.doc.createElement("div"),a=rangy.createRange(this.doc);if(o.className=t.className,this.composer.commands.exec("formatBlock",t.nodeName,t.className),(n=this.contain.querySelectorAll("."+t.className))[0])for(n[0].parentNode.insertBefore(o,n[0]),a.setStartBefore(n[0]),a.setEndAfter(n[n.length-1]),i=a.extractContents();i.firstChild;)if(1==(r=i.firstChild).nodeType&&e.dom.hasClass(r,t.className)){for(;r.firstChild;)o.appendChild(r.firstChild);"BR"!==r.nodeName&&o.appendChild(this.doc.createElement("br")),i.removeChild(r)}else o.appendChild(r);else o=null;return o},scrollIntoView:function(){var t,n=this.doc,i=n.documentElement.scrollHeight>n.documentElement.offsetHeight,r=n._wysihtml5ScrollIntoViewElement=n._wysihtml5ScrollIntoViewElement||function(){var t=n.createElement("span");return t.innerHTML=e.INVISIBLE_SPACE,t}();i&&(this.insertNode(r),t=function(e){var t=0;if(e.parentNode)do{t+=e.offsetTop||0,e=e.offsetParent}while(e);return t}(r),r.parentNode.removeChild(r),t>=n.body.scrollTop+n.documentElement.offsetHeight-5&&(n.body.scrollTop=t))},selectLine:function(){e.browser.supportsSelectionModify()?this._selectLine_W3C():this.doc.selection&&this._selectLine_MSIE()},_selectLine_W3C:function(){var e=this.doc.defaultView.getSelection();e.modify("move","left","lineboundary"),e.modify("extend","right","lineboundary")},_selectLine_MSIE:function(){var e,t,n,i,r,o=this.doc.selection.createRange(),a=o.boundingTop,s=this.doc.body.scrollWidth;if(o.moveToPoint){for(0===a&&(n=this.doc.createElement("span"),this.insertNode(n),a=n.offsetTop,n.parentNode.removeChild(n)),a+=1,i=-10;s>i;i+=2)try{o.moveToPoint(i,a);break}catch(e){}for(e=a,t=this.doc.selection.createRange(),r=s;r>=0;r--)try{t.moveToPoint(r,e);break}catch(e){}o.setEndPoint("EndToEnd",t),o.select()}},getText:function(){var e=this.getSelection();return e?e.toString():""},getNodes:function(e,t){var n=this.getRange();return n?n.getNodes([e],t):[]},fixRangeOverflow:function(e){if(this.contain&&this.contain.firstChild&&e){var t=e.compareNode(this.contain);if(2!==t)1===t&&e.setStartBefore(this.contain.firstChild),0===t&&e.setEndAfter(this.contain.lastChild),3===t&&(e.setStartBefore(this.contain.firstChild),e.setEndAfter(this.contain.lastChild));else if(this._detectInlineRangeProblems(e)){var n=e.endContainer.previousElementSibling;n&&e.setEnd(n,this._endOffsetForNode(n))}}},_endOffsetForNode:function(e){var t=document.createRange();return t.selectNodeContents(e),t.endOffset},_detectInlineRangeProblems:function(e){var t=i.compareDocumentPosition(e.startContainer,e.endContainer);return 0==e.endOffset&&4&t},getRange:function(e){var t=this.getSelection(),n=t&&t.rangeCount&&t.getRangeAt(0);return!0!==e&&this.fixRangeOverflow(n),n},getOwnUneditables:function(){var t=i.query(this.contain,"."+this.unselectableClass),n=i.query(t,"."+this.unselectableClass);return e.lang.array(t).without(n)},getOwnRanges:function(){var e,t=[],n=this.getRange();if(n&&t.push(n),this.unselectableClass&&this.contain&&n){var i,r=this.getOwnUneditables();if(r.length>0)for(var o=0,a=r.length;a>o;o++){e=[];for(var s=0,l=t.length;l>s;s++){if(t[s])switch(t[s].compareNode(r[o])){case 2:break;case 3:(i=t[s].cloneRange()).setEndBefore(r[o]),e.push(i),(i=t[s].cloneRange()).setStartAfter(r[o]),e.push(i);break;default:e.push(t[s])}t=e}}}return t},getSelection:function(){return rangy.getSelection(this.doc.defaultView||this.doc.parentWindow)},setSelection:function(e){var t=this.doc.defaultView||this.doc.parentWindow;return rangy.getSelection(t).setSingleRange(e)},createRange:function(){return rangy.createRange(this.doc)},isCollapsed:function(){return this.getSelection().isCollapsed},isEndToEndInNode:function(t){var n=this.getRange(),i=n.commonAncestorContainer,r=n.startContainer,o=n.endContainer;if(i.nodeType===e.TEXT_NODE&&(i=i.parentNode),r.nodeType===e.TEXT_NODE&&!/^\s*$/.test(r.data.substr(n.startOffset)))return!1;if(o.nodeType===e.TEXT_NODE&&!/^\s*$/.test(o.data.substr(n.endOffset)))return!1;for(;r&&r!==i;){if(r.nodeType!==e.TEXT_NODE&&!e.dom.contains(i,r))return!1;if(e.dom.domNode(r).prev({ignoreBlankTexts:!0}))return!1;r=r.parentNode}for(;o&&o!==i;){if(o.nodeType!==e.TEXT_NODE&&!e.dom.contains(i,o))return!1;if(e.dom.domNode(o).next({ignoreBlankTexts:!0}))return!1;o=o.parentNode}return!!e.lang.array(t).contains(i.nodeName)&&i},deselect:function(){var e=this.getSelection();e&&e.removeAllRanges()}})}(wysihtml5),function(e,t){function n(e,t,n){if(!e.className)return!1;var i=e.className.match(n)||[];return i[i.length-1]===t}function i(e,t){return!(!e.getAttribute||!e.getAttribute("style"))&&(e.getAttribute("style").match(t),!!e.getAttribute("style").match(t))}function r(e,t,n){e.getAttribute("style")?(a(e,n),e.getAttribute("style")&&!/^\s*$/.test(e.getAttribute("style"))?e.setAttribute("style",t+";"+e.getAttribute("style")):e.setAttribute("style",t)):e.setAttribute("style",t)}function o(e,t){e.className&&(e.className=e.className.replace(t,""))}function a(e,t){var n,i=[];if(e.getAttribute("style")){for(var r=(n=e.getAttribute("style").split(";")).length;r--;)n[r].match(t)||/^\s*$/.test(n[r])||i.push(n[r]);i.length?e.setAttribute("style",i.join(";")):e.removeAttribute("style")}}function s(e,t){var n=[],i=t.split(";"),r=e.getAttribute("style");if(r){r=r.replace(/\s/gi,"").toLowerCase(),n.push(new RegExp("(^|\\s|;)"+t.replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi"));for(var o=i.length;o-- >0;)/^\s*$/.test(i[o])||n.push(new RegExp("(^|\\s|;)"+i[o].replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi"));for(var a=0,s=n.length;s>a;a++)if(r.match(n[a]))return n[a]}return!1}function l(n,i,r,o){return r?s(n,r):o?e.dom.hasClass(n,o):t.dom.arrayContains(i,n.tagName.toLowerCase())}function c(e,t,n,i){for(var r=e.length;r--;)if(!l(e[r],t,n,i))return!1;return!!e.length}function d(e,t,n){var i=s(e,t);return i?(a(e,i),"remove"):(r(e,t,n),"change")}function u(e,n){return t.dom.isCharacterDataNode(e)?0==n?!!e.previousSibling:n!=e.length||!!e.nextSibling:n>0&&n<e.childNodes.length}function h(e,n,i,r){var o;if(t.dom.isCharacterDataNode(n)&&(0==i?(i=t.dom.getNodeIndex(n),n=n.parentNode):i==n.length?(i=t.dom.getNodeIndex(n)+1,n=n.parentNode):o=t.dom.splitDataNode(n,i)),!(o||r&&n===r)){(o=n.cloneNode(!1)).id&&o.removeAttribute("id");for(var a;a=n.childNodes[i];)o.appendChild(a);t.dom.insertAfter(o,n)}return n==e?o:h(e,o.parentNode,t.dom.getNodeIndex(o),r)}function f(t){this.isElementMerge=t.nodeType==e.ELEMENT_NODE,this.firstTextNode=this.isElementMerge?t.lastChild:t,this.textNodes=[this.firstTextNode]}function p(e,t,n,i,r,o,a){this.tagNames=e||[m],this.cssClass=t||!1!==t&&"",this.similarClassRegExp=n,this.cssStyle=r||"",this.similarStyleRegExp=o,this.normalize=i,this.applyToAnyTagName=!1,this.container=a}var m="span",g=/\s+/g;f.prototype={doMerge:function(){for(var e,t,n,i=[],r=0,o=this.textNodes.length;o>r;++r)t=(e=this.textNodes[r]).parentNode,i[r]=e.data,r&&(t.removeChild(e),t.hasChildNodes()||t.parentNode.removeChild(t));return this.firstTextNode.data=n=i.join(""),n},getLength:function(){for(var e=this.textNodes.length,t=0;e--;)t+=this.textNodes[e].length;return t},toString:function(){for(var e=[],t=0,n=this.textNodes.length;n>t;++t)e[t]="'"+this.textNodes[t].data+"'";return"[Merge("+e.join(",")+")]"}},p.prototype={getAncestorWithClass:function(i){for(var r;i;){if(r=this.cssClass?n(i,this.cssClass,this.similarClassRegExp):""===this.cssStyle,i.nodeType==e.ELEMENT_NODE&&"false"!=i.getAttribute("contenteditable")&&t.dom.arrayContains(this.tagNames,i.tagName.toLowerCase())&&r)return i;i=i.parentNode}return!1},getAncestorWithStyle:function(n){for(var r;n;){if(r=!!this.cssStyle&&i(n,this.similarStyleRegExp),n.nodeType==e.ELEMENT_NODE&&"false"!=n.getAttribute("contenteditable")&&t.dom.arrayContains(this.tagNames,n.tagName.toLowerCase())&&r)return n;n=n.parentNode}return!1},getMatchingAncestor:function(e){var t=this.getAncestorWithClass(e),n=!1;return t?this.cssStyle&&(n="class"):(t=this.getAncestorWithStyle(e))&&(n="style"),{element:t,type:n}},postApply:function(e,t){for(var n,i,r,o=e[0],a=e[e.length-1],s=[],l=o,c=a,d=0,u=a.length,h=0,p=e.length;p>h;++h)r=null,(i=e[h])&&i.parentNode&&(r=this.getAdjacentMergeableTextNode(i.parentNode,!1)),r?(n||(n=new f(r),s.push(n)),n.textNodes.push(i),i===o&&(d=(l=n.firstTextNode).length),i===a&&(c=n.firstTextNode,u=n.getLength())):n=null;if(a&&a.parentNode){var m=this.getAdjacentMergeableTextNode(a.parentNode,!0);m&&(n||(n=new f(a),s.push(n)),n.textNodes.push(m))}if(s.length){for(h=0,p=s.length;p>h;++h)s[h].doMerge();t.setStart(l,d),t.setEnd(c,u)}},getAdjacentMergeableTextNode:function(t,n){var i,r=t.nodeType==e.TEXT_NODE,o=r?t.parentNode:t,a=n?"nextSibling":"previousSibling";if(r){if((i=t[a])&&i.nodeType==e.TEXT_NODE)return i}else if((i=o[a])&&this.areElementsMergeable(t,i))return i[n?"firstChild":"lastChild"];return null},areElementsMergeable:function(e,n){return t.dom.arrayContains(this.tagNames,(e.tagName||"").toLowerCase())&&t.dom.arrayContains(this.tagNames,(n.tagName||"").toLowerCase())&&function(e,t){return e.className.replace(g," ")==t.className.replace(g," ")}(e,n)&&function(e,t){if(e.attributes.length!=t.attributes.length)return!1;for(var n,i,r,o=0,a=e.attributes.length;a>o;++o)if("class"!=(r=(n=e.attributes[o]).name)){if(i=t.attributes.getNamedItem(r),n.specified!=i.specified)return!1;if(n.specified&&n.nodeValue!==i.nodeValue)return!1}return!0}(e,n)},createContainer:function(e){var t=e.createElement(this.tagNames[0]);return this.cssClass&&(t.className=this.cssClass),this.cssStyle&&t.setAttribute("style",this.cssStyle),t},applyToTextNode:function(e){var n=e.parentNode;if(1==n.childNodes.length&&t.dom.arrayContains(this.tagNames,n.tagName.toLowerCase()))this.cssClass&&function(e,t,n){e.className?(o(e,n),e.className+=" "+t):e.className=t}(n,this.cssClass,this.similarClassRegExp),this.cssStyle&&r(n,this.cssStyle,this.similarStyleRegExp);else{var i=this.createContainer(t.dom.getDocument(e));e.parentNode.insertBefore(i,e),i.appendChild(e)}},isRemovable:function(n){return t.dom.arrayContains(this.tagNames,n.tagName.toLowerCase())&&""===e.lang.string(n.className).trim()&&(!n.getAttribute("style")||""===e.lang.string(n.getAttribute("style")).trim())},undoToTextNode:function(e,t,n,i){var r=!n,a=n||i,s=!1;if(!t.containsNode(a)){var l=t.cloneRange();l.selectNode(a),l.isPointInRange(t.endContainer,t.endOffset)&&u(t.endContainer,t.endOffset)&&(h(a,t.endContainer,t.endOffset,this.container),t.setEndAfter(a)),l.isPointInRange(t.startContainer,t.startOffset)&&u(t.startContainer,t.startOffset)&&(a=h(a,t.startContainer,t.startOffset,this.container))}!r&&this.similarClassRegExp&&o(a,this.similarClassRegExp),r&&this.similarStyleRegExp&&(s="change"===d(a,this.cssStyle,this.similarStyleRegExp)),this.isRemovable(a)&&!s&&function(e){for(var t=e.parentNode;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)}(a)},applyToRange:function(t){for(var n,i=t.length;i--;){if(!(n=t[i].getNodes([e.TEXT_NODE])).length)try{var r=this.createContainer(t[i].endContainer.ownerDocument);return t[i].surroundContents(r),void this.selectNode(t[i],r)}catch(e){}if(t[i].splitBoundaries(),(n=t[i].getNodes([e.TEXT_NODE])).length){for(var o,a=0,s=n.length;s>a;++a)o=n[a],this.getMatchingAncestor(o).element||this.applyToTextNode(o);t[i].setStart(n[0],0),o=n[n.length-1],t[i].setEnd(o,o.length),this.normalize&&this.postApply(n,t[i])}}},undoToRange:function(t){for(var n,i,r,o=t.length;o--;){if((n=t[o].getNodes([e.TEXT_NODE])).length)t[o].splitBoundaries(),n=t[o].getNodes([e.TEXT_NODE]);else{var a=t[o].endContainer.ownerDocument.createTextNode(e.INVISIBLE_SPACE);t[o].insertNode(a),t[o].selectNode(a),n=[a]}for(var s=0,l=n.length;l>s;++s)t[o].isValid()&&(i=n[s],"style"===(r=this.getMatchingAncestor(i)).type?this.undoToTextNode(i,t[o],!1,r.element):r.element&&this.undoToTextNode(i,t[o],r.element));1==l?this.selectNode(t[o],n[0]):(t[o].setStart(n[0],0),i=n[n.length-1],t[o].setEnd(i,i.length),this.normalize&&this.postApply(n,t[o]))}},selectNode:function(t,n){var i=n.nodeType===e.ELEMENT_NODE,r=!("canHaveHTML"in n)||n.canHaveHTML,o=i?n.innerHTML:n.data,a=""===o||o===e.INVISIBLE_SPACE;if(a&&i&&r)try{n.innerHTML=e.INVISIBLE_SPACE}catch(e){}t.selectNodeContents(n),a&&i?t.collapse(!1):a&&(t.setStartAfter(n),t.setEndAfter(n))},getTextSelectedByRange:function(e,t){var n=t.cloneRange();n.selectNodeContents(e);var i=n.intersection(t),r=i?i.toString():"";return n.detach(),r},isAppliedToRange:function(t){for(var n,i,r=[],o="full",a=t.length;a--;){if(!(i=t[a].getNodes([e.TEXT_NODE])).length)return!!(n=this.getMatchingAncestor(t[a].startContainer).element)&&{elements:[n],coverage:o};for(var s,l=0,c=i.length;c>l;++l)s=this.getTextSelectedByRange(i[l],t[a]),(n=this.getMatchingAncestor(i[l]).element)&&""!=s?(r.push(n),1===e.dom.getTextNodes(n,!0).length?o="full":"full"===o&&(o="inline")):n||(o="partial")}return!!r.length&&{elements:r,coverage:o}},toggleRange:function(e){var t,n=this.isAppliedToRange(e);n?"full"===n.coverage?this.undoToRange(e):"inline"===n.coverage?(t=c(n.elements,this.tagNames,this.cssStyle,this.cssClass),this.undoToRange(e),t||this.applyToRange(e)):(c(n.elements,this.tagNames,this.cssStyle,this.cssClass)||this.undoToRange(e),this.applyToRange(e)):this.applyToRange(e)}},e.selection.HTMLApplier=p}(wysihtml5,rangy),wysihtml5.Commands=Base.extend({constructor:function(e){this.editor=e,this.composer=e.composer,this.doc=this.composer.doc},support:function(e){return wysihtml5.browser.supportsCommand(this.doc,e)},exec:function(e,t){var n=wysihtml5.commands[e],i=wysihtml5.lang.array(arguments).get(),r=n&&n.exec,o=null;if(this.editor.fire("beforecommand:composer"),r)i.unshift(this.composer),o=r.apply(n,i);else try{o=this.doc.execCommand(e,!1,t)}catch(e){}return this.editor.fire("aftercommand:composer"),o},state:function(e){var t=wysihtml5.commands[e],n=wysihtml5.lang.array(arguments).get(),i=t&&t.state;if(i)return n.unshift(this.composer),i.apply(t,n);try{return this.doc.queryCommandState(e)}catch(e){return!1}},stateValue:function(e){var t=wysihtml5.commands[e],n=wysihtml5.lang.array(arguments).get(),i=t&&t.stateValue;return!!i&&(n.unshift(this.composer),i.apply(t,n))}}),wysihtml5.commands.bold={exec:function(e,t){wysihtml5.commands.formatInline.execWithToggle(e,t,"b")},state:function(e,t){return wysihtml5.commands.formatInline.state(e,t,"b")}},function(e){function t(t,o){var a,s,l,c,d,u,h,f,p,m=t.doc,g="_wysihtml5-temp-"+ +new Date,v=0;for(e.commands.formatInline.exec(t,n,i,g,/non-matching-class/g,n,n,!0,!0),a=(s=m.querySelectorAll(i+"."+g)).length;a>v;v++)for(p in(l=s[v]).removeAttribute("class"),o)"text"!==p&&l.setAttribute(p,o[p]);u=l,1===a&&(h=r.getTextContent(l),c=!!l.querySelector("*"),d=""===h||h===e.INVISIBLE_SPACE,!c&&d&&(r.setTextContent(l,o.text||l.href),f=m.createTextNode(" "),t.selection.setAfter(l),r.insert(f).after(l),u=f)),t.selection.setAfter(u)}var n,i="A",r=e.dom;e.commands.createLink={exec:function(e,n,i){var r=this.state(e,n);r?e.selection.executeAndRestore(function(){!function(e,t,n){for(var i,r=t.length;r--;){for(var o=(i=t[r].attributes).length;o--;)t[r].removeAttribute(i.item(o).name);for(var a in n)n.hasOwnProperty(a)&&t[r].setAttribute(a,n[a])}}(0,r,i)}):t(e,i="object"==typeof i?i:{href:i})},state:function(t,n){return e.commands.formatInline.state(t,n,"A")}}}(wysihtml5),function(e){function t(e,t){for(var i,r,o=t.length,a=0;o>a;a++)i=t[a],r=n.getParentElement(i,{nodeName:"code"}),n.getTextContent(i).match(n.autoLink.URL_REG_EXP)&&!r?r=n.renameElement(i,"code"):n.replaceWithChildNodes(i)}var n=e.dom;e.commands.removeLink={exec:function(e,n){var i=this.state(e,n);i&&e.selection.executeAndRestore(function(){t(0,i)})},state:function(t,n){return e.commands.formatInline.state(t,n,"A")}}}(wysihtml5),function(e){var t=/wysiwyg-font-size-[0-9a-z\-]+/g;e.commands.fontSize={exec:function(n,i,r){e.commands.formatInline.execWithToggle(n,i,"span","wysiwyg-font-size-"+r,t)},state:function(n,i,r){return e.commands.formatInline.state(n,i,"span","wysiwyg-font-size-"+r,t)}}}(wysihtml5),function(e){var t=/(\s|^)font-size\s*:\s*[^;\s]+;?/gi;e.commands.fontSizeStyle={exec:function(n,i,r){r="object"==typeof r?r.size:r,/^\s*$/.test(r)||e.commands.formatInline.execWithToggle(n,i,"span",!1,!1,"font-size:"+r,t)},state:function(n,i){return e.commands.formatInline.state(n,i,"span",!1,!1,"font-size",t)},stateValue:function(t,n){var i,r=this.state(t,n);return r&&e.lang.object(r).isArray()&&(r=r[0]),!(!r||!(i=r.getAttribute("style")))&&e.quirks.styleParser.parseFontSize(i)}}}(wysihtml5),function(e){var t=/wysiwyg-color-[0-9a-z]+/g;e.commands.foreColor={exec:function(n,i,r){e.commands.formatInline.execWithToggle(n,i,"span","wysiwyg-color-"+r,t)},state:function(n,i,r){return e.commands.formatInline.state(n,i,"span","wysiwyg-color-"+r,t)}}}(wysihtml5),function(e){var t=/(\s|^)color\s*:\s*[^;\s]+;?/gi;e.commands.foreColorStyle={exec:function(n,i,r){var o,a=e.quirks.styleParser.parseColor("object"==typeof r?"color:"+r.color:"color:"+r,"color");a&&(o="color: rgb("+a[0]+","+a[1]+","+a[2]+");",1!==a[3]&&(o+="color: rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+");"),e.commands.formatInline.execWithToggle(n,i,"span",!1,!1,o,t))},state:function(n,i){return e.commands.formatInline.state(n,i,"span",!1,!1,"color",t)},stateValue:function(t,n,i){var r,o=this.state(t,n);return o&&e.lang.object(o).isArray()&&(o=o[0]),!!(o&&(r=o.getAttribute("style"),r&&r))&&(val=e.quirks.styleParser.parseColor(r,"color"),e.quirks.styleParser.unparseColor(val,i))}}}(wysihtml5),function(e){var t=/(\s|^)background-color\s*:\s*[^;\s]+;?/gi;e.commands.bgColorStyle={exec:function(n,i,r){var o,a=e.quirks.styleParser.parseColor("object"==typeof r?"background-color:"+r.color:"background-color:"+r,"background-color");a&&(o="background-color: rgb("+a[0]+","+a[1]+","+a[2]+");",1!==a[3]&&(o+="background-color: rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+");"),e.commands.formatInline.execWithToggle(n,i,"span",!1,!1,o,t))},state:function(n,i){return e.commands.formatInline.state(n,i,"span",!1,!1,"background-color",t)},stateValue:function(t,n,i){var r,o=this.state(t,n),a=!1;return o&&e.lang.object(o).isArray()&&(o=o[0]),!(!o||!(r=o.getAttribute("style")))&&(a=e.quirks.styleParser.parseColor(r,"background-color"),e.quirks.styleParser.unparseColor(a,i))}}}(wysihtml5),function(e){function t(t,n,r){t.className?(i(t,r),t.className=e.lang.string(t.className+" "+n).trim()):t.className=n}function n(t,n,i){r(t,i),t.getAttribute("style")?t.setAttribute("style",e.lang.string(t.getAttribute("style")+" "+n).trim()):t.setAttribute("style",n)}function i(t,n){var i=n.test(t.className);return t.className=t.className.replace(n,""),""==e.lang.string(t.className).trim()&&t.removeAttribute("class"),i}function r(t,n){var i=n.test(t.getAttribute("style"));return t.setAttribute("style",(t.getAttribute("style")||"").replace(n,"")),""==e.lang.string(t.getAttribute("style")||"").trim()&&t.removeAttribute("style"),i}function o(e){var t=e.lastChild;t&&function(e){return"BR"===e.nodeName}(t)&&t.parentNode.removeChild(t)}function a(t,n){t.selection.isCollapsed()&&t.selection.selectLine();for(var i=t.selection.surround(n),r=0,a=i.length;a>r;r++)e.dom.lineBreaks(i[r]).remove(),o(i[r])}function s(t){return!!e.lang.string(t.className).trim()}function l(t){return!!e.lang.string(t.getAttribute("style")||"").trim()}var c=e.dom,d=["H1","H2","H3","H4","H5","H6","P","PRE","DIV"];e.commands.formatBlock={exec:function(o,u,h,f,p,m,g){var v,y,b,w,x,_=(o.doc,this.state(o,u,h,f,p,m,g)),C=o.config.useLineBreaks,S=C?"DIV":"P";return h="string"==typeof h?h.toUpperCase():h,_.length?void o.selection.executeAndRestoreRangy(function(){for(var t=_.length;t--;){if(p&&(y=i(_[t],p)),g&&(w=r(_[t],g)),(w||y)&&null===h&&_[t].nodeName!=S)return;var n=s(_[t]),o=l(_[t]);n||o||!C&&"P"!==h?c.renameElement(_[t],"P"===h?"DIV":S):(e.dom.lineBreaks(_[t]).add(),c.replaceWithChildNodes(_[t]))}}):void((null!==h&&!e.lang.array(d).contains(h)||(v=o.selection.findNodesInSelection(d).concat(o.selection.getSelectedOwnNodes()),o.selection.executeAndRestoreRangy(function(){for(var e=v.length;e--;)(x=c.getParentElement(v[e],{nodeName:d}))==o.element&&(x=null),x&&(h&&(x=c.renameElement(x,h)),f&&t(x,f,p),m&&n(x,m,g),b=!0)}),!b))&&a(o,{nodeName:h||S,className:f||null,cssStyle:m||null}))},state:function(t,n,i,r,o,a,s){var l,d=t.selection.getSelectedOwnNodes(),u=[];i="string"==typeof i?i.toUpperCase():i;for(var h=0,f=d.length;f>h;h++)(l=c.getParentElement(d[h],{nodeName:i,className:r,classRegExp:o,cssStyle:a,styleRegExp:s}))&&-1==e.lang.array(u).indexOf(l)&&u.push(l);return 0!=u.length&&u}}}(wysihtml5),wysihtml5.commands.formatCode={exec:function(e,t,n){var i,r,o,a=this.state(e);a?e.selection.executeAndRestore(function(){i=a.querySelector("code"),wysihtml5.dom.replaceWithChildNodes(a),i&&wysihtml5.dom.replaceWithChildNodes(i)}):(o=(r=e.selection.getRange()).extractContents(),a=e.doc.createElement("pre"),i=e.doc.createElement("code"),n&&(i.className=n),a.appendChild(i),i.appendChild(o),r.insertNode(a),e.selection.selectNode(a))},state:function(e){var t=e.selection.getSelectedNode();return t&&t.nodeName&&"PRE"==t.nodeName&&t.firstChild&&t.firstChild.nodeName&&"CODE"==t.firstChild.nodeName?t:wysihtml5.dom.getParentElement(t,{nodeName:"CODE"})&&wysihtml5.dom.getParentElement(t,{nodeName:"PRE"})}},function(e){function t(e){var t=i[e];return t?[e.toLowerCase(),t.toLowerCase()]:[e.toLowerCase()]}function n(n,i,o,a,s,l){var c=n;return i&&(c+=":"+i),a&&(c+=":"+a),r[c]||(r[c]=new e.selection.HTMLApplier(t(n),i,o,!0,a,s,l)),r[c]}var i={strong:"b",em:"i",b:"strong",i:"em"},r={};e.commands.formatInline={exec:function(e,t,i,r,o,a,s,l,c){var d=e.selection.createRange(),u=e.selection.getOwnRanges();return!(!u||0==u.length)&&(e.selection.getSelection().removeAllRanges(),n(i,r,o,a,s,e.element).toggleRange(u),void(l?c||e.cleanUp():(d.setStart(u[0].startContainer,u[0].startOffset),d.setEnd(u[u.length-1].endContainer,u[u.length-1].endOffset),e.selection.setSelection(d),e.selection.executeAndRestore(function(){c||e.cleanUp()},!0,!0))))},execWithToggle:function(t,n,i,r,o,a,s){if(this.state(t,n,i,r,o,a,s)&&t.selection.isCollapsed()&&!t.selection.caretIsLastInSelection()&&!t.selection.caretIsFirstInSelection()){var l=this.state(t,n,i,r,o)[0];t.selection.executeAndRestoreRangy(function(){l.parentNode,t.selection.selectNode(l,!0),e.commands.formatInline.exec(t,n,i,r,o,a,s,!0,!0)})}else this.state(t,n,i,r,o,a,s)&&!t.selection.isCollapsed()?t.selection.executeAndRestoreRangy(function(){e.commands.formatInline.exec(t,n,i,r,o,a,s,!0,!0)}):e.commands.formatInline.exec(t,n,i,r,o,a,s)},state:function(t,r,o,a,s,l,c){var d,u,h=t.doc,f=i[o]||o;return!(!e.dom.hasElementWithTagName(h,o)&&!e.dom.hasElementWithTagName(h,f))&&(!(a&&!e.dom.hasElementWithClassName(h,a))&&(!(!(d=t.selection.getOwnRanges())||0===d.length)&&(!(!(u=n(o,a,s,l,c,t.element).isAppliedToRange(d))||!u.elements)&&u.elements)))}}}(wysihtml5),function(e){e.commands.insertBlockQuote={exec:function(t,n){var i=this.state(t,n),r=t.selection.isEndToEndInNode(["H1","H2","H3","H4","H5","H6","P"]);t.selection.executeAndRestore(function(){if(i)t.config.useLineBreaks&&e.dom.lineBreaks(i).add(),e.dom.unwrap(i);else if(t.selection.isCollapsed()&&t.selection.selectLine(),r){var n=r.ownerDocument.createElement("blockquote");e.dom.insert(n).after(r),n.appendChild(r)}else t.selection.surround({nodeName:"blockquote"})})},state:function(t){var n=t.selection.getSelectedNode(),i=e.dom.getParentElement(n,{nodeName:"BLOCKQUOTE"},!1,t.element);return i||!1}}}(wysihtml5),wysihtml5.commands.insertHTML={exec:function(e,t,n){e.commands.support(t)?e.doc.execCommand(t,!1,n):e.selection.insertHTML(n)},state:function(){return!1}},function(e){var t="IMG";e.commands.insertImage={exec:function(n,i,r){r="object"==typeof r?r:{src:r};var o,a,s=n.doc,l=this.state(n);if(l)return n.selection.setBefore(l),(a=l.parentNode).removeChild(l),e.dom.removeEmptyTextNodes(a),"A"!==a.nodeName||a.firstChild||(n.selection.setAfter(a),a.parentNode.removeChild(a)),void e.quirks.redraw(n.element);for(var c in l=s.createElement(t),r)l.setAttribute("className"===c?"class":c,r[c]);n.selection.insertNode(l),e.browser.hasProblemsSettingCaretAfterImg()?(o=s.createTextNode(e.INVISIBLE_SPACE),n.selection.insertNode(o),n.selection.setAfter(o)):n.selection.setAfter(l)},state:function(n){var i,r,o,a=n.doc;return!(!e.dom.hasElementWithTagName(a,t)||!(i=n.selection.getSelectedNode()))&&(i.nodeName===t?i:i.nodeType===e.ELEMENT_NODE&&(r=n.selection.getText(),!(r=e.lang.string(r).trim())&&(1===(o=n.selection.getNodes(e.ELEMENT_NODE,function(e){return"IMG"===e.nodeName})).length&&o[0])))}}}(wysihtml5),function(e){var t="<br>"+(e.browser.needsSpaceAfterLineBreak()?" ":"");e.commands.insertLineBreak={exec:function(n,i){n.commands.support(i)?(n.doc.execCommand(i,!1,null),e.browser.autoScrollsToCaret()||n.selection.scrollIntoView()):n.commands.exec("insertHTML",t)},state:function(){return!1}}}(wysihtml5),wysihtml5.commands.insertOrderedList={exec:function(e,t){wysihtml5.commands.insertList.exec(e,t,"OL")},state:function(e,t){return wysihtml5.commands.insertList.state(e,t,"OL")}},wysihtml5.commands.insertUnorderedList={exec:function(e,t){wysihtml5.commands.insertList.exec(e,t,"UL")},state:function(e,t){return wysihtml5.commands.insertList.state(e,t,"UL")}},wysihtml5.commands.insertList=function(e){var t=function(e,t){if(e&&e.nodeName){"string"==typeof t&&(t=[t]);for(var n=t.length;n--;)if(e.nodeName===t[n])return!0}return!1},n=function(n,i,r){var o={el:null,other:!1};if(n){var a=e.dom.getParentElement(n,{nodeName:"LI"}),s="UL"===i?"OL":"UL";t(n,i)?o.el=n:t(n,s)?o={el:n,other:!0}:a&&(t(a.parentNode,i)?o.el=a.parentNode:t(a.parentNode,s)&&(o={el:a.parentNode,other:!0}))}return o.el&&!r.element.contains(o.el)&&(o.el=null),o},i=function(t,n,i){var r,a="UL"===n?"OL":"UL";i.selection.executeAndRestore(function(){var s=o(a,i);if(s.length)for(var l=s.length;l--;)e.dom.renameElement(s[l],n.toLowerCase());else{for(var c=(r=o(["OL","UL"],i)).length;c--;)e.dom.resolveList(r[c],i.config.useLineBreaks);e.dom.resolveList(t,i.config.useLineBreaks)}})},r=function(t,n,i){var r="UL"===n?"OL":"UL";i.selection.executeAndRestore(function(){for(var a=[t].concat(o(r,i)),s=a.length;s--;)e.dom.renameElement(a[s],n.toLowerCase())})},o=function(e,n){for(var i=n.selection.getOwnRanges(),r=[],o=i.length;o--;)r=r.concat(i[o].getNodes([1],function(n){return t(n,e)}));return r},a=function(t,n){n.selection.executeAndRestoreRangy(function(){var i,r,o="_wysihtml5-temp-"+(new Date).getTime(),a=n.selection.deblockAndSurround({nodeName:"div",className:o});a.innerHTML=a.innerHTML.replace(/\uFEFF/g,""),a&&(i=e.lang.array(["","<br>",e.INVISIBLE_SPACE]).contains(a.innerHTML),r=e.dom.convertToList(a,t.toLowerCase(),n.parent.config.uneditableContainerClassname),i&&n.selection.selectNode(r.querySelector("li"),!0))})};return{exec:function(e,t,o){var s=e.doc,l="OL"===o?"insertOrderedList":"insertUnorderedList",c=e.selection.getSelectedNode(),d=n(c,o,e);d.el?d.other?r(d.el,o,e):i(d.el,o,e):e.commands.support(l)?s.execCommand(l,!1,null):a(o,e)},state:function(e,t,i){var r=e.selection.getSelectedNode(),o=n(r,i,e);return!(!o.el||o.other)&&o.el}}}(wysihtml5),wysihtml5.commands.italic={exec:function(e,t){wysihtml5.commands.formatInline.execWithToggle(e,t,"i")},state:function(e,t){return wysihtml5.commands.formatInline.state(e,t,"i")}},function(e){var t="wysiwyg-text-align-center",n=/wysiwyg-text-align-[0-9a-z]+/g;e.commands.justifyCenter={exec:function(i){return e.commands.formatBlock.exec(i,"formatBlock",null,t,n)},state:function(i){return e.commands.formatBlock.state(i,"formatBlock",null,t,n)}}}(wysihtml5),function(e){var t="wysiwyg-text-align-left",n=/wysiwyg-text-align-[0-9a-z]+/g;e.commands.justifyLeft={exec:function(i){return e.commands.formatBlock.exec(i,"formatBlock",null,t,n)},state:function(i){return e.commands.formatBlock.state(i,"formatBlock",null,t,n)}}}(wysihtml5),function(e){var t="wysiwyg-text-align-right",n=/wysiwyg-text-align-[0-9a-z]+/g;e.commands.justifyRight={exec:function(i){return e.commands.formatBlock.exec(i,"formatBlock",null,t,n)},state:function(i){return e.commands.formatBlock.state(i,"formatBlock",null,t,n)}}}(wysihtml5),function(e){var t="wysiwyg-text-align-justify",n=/wysiwyg-text-align-[0-9a-z]+/g;e.commands.justifyFull={exec:function(i){return e.commands.formatBlock.exec(i,"formatBlock",null,t,n)},state:function(i){return e.commands.formatBlock.state(i,"formatBlock",null,t,n)}}}(wysihtml5),function(e){var t="text-align: right;",n=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;e.commands.alignRightStyle={exec:function(i){return e.commands.formatBlock.exec(i,"formatBlock",null,null,null,t,n)},state:function(i){return e.commands.formatBlock.state(i,"formatBlock",null,null,null,t,n)}}}(wysihtml5),function(e){var t="text-align: left;",n=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;e.commands.alignLeftStyle={exec:function(i){return e.commands.formatBlock.exec(i,"formatBlock",null,null,null,t,n)},state:function(i){return e.commands.formatBlock.state(i,"formatBlock",null,null,null,t,n)}}}(wysihtml5),function(e){var t="text-align: center;",n=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;e.commands.alignCenterStyle={exec:function(i){return e.commands.formatBlock.exec(i,"formatBlock",null,null,null,t,n)},state:function(i){return e.commands.formatBlock.state(i,"formatBlock",null,null,null,t,n)}}}(wysihtml5),wysihtml5.commands.redo={exec:function(e){return e.undoManager.redo()},state:function(){return!1}},wysihtml5.commands.underline={exec:function(e,t){wysihtml5.commands.formatInline.execWithToggle(e,t,"u")},state:function(e,t){return wysihtml5.commands.formatInline.state(e,t,"u")}},wysihtml5.commands.undo={exec:function(e){return e.undoManager.undo()},state:function(){return!1}},wysihtml5.commands.createTable={exec:function(e,t,n){var i,r,o;if(n&&n.cols&&n.rows&&parseInt(n.cols,10)>0&&parseInt(n.rows,10)>0){for(o=n.tableStyle?'<table style="'+n.tableStyle+'">':"<table>",o+="<tbody>",r=0;r<n.rows;r++){for(o+="<tr>",i=0;i<n.cols;i++)o+="<td>&nbsp;</td>";o+="</tr>"}o+="</tbody></table>",e.commands.exec("insertHTML",o)}},state:function(){return!1}},wysihtml5.commands.mergeTableCells={exec:function(e,t){e.tableSelection&&e.tableSelection.start&&e.tableSelection.end&&(this.state(e,t)?wysihtml5.dom.table.unmergeCell(e.tableSelection.start):wysihtml5.dom.table.mergeCellsBetween(e.tableSelection.start,e.tableSelection.end))},state:function(e){if(e.tableSelection){var t=e.tableSelection.start,n=e.tableSelection.end;if(t&&n&&t==n&&(wysihtml5.dom.getAttribute(t,"colspan")&&parseInt(wysihtml5.dom.getAttribute(t,"colspan"),10)>1||wysihtml5.dom.getAttribute(t,"rowspan")&&parseInt(wysihtml5.dom.getAttribute(t,"rowspan"),10)>1))return[t]}return!1}},wysihtml5.commands.addTableCells={exec:function(e,t,n){if(e.tableSelection&&e.tableSelection.start&&e.tableSelection.end){var i=wysihtml5.dom.table.orderSelectionEnds(e.tableSelection.start,e.tableSelection.end);"before"==n||"above"==n?wysihtml5.dom.table.addCells(i.start,n):("after"==n||"below"==n)&&wysihtml5.dom.table.addCells(i.end,n),setTimeout(function(){e.tableSelection.select(i.start,i.end)},0)}},state:function(){return!1}},wysihtml5.commands.deleteTableCells={exec:function(e,t,n){if(e.tableSelection&&e.tableSelection.start&&e.tableSelection.end){var i,r=wysihtml5.dom.table.orderSelectionEnds(e.tableSelection.start,e.tableSelection.end),o=wysihtml5.dom.table.indexOf(r.start),a=e.tableSelection.table;wysihtml5.dom.table.removeCells(r.start,n),setTimeout(function(){(i=wysihtml5.dom.table.findCell(a,o))||("row"==n&&(i=wysihtml5.dom.table.findCell(a,{row:o.row-1,col:o.col})),"column"==n&&(i=wysihtml5.dom.table.findCell(a,{row:o.row,col:o.col-1}))),i&&e.tableSelection.select(i,i)},0)}},state:function(){return!1}},wysihtml5.commands.indentList={exec:function(e){var t=e.selection.getSelectionParentsByTag("LI");return!!t&&this.tryToPushLiLevel(t,e.selection)},state:function(){return!1},tryToPushLiLevel:function(e,t){var n,i,r,o,a,s=!1;return t.executeAndRestoreRangy(function(){for(var t=e.length;t--;)o=e[t],n="OL"===o.parentNode.nodeName?"OL":"UL",i=o.ownerDocument.createElement(n),r=wysihtml5.dom.domNode(o).prev({nodeTypes:[wysihtml5.ELEMENT_NODE]}),a=r?r.querySelector("ul, ol"):null,r&&(a?a.appendChild(o):(i.appendChild(o),r.appendChild(i)),s=!0)}),s}},wysihtml5.commands.outdentList={exec:function(e){var t=e.selection.getSelectionParentsByTag("LI");return!!t&&this.tryToPullLiLevel(t,e)},state:function(){return!1},tryToPullLiLevel:function(e,t){var n,i,r,o,a,s=!1,l=this;return t.selection.executeAndRestoreRangy(function(){for(var c=e.length;c--;)if((o=e[c]).parentNode&&("OL"===(n=o.parentNode).tagName||"UL"===n.tagName)){if(s=!0,i=wysihtml5.dom.getParentElement(n.parentNode,{nodeName:["OL","UL"]},!1,t.element),r=wysihtml5.dom.getParentElement(n.parentNode,{nodeName:["LI"]},!1,t.element),i&&r)o.nextSibling&&(a=l.getAfterList(n,o),o.appendChild(a)),i.insertBefore(o,r.nextSibling);else{o.nextSibling&&(a=l.getAfterList(n,o),o.appendChild(a));for(var d=o.childNodes.length;d--;)n.parentNode.insertBefore(o.childNodes[d],n.nextSibling);n.parentNode.insertBefore(document.createElement("br"),n.nextSibling),o.parentNode.removeChild(o)}0===n.childNodes.length&&n.parentNode.removeChild(n)}}),s},getAfterList:function(e,t){for(var n=e.nodeName,i=document.createElement(n);t.nextSibling;)i.appendChild(t.nextSibling);return i}},function(e){var t="data-wysihtml5-selection-node",n="data-wysihtml5-selection-offset",i=(e.INVISIBLE_SPACE,e.INVISIBLE_SPACE,e.dom);e.UndoManager=e.lang.Dispatcher.extend({constructor:function(e){this.editor=e,this.composer=e.composer,this.element=this.composer.element,this.position=0,this.historyStr=[],this.historyDom=[],this.transact(),this._observe()},_observe:function(){var e,t=this;this.composer.sandbox.getDocument(),i.observe(this.element,"keydown",function(e){if(!e.altKey&&(e.ctrlKey||e.metaKey)){var n=e.keyCode,i=90===n&&!e.shiftKey,r=90===n&&e.shiftKey||89===n;i?(t.undo(),e.preventDefault()):r&&(t.redo(),e.preventDefault())}}),i.observe(this.element,"keydown",function(n){var i=n.keyCode;i!==e&&(e=i,(8===i||46===i)&&t.transact())}),this.editor.on("newword:composer",function(){t.transact()}).on("beforecommand:composer",function(){t.transact()})},transact:function(){var i,r,o,a,s,l=this.historyStr[this.position-1],c=this.composer.getValue(!1,!1),d=this.element.offsetWidth>0&&this.element.offsetHeight>0;if(c!==l){(this.historyStr.length=this.historyDom.length=this.position)>25&&(this.historyStr.shift(),this.historyDom.shift(),this.position--),this.position++,d&&(r=(i=this.composer.selection.getRange())&&i.startContainer?i.startContainer:this.element,o=i&&i.startOffset?i.startOffset:0,r.nodeType===e.ELEMENT_NODE?a=r:(a=r.parentNode,s=this.getChildNodeIndex(a,r)),a.setAttribute(n,o),void 0!==s&&a.setAttribute(t,s));var u=this.element.cloneNode(!!c);this.historyDom.push(u),this.historyStr.push(c),a&&(a.removeAttribute(n),a.removeAttribute(t))}},undo:function(){this.transact(),this.undoPossible()&&(this.set(this.historyDom[--this.position-1]),this.editor.fire("undo:composer"))},redo:function(){this.redoPossible()&&(this.set(this.historyDom[++this.position-1]),this.editor.fire("redo:composer"))},undoPossible:function(){return this.position>1},redoPossible:function(){return this.position<this.historyStr.length},set:function(e){this.element.innerHTML="";for(var i=0,r=e.childNodes,o=e.childNodes.length;o>i;i++)this.element.appendChild(r[i].cloneNode(!0));var a,s,l;e.hasAttribute(n)?(a=e.getAttribute(n),l=e.getAttribute(t),s=this.element):(a=(s=this.element.querySelector("["+n+"]")||this.element).getAttribute(n),l=s.getAttribute(t),s.removeAttribute(n),s.removeAttribute(t)),null!==l&&(s=this.getChildNodeByIndex(s,+l)),this.composer.selection.set(s,a)},getChildNodeIndex:function(e,t){for(var n=0,i=e.childNodes,r=i.length;r>n;n++)if(i[n]===t)return n},getChildNodeByIndex:function(e,t){return e.childNodes[t]}})}(wysihtml5),wysihtml5.views.View=Base.extend({constructor:function(e,t,n){this.parent=e,this.element=t,this.config=n,this.config.noTextarea||this._observeViewChange()},_observeViewChange:function(){var e=this;this.parent.on("beforeload",function(){e.parent.on("change_view",function(t){t===e.name?(e.parent.currentView=e,e.show(),setTimeout(function(){e.focus()},0)):e.hide()})})},focus:function(){if(this.element.ownerDocument.querySelector(":focus")!==this.element)try{this.element.focus()}catch(e){}},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display=""},disable:function(){this.element.setAttribute("disabled","disabled")},enable:function(){this.element.removeAttribute("disabled")}}),function(e){var t=e.dom,n=e.browser;e.views.Composer=e.views.View.extend({name:"composer",CARET_HACK:"<br>",constructor:function(e,t,n){this.base(e,t,n),this.config.noTextarea?this.editableArea=t:this.textarea=this.parent.textarea,this.config.contentEditableMode?this._initContentEditableArea():this._initSandbox()},clear:function(){this.element.innerHTML=n.displaysCaretInEmptyContentEditableCorrectly()?"":this.CARET_HACK},getValue:function(t,n){var i=this.isEmpty()?"":e.quirks.getCorrectInnerHTML(this.element);return!1!==t&&(i=this.parent.parse(i,!1!==n)),i},setValue:function(e,t){t&&(e=this.parent.parse(e));try{this.element.innerHTML=e}catch(t){this.element.innerText=e}},cleanUp:function(){this.parent.parse(this.element)},show:function(){this.editableArea.style.display=this._displayStyle||"",this.config.noTextarea||this.textarea.element.disabled||(this.disable(),this.enable())},hide:function(){this._displayStyle=t.getStyle("display").from(this.editableArea),"none"===this._displayStyle&&(this._displayStyle=null),this.editableArea.style.display="none"},disable:function(){this.parent.fire("disable:composer"),this.element.removeAttribute("contentEditable")},enable:function(){this.parent.fire("enable:composer"),this.element.setAttribute("contentEditable","true")},focus:function(t){e.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear(),this.base();var n=this.element.lastChild;t&&n&&this.selection&&("BR"===n.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getTextContent:function(){return t.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==(this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):this.textarea.element.getAttribute("placeholder"))&&this.placeholderSet},isEmpty:function(){var e=this.element.innerHTML.toLowerCase();return/^(\s|<br>|<\/br>|<p>|<\/p>)*$/i.test(e)||""===e||"<br>"===e||"<p></p>"===e||"<p><br></p>"===e||this.hasPlaceholderSet()},_initContentEditableArea:function(){var e=this;this.config.noTextarea?this.sandbox=new t.ContentEditableArea(function(){e._create()},{},this.editableArea):(this.sandbox=new t.ContentEditableArea(function(){e._create()}),this.editableArea=this.sandbox.getContentEditable(),t.insert(this.editableArea).after(this.textarea.element),this._createWysiwygFormField())},_initSandbox:function(){var e=this;this.sandbox=new t.Sandbox(function(){e._create()},{stylesheets:this.config.stylesheets}),this.editableArea=this.sandbox.getIframe();var n=this.textarea.element;t.insert(this.editableArea).after(n),this._createWysiwygFormField()},_createWysiwygFormField:function(){if(this.textarea.element.form){var e=document.createElement("input");e.type="hidden",e.name="_wysihtml5_mode",e.value=1,t.insert(e).after(this.textarea.element)}},_create:function(){var i=this;this.doc=this.sandbox.getDocument(),this.element=this.config.contentEditableMode?this.sandbox.getContentEditable():this.doc.body,this.config.noTextarea?this.cleanUp():(this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0,!1)),this.selection=new e.Selection(this.parent,this.element,this.config.uneditableContainerClassname),this.commands=new e.Commands(this.parent),this.config.noTextarea||t.copyAttributes(["className","spellcheck","title","lang","dir","accessKey"]).from(this.textarea.element).to(this.element),t.addClass(this.element,this.config.composerClassName),this.config.style&&!this.config.contentEditableMode&&this.style(),this.observe();var r=this.config.name;r&&(t.addClass(this.element,r),this.config.contentEditableMode||t.addClass(this.editableArea,r)),this.enable(),!this.config.noTextarea&&this.textarea.element.disabled&&this.disable();var o="string"==typeof this.config.placeholder?this.config.placeholder:this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):this.textarea.element.getAttribute("placeholder");o&&t.simulatePlaceholder(this.parent,this,o),this.commands.exec("styleWithCSS",!1),this._initAutoLinking(),this._initObjectResizing(),this._initUndoManager(),this._initLineBreaking(),this.config.noTextarea||!this.textarea.element.hasAttribute("autofocus")&&document.querySelector(":focus")!=this.textarea.element||n.isIos()||setTimeout(function(){i.focus(!0)},100),n.clearsContentEditableCorrectly()||e.quirks.ensureProperClearing(this),this.initSync&&this.config.sync&&this.initSync(),this.config.noTextarea||this.textarea.hide(),this.parent.fire("beforeload").fire("load")},_initAutoLinking:function(){var i=this,r=n.canDisableAutoLinking(),o=n.doesAutoLinkingInContentEditable();if(r&&this.commands.exec("autoUrlDetect",!1),this.config.autoLink){(!o||o&&r)&&(this.parent.on("newword:composer",function(){t.getTextContent(i.element).match(t.autoLink.URL_REG_EXP)&&i.selection.executeAndRestore(function(n,r){for(var o=i.element.querySelectorAll("."+i.config.uneditableContainerClassname),a=!1,s=o.length;s--;)e.dom.contains(o[s],r)&&(a=!0);a||t.autoLink(r.parentNode,[i.config.uneditableContainerClassname])})}),t.observe(this.element,"blur",function(){t.autoLink(i.element,[i.config.uneditableContainerClassname])}));var a=this.sandbox.getDocument().getElementsByTagName("a"),s=t.autoLink.URL_REG_EXP,l=function(n){var i=e.lang.string(t.getTextContent(n)).trim();return"www."===i.substr(0,4)&&(i="http://"+i),i};t.observe(this.element,"keydown",function(e){if(a.length){var n,r=i.selection.getSelectedNode(e.target.ownerDocument),o=t.getParentElement(r,{nodeName:"A"},4);o&&(n=l(o),setTimeout(function(){var e=l(o);e!==n&&e.match(s)&&o.setAttribute("href",e)},0))}})}},_initObjectResizing:function(){if(this.commands.exec("enableObjectResizing",!0),n.supportsEvent("resizeend")){var i=["width","height"],r=i.length,o=this.element;t.observe(o,"resizeend",function(t){var n,a=t.target||t.srcElement,s=a.style,l=0;if("IMG"===a.nodeName){for(;r>l;l++)s[n=i[l]]&&(a.setAttribute(n,parseInt(s[n],10)),s[n]="");e.quirks.redraw(o)}})}},_initUndoManager:function(){this.undoManager=new e.UndoManager(this.parent)},_initLineBreaking:function(){function i(e){var n=t.getParentElement(e,{nodeName:["P","DIV"]},2);n&&t.contains(r.element,n)&&r.selection.executeAndRestore(function(){r.config.useLineBreaks?t.replaceWithChildNodes(n):"P"!==n.nodeName&&t.renameElement(n,"p")})}var r=this,o=["LI","P","H1","H2","H3","H4","H5","H6"],a=["UL","OL","MENU"];this.config.useLineBreaks||t.observe(this.element,["focus","keydown"],function(){if(r.isEmpty()){var e=r.doc.createElement("P");r.element.innerHTML="",r.element.appendChild(e),n.displaysCaretInEmptyContentEditableCorrectly()?r.selection.selectNode(e,!0):(e.innerHTML="<br>",r.selection.setBefore(e.firstChild))}}),t.observe(this.element,"keydown",function(n){var s=n.keyCode;if(!n.shiftKey&&(s===e.ENTER_KEY||s===e.BACKSPACE_KEY)){var l=t.getParentElement(r.selection.getSelectedNode(),{nodeName:o},4);return l?void setTimeout(function(){var n=r.selection.getSelectedNode();if("LI"===l.nodeName){if(!n)return;t.getParentElement(n,{nodeName:a},2)||i(n)}s===e.ENTER_KEY&&l.nodeName.match(/^H[1-6]$/)&&i(n)},0):void(r.config.useLineBreaks&&s===e.ENTER_KEY&&!e.browser.insertsLineBreaksOnReturn()&&(n.preventDefault(),r.commands.exec("insertLineBreak")))}})}})}(wysihtml5),function(e){var t=e.dom,n=document,i=window,r=n.createElement("div"),o=["background-color","color","cursor","font-family","font-size","font-style","font-variant","font-weight","line-height","letter-spacing","text-align","text-decoration","text-indent","text-rendering","word-break","word-wrap","word-spacing"],a=["background-color","border-collapse","border-bottom-color","border-bottom-style","border-bottom-width","border-left-color","border-left-style","border-left-width","border-right-color","border-right-style","border-right-width","border-top-color","border-top-style","border-top-width","clear","display","float","margin-bottom","margin-left","margin-right","margin-top","outline-color","outline-offset","outline-width","outline-style","padding-left","padding-right","padding-top","padding-bottom","position","top","left","right","bottom","z-index","vertical-align","text-align","-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing","-webkit-box-shadow","-moz-box-shadow","-ms-box-shadow","box-shadow","-webkit-border-top-right-radius","-moz-border-radius-topright","border-top-right-radius","-webkit-border-bottom-right-radius","-moz-border-radius-bottomright","border-bottom-right-radius","-webkit-border-bottom-left-radius","-moz-border-radius-bottomleft","border-bottom-left-radius","-webkit-border-top-left-radius","-moz-border-radius-topleft","border-top-left-radius","width","height"],s=["html                 { height: 100%; }","body                 { height: 100%; padding: 1px 0 0 0; margin: -1px 0 0 0; }","body > p:first-child { margin-top: 0; }","._wysihtml5-temp     { display: none; }",e.browser.isGecko?"body.placeholder { color: graytext !important; }":"body.placeholder { color: #a9a9a9 !important; }","img:-moz-broken      { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }"],l=function(e){if(e.setActive)try{e.setActive()}catch(e){}else{var r=e.style,o=n.documentElement.scrollTop||n.body.scrollTop,a=n.documentElement.scrollLeft||n.body.scrollLeft,s={position:r.position,top:r.top,left:r.left,WebkitUserSelect:r.WebkitUserSelect};t.setStyles({position:"absolute",top:"-99999px",left:"-99999px",WebkitUserSelect:"none"}).on(e),e.focus(),t.setStyles(s).on(e),i.scrollTo&&i.scrollTo(a,o)}};e.views.Composer.prototype.style=function(){var i,c=this,d=n.querySelector(":focus"),u=this.textarea.element,h=u.hasAttribute("placeholder"),f=h&&u.getAttribute("placeholder"),p=u.style.display,m=u.disabled;this.focusStylesHost=r.cloneNode(!1),this.blurStylesHost=r.cloneNode(!1),this.disabledStylesHost=r.cloneNode(!1),h&&u.removeAttribute("placeholder"),u===d&&u.blur(),u.disabled=!1,u.style.display=i="none",(u.getAttribute("rows")&&"auto"===t.getStyle("height").from(u)||u.getAttribute("cols")&&"auto"===t.getStyle("width").from(u))&&(u.style.display=i=p),t.copyStyles(a).from(u).to(this.editableArea).andTo(this.blurStylesHost),t.copyStyles(o).from(u).to(this.element).andTo(this.blurStylesHost),t.insertCSS(s).into(this.element.ownerDocument),u.disabled=!0,t.copyStyles(a).from(u).to(this.disabledStylesHost),t.copyStyles(o).from(u).to(this.disabledStylesHost),u.disabled=m,u.style.display=p,l(u),u.style.display=i,t.copyStyles(a).from(u).to(this.focusStylesHost),t.copyStyles(o).from(u).to(this.focusStylesHost),u.style.display=p,t.copyStyles(["display"]).from(u).to(this.editableArea);var g=e.lang.array(a).without(["display"]);return d?d.focus():u.blur(),h&&u.setAttribute("placeholder",f),this.parent.on("focus:composer",function(){t.copyStyles(g).from(c.focusStylesHost).to(c.editableArea),t.copyStyles(o).from(c.focusStylesHost).to(c.element)}),this.parent.on("blur:composer",function(){t.copyStyles(g).from(c.blurStylesHost).to(c.editableArea),t.copyStyles(o).from(c.blurStylesHost).to(c.element)}),this.parent.observe("disable:composer",function(){t.copyStyles(g).from(c.disabledStylesHost).to(c.editableArea),t.copyStyles(o).from(c.disabledStylesHost).to(c.element)}),this.parent.observe("enable:composer",function(){t.copyStyles(g).from(c.blurStylesHost).to(c.editableArea),t.copyStyles(o).from(c.blurStylesHost).to(c.element)}),this}}(wysihtml5),function(e){var t=e.dom,n=e.browser,i={66:"bold",73:"italic",85:"underline"};e.views.Composer.prototype.observe=function(){var r=this,o=this.getValue(!1,!1),a=this.sandbox.getIframe?this.sandbox.getIframe():this.sandbox.getContentEditable(),s=this.element,l=n.supportsEventsInIframeCorrectly()||this.sandbox.getContentEditable?s:this.sandbox.getWindow();if(t.observe(a,"DOMNodeRemoved",function(){clearInterval(c),r.parent.fire("destroy:composer")}),!n.supportsMutationEvents())var c=setInterval(function(){t.contains(document.documentElement,a)||(clearInterval(c),r.parent.fire("destroy:composer"))},250);t.observe(l,["drop","paste","mouseup","focus","keyup"],function(){setTimeout(function(){r.parent.fire("interaction").fire("interaction:composer")},0)}),this.config.handleTables&&(!this.tableClickHandle&&this.doc.execCommand&&e.browser.supportsCommand(this.doc,"enableObjectResizing")&&e.browser.supportsCommand(this.doc,"enableInlineTableEditing")&&(this.sandbox.getIframe?this.tableClickHandle=t.observe(a,["focus","mouseup","mouseover"],function(){r.doc.execCommand("enableObjectResizing",!1,"false"),r.doc.execCommand("enableInlineTableEditing",!1,"false"),r.tableClickHandle.stop()}):setTimeout(function(){r.doc.execCommand("enableObjectResizing",!1,"false"),r.doc.execCommand("enableInlineTableEditing",!1,"false")},0)),this.tableSelection=e.quirks.tableCellsSelection(s,r.parent)),t.observe(l,"focus",function(e){r.parent.fire("focus",e).fire("focus:composer",e),setTimeout(function(){o=r.getValue(!1,!1)},0)}),t.observe(l,"blur",function(e){if(o!==r.getValue(!1,!1)){var t=e;"function"==typeof Object.create&&(t=Object.create(e,{type:{value:"change"}})),r.parent.fire("change",t).fire("change:composer",t)}r.parent.fire("blur",e).fire("blur:composer",e)}),t.observe(s,"dragenter",function(){r.parent.fire("unset_placeholder")}),t.observe(s,["drop","paste"],function(e){setTimeout(function(){r.parent.fire(e.type,e).fire(e.type+":composer",e)},0)}),t.observe(s,"keyup",function(t){var n=t.keyCode;(n===e.SPACE_KEY||n===e.ENTER_KEY)&&r.parent.fire("newword:composer")}),this.parent.on("paste:composer",function(){setTimeout(function(){r.parent.fire("newword:composer")},0)}),n.canSelectImagesInContentEditable()||t.observe(s,"mousedown",function(t){var n=t.target,i=s.querySelectorAll("img"),o=s.querySelectorAll("."+r.config.uneditableContainerClassname+" img"),a=e.lang.array(i).without(o);"IMG"===n.nodeName&&e.lang.array(a).contains(n)&&r.selection.selectNode(n)}),n.canSelectImagesInContentEditable()||t.observe(s,"drop",function(){setTimeout(function(){r.selection.getSelection().removeAllRanges()},0)}),n.hasHistoryIssue()&&n.supportsSelectionModify()&&t.observe(s,"keydown",function(e){if(e.metaKey||e.ctrlKey){var t=e.keyCode,n=s.ownerDocument.defaultView.getSelection();(37===t||39===t)&&(37===t&&(n.modify("extend","left","lineboundary"),e.shiftKey||n.collapseToStart()),39===t&&(n.modify("extend","right","lineboundary"),e.shiftKey||n.collapseToEnd()),e.preventDefault())}}),t.observe(s,"keydown",function(e){var t=e.keyCode,n=i[t];(e.ctrlKey||e.metaKey)&&!e.altKey&&n&&(r.commands.exec(n),e.preventDefault()),8===t?function(e,t,n,i){if(t.isCollapsed())if(t.caretIsInTheBeginnig("LI"))e.preventDefault(),i.commands.exec("outdentList");else if(t.caretIsInTheBeginnig())e.preventDefault();else{if(t.caretIsFirstInSelection()&&t.getPreviousNode()&&t.getPreviousNode().nodeName&&/^H\d$/gi.test(t.getPreviousNode().nodeName)){var r=t.getPreviousNode();if(e.preventDefault(),/^\s*$/.test(r.textContent||r.innerText))r.parentNode.removeChild(r);else{var o=r.ownerDocument.createRange();o.selectNodeContents(r),o.collapse(!1),t.setSelection(o)}}var a=t.caretIsBeforeUneditable();a&&(e.preventDefault(),function(e,t,n){var i=e.getPreviousNode(t,!0),r=e.getSelectedNode();if(1!==r.nodeType&&r.parentNode!==n&&(r=r.parentNode),i)if(1==r.nodeType){var o=r.firstChild;if(1==i.nodeType)for(;r.firstChild;)i.appendChild(r.firstChild);else for(;r.firstChild;)t.parentNode.insertBefore(r.firstChild,t);r.parentNode&&r.parentNode.removeChild(r),e.setBefore(o)}else 1==i.nodeType?i.appendChild(r):t.parentNode.insertBefore(r,t),e.setBefore(r)}(t,a,n))}else t.containsUneditable()&&(e.preventDefault(),t.deleteContents())}(e,r.selection,s,r):r.config.handleTabKey&&9===t&&(e.preventDefault(),function(e){if(e.selection.isCollapsed()){if(e.selection.caretIsInTheBeginnig("LI")&&e.commands.exec("indentList"))return}else e.selection.deleteContents();e.commands.exec("insertHTML","&emsp;")}(r))}),t.observe(s,"keydown",function(t){var n,i=r.selection.getSelectedNode(!0),o=t.keyCode;!i||"IMG"!==i.nodeName||o!==e.BACKSPACE_KEY&&o!==e.DELETE_KEY||((n=i.parentNode).removeChild(i),"A"!==n.nodeName||n.firstChild||n.parentNode.removeChild(n),setTimeout(function(){e.quirks.redraw(s)},0),t.preventDefault())}),!this.config.contentEditableMode&&n.hasIframeFocusIssue()&&(t.observe(a,"focus",function(){setTimeout(function(){r.doc.querySelector(":focus")!==r.element&&r.focus()},0)}),t.observe(this.element,"blur",function(){setTimeout(function(){r.selection.getSelection().removeAllRanges()},0)}));var d={IMG:"Image: ",A:"Link: "};t.observe(s,"mouseover",function(e){var t,n=e.target,i=n.nodeName;"A"!==i&&"IMG"!==i||(n.hasAttribute("title")||(t=d[i]+(n.getAttribute("href")||n.getAttribute("src")),n.setAttribute("title",t)))})}}(wysihtml5),function(e){e.views.Synchronizer=Base.extend({constructor:function(e,t,n){this.editor=e,this.textarea=t,this.composer=n,this._observe()},fromComposerToTextarea:function(t){this.textarea.setValue(e.lang.string(this.composer.getValue(!1,!1)).trim(),t)},fromTextareaToComposer:function(e){var t=this.textarea.getValue(!1,!1);t?this.composer.setValue(t,e):(this.composer.clear(),this.editor.fire("set_placeholder"))},sync:function(e){"textarea"===this.editor.currentView.name?this.fromTextareaToComposer(e):this.fromComposerToTextarea(e)},_observe:function(){var t,n=this,i=this.textarea.element.form,r=function(){t=setInterval(function(){n.fromComposerToTextarea()},400)},o=function(){clearInterval(t),t=null};r(),i&&(e.dom.observe(i,"submit",function(){n.sync(!0)}),e.dom.observe(i,"reset",function(){setTimeout(function(){n.fromTextareaToComposer()},0)})),this.editor.on("change_view",function(e){"composer"!==e||t?"textarea"===e&&(n.fromComposerToTextarea(!0),o()):(n.fromTextareaToComposer(!0),r())}),this.editor.on("destroy:composer",o)}})}(wysihtml5),wysihtml5.views.Textarea=wysihtml5.views.View.extend({name:"textarea",constructor:function(e,t,n){this.base(e,t,n),this._observe()},clear:function(){this.element.value=""},getValue:function(e){var t=this.isEmpty()?"":this.element.value;return!1!==e&&(t=this.parent.parse(t)),t},setValue:function(e,t){t&&(e=this.parent.parse(e)),this.element.value=e},cleanUp:function(){var e=this.parent.parse(this.element.value);this.element.value=e},hasPlaceholderSet:function(){var e=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),t=this.element.getAttribute("placeholder")||null,n=this.element.value;return e&&!n||n===t},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var e=this.element,t=this.parent,n={focusin:"focus",focusout:"blur"},i=wysihtml5.browser.supportsEvent("focusin")?["focusin","focusout","change"]:["focus","blur","change"];t.on("beforeload",function(){wysihtml5.dom.observe(e,i,function(e){var i=n[e.type]||e.type;t.fire(i).fire(i+":textarea")}),wysihtml5.dom.observe(e,["paste","drop"],function(){setTimeout(function(){t.fire("paste").fire("paste:textarea")},0)})})}}),function(e){var t,n={name:t,style:!0,toolbar:t,showToolbarAfterInit:!0,autoLink:!0,handleTables:!0,handleTabKey:!0,parserRules:{tags:{br:{},span:{},div:{},p:{}},classes:{}},parser:e.dom.parse,composerClassName:"wysihtml5-editor",bodyClassName:"wysihtml5-supported",useLineBreaks:!0,stylesheets:[],placeholderText:t,supportTouchDevices:!0,cleanUp:!0,contentEditableMode:!1,uneditableContainerClassname:"wysihtml5-uneditable-container"};e.Editor=e.lang.Dispatcher.extend({constructor:function(t,i){if(this.editableElement="string"==typeof t?document.getElementById(t):t,this.config=e.lang.object({}).merge(n).merge(i).get(),this._isCompatible=e.browser.supported(),"textarea"!=this.editableElement.nodeName.toLowerCase()&&(this.config.contentEditableMode=!0,this.config.noTextarea=!0),this.config.noTextarea||(this.textarea=new e.views.Textarea(this,this.editableElement,this.config),this.currentView=this.textarea),!this._isCompatible||!this.config.supportTouchDevices&&e.browser.isTouchDevice()){var r=this;setTimeout(function(){r.fire("beforeload").fire("load")},0)}else e.dom.addClass(document.body,this.config.bodyClassName),this.composer=new e.views.Composer(this,this.editableElement,this.config),this.currentView=this.composer,"function"==typeof this.config.parser&&this._initParser(),this.on("beforeload",this.handleBeforeLoad)},handleBeforeLoad:function(){this.config.noTextarea||(this.synchronizer=new e.views.Synchronizer(this,this.textarea,this.composer)),this.config.toolbar&&(this.toolbar=new e.toolbar.Toolbar(this,this.config.toolbar,this.config.showToolbarAfterInit))},isCompatible:function(){return this._isCompatible},clear:function(){return this.currentView.clear(),this},getValue:function(e,t){return this.currentView.getValue(e,t)},setValue:function(e,t){return this.fire("unset_placeholder"),e?(this.currentView.setValue(e,t),this):this.clear()},cleanUp:function(){this.currentView.cleanUp()},focus:function(e){return this.currentView.focus(e),this},disable:function(){return this.currentView.disable(),this},enable:function(){return this.currentView.enable(),this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},parse:function(t,n){var i=this.config.contentEditableMode?document:this.composer?this.composer.sandbox.getDocument():null,r=this.config.parser(t,{rules:this.config.parserRules,cleanUp:this.config.cleanUp,context:i,uneditableClass:this.config.uneditableContainerClassname,clearInternals:n});return"object"==typeof t&&e.quirks.redraw(t),r},_initParser:function(){this.on("paste:composer",function(){var t=this;t.composer.selection.executeAndRestore(function(){e.quirks.cleanPastedHTML(t.composer.element),t.parse(t.composer.element)},!0)})}})}(wysihtml5),function(e){var t=e.dom,n="wysihtml5-command-dialog-opened",i="input, select, textarea",r="[data-wysihtml5-dialog-field]",o="data-wysihtml5-dialog-field";e.toolbar.Dialog=e.lang.Dispatcher.extend({constructor:function(e,t){this.link=e,this.container=t},_observe:function(){if(!this._observed){var r=this,o=function(e){var t=r._serialize();t==r.elementToChange?r.fire("edit",t):r.fire("save",t),r.hide(),e.preventDefault(),e.stopPropagation()};t.observe(r.link,"click",function(){t.hasClass(r.link,n)&&setTimeout(function(){r.hide()},0)}),t.observe(this.container,"keydown",function(t){var n=t.keyCode;n===e.ENTER_KEY&&o(t),n===e.ESCAPE_KEY&&(r.fire("cancel"),r.hide())}),t.delegate(this.container,"[data-wysihtml5-dialog-action=save]","click",o),t.delegate(this.container,"[data-wysihtml5-dialog-action=cancel]","click",function(e){r.fire("cancel"),r.hide(),e.preventDefault(),e.stopPropagation()});for(var a=this.container.querySelectorAll(i),s=0,l=a.length,c=function(){clearInterval(r.interval)};l>s;s++)t.observe(a[s],"change",c);this._observed=!0}},_serialize:function(){for(var e=this.elementToChange||{},t=this.container.querySelectorAll(r),n=t.length,i=0;n>i;i++)e[t[i].getAttribute(o)]=t[i].value;return e},_interpolate:function(e){for(var t,n,i,a=document.querySelector(":focus"),s=this.container.querySelectorAll(r),l=s.length,c=0;l>c;c++)(t=s[c])!==a&&(e&&"hidden"===t.type||(n=t.getAttribute(o),i=this.elementToChange&&"boolean"!=typeof this.elementToChange?this.elementToChange.getAttribute(n)||"":t.defaultValue,t.value=i))},show:function(e){if(!t.hasClass(this.link,n)){var r=this,o=this.container.querySelector(i);if(this.elementToChange=e,this._observe(),this._interpolate(),e&&(this.interval=setInterval(function(){r._interpolate(!0)},500)),t.addClass(this.link,n),this.container.style.display="",this.fire("show"),o&&!e)try{o.focus()}catch(e){}}},hide:function(){clearInterval(this.interval),this.elementToChange=null,t.removeClass(this.link,n),this.container.style.display="none",this.fire("hide")}})}(wysihtml5),function(e){var t=e.dom,n={position:"relative"},i={left:0,margin:0,opacity:0,overflow:"hidden",padding:0,position:"absolute",top:0,zIndex:1},r={cursor:"inherit",fontSize:"50px",height:"50px",marginTop:"-25px",outline:0,padding:0,position:"absolute",right:"-4px",top:"50%"},o={"x-webkit-speech":"",speech:""};e.toolbar.Speech=function(a,s){var l=document.createElement("input");if(e.browser.supportsSpeechApiOn(l)){var c=a.editor.textarea.element.getAttribute("lang");c&&(o.lang=c);var d=document.createElement("div");e.lang.object(i).merge({width:s.offsetWidth+"px",height:s.offsetHeight+"px"}),t.insert(l).into(d),t.insert(d).into(s),t.setStyles(r).on(l),t.setAttributes(o).on(l),t.setStyles(i).on(d),t.setStyles(n).on(s);var u="onwebkitspeechchange"in l?"webkitspeechchange":"speechchange";t.observe(l,u,function(){a.execCommand("insertText",l.value),l.value=""}),t.observe(l,"click",function(e){t.hasClass(s,"wysihtml5-command-disabled")&&e.preventDefault(),e.stopPropagation()})}else s.style.display="none"}}(wysihtml5),function(e){var t="wysihtml5-command-disabled",n="wysihtml5-commands-disabled",i="wysihtml5-command-active",r="wysihtml5-action-active",o=e.dom;e.toolbar.Toolbar=Base.extend({constructor:function(t,n,i){this.editor=t,this.container="string"==typeof n?document.getElementById(n):n,this.composer=t.composer,this._getLinks("command"),this._getLinks("action"),this._observe(),i&&this.show();for(var r=this.container.querySelectorAll("[data-wysihtml5-command=insertSpeech]"),o=r.length,a=0;o>a;a++)new e.toolbar.Speech(this,r[a])},_getLinks:function(t){for(var n,i,r,o,a,s=this[t+"Links"]=e.lang.array(this.container.querySelectorAll("[data-wysihtml5-"+t+"]")).get(),l=s.length,c=0,d=this[t+"Mapping"]={};l>c;c++)r=(n=s[c]).getAttribute("data-wysihtml5-"+t),o=n.getAttribute("data-wysihtml5-"+t+"-value"),i=this.container.querySelector("[data-wysihtml5-"+t+"-group='"+r+"']"),a=this._getDialog(n,r),d[r+":"+o]={link:n,group:i,name:r,value:o,dialog:a,state:!1}},_getDialog:function(t,n){var i,r,o=this,a=this.container.querySelector("[data-wysihtml5-dialog='"+n+"']");return a&&((i=e.toolbar["Dialog_"+n]?new e.toolbar["Dialog_"+n](t,a):new e.toolbar.Dialog(t,a)).on("show",function(){r=o.composer.selection.getBookmark(),o.editor.fire("show:dialog",{command:n,dialogContainer:a,commandLink:t})}),i.on("save",function(e){r&&o.composer.selection.setBookmark(r),o._execCommand(n,e),o.editor.fire("save:dialog",{command:n,dialogContainer:a,commandLink:t})}),i.on("cancel",function(){o.editor.focus(!1),o.editor.fire("cancel:dialog",{command:n,dialogContainer:a,commandLink:t})})),i},execCommand:function(e,t){if(!this.commandsDisabled){var n=this.commandMapping[e+":"+t];n&&n.dialog&&!n.state?n.dialog.show():this._execCommand(e,t)}},_execCommand:function(e,t){this.editor.focus(!1),this.composer.commands.exec(e,t),this._updateLinkStates()},execAction:function(e){var t=this.editor;"change_view"===e&&t.textarea&&(t.currentView===t.textarea?t.fire("change_view","composer"):t.fire("change_view","textarea")),"showSource"==e&&t.fire("showSource")},_observe:function(){for(var e=this,t=this.editor,i=this.container,r=this.commandLinks.concat(this.actionLinks),a=r.length,s=0;a>s;s++)"A"===r[s].nodeName?o.setAttributes({href:"javascript:;",unselectable:"on"}).on(r[s]):o.setAttributes({unselectable:"on"}).on(r[s]);o.delegate(i,"[data-wysihtml5-command], [data-wysihtml5-action]","mousedown",function(e){e.preventDefault()}),o.delegate(i,"[data-wysihtml5-command]","click",function(t){var n=this.getAttribute("data-wysihtml5-command"),i=this.getAttribute("data-wysihtml5-command-value");e.execCommand(n,i),t.preventDefault()}),o.delegate(i,"[data-wysihtml5-action]","click",function(t){var n=this.getAttribute("data-wysihtml5-action");e.execAction(n),t.preventDefault()}),t.on("interaction:composer",function(){e._updateLinkStates()}),t.on("focus:composer",function(){e.bookmark=null}),this.editor.config.handleTables&&(t.on("tableselect:composer",function(){e.container.querySelectorAll('[data-wysihtml5-hiddentools="table"]')[0].style.display=""}),t.on("tableunselect:composer",function(){e.container.querySelectorAll('[data-wysihtml5-hiddentools="table"]')[0].style.display="none"})),t.on("change_view",function(r){t.textarea&&setTimeout(function(){e.commandsDisabled="composer"!==r,e._updateLinkStates(),e.commandsDisabled?o.addClass(i,n):o.removeClass(i,n)},0)})},_updateLinkStates:function(){var n,a,s,l,c=this.commandMapping,d=this.actionMapping;for(n in c)l=c[n],this.commandsDisabled?(a=!1,o.removeClass(l.link,i),l.group&&o.removeClass(l.group,i),l.dialog&&l.dialog.hide()):(a=this.composer.commands.state(l.name,l.value),o.removeClass(l.link,t),l.group&&o.removeClass(l.group,t)),l.state!==a&&(l.state=a,a?(o.addClass(l.link,i),l.group&&o.addClass(l.group,i),l.dialog&&("object"==typeof a||e.lang.object(a).isArray()?(!l.dialog.multiselect&&e.lang.object(a).isArray()&&(a=1!==a.length||a[0],l.state=a),l.dialog.show(a)):l.dialog.hide())):(o.removeClass(l.link,i),l.group&&o.removeClass(l.group,i),l.dialog&&l.dialog.hide()));for(n in d)"change_view"===(s=d[n]).name&&(s.state=this.editor.currentView===this.editor.textarea,s.state?o.addClass(s.link,r):o.removeClass(s.link,r))},show:function(){this.container.style.display=""},hide:function(){this.container.style.display="none"}})}(wysihtml5),function(e){e.toolbar.Dialog_createTable=e.toolbar.Dialog.extend({show:function(e){this.base(e)}})}(wysihtml5),function(e){var t=(e.dom,"[data-wysihtml5-dialog-field]"),n="data-wysihtml5-dialog-field";e.toolbar.Dialog_foreColorStyle=e.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){for(var e={},i=this.container.querySelectorAll(t),r=i.length,o=0;r>o;o++)e[i[o].getAttribute(n)]=i[o].value;return e},_interpolate:function(i){for(var r,o=document.querySelector(":focus"),a=this.container.querySelectorAll(t),s=a.length,l=0,c=this.elementToChange?e.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,d=c?c.getAttribute("style"):null,u=d?e.quirks.styleParser.parseColor(d,"color"):null;s>l;l++)(r=a[l])!==o&&(i&&"hidden"===r.type||"color"===r.getAttribute(n)&&(r.value=u?u[3]&&1!=u[3]?"rgba("+u[0]+","+u[1]+","+u[2]+","+u[3]+");":"rgb("+u[0]+","+u[1]+","+u[2]+");":"rgb(0,0,0);"))}})}(wysihtml5),function(e){e.dom,e.toolbar.Dialog_fontSizeStyle=e.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){return{size:this.container.querySelector('[data-wysihtml5-dialog-field="size"]').value}},_interpolate:function(){var t=document.querySelector(":focus"),n=this.container.querySelector("[data-wysihtml5-dialog-field='size']"),i=this.elementToChange?e.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,r=i?i.getAttribute("style"):null,o=r?e.quirks.styleParser.parseFontSize(r):null;n&&n!==t&&o&&!/^\s*$/.test(o)&&(n.value=o)}})}(wysihtml5);var Handlebars=function(){var e=function(){"use strict";function e(e){this.string=e}return e.prototype.toString=function(){return""+this.string},e}(),t=function(e){"use strict";function t(e){return r[e]||"&amp;"}var n={},i=e,r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},o=/[&<>"'`]/g,a=/[&<>"'`]/;n.extend=function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])};var s,l=Object.prototype.toString;n.toString=l,(s=function(e){return"function"==typeof e})(/x/)&&(s=function(e){return"function"==typeof e&&"[object Function]"===l.call(e)}),n.isFunction=s;var c=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===l.call(e)};return n.isArray=c,n.escapeExpression=function(e){return e instanceof i?e.toString():e||0===e?(e=""+e,a.test(e)?e.replace(o,t):e):""},n.isEmpty=function(e){return!e&&0!==e||!(!c(e)||0!==e.length)},n}(e),n=function(){"use strict";function e(e,n){var i;n&&n.firstLine&&(e+=" - "+(i=n.firstLine)+":"+n.firstColumn);for(var r=Error.prototype.constructor.call(this,e),o=0;o<t.length;o++)this[t[o]]=r[t[o]];i&&(this.lineNumber=i,this.column=n.firstColumn)}var t=["description","fileName","lineNumber","message","name","number","stack"];return e.prototype=new Error,e}(),i=function(e,t){"use strict";function n(e,t){this.helpers=e||{},this.partials=t||{},function(e){e.registerHelper("helperMissing",function(e){if(2!==arguments.length)throw new a("Missing helper: '"+e+"'")}),e.registerHelper("blockHelperMissing",function(t,n){var i=n.inverse||function(){},r=n.fn;return l(t)&&(t=t.call(this)),!0===t?r(this):!1===t||null==t?i(this):s(t)?t.length>0?e.helpers.each(t,n):i(this):r(t)}),e.registerHelper("each",function(e,t){var n,i=t.fn,r=t.inverse,o=0,a="";if(l(e)&&(e=e.call(this)),t.data&&(n=h(t.data)),e&&"object"==typeof e)if(s(e))for(var c=e.length;c>o;o++)n&&(n.index=o,n.first=0===o,n.last=o===e.length-1),a+=i(e[o],{data:n});else for(var d in e)e.hasOwnProperty(d)&&(n&&(n.key=d,n.index=o,n.first=0===o),a+=i(e[d],{data:n}),o++);return 0===o&&(a=r(this)),a}),e.registerHelper("if",function(e,t){return l(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||o.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers.if.call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),e.registerHelper("with",function(e,t){return l(e)&&(e=e.call(this)),o.isEmpty(e)?void 0:t.fn(e)}),e.registerHelper("log",function(t,n){var i=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;e.log(i,t)})}(this)}function i(e,t){u.log(e,t)}var r={},o=e,a=t;r.VERSION="1.3.0";r.COMPILER_REVISION=4;r.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};var s=o.isArray,l=o.isFunction,c=o.toString,d="[object Object]";r.HandlebarsEnvironment=n,n.prototype={constructor:n,logger:u,log:i,registerHelper:function(e,t,n){if(c.call(e)===d){if(n||t)throw new a("Arg not supported with multiple helpers");o.extend(this.helpers,e)}else n&&(t.not=n),this.helpers[e]=t},registerPartial:function(e,t){c.call(e)===d?o.extend(this.partials,e):this.partials[e]=t}};var u={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(e,t){if(u.level<=e){var n=u.methodMap[e];"undefined"!=typeof console&&console[n]&&console[n].call(console,t)}}};r.logger=u,r.log=i;var h=function(e){var t={};return o.extend(t,e),t};return r.createFrame=h,r}(t,n),r=function(e,t,n){"use strict";function i(e,t,n){var i=function(e,i){return t(e,(i=i||{}).data||n)};return i.program=e,i.depth=0,i}var r={},o=e,a=t,s=n.COMPILER_REVISION,l=n.REVISION_CHANGES;return r.checkRevision=function(e){var t=e&&e[0]||1;if(t!==s){if(s>t){var n=l[s],i=l[t];throw new a("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+i+").")}throw new a("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}},r.template=function(e,t){if(!t)throw new a("No environment passed to template");var n={escapeExpression:o.escapeExpression,invokePartial:function(e,n,i,r,o,s){var l=t.VM.invokePartial.apply(this,arguments);if(null!=l)return l;if(t.compile){var c={helpers:r,partials:o,data:s};return o[n]=t.compile(e,{data:void 0!==s},t),o[n](i,c)}throw new a("The partial "+n+" could not be compiled when running in runtime-only mode")},programs:[],program:function(e,t,n){var r=this.programs[e];return n?r=i(e,t,n):r||(r=this.programs[e]=i(e,t)),r},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n={},o.extend(n,t),o.extend(n,e)),n},programWithDepth:t.VM.programWithDepth,noop:t.VM.noop,compilerInfo:null};return function(i,r){var o,a,s=(r=r||{}).partial?r:t;r.partial||(o=r.helpers,a=r.partials);var l=e.call(n,s,i,o,a,r.data);return r.partial||t.VM.checkRevision(n.compilerInfo),l}},r.programWithDepth=function(e,t,n){var i=Array.prototype.slice.call(arguments,3),r=function(e,r){return r=r||{},t.apply(this,[e,r.data||n].concat(i))};return r.program=e,r.depth=i.length,r},r.program=i,r.invokePartial=function(e,t,n,i,r,o){var s={partial:!0,helpers:i,partials:r,data:o};if(void 0===e)throw new a("The partial "+t+" could not be found");return e instanceof Function?e(n,s):void 0},r.noop=function(){return""},r}(t,n,i);return function(e,t,n,i,r){"use strict";var o=e,a=t,s=n,l=i,c=r,d=function(){var e=new o.HandlebarsEnvironment;return l.extend(e,o),e.SafeString=a,e.Exception=s,e.Utils=l,e.VM=c,e.template=function(t){return c.template(t,e)},e},u=d();return u.create=d,u}(i,e,n,t,r)}();this.wysihtml5=this.wysihtml5||{},this.wysihtml5.tpl=this.wysihtml5.tpl||{},this.wysihtml5.tpl.blockquote=Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,a="",s="function",l=this.escapeExpression,c=this;return a+='<li>\n  <a class="btn ',((o=n.if.call(t,null==(o=null==(o=t&&t.options)||!1===o?o:o.toolbar)||!1===o?o:o.size,{hash:{},inverse:c.noop,fn:c.program(1,function(e){var t;return"btn-"+l(typeof(t=null==(t=null==(t=e&&e.options)||!1===t?t:t.toolbar)||!1===t?t:t.size)===s?t.apply(e):t)},r),data:r}))||0===o)&&(a+=o),a+=' btn-default" data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="blockquote" data-wysihtml5-display-format-name="false" tabindex="-1">\n    ',((o=n.if.call(t,null==(o=null==(o=t&&t.options)||!1===o?o:o.toolbar)||!1===o?o:o.fa,{hash:{},inverse:c.program(5,function(){return'\n      <span class="glyphicon glyphicon-quote"></span>\n    '},r),fn:c.program(3,function(){return' \n      <span class="fa fa-quote-left"></span>\n    '},r),data:r}))||0===o)&&(a+=o),a+"\n  </a>\n</li>\n"}),this.wysihtml5.tpl.color=Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,a="",s="function",l=this.escapeExpression;return a+='<li class="dropdown">\n  <a class="btn btn-default dropdown-toggle ',((o=n.if.call(t,null==(o=null==(o=t&&t.options)||!1===o?o:o.toolbar)||!1===o?o:o.size,{hash:{},inverse:this.noop,fn:this.program(1,function(e){var t;return"btn-"+l(typeof(t=null==(t=null==(t=e&&e.options)||!1===t?t:t.toolbar)||!1===t?t:t.size)===s?t.apply(e):t)},r),data:r}))||0===o)&&(a+=o),a+'" data-toggle="dropdown" tabindex="-1">\n    <span class="current-color">'+l(typeof(o=null==(o=null==(o=t&&t.locale)||!1===o?o:o.colours)||!1===o?o:o.black)===s?o.apply(t):o)+'</span>\n    <b class="caret"></b>\n  </a>\n  <ul class="dropdown-menu">\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="black"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="black">'+l(typeof(o=null==(o=null==(o=t&&t.locale)||!1===o?o:o.colours)||!1===o?o:o.black)===s?o.apply(t):o)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="silver"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="silver">'+l(typeof(o=null==(o=null==(o=t&&t.locale)||!1===o?o:o.colours)||!1===o?o:o.silver)===s?o.apply(t):o)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="gray"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="gray">'+l(typeof(o=null==(o=null==(o=t&&t.locale)||!1===o?o:o.colours)||!1===o?o:o.gray)===s?o.apply(t):o)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="maroon"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="maroon">'+l(typeof(o=null==(o=null==(o=t&&t.locale)||!1===o?o:o.colours)||!1===o?o:o.maroon)===s?o.apply(t):o)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="red"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="red">'+l(typeof(o=null==(o=null==(o=t&&t.locale)||!1===o?o:o.colours)||!1===o?o:o.red)===s?o.apply(t):o)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="purple"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="purple">'+l(typeof(o=null==(o=null==(o=t&&t.locale)||!1===o?o:o.colours)||!1===o?o:o.purple)===s?o.apply(t):o)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="green"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="green">'+l(typeof(o=null==(o=null==(o=t&&t.locale)||!1===o?o:o.colours)||!1===o?o:o.green)===s?o.apply(t):o)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="olive"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="olive">'+l(typeof(o=null==(o=null==(o=t&&t.locale)||!1===o?o:o.colours)||!1===o?o:o.olive)===s?o.apply(t):o)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="navy"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="navy">'+l(typeof(o=null==(o=null==(o=t&&t.locale)||!1===o?o:o.colours)||!1===o?o:o.navy)===s?o.apply(t):o)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="blue"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="blue">'+l(typeof(o=null==(o=null==(o=t&&t.locale)||!1===o?o:o.colours)||!1===o?o:o.blue)===s?o.apply(t):o)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="orange"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="orange">'+l(typeof(o=null==(o=null==(o=t&&t.locale)||!1===o?o:o.colours)||!1===o?o:o.orange)===s?o.apply(t):o)+"</a></li>\n  </ul>\n</li>\n"}),this.wysihtml5.tpl.emphasis=Handlebars.template(function(e,t,n,i,r){function o(e){var t;return""+"btn-"+c(typeof(t=null==(t=null==(t=e&&e.options)||!1===t?t:t.toolbar)||!1===t?t:t.size)===l?t.apply(e):t)}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var a,s="",l="function",c=this.escapeExpression,d=this;return s+='<li>\n  <div class="btn-group">\n    <a class="btn ',((a=n.if.call(t,null==(a=null==(a=t&&t.options)||!1===a?a:a.toolbar)||!1===a?a:a.size,{hash:{},inverse:d.noop,fn:d.program(1,o,r),data:r}))||0===a)&&(s+=a),s+=' btn-default" data-wysihtml5-command="bold" title="CTRL+B" tabindex="-1">'+c(typeof(a=null==(a=null==(a=t&&t.locale)||!1===a?a:a.emphasis)||!1===a?a:a.bold)===l?a.apply(t):a)+'</a>\n    <a class="btn ',((a=n.if.call(t,null==(a=null==(a=t&&t.options)||!1===a?a:a.toolbar)||!1===a?a:a.size,{hash:{},inverse:d.noop,fn:d.program(1,o,r),data:r}))||0===a)&&(s+=a),s+=' btn-default" data-wysihtml5-command="italic" title="CTRL+I" tabindex="-1">'+c(typeof(a=null==(a=null==(a=t&&t.locale)||!1===a?a:a.emphasis)||!1===a?a:a.italic)===l?a.apply(t):a)+'</a>\n    <a class="btn ',((a=n.if.call(t,null==(a=null==(a=t&&t.options)||!1===a?a:a.toolbar)||!1===a?a:a.size,{hash:{},inverse:d.noop,fn:d.program(1,o,r),data:r}))||0===a)&&(s+=a),s+=' btn-default" data-wysihtml5-command="underline" title="CTRL+U" tabindex="-1">'+c(typeof(a=null==(a=null==(a=t&&t.locale)||!1===a?a:a.emphasis)||!1===a?a:a.underline)===l?a.apply(t):a)+"</a>\n    ",((a=n.if.call(t,null==(a=null==(a=null==(a=t&&t.options)||!1===a?a:a.toolbar)||!1===a?a:a.emphasis)||!1===a?a:a.small,{hash:{},inverse:d.noop,fn:d.program(3,function(e,t){var i,r="";return r+='\n    <a class="btn ',((i=n.if.call(e,null==(i=null==(i=e&&e.options)||!1===i?i:i.toolbar)||!1===i?i:i.size,{hash:{},inverse:d.noop,fn:d.program(1,o,t),data:t}))||0===i)&&(r+=i),r+' btn-default" data-wysihtml5-command="small" title="CTRL+S" tabindex="-1">'+c(typeof(i=null==(i=null==(i=e&&e.locale)||!1===i?i:i.emphasis)||!1===i?i:i.small)===l?i.apply(e):i)+"</a>\n    "},r),data:r}))||0===a)&&(s+=a),s+"\n  </div>\n</li>\n"}),this.wysihtml5.tpl["font-styles"]=Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,a="",s="function",l=this.escapeExpression,c=this;return a+='<li class="dropdown">\n  <a class="btn btn-default dropdown-toggle ',((o=n.if.call(t,null==(o=null==(o=t&&t.options)||!1===o?o:o.toolbar)||!1===o?o:o.size,{hash:{},inverse:c.noop,fn:c.program(1,function(e){var t;return"btn-"+l(typeof(t=null==(t=null==(t=e&&e.options)||!1===t?t:t.toolbar)||!1===t?t:t.size)===s?t.apply(e):t)},r),data:r}))||0===o)&&(a+=o),a+='" data-toggle="dropdown">\n    ',((o=n.if.call(t,null==(o=null==(o=t&&t.options)||!1===o?o:o.toolbar)||!1===o?o:o.fa,{hash:{},inverse:c.program(5,function(){return'\n      <span class="glyphicon glyphicon-font"></span>\n    '},r),fn:c.program(3,function(){return'\n      <span class="fa fa-font"></span>\n    '},r),data:r}))||0===o)&&(a+=o),a+'\n    <span class="current-font">'+l(typeof(o=null==(o=null==(o=t&&t.locale)||!1===o?o:o.font_styles)||!1===o?o:o.normal)===s?o.apply(t):o)+'</span>\n    <b class="caret"></b>\n  </a>\n  <ul class="dropdown-menu">\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="p" tabindex="-1">'+l(typeof(o=null==(o=null==(o=t&&t.locale)||!1===o?o:o.font_styles)||!1===o?o:o.normal)===s?o.apply(t):o)+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h1" tabindex="-1">'+l(typeof(o=null==(o=null==(o=t&&t.locale)||!1===o?o:o.font_styles)||!1===o?o:o.h1)===s?o.apply(t):o)+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h2" tabindex="-1">'+l(typeof(o=null==(o=null==(o=t&&t.locale)||!1===o?o:o.font_styles)||!1===o?o:o.h2)===s?o.apply(t):o)+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h3" tabindex="-1">'+l(typeof(o=null==(o=null==(o=t&&t.locale)||!1===o?o:o.font_styles)||!1===o?o:o.h3)===s?o.apply(t):o)+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h4" tabindex="-1">'+l(typeof(o=null==(o=null==(o=t&&t.locale)||!1===o?o:o.font_styles)||!1===o?o:o.h4)===s?o.apply(t):o)+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h5" tabindex="-1">'+l(typeof(o=null==(o=null==(o=t&&t.locale)||!1===o?o:o.font_styles)||!1===o?o:o.h5)===s?o.apply(t):o)+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h6" tabindex="-1">'+l(typeof(o=null==(o=null==(o=t&&t.locale)||!1===o?o:o.font_styles)||!1===o?o:o.h6)===s?o.apply(t):o)+"</a></li>\n  </ul>\n</li>\n"}),this.wysihtml5.tpl.html=Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,a="",s="function",l=this.escapeExpression,c=this;return a+='<li>\n  <div class="btn-group">\n    <a class="btn ',((o=n.if.call(t,null==(o=null==(o=t&&t.options)||!1===o?o:o.toolbar)||!1===o?o:o.size,{hash:{},inverse:c.noop,fn:c.program(1,function(e){var t;return"btn-"+l(typeof(t=null==(t=null==(t=e&&e.options)||!1===t?t:t.toolbar)||!1===t?t:t.size)===s?t.apply(e):t)},r),data:r}))||0===o)&&(a+=o),a+=' btn-default" data-wysihtml5-action="change_view" title="'+l(typeof(o=null==(o=null==(o=t&&t.locale)||!1===o?o:o.html)||!1===o?o:o.edit)===s?o.apply(t):o)+'" tabindex="-1">\n      ',((o=n.if.call(t,null==(o=null==(o=t&&t.options)||!1===o?o:o.toolbar)||!1===o?o:o.fa,{hash:{},inverse:c.program(5,function(){return'\n        <span class="glyphicon glyphicon-pencil"></span>\n      '},r),fn:c.program(3,function(){return'\n        <span class="fa fa-pencil"></span>\n      '},r),data:r}))||0===o)&&(a+=o),a+"\n    </a>\n  </div>\n</li>\n"}),this.wysihtml5.tpl.image=Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,a="",s="function",l=this.escapeExpression,c=this;return a+='<li>\n  <div class="bootstrap-wysihtml5-insert-image-modal modal fade" data-wysihtml5-dialog="insertImage">\n    <div class="modal-dialog ',((o=n.if.call(t,null==(o=null==(o=t&&t.options)||!1===o?o:o.toolbar)||!1===o?o:o.smallmodals,{hash:{},inverse:c.noop,fn:c.program(1,function(){return"modal-sm"},r),data:r}))||0===o)&&(a+=o),a+='">\n      <div class="modal-content">\n        <div class="modal-header">\n          <a class="close" data-dismiss="modal">&times;</a>\n          <h3>'+l(typeof(o=null==(o=null==(o=t&&t.locale)||!1===o?o:o.image)||!1===o?o:o.insert)===s?o.apply(t):o)+'</h3>\n        </div>\n        <div class="modal-body">\n          <div class="form-group">\n            <input value="http://" class="bootstrap-wysihtml5-insert-image-url form-control">\n          </div> \n        </div>\n        <div class="modal-footer">\n          <a class="btn btn-default" data-dismiss="modal" data-wysihtml5-dialog-action="cancel" href="#">'+l(typeof(o=null==(o=null==(o=t&&t.locale)||!1===o?o:o.image)||!1===o?o:o.cancel)===s?o.apply(t):o)+'</a>\n          <a class="btn btn-primary" data-dismiss="modal"  data-wysihtml5-dialog-action="save" href="#">'+l(typeof(o=null==(o=null==(o=t&&t.locale)||!1===o?o:o.image)||!1===o?o:o.insert)===s?o.apply(t):o)+'</a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <a class="btn ',((o=n.if.call(t,null==(o=null==(o=t&&t.options)||!1===o?o:o.toolbar)||!1===o?o:o.size,{hash:{},inverse:c.noop,fn:c.program(3,function(e){var t;return"btn-"+l(typeof(t=null==(t=null==(t=e&&e.options)||!1===t?t:t.toolbar)||!1===t?t:t.size)===s?t.apply(e):t)},r),data:r}))||0===o)&&(a+=o),a+=' btn-default" data-wysihtml5-command="insertImage" title="'+l(typeof(o=null==(o=null==(o=t&&t.locale)||!1===o?o:o.image)||!1===o?o:o.insert)===s?o.apply(t):o)+'" tabindex="-1">\n    ',((o=n.if.call(t,null==(o=null==(o=t&&t.options)||!1===o?o:o.toolbar)||!1===o?o:o.fa,{hash:{},inverse:c.program(7,function(){return'\n      <span class="glyphicon glyphicon-picture"></span>\n    '},r),fn:c.program(5,function(){return'\n      <span class="fa fa-file-image-o"></span>\n    '},r),data:r}))||0===o)&&(a+=o),a+"\n  </a>\n</li>\n"}),this.wysihtml5.tpl.link=Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,a="",s="function",l=this.escapeExpression,c=this;return a+='<li>\n  <div class="bootstrap-wysihtml5-insert-link-modal modal fade" data-wysihtml5-dialog="createLink">\n    <div class="modal-dialog ',((o=n.if.call(t,null==(o=null==(o=t&&t.options)||!1===o?o:o.toolbar)||!1===o?o:o.smallmodals,{hash:{},inverse:c.noop,fn:c.program(1,function(){return"modal-sm"},r),data:r}))||0===o)&&(a+=o),a+='">\n      <div class="modal-content">\n        <div class="modal-header">\n          <a class="close" data-dismiss="modal">&times;</a>\n          <h3>'+l(typeof(o=null==(o=null==(o=t&&t.locale)||!1===o?o:o.link)||!1===o?o:o.insert)===s?o.apply(t):o)+'</h3>\n        </div>\n        <div class="modal-body">\n          <div class="form-group">\n            <input value="http://" class="bootstrap-wysihtml5-insert-link-url form-control" data-wysihtml5-dialog-field="href">\n          </div> \n          <div class="checkbox">\n            <label> \n              <input type="checkbox" class="bootstrap-wysihtml5-insert-link-target" checked>'+l(typeof(o=null==(o=null==(o=t&&t.locale)||!1===o?o:o.link)||!1===o?o:o.target)===s?o.apply(t):o)+'\n            </label>\n          </div>\n        </div>\n        <div class="modal-footer">\n          <a class="btn btn-default" data-dismiss="modal" data-wysihtml5-dialog-action="cancel" href="#">'+l(typeof(o=null==(o=null==(o=t&&t.locale)||!1===o?o:o.link)||!1===o?o:o.cancel)===s?o.apply(t):o)+'</a>\n          <a href="#" class="btn btn-primary" data-dismiss="modal" data-wysihtml5-dialog-action="save">'+l(typeof(o=null==(o=null==(o=t&&t.locale)||!1===o?o:o.link)||!1===o?o:o.insert)===s?o.apply(t):o)+'</a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <a class="btn ',((o=n.if.call(t,null==(o=null==(o=t&&t.options)||!1===o?o:o.toolbar)||!1===o?o:o.size,{hash:{},inverse:c.noop,fn:c.program(3,function(e){var t;return"btn-"+l(typeof(t=null==(t=null==(t=e&&e.options)||!1===t?t:t.toolbar)||!1===t?t:t.size)===s?t.apply(e):t)},r),data:r}))||0===o)&&(a+=o),a+=' btn-default" data-wysihtml5-command="createLink" title="'+l(typeof(o=null==(o=null==(o=t&&t.locale)||!1===o?o:o.link)||!1===o?o:o.insert)===s?o.apply(t):o)+'" tabindex="-1">\n    ',((o=n.if.call(t,null==(o=null==(o=t&&t.options)||!1===o?o:o.toolbar)||!1===o?o:o.fa,{hash:{},inverse:c.program(7,function(){return'\n      <span class="glyphicon glyphicon-share"></span>\n    '},r),fn:c.program(5,function(){return'\n      <span class="fa fa-share-square-o"></span>\n    '},r),data:r}))||0===o)&&(a+=o),a+"\n  </a>\n</li>\n"}),this.wysihtml5.tpl.lists=Handlebars.template(function(e,t,n,i,r){function o(e){var t;return""+"btn-"+c(typeof(t=null==(t=null==(t=e&&e.options)||!1===t?t:t.toolbar)||!1===t?t:t.size)===l?t.apply(e):t)}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var a,s="",l="function",c=this.escapeExpression,d=this;return s+='<li>\n  <div class="btn-group">\n    <a class="btn ',((a=n.if.call(t,null==(a=null==(a=t&&t.options)||!1===a?a:a.toolbar)||!1===a?a:a.size,{hash:{},inverse:d.noop,fn:d.program(1,o,r),data:r}))||0===a)&&(s+=a),s+=' btn-default" data-wysihtml5-command="insertUnorderedList" title="'+c(typeof(a=null==(a=null==(a=t&&t.locale)||!1===a?a:a.lists)||!1===a?a:a.unordered)===l?a.apply(t):a)+'" tabindex="-1">\n    ',((a=n.if.call(t,null==(a=null==(a=t&&t.options)||!1===a?a:a.toolbar)||!1===a?a:a.fa,{hash:{},inverse:d.program(5,function(){return'\n      <span class="glyphicon glyphicon-list"></span>\n    '},r),fn:d.program(3,function(){return'\n      <span class="fa fa-list-ul"></span>\n    '},r),data:r}))||0===a)&&(s+=a),s+='\n    </a>\n    <a class="btn ',((a=n.if.call(t,null==(a=null==(a=t&&t.options)||!1===a?a:a.toolbar)||!1===a?a:a.size,{hash:{},inverse:d.noop,fn:d.program(1,o,r),data:r}))||0===a)&&(s+=a),s+=' btn-default" data-wysihtml5-command="insertOrderedList" title="'+c(typeof(a=null==(a=null==(a=t&&t.locale)||!1===a?a:a.lists)||!1===a?a:a.ordered)===l?a.apply(t):a)+'" tabindex="-1">\n    ',((a=n.if.call(t,null==(a=null==(a=t&&t.options)||!1===a?a:a.toolbar)||!1===a?a:a.fa,{hash:{},inverse:d.program(9,function(){return'\n      <span class="glyphicon glyphicon-th-list"></span>\n    '},r),fn:d.program(7,function(){return'\n      <span class="fa fa-list-ol"></span>\n    '},r),data:r}))||0===a)&&(s+=a),s+='\n    </a>\n    <a class="btn ',((a=n.if.call(t,null==(a=null==(a=t&&t.options)||!1===a?a:a.toolbar)||!1===a?a:a.size,{hash:{},inverse:d.noop,fn:d.program(1,o,r),data:r}))||0===a)&&(s+=a),s+=' btn-default" data-wysihtml5-command="Outdent" title="'+c(typeof(a=null==(a=null==(a=t&&t.locale)||!1===a?a:a.lists)||!1===a?a:a.outdent)===l?a.apply(t):a)+'" tabindex="-1">\n    ',((a=n.if.call(t,null==(a=null==(a=t&&t.options)||!1===a?a:a.toolbar)||!1===a?a:a.fa,{hash:{},inverse:d.program(13,function(){return'\n      <span class="glyphicon glyphicon-indent-right"></span>\n    '},r),fn:d.program(11,function(){return'\n      <span class="fa fa-outdent"></span>\n    '},r),data:r}))||0===a)&&(s+=a),s+='\n    </a>\n    <a class="btn ',((a=n.if.call(t,null==(a=null==(a=t&&t.options)||!1===a?a:a.toolbar)||!1===a?a:a.size,{hash:{},inverse:d.noop,fn:d.program(1,o,r),data:r}))||0===a)&&(s+=a),s+=' btn-default" data-wysihtml5-command="Indent" title="'+c(typeof(a=null==(a=null==(a=t&&t.locale)||!1===a?a:a.lists)||!1===a?a:a.indent)===l?a.apply(t):a)+'" tabindex="-1">\n    ',((a=n.if.call(t,null==(a=null==(a=t&&t.options)||!1===a?a:a.toolbar)||!1===a?a:a.fa,{hash:{},inverse:d.program(17,function(){return'\n      <span class="glyphicon glyphicon-indent-left"></span>\n    '},r),fn:d.program(15,function(){return'\n      <span class="fa fa-indent"></span>\n    '},r),data:r}))||0===a)&&(s+=a),s+"\n    </a>\n  </div>\n</li>\n"}),function(e){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5",["jquery","wysihtml5","bootstrap","bootstrap.wysihtml5.templates","bootstrap.wysihtml5.commands"],e):e(jQuery,wysihtml5)}(function(e,t){!function(e,t){"use strict";var n=function(e,n,i){return t.tpl[e]?t.tpl[e]({locale:n,options:i}):void 0},i=function(n,i){this.el=n;var r=e.extend(!0,{},o,i);for(var a in r.customTemplates)t.tpl[a]=r.customTemplates[a];this.toolbar=this.createToolbar(n,r),this.editor=this.createEditor(r)};i.prototype={constructor:i,createEditor:function(n){n=n||{},(n=e.extend(!0,{},n)).toolbar=this.toolbar[0];var i=new t.Editor(this.el[0],n);if(i.composer.editableArea.contentDocument?this.addMoreShortcuts(i,i.composer.editableArea.contentDocument.body||i.composer.editableArea.contentDocument,n.shortcuts):this.addMoreShortcuts(i,i.composer.editableArea,n.shortcuts),n&&n.events)for(var r in n.events)i.on(r,n.events[r]);return i.on("beforeload",this.syncBootstrapDialogEvents),i},syncBootstrapDialogEvents:function(){var t=this;e.map(this.toolbar.commandMapping,function(e){return[e]}).filter(function(e){return e.dialog}).map(function(e){return e.dialog}).forEach(function(n){n.on("show",function(){e(this.container).modal("show")}),n.on("hide",function(){e(this.container).modal("hide"),t.composer.focus()}),e(n.container).on("shown.bs.modal",function(){e(this).find("input, select, textarea").first().focus()})})},createToolbar:function(t,i){var r=this,s=e("<ul/>",{class:"wysihtml5-toolbar",style:"display:none"}),l=i.locale||o.locale||"en";a.hasOwnProperty(l)||(l="en");var c=e.extend(!0,{},a.en,a[l]);for(var d in i.toolbar)i.toolbar[d]&&(s.append(n(d,c,i)),"html"===d&&this.initHtml(s));return s.find('a[data-wysihtml5-command="formatBlock"]').click(function(t){var n=t.delegateTarget||t.target||t.srcElement,i=e(n),o=i.data("wysihtml5-display-format-name"),a=i.data("wysihtml5-format-name")||i.html();(void 0===o||"true"===o)&&r.toolbar.find(".current-font").text(a)}),s.find('a[data-wysihtml5-command="foreColor"]').click(function(t){var n=t.target||t.srcElement,i=e(n);r.toolbar.find(".current-color").text(i.html())}),this.el.before(s),s},initHtml:function(e){var t='a[data-wysihtml5-action="change_view"]';e.find(t).click(function(){e.find("a.btn").not(t).toggleClass("disabled")})},addMoreShortcuts:function(e,n,i){t.dom.observe(n,"keydown",function(n){var r=n.keyCode,o=i[r];if((n.ctrlKey||n.metaKey||n.altKey)&&o&&t.commands[o]){var a=e.toolbar.commandMapping[o+":null"];a&&a.dialog&&!a.state?a.dialog.show():t.commands[o].exec(e.composer,o),n.preventDefault()}})}};var r={resetDefaults:function(){e.fn.wysihtml5.defaultOptions=e.extend(!0,{},e.fn.wysihtml5.defaultOptionsCache)},bypassDefaults:function(t){return this.each(function(){var n=e(this);n.data("wysihtml5",new i(n,t))})},shallowExtend:function(t){var n=e.extend({},e.fn.wysihtml5.defaultOptions,t||{},e(this).data());return r.bypassDefaults.apply(this,[n])},deepExtend:function(t){var n=e.extend(!0,{},e.fn.wysihtml5.defaultOptions,t||{});return r.bypassDefaults.apply(this,[n])},init:function(e){return r.shallowExtend.apply(this,[e])}};e.fn.wysihtml5=function(t){return r[t]?r[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.wysihtml5"):r.init.apply(this,arguments)},e.fn.wysihtml5.Constructor=i;var o=e.fn.wysihtml5.defaultOptions={toolbar:{"font-styles":!0,color:!1,emphasis:{small:!0},blockquote:!0,lists:!0,html:!1,link:!0,image:!0,smallmodals:!1},parserRules:{classes:{"wysiwyg-color-silver":1,"wysiwyg-color-gray":1,"wysiwyg-color-white":1,"wysiwyg-color-maroon":1,"wysiwyg-color-red":1,"wysiwyg-color-purple":1,"wysiwyg-color-fuchsia":1,"wysiwyg-color-green":1,"wysiwyg-color-lime":1,"wysiwyg-color-olive":1,"wysiwyg-color-yellow":1,"wysiwyg-color-navy":1,"wysiwyg-color-blue":1,"wysiwyg-color-teal":1,"wysiwyg-color-aqua":1,"wysiwyg-color-orange":1},tags:{b:{},i:{},strong:{},em:{},p:{},br:{},ol:{},ul:{},li:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},blockquote:{},u:1,img:{check_attributes:{width:"numbers",alt:"alt",src:"url",height:"numbers"}},a:{check_attributes:{href:"url"},set_attributes:{target:"_blank",rel:"nofollow"}},span:1,div:1,small:1,code:1,pre:1}},locale:"en",shortcuts:{83:"small"}};void 0===e.fn.wysihtml5.defaultOptionsCache&&(e.fn.wysihtml5.defaultOptionsCache=e.extend(!0,{},e.fn.wysihtml5.defaultOptions));var a=e.fn.wysihtml5.locale={}}(e,t)}),function(e){e.commands.small={exec:function(t,n){return e.commands.formatInline.exec(t,n,"small")},state:function(t,n){return e.commands.formatInline.state(t,n,"small")}}}(wysihtml5),function(e){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.en-US",["jquery","bootstrap.wysihtml5"],e):e(jQuery)}(function(e){e.fn.wysihtml5.locale.en=e.fn.wysihtml5.locale["en-US"]={font_styles:{normal:"Normal text",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6"},emphasis:{bold:"Bold",italic:"Italic",underline:"Underline",small:"Small"},lists:{unordered:"Unordered list",ordered:"Ordered list",outdent:"Outdent",indent:"Indent"},link:{insert:"Insert link",cancel:"Cancel",target:"Open link in new window"},image:{insert:"Insert image",cancel:"Cancel"},html:{edit:"Edit HTML"},colours:{black:"Black",silver:"Silver",gray:"Grey",maroon:"Maroon",red:"Red",purple:"Purple",green:"Green",olive:"Olive",navy:"Navy",blue:"Blue",orange:"Orange"}}}),function(e,t,n,i){var r="ontouchstart"in n,o=function(){var e=n.createElement("div"),i=n.documentElement;if(!("pointerEvents"in e.style))return!1;e.style.pointerEvents="auto",e.style.pointerEvents="x",i.appendChild(e);var r=t.getComputedStyle&&"auto"===t.getComputedStyle(e,"").pointerEvents;return i.removeChild(e),!!r}(),a={listNodeName:"ol",itemNodeName:"li",rootClass:"dd",listClass:"dd-list",itemClass:"dd-item",dragClass:"dd-dragel",handleClass:"dd-handle",collapsedClass:"dd-collapsed",placeClass:"dd-placeholder",noDragClass:"dd-nodrag",emptyClass:"dd-empty",expandBtnHTML:'<button data-action="expand" type="button">Expand</button>',collapseBtnHTML:'<button data-action="collapse" type="button">Collapse</button>',group:0,maxDepth:5,threshold:20};function s(t,i){this.w=e(n),this.el=e(t),this.options=e.extend({},a,i),this.init()}s.prototype={init:function(){var n=this;n.reset(),n.el.data("nestable-group",this.options.group),n.placeEl=e('<div class="'+n.options.placeClass+'"/>'),e.each(this.el.find(n.options.itemNodeName),function(t,i){n.setParent(e(i))}),n.el.on("click","button",function(t){if(!n.dragEl){var i=e(t.currentTarget),r=i.data("action"),o=i.parent(n.options.itemNodeName);"collapse"===r&&n.collapseItem(o),"expand"===r&&n.expandItem(o)}});var i=function(t){var i=e(t.target);if(!i.hasClass(n.options.handleClass)){if(i.closest("."+n.options.noDragClass).length)return;i=i.closest("."+n.options.handleClass)}i.length&&!n.dragEl&&(n.isTouch=/^touch/.test(t.type),n.isTouch&&1!==t.touches.length||(t.preventDefault(),n.dragStart(t.touches?t.touches[0]:t)))},o=function(e){n.dragEl&&(e.preventDefault(),n.dragMove(e.touches?e.touches[0]:e))},a=function(e){n.dragEl&&(e.preventDefault(),n.dragStop(e.touches?e.touches[0]:e))};r&&(n.el[0].addEventListener("touchstart",i,!1),t.addEventListener("touchmove",o,!1),t.addEventListener("touchend",a,!1),t.addEventListener("touchcancel",a,!1)),n.el.on("mousedown",i),n.w.on("mousemove",o),n.w.on("mouseup",a)},serialize:function(){var t=this;return step=function(n,i){var r=[];return n.children(t.options.itemNodeName).each(function(){var n=e(this),o=e.extend({},n.data()),a=n.children(t.options.listNodeName);a.length&&(o.children=step(a,i+1)),r.push(o)}),r},step(t.el.find(t.options.listNodeName).first(),0)},serialise:function(){return this.serialize()},reset:function(){this.mouse={offsetX:0,offsetY:0,startX:0,startY:0,lastX:0,lastY:0,nowX:0,nowY:0,distX:0,distY:0,dirAx:0,dirX:0,dirY:0,lastDirX:0,lastDirY:0,distAxX:0,distAxY:0},this.isTouch=!1,this.moving=!1,this.dragEl=null,this.dragRootEl=null,this.dragDepth=0,this.hasNewRoot=!1,this.pointEl=null},expandItem:function(e){e.removeClass(this.options.collapsedClass),e.children('[data-action="expand"]').hide(),e.children('[data-action="collapse"]').show(),e.children(this.options.listNodeName).show()},collapseItem:function(e){e.children(this.options.listNodeName).length&&(e.addClass(this.options.collapsedClass),e.children('[data-action="collapse"]').hide(),e.children('[data-action="expand"]').show(),e.children(this.options.listNodeName).hide())},expandAll:function(){var t=this;t.el.find(t.options.itemNodeName).each(function(){t.expandItem(e(this))})},collapseAll:function(){var t=this;t.el.find(t.options.itemNodeName).each(function(){t.collapseItem(e(this))})},setParent:function(t){t.children(this.options.listNodeName).length&&(t.prepend(e(this.options.expandBtnHTML)),t.prepend(e(this.options.collapseBtnHTML))),t.children('[data-action="expand"]').hide()},unsetParent:function(e){e.removeClass(this.options.collapsedClass),e.children("[data-action]").remove(),e.children(this.options.listNodeName).remove()},dragStart:function(t){var i=this.mouse,r=e(t.target),o=r.closest(this.options.itemNodeName);this.placeEl.css("height",o.height()),i.offsetX=void 0!==t.offsetX?t.offsetX:t.pageX-r.offset().left,i.offsetY=void 0!==t.offsetY?t.offsetY:t.pageY-r.offset().top,i.startX=i.lastX=t.pageX,i.startY=i.lastY=t.pageY,this.dragRootEl=this.el,this.dragEl=e(n.createElement(this.options.listNodeName)).addClass(this.options.listClass+" "+this.options.dragClass),this.dragEl.css("width",o.width()),o.after(this.placeEl),o[0].parentNode.removeChild(o[0]),o.appendTo(this.dragEl),e(n.body).append(this.dragEl),this.dragEl.css({left:t.pageX-i.offsetX,top:t.pageY-i.offsetY});var a,s,l=this.dragEl.find(this.options.itemNodeName);for(a=0;a<l.length;a++)(s=e(l[a]).parents(this.options.listNodeName).length)>this.dragDepth&&(this.dragDepth=s)},dragStop:function(e){var t=this.dragEl.children(this.options.itemNodeName).first();t[0].parentNode.removeChild(t[0]),this.placeEl.replaceWith(t),this.dragEl.remove(),this.el.trigger("change"),this.hasNewRoot&&this.dragRootEl.trigger("change"),this.reset()},dragMove:function(i){var r,a,s,l=this.options,c=this.mouse;this.dragEl.css({left:i.pageX-c.offsetX,top:i.pageY-c.offsetY}),c.lastX=c.nowX,c.lastY=c.nowY,c.nowX=i.pageX,c.nowY=i.pageY,c.distX=c.nowX-c.lastX,c.distY=c.nowY-c.lastY,c.lastDirX=c.dirX,c.lastDirY=c.dirY,c.dirX=0===c.distX?0:c.distX>0?1:-1,c.dirY=0===c.distY?0:c.distY>0?1:-1;var d=Math.abs(c.distX)>Math.abs(c.distY)?1:0;if(!c.moving)return c.dirAx=d,void(c.moving=!0);c.dirAx!==d?(c.distAxX=0,c.distAxY=0):(c.distAxX+=Math.abs(c.distX),0!==c.dirX&&c.dirX!==c.lastDirX&&(c.distAxX=0),c.distAxY+=Math.abs(c.distY),0!==c.dirY&&c.dirY!==c.lastDirY&&(c.distAxY=0)),c.dirAx=d,c.dirAx&&c.distAxX>=l.threshold&&(c.distAxX=0,s=this.placeEl.prev(l.itemNodeName),c.distX>0&&s.length&&!s.hasClass(l.collapsedClass)&&(r=s.find(l.listNodeName).last(),this.placeEl.parents(l.listNodeName).length+this.dragDepth<=l.maxDepth&&(r.length?(r=s.children(l.listNodeName).last()).append(this.placeEl):((r=e("<"+l.listNodeName+"/>").addClass(l.listClass)).append(this.placeEl),s.append(r),this.setParent(s)))),c.distX<0&&(this.placeEl.next(l.itemNodeName).length||(a=this.placeEl.parent(),this.placeEl.closest(l.itemNodeName).after(this.placeEl),a.children().length||this.unsetParent(a.parent()))));var u=!1;if(o||(this.dragEl[0].style.visibility="hidden"),this.pointEl=e(n.elementFromPoint(i.pageX-n.body.scrollLeft,i.pageY-(t.pageYOffset||n.documentElement.scrollTop))),o||(this.dragEl[0].style.visibility="visible"),this.pointEl.hasClass(l.handleClass)&&(this.pointEl=this.pointEl.parent(l.itemNodeName)),this.pointEl.hasClass(l.emptyClass))u=!0;else if(!this.pointEl.length||!this.pointEl.hasClass(l.itemClass))return;var h=this.pointEl.closest("."+l.rootClass),f=this.dragRootEl.data("nestable-id")!==h.data("nestable-id");if(!c.dirAx||f||u){if(f&&l.group!==h.data("nestable-group"))return;if(this.dragDepth-1+this.pointEl.parents(l.listNodeName).length>l.maxDepth)return;var p=i.pageY<this.pointEl.offset().top+this.pointEl.height()/2;a=this.placeEl.parent(),u?((r=e(n.createElement(l.listNodeName)).addClass(l.listClass)).append(this.placeEl),this.pointEl.replaceWith(r)):p?this.pointEl.before(this.placeEl):this.pointEl.after(this.placeEl),a.children().length||this.unsetParent(a.parent()),this.dragRootEl.find(l.itemNodeName).length||this.dragRootEl.append('<div class="'+l.emptyClass+'"/>'),f&&(this.dragRootEl=h,this.hasNewRoot=this.el[0]!==this.dragRootEl[0])}}},e.fn.nestable=function(t){var n=this;return this.each(function(){var i=e(this).data("nestable");i?"string"==typeof t&&"function"==typeof i[t]&&(n=i[t]()):(e(this).data("nestable",new s(this,t)),e(this).data("nestable-id",(new Date).getTime()))}),n||this}}(window.jQuery||window.Zepto,window,document),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Cropper=t()}(this,function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function i(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(i,!0).forEach(function(t){var n,r,o;n=e,o=i[r=t],r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var o="undefined"!=typeof window&&void 0!==window.document,a=o?window:{},s=o&&"ontouchstart"in a.document.documentElement,l=o&&"PointerEvent"in a,c="cropper",d="all",u="crop",h="move",f="zoom",p="e",m="w",g="s",v="n",y="ne",b="nw",w="se",x="sw",_="".concat(c,"-crop"),C="".concat(c,"-disabled"),S="".concat(c,"-hidden"),k="".concat(c,"-hide"),T="".concat(c,"-invisible"),E="".concat(c,"-modal"),D="".concat(c,"-move"),N="".concat(c,"Action"),A="".concat(c,"Preview"),O="crop",I="move",R="none",P="crop",M="cropend",j="cropmove",L="cropstart",B="dblclick",$=l?"pointerdown":s?"touchstart":"mousedown",F=l?"pointermove":s?"touchmove":"mousemove",H=l?"pointerup pointercancel":s?"touchend touchcancel":"mouseup",z="ready",W="zoom",U="image/jpeg",q=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,V=/^data:/,Y=/^data:image\/jpeg;base64,/,X=/^img|canvas$/i,G={viewMode:0,dragMode:O,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},K=Number.isNaN||a.isNaN;function J(e){return"number"==typeof e&&!K(e)}var Q=function(e){return 0<e&&e<1/0};function Z(e){return void 0===e}function ee(t){return"object"===e(t)&&null!==t}var te=Object.prototype.hasOwnProperty;function ne(e){if(!ee(e))return!1;try{var t=e.constructor,n=t.prototype;return t&&n&&te.call(n,"isPrototypeOf")}catch(e){return!1}}function ie(e){return"function"==typeof e}var re=Array.prototype.slice;function oe(e){return Array.from?Array.from(e):re.call(e)}function ae(e,t){return e&&ie(t)&&(Array.isArray(e)||J(e.length)?oe(e).forEach(function(n,i){t.call(e,n,i,e)}):ee(e)&&Object.keys(e).forEach(function(n){t.call(e,e[n],n,e)})),e}var se=Object.assign||function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return ee(e)&&0<n.length&&n.forEach(function(t){ee(t)&&Object.keys(t).forEach(function(n){e[n]=t[n]})}),e},le=/\.\d*(?:0|9){12}\d*$/;function ce(e,t){var n=1<arguments.length&&void 0!==t?t:1e11;return le.test(e)?Math.round(e*n)/n:e}var de=/^width|height|left|top|marginLeft|marginTop$/;function ue(e,t){var n=e.style;ae(t,function(e,t){de.test(t)&&J(e)&&(e="".concat(e,"px")),n[t]=e})}function he(e,t){if(t)if(J(e.length))ae(e,function(e){he(e,t)});else if(e.classList)e.classList.add(t);else{var n=e.className.trim();n?n.indexOf(t)<0&&(e.className="".concat(n," ").concat(t)):e.className=t}}function fe(e,t){t&&(J(e.length)?ae(e,function(e){fe(e,t)}):e.classList?e.classList.remove(t):0<=e.className.indexOf(t)&&(e.className=e.className.replace(t,"")))}function pe(e,t,n){t&&(J(e.length)?ae(e,function(e){pe(e,t,n)}):n?he(e,t):fe(e,t))}var me=/([a-z\d])([A-Z])/g;function ge(e){return e.replace(me,"$1-$2").toLowerCase()}function ve(e,t){return ee(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(ge(t)))}function ye(e,t,n){ee(n)?e[t]=n:e.dataset?e.dataset[t]=n:e.setAttribute("data-".concat(ge(t)),n)}var be=/\s\s*/,we=function(){var e=!1;if(o){var t=!1,n=function(){},i=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(e){t=e}});a.addEventListener("test",n,i),a.removeEventListener("test",n,i)}return e}();function xe(e,t,n,i){var r=3<arguments.length&&void 0!==i?i:{},o=n;t.trim().split(be).forEach(function(t){if(!we){var i=e.listeners;i&&i[t]&&i[t][n]&&(o=i[t][n],delete i[t][n],0===Object.keys(i[t]).length&&delete i[t],0===Object.keys(i).length&&delete e.listeners)}e.removeEventListener(t,o,r)})}function _e(e,t,n,i){var r=3<arguments.length&&void 0!==i?i:{},o=n;t.trim().split(be).forEach(function(t){if(r.once&&!we){var i=e.listeners,a=void 0===i?{}:i;o=function(){delete a[t][n],e.removeEventListener(t,o,r);for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];n.apply(e,s)},a[t]||(a[t]={}),a[t][n]&&e.removeEventListener(t,a[t][n],r),a[t][n]=o,e.listeners=a}e.addEventListener(t,o,r)})}function Ce(e,t,n){var i;return ie(Event)&&ie(CustomEvent)?i=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0}):(i=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,n),e.dispatchEvent(i)}function Se(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var ke=a.location,Te=/^(\w+:)\/\/([^:\/?#]*):?(\d*)/i;function Ee(e){var t=e.match(Te);return null!==t&&(t[1]!==ke.protocol||t[2]!==ke.hostname||t[3]!==ke.port)}function De(e){var t="timestamp=".concat((new Date).getTime());return e+(-1===e.indexOf("?")?"?":"&")+t}function Ne(e){var t=e.rotate,n=e.scaleX,i=e.scaleY,r=e.translateX,o=e.translateY,a=[];J(r)&&0!==r&&a.push("translateX(".concat(r,"px)")),J(o)&&0!==o&&a.push("translateY(".concat(o,"px)")),J(t)&&0!==t&&a.push("rotate(".concat(t,"deg)")),J(n)&&1!==n&&a.push("scaleX(".concat(n,")")),J(i)&&1!==i&&a.push("scaleY(".concat(i,")"));var s=a.length?a.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function Ae(e,t){var n=e.pageX,r=e.pageY,o={endX:n,endY:r};return t?o:i({startX:n,startY:r},o)}function Oe(e,t){var n=e.aspectRatio,i=e.height,r=e.width,o=1<arguments.length&&void 0!==t?t:"contain",a=Q(r),s=Q(i);if(a&&s){var l=i*n;"contain"===o&&r<l||"cover"===o&&l<r?i=r/n:r=i*n}else a?i=r/n:s&&(r=i*n);return{width:r,height:i}}var Ie=String.fromCharCode,Re=/^data:.*,/;var Pe={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,t=this.options,n=this.container,i=this.cropper;he(i,S),fe(e,S);var r={width:Math.max(n.offsetWidth,Number(t.minContainerWidth)||200),height:Math.max(n.offsetHeight,Number(t.minContainerHeight)||100)};ue(i,{width:(this.containerData=r).width,height:r.height}),he(e,S),fe(i,S)},initCanvas:function(){var e=this.containerData,t=this.imageData,n=this.options.viewMode,i=Math.abs(t.rotate)%180==90,r=i?t.naturalHeight:t.naturalWidth,o=i?t.naturalWidth:t.naturalHeight,a=r/o,s=e.width,l=e.height;e.height*a>e.width?3===n?s=e.height*a:l=e.width/a:3===n?l=e.width/a:s=e.height*a;var c={aspectRatio:a,naturalWidth:r,naturalHeight:o,width:s,height:l};c.left=(e.width-s)/2,c.top=(e.height-l)/2,c.oldLeft=c.left,c.oldTop=c.top,this.canvasData=c,this.limited=1===n||2===n,this.limitCanvas(!0,!0),this.initialImageData=se({},t),this.initialCanvasData=se({},c)},limitCanvas:function(e,t){var n=this.options,i=this.containerData,r=this.canvasData,o=this.cropBoxData,a=n.viewMode,s=r.aspectRatio,l=this.cropped&&o;if(e){var c=Number(n.minCanvasWidth)||0,d=Number(n.minCanvasHeight)||0;1<a?(c=Math.max(c,i.width),d=Math.max(d,i.height),3===a&&(c<d*s?c=d*s:d=c/s)):0<a&&(c?c=Math.max(c,l?o.width:0):d?d=Math.max(d,l?o.height:0):l&&((c=o.width)<(d=o.height)*s?c=d*s:d=c/s));var u=Oe({aspectRatio:s,width:c,height:d});c=u.width,d=u.height,r.minWidth=c,r.minHeight=d,r.maxWidth=1/0,r.maxHeight=1/0}if(t)if((l?0:1)<a){var h=i.width-r.width,f=i.height-r.height;r.minLeft=Math.min(0,h),r.minTop=Math.min(0,f),r.maxLeft=Math.max(0,h),r.maxTop=Math.max(0,f),l&&this.limited&&(r.minLeft=Math.min(o.left,o.left+(o.width-r.width)),r.minTop=Math.min(o.top,o.top+(o.height-r.height)),r.maxLeft=o.left,r.maxTop=o.top,2===a&&(r.width>=i.width&&(r.minLeft=Math.min(0,h),r.maxLeft=Math.max(0,h)),r.height>=i.height&&(r.minTop=Math.min(0,f),r.maxTop=Math.max(0,f))))}else r.minLeft=-r.width,r.minTop=-r.height,r.maxLeft=i.width,r.maxTop=i.height},renderCanvas:function(e,t){var n=this.canvasData,i=this.imageData;if(t){var r=function(e){var t=e.width,n=e.height,i=e.degree;if(90==(i=Math.abs(i)%180))return{width:n,height:t};var r=i%90*Math.PI/180,o=Math.sin(r),a=Math.cos(r),s=t*a+n*o,l=t*o+n*a;return 90<i?{width:l,height:s}:{width:s,height:l}}({width:i.naturalWidth*Math.abs(i.scaleX||1),height:i.naturalHeight*Math.abs(i.scaleY||1),degree:i.rotate||0}),o=r.width,a=r.height,s=n.width*(o/n.naturalWidth),l=n.height*(a/n.naturalHeight);n.left-=(s-n.width)/2,n.top-=(l-n.height)/2,n.width=s,n.height=l,n.aspectRatio=o/a,n.naturalWidth=o,n.naturalHeight=a,this.limitCanvas(!0,!1)}(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCanvas(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,ue(this.canvas,se({width:n.width,height:n.height},Ne({translateX:n.left,translateY:n.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var t=this.canvasData,n=this.imageData,i=n.naturalWidth*(t.width/t.naturalWidth),r=n.naturalHeight*(t.height/t.naturalHeight);se(n,{width:i,height:r,left:(t.width-i)/2,top:(t.height-r)/2}),ue(this.image,se({width:n.width,height:n.height},Ne(se({translateX:n.left,translateY:n.top},n)))),e&&this.output()},initCropBox:function(){var e=this.options,t=this.canvasData,n=e.aspectRatio||e.initialAspectRatio,i=Number(e.autoCropArea)||.8,r={width:t.width,height:t.height};n&&(t.height*n>t.width?r.height=r.width/n:r.width=r.height*n),this.cropBoxData=r,this.limitCropBox(!0,!0),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),r.width=Math.max(r.minWidth,r.width*i),r.height=Math.max(r.minHeight,r.height*i),r.left=t.left+(t.width-r.width)/2,r.top=t.top+(t.height-r.height)/2,r.oldLeft=r.left,r.oldTop=r.top,this.initialCropBoxData=se({},r)},limitCropBox:function(e,t){var n=this.options,i=this.containerData,r=this.canvasData,o=this.cropBoxData,a=this.limited,s=n.aspectRatio;if(e){var l=Number(n.minCropBoxWidth)||0,c=Number(n.minCropBoxHeight)||0,d=a?Math.min(i.width,r.width,r.width+r.left,i.width-r.left):i.width,u=a?Math.min(i.height,r.height,r.height+r.top,i.height-r.top):i.height;l=Math.min(l,i.width),c=Math.min(c,i.height),s&&(l&&c?l<c*s?c=l/s:l=c*s:l?c=l/s:c&&(l=c*s),d<u*s?u=d/s:d=u*s),o.minWidth=Math.min(l,d),o.minHeight=Math.min(c,u),o.maxWidth=d,o.maxHeight=u}t&&(a?(o.minLeft=Math.max(0,r.left),o.minTop=Math.max(0,r.top),o.maxLeft=Math.min(i.width,r.left+r.width)-o.width,o.maxTop=Math.min(i.height,r.top+r.height)-o.height):(o.minLeft=0,o.minTop=0,o.maxLeft=i.width-o.width,o.maxTop=i.height-o.height))},renderCropBox:function(){var e=this.options,t=this.containerData,n=this.cropBoxData;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCropBox(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,e.movable&&e.cropBoxMovable&&ye(this.face,N,n.width>=t.width&&n.height>=t.height?h:d),ue(this.cropBox,se({width:n.width,height:n.height},Ne({translateX:n.left,translateY:n.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Ce(this.element,P,this.getData())}},Me={initPreview:function(){var e=this.element,t=this.crossOrigin,n=this.options.preview,i=t?this.crossOriginUrl:this.url,r=e.alt||"The image to preview",o=document.createElement("img");if(t&&(o.crossOrigin=t),o.src=i,o.alt=r,this.viewBox.appendChild(o),this.viewBoxImage=o,n){var a=n;"string"==typeof n?a=e.ownerDocument.querySelectorAll(n):n.querySelector&&(a=[n]),ae(this.previews=a,function(e){var n=document.createElement("img");ye(e,A,{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),t&&(n.crossOrigin=t),n.src=i,n.alt=r,n.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',e.innerHTML="",e.appendChild(n)})}},resetPreview:function(){ae(this.previews,function(e){var t=ve(e,A);ue(e,{width:t.width,height:t.height}),e.innerHTML=t.html,function(e,t){if(ee(e[t]))try{delete e[t]}catch(n){e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch(n){e.dataset[t]=void 0}else e.removeAttribute("data-".concat(ge(t)))}(e,A)})},preview:function(){var e=this.imageData,t=this.canvasData,n=this.cropBoxData,i=n.width,r=n.height,o=e.width,a=e.height,s=n.left-t.left-e.left,l=n.top-t.top-e.top;this.cropped&&!this.disabled&&(ue(this.viewBoxImage,se({width:o,height:a},Ne(se({translateX:-s,translateY:-l},e)))),ae(this.previews,function(t){var n=ve(t,A),c=n.width,d=n.height,u=c,h=d,f=1;i&&(h=r*(f=c/i)),r&&d<h&&(u=i*(f=d/r),h=d),ue(t,{width:u,height:h}),ue(t.getElementsByTagName("img")[0],se({width:o*f,height:a*f},Ne(se({translateX:-s*f,translateY:-l*f},e))))}))}},je={bind:function(){var e=this.element,t=this.options,n=this.cropper;ie(t.cropstart)&&_e(e,L,t.cropstart),ie(t.cropmove)&&_e(e,j,t.cropmove),ie(t.cropend)&&_e(e,M,t.cropend),ie(t.crop)&&_e(e,P,t.crop),ie(t.zoom)&&_e(e,W,t.zoom),_e(n,$,this.onCropStart=this.cropStart.bind(this)),t.zoomable&&t.zoomOnWheel&&_e(n,"wheel",this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&_e(n,B,this.onDblclick=this.dblclick.bind(this)),_e(e.ownerDocument,F,this.onCropMove=this.cropMove.bind(this)),_e(e.ownerDocument,H,this.onCropEnd=this.cropEnd.bind(this)),t.responsive&&_e(window,"resize",this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,t=this.options,n=this.cropper;ie(t.cropstart)&&xe(e,L,t.cropstart),ie(t.cropmove)&&xe(e,j,t.cropmove),ie(t.cropend)&&xe(e,M,t.cropend),ie(t.crop)&&xe(e,P,t.crop),ie(t.zoom)&&xe(e,W,t.zoom),xe(n,$,this.onCropStart),t.zoomable&&t.zoomOnWheel&&xe(n,"wheel",this.onWheel,{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&xe(n,B,this.onDblclick),xe(e.ownerDocument,F,this.onCropMove),xe(e.ownerDocument,H,this.onCropEnd),t.responsive&&xe(window,"resize",this.onResize)}},Le={resize:function(){var e=this.options,t=this.container,n=this.containerData,i=Number(e.minContainerWidth)||200,r=Number(e.minContainerHeight)||100;if(!(this.disabled||n.width<=i||n.height<=r)){var o,a,s=t.offsetWidth/n.width;1==s&&t.offsetHeight===n.height||(e.restore&&(o=this.getCanvasData(),a=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(ae(o,function(e,t){o[t]=e*s})),this.setCropBoxData(ae(a,function(e,t){a[t]=e*s}))))}},dblclick:function(){var e,t;this.disabled||this.options.dragMode===R||this.setDragMode((e=this.dragBox,t=_,(e.classList?e.classList.contains(t):-1<e.className.indexOf(t))?I:O))},wheel:function(e){var t=this,n=Number(this.options.wheelZoomRatio)||.1,i=1;this.disabled||(e.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout(function(){t.wheeling=!1},50),e.deltaY?i=0<e.deltaY?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=0<e.detail?1:-1),this.zoom(-i*n,e)))},cropStart:function(e){var t=e.buttons,n=e.button;if(!(this.disabled||("mousedown"===e.type||"pointerdown"===e.type&&"mouse"===e.pointerType)&&(J(t)&&1!==t||J(n)&&0!==n||e.ctrlKey))){var i,r=this.options,o=this.pointers;e.changedTouches?ae(e.changedTouches,function(e){o[e.identifier]=Ae(e)}):o[e.pointerId||0]=Ae(e),i=1<Object.keys(o).length&&r.zoomable&&r.zoomOnTouch?f:ve(e.target,N),q.test(i)&&!1!==Ce(this.element,L,{originalEvent:e,action:i})&&(e.preventDefault(),this.action=i,this.cropping=!1,i===u&&(this.cropping=!0,he(this.dragBox,E)))}},cropMove:function(e){var t=this.action;if(!this.disabled&&t){var n=this.pointers;e.preventDefault(),!1!==Ce(this.element,j,{originalEvent:e,action:t})&&(e.changedTouches?ae(e.changedTouches,function(e){se(n[e.identifier]||{},Ae(e,!0))}):se(n[e.pointerId||0]||{},Ae(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var t=this.action,n=this.pointers;e.changedTouches?ae(e.changedTouches,function(e){delete n[e.identifier]}):delete n[e.pointerId||0],t&&(e.preventDefault(),Object.keys(n).length||(this.action=""),this.cropping&&(this.cropping=!1,pe(this.dragBox,E,this.cropped&&this.options.modal)),Ce(this.element,M,{originalEvent:e,action:t}))}}},Be={change:function(e){var t,n=this.options,r=this.canvasData,o=this.containerData,a=this.cropBoxData,s=this.pointers,l=this.action,c=n.aspectRatio,_=a.left,C=a.top,k=a.width,T=a.height,E=_+k,D=C+T,N=0,A=0,O=o.width,I=o.height,R=!0;function P(e){switch(e){case p:E+j.x>O&&(j.x=O-E);break;case m:_+j.x<N&&(j.x=N-_);break;case v:C+j.y<A&&(j.y=A-C);break;case g:D+j.y>I&&(j.y=I-D)}}!c&&e.shiftKey&&(c=k&&T?k/T:1),this.limited&&(N=a.minLeft,A=a.minTop,O=N+Math.min(o.width,r.width,r.left+r.width),I=A+Math.min(o.height,r.height,r.top+r.height));var M=s[Object.keys(s)[0]],j={x:M.endX-M.startX,y:M.endY-M.startY};switch(l){case d:_+=j.x,C+=j.y;break;case p:if(0<=j.x&&(O<=E||c&&(C<=A||I<=D))){R=!1;break}P(p),(k+=j.x)<0&&(l=m,_-=k=-k),c&&(T=k/c,C+=(a.height-T)/2);break;case v:if(j.y<=0&&(C<=A||c&&(_<=N||O<=E))){R=!1;break}P(v),T-=j.y,C+=j.y,T<0&&(l=g,C-=T=-T),c&&(k=T*c,_+=(a.width-k)/2);break;case m:if(j.x<=0&&(_<=N||c&&(C<=A||I<=D))){R=!1;break}P(m),k-=j.x,_+=j.x,k<0&&(l=p,_-=k=-k),c&&(T=k/c,C+=(a.height-T)/2);break;case g:if(0<=j.y&&(I<=D||c&&(_<=N||O<=E))){R=!1;break}P(g),(T+=j.y)<0&&(l=v,C-=T=-T),c&&(k=T*c,_+=(a.width-k)/2);break;case y:if(c){if(j.y<=0&&(C<=A||O<=E)){R=!1;break}P(v),T-=j.y,C+=j.y,k=T*c}else P(v),P(p),0<=j.x?E<O?k+=j.x:j.y<=0&&C<=A&&(R=!1):k+=j.x,j.y<=0?A<C&&(T-=j.y,C+=j.y):(T-=j.y,C+=j.y);k<0&&T<0?(l=x,C-=T=-T,_-=k=-k):k<0?(l=b,_-=k=-k):T<0&&(l=w,C-=T=-T);break;case b:if(c){if(j.y<=0&&(C<=A||_<=N)){R=!1;break}P(v),T-=j.y,C+=j.y,k=T*c,_+=a.width-k}else P(v),P(m),j.x<=0?N<_?(k-=j.x,_+=j.x):j.y<=0&&C<=A&&(R=!1):(k-=j.x,_+=j.x),j.y<=0?A<C&&(T-=j.y,C+=j.y):(T-=j.y,C+=j.y);k<0&&T<0?(l=w,C-=T=-T,_-=k=-k):k<0?(l=y,_-=k=-k):T<0&&(l=x,C-=T=-T);break;case x:if(c){if(j.x<=0&&(_<=N||I<=D)){R=!1;break}P(m),k-=j.x,_+=j.x,T=k/c}else P(g),P(m),j.x<=0?N<_?(k-=j.x,_+=j.x):0<=j.y&&I<=D&&(R=!1):(k-=j.x,_+=j.x),0<=j.y?D<I&&(T+=j.y):T+=j.y;k<0&&T<0?(l=y,C-=T=-T,_-=k=-k):k<0?(l=w,_-=k=-k):T<0&&(l=b,C-=T=-T);break;case w:if(c){if(0<=j.x&&(O<=E||I<=D)){R=!1;break}P(p),T=(k+=j.x)/c}else P(g),P(p),0<=j.x?E<O?k+=j.x:0<=j.y&&I<=D&&(R=!1):k+=j.x,0<=j.y?D<I&&(T+=j.y):T+=j.y;k<0&&T<0?(l=b,C-=T=-T,_-=k=-k):k<0?(l=x,_-=k=-k):T<0&&(l=y,C-=T=-T);break;case h:this.move(j.x,j.y),R=!1;break;case f:this.zoom(function(e){var t=i({},e),n=[];return ae(e,function(e,i){delete t[i],ae(t,function(t){var i=Math.abs(e.startX-t.startX),r=Math.abs(e.startY-t.startY),o=Math.abs(e.endX-t.endX),a=Math.abs(e.endY-t.endY),s=Math.sqrt(i*i+r*r),l=(Math.sqrt(o*o+a*a)-s)/s;n.push(l)})}),n.sort(function(e,t){return Math.abs(e)<Math.abs(t)}),n[0]}(s),e),R=!1;break;case u:if(!j.x||!j.y){R=!1;break}t=Se(this.cropper),_=M.startX-t.left,C=M.startY-t.top,k=a.minWidth,T=a.minHeight,0<j.x?l=0<j.y?w:y:j.x<0&&(_-=k,l=0<j.y?x:b),j.y<0&&(C-=T),this.cropped||(fe(this.cropBox,S),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}R&&(a.width=k,a.height=T,a.left=_,a.top=C,this.action=l,this.renderCropBox()),ae(s,function(e){e.startX=e.endX,e.startY=e.endY})}},$e={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&he(this.dragBox,E),fe(this.cropBox,S),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=se({},this.initialImageData),this.canvasData=se({},this.initialCanvasData),this.cropBoxData=se({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(se(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),fe(this.dragBox,E),he(this.cropBox,S)),this},replace:function(e,t){var n=1<arguments.length&&void 0!==t&&t;return!this.disabled&&e&&(this.isImg&&(this.element.src=e),n?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,ae(this.previews,function(t){t.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,fe(this.cropper,C)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,he(this.cropper,C)),this},destroy:function(){var e=this.element;return e[c]&&(e[c]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate()),this},move:function(e,t){var n=1<arguments.length&&void 0!==t?t:e,i=this.canvasData,r=i.left,o=i.top;return this.moveTo(Z(e)?e:r+Number(e),Z(n)?n:o+Number(n))},moveTo:function(e,t){var n=1<arguments.length&&void 0!==t?t:e,i=this.canvasData,r=!1;return e=Number(e),n=Number(n),this.ready&&!this.disabled&&this.options.movable&&(J(e)&&(i.left=e,r=!0),J(n)&&(i.top=n,r=!0),r&&this.renderCanvas(!0)),this},zoom:function(e,t){var n=this.canvasData;return e=(e=Number(e))<0?1/(1-e):1+e,this.zoomTo(n.width*e/n.naturalWidth,null,t)},zoomTo:function(e,t,n){var i=this.options,r=this.canvasData,o=r.width,a=r.height,s=r.naturalWidth,l=r.naturalHeight;if(0<=(e=Number(e))&&this.ready&&!this.disabled&&i.zoomable){var c=s*e,d=l*e;if(!1===Ce(this.element,W,{ratio:e,oldRatio:o/s,originalEvent:n}))return this;if(n){var u=this.pointers,h=Se(this.cropper),f=u&&Object.keys(u).length?function(e){var t=0,n=0,i=0;return ae(u,function(e){var r=e.startX,o=e.startY;t+=r,n+=o,i+=1}),{pageX:t/=i,pageY:n/=i}}():{pageX:n.pageX,pageY:n.pageY};r.left-=(c-o)*((f.pageX-h.left-r.left)/o),r.top-=(d-a)*((f.pageY-h.top-r.top)/a)}else ne(t)&&J(t.x)&&J(t.y)?(r.left-=(c-o)*((t.x-r.left)/o),r.top-=(d-a)*((t.y-r.top)/a)):(r.left-=(c-o)/2,r.top-=(d-a)/2);r.width=c,r.height=d,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return J(e=Number(e))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var t=this.imageData.scaleY;return this.scale(e,J(t)?t:1)},scaleY:function(e){var t=this.imageData.scaleX;return this.scale(J(t)?t:1,e)},scale:function(e,t){var n=1<arguments.length&&void 0!==t?t:e,i=this.imageData,r=!1;return e=Number(e),n=Number(n),this.ready&&!this.disabled&&this.options.scalable&&(J(e)&&(i.scaleX=e,r=!0),J(n)&&(i.scaleY=n,r=!0),r&&this.renderCanvas(!0,!0)),this},getData:function(e){var t,n=0<arguments.length&&void 0!==e&&e,i=this.options,r=this.imageData,o=this.canvasData,a=this.cropBoxData;if(this.ready&&this.cropped){t={x:a.left-o.left,y:a.top-o.top,width:a.width,height:a.height};var s=r.width/r.naturalWidth;if(ae(t,function(e,n){t[n]=e/s}),n){var l=Math.round(t.y+t.height),c=Math.round(t.x+t.width);t.x=Math.round(t.x),t.y=Math.round(t.y),t.width=c-t.x,t.height=l-t.y}}else t={x:0,y:0,width:0,height:0};return i.rotatable&&(t.rotate=r.rotate||0),i.scalable&&(t.scaleX=r.scaleX||1,t.scaleY=r.scaleY||1),t},setData:function(e){var t=this.options,n=this.imageData,i=this.canvasData,r={};if(this.ready&&!this.disabled&&ne(e)){var o=!1;t.rotatable&&J(e.rotate)&&e.rotate!==n.rotate&&(n.rotate=e.rotate,o=!0),t.scalable&&(J(e.scaleX)&&e.scaleX!==n.scaleX&&(n.scaleX=e.scaleX,o=!0),J(e.scaleY)&&e.scaleY!==n.scaleY&&(n.scaleY=e.scaleY,o=!0)),o&&this.renderCanvas(!0,!0);var a=n.width/n.naturalWidth;J(e.x)&&(r.left=e.x*a+i.left),J(e.y)&&(r.top=e.y*a+i.top),J(e.width)&&(r.width=e.width*a),J(e.height)&&(r.height=e.height*a),this.setCropBoxData(r)}return this},getContainerData:function(){return this.ready?se({},this.containerData):{}},getImageData:function(){return this.sized?se({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,t={};return this.ready&&ae(["left","top","width","height","naturalWidth","naturalHeight"],function(n){t[n]=e[n]}),t},setCanvasData:function(e){var t=this.canvasData,n=t.aspectRatio;return this.ready&&!this.disabled&&ne(e)&&(J(e.left)&&(t.left=e.left),J(e.top)&&(t.top=e.top),J(e.width)?(t.width=e.width,t.height=e.width/n):J(e.height)&&(t.height=e.height,t.width=e.height*n),this.renderCanvas(!0)),this},getCropBoxData:function(){var e,t=this.cropBoxData;return this.ready&&this.cropped&&(e={left:t.left,top:t.top,width:t.width,height:t.height}),e||{}},setCropBoxData:function(e){var t,n,i=this.cropBoxData,r=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&ne(e)&&(J(e.left)&&(i.left=e.left),J(e.top)&&(i.top=e.top),J(e.width)&&e.width!==i.width&&(t=!0,i.width=e.width),J(e.height)&&e.height!==i.height&&(n=!0,i.height=e.height),r&&(t?i.height=i.width/r:n&&(i.width=i.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(e){var t=0<arguments.length&&void 0!==e?e:{};if(!this.ready||!window.HTMLCanvasElement)return null;var n=this.canvasData,i=function(e,t,n,i){var o=t.aspectRatio,a=t.naturalWidth,s=t.naturalHeight,l=t.rotate,c=void 0===l?0:l,d=t.scaleX,u=void 0===d?1:d,h=t.scaleY,f=void 0===h?1:h,p=n.aspectRatio,m=n.naturalWidth,g=n.naturalHeight,v=i.fillColor,y=void 0===v?"transparent":v,b=i.imageSmoothingEnabled,w=void 0===b||b,x=i.imageSmoothingQuality,_=void 0===x?"low":x,C=i.maxWidth,S=void 0===C?1/0:C,k=i.maxHeight,T=void 0===k?1/0:k,E=i.minWidth,D=void 0===E?0:E,N=i.minHeight,A=void 0===N?0:N,O=document.createElement("canvas"),I=O.getContext("2d"),R=Oe({aspectRatio:p,width:S,height:T}),P=Oe({aspectRatio:p,width:D,height:A},"cover"),M=Math.min(R.width,Math.max(P.width,m)),j=Math.min(R.height,Math.max(P.height,g)),L=Oe({aspectRatio:o,width:S,height:T}),B=Oe({aspectRatio:o,width:D,height:A},"cover"),$=Math.min(L.width,Math.max(B.width,a)),F=Math.min(L.height,Math.max(B.height,s)),H=[-$/2,-F/2,$,F];return O.width=ce(M),O.height=ce(j),I.fillStyle=y,I.fillRect(0,0,M,j),I.save(),I.translate(M/2,j/2),I.rotate(c*Math.PI/180),I.scale(u,f),I.imageSmoothingEnabled=w,I.imageSmoothingQuality=_,I.drawImage.apply(I,[e].concat(r(H.map(function(e){return Math.floor(ce(e))})))),I.restore(),O}(this.image,this.imageData,n,t);if(!this.cropped)return i;var o=this.getData(),a=o.x,s=o.y,l=o.width,c=o.height,d=i.width/Math.floor(n.naturalWidth);1!=d&&(a*=d,s*=d,l*=d,c*=d);var u=l/c,h=Oe({aspectRatio:u,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),f=Oe({aspectRatio:u,width:t.minWidth||0,height:t.minHeight||0},"cover"),p=Oe({aspectRatio:u,width:t.width||(1!=d?i.width:l),height:t.height||(1!=d?i.height:c)}),m=p.width,g=p.height;m=Math.min(h.width,Math.max(f.width,m)),g=Math.min(h.height,Math.max(f.height,g));var v=document.createElement("canvas"),y=v.getContext("2d");v.width=ce(m),v.height=ce(g),y.fillStyle=t.fillColor||"transparent",y.fillRect(0,0,m,g);var b=t.imageSmoothingEnabled,w=void 0===b||b,x=t.imageSmoothingQuality;y.imageSmoothingEnabled=w,x&&(y.imageSmoothingQuality=x);var _,C,S,k,T,E,D=i.width,N=i.height,A=a,O=s;A<=-l||D<A?T=S=_=A=0:A<=0?(S=-A,A=0,T=_=Math.min(D,l+A)):A<=D&&(S=0,T=_=Math.min(l,D-A)),_<=0||O<=-c||N<O?E=k=C=O=0:O<=0?(k=-O,O=0,E=C=Math.min(N,c+O)):O<=N&&(k=0,E=C=Math.min(c,N-O));var I=[A,O,_,C];if(0<T&&0<E){var R=m/l;I.push(S*R,k*R,T*R,E*R)}return y.drawImage.apply(y,[i].concat(r(I.map(function(e){return Math.floor(ce(e))})))),v},setAspectRatio:function(e){var t=this.options;return this.disabled||Z(e)||(t.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var t=this.options,n=this.dragBox,i=this.face;if(this.ready&&!this.disabled){var r=e===O,o=t.movable&&e===I;e=r||o?e:R,t.dragMode=e,ye(n,N,e),pe(n,_,r),pe(n,D,o),t.cropBoxMovable||(ye(i,N,e),pe(i,_,r),pe(i,D,o))}return this}},Fe=a.Cropper,He=function(){function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),!t||!X.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=se({},G,ne(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return function(e,n,i){n&&t(e.prototype,n),i&&t(e,i)}(e,[{key:"init",value:function(){var e,t=this.element,n=t.tagName.toLowerCase();if(!t[c]){if(t[c]=this,"img"===n){if(this.isImg=!0,e=t.getAttribute("src")||"",!(this.originalUrl=e))return;e=t.src}else"canvas"===n&&window.HTMLCanvasElement&&(e=t.toDataURL());this.load(e)}}},{key:"load",value:function(e){var t=this;if(e){this.url=e,this.imageData={};var n=this.element,i=this.options;if(i.rotatable||i.scalable||(i.checkOrientation=!1),i.checkOrientation&&window.ArrayBuffer)if(V.test(e))Y.test(e)?this.read(function(e){var t=e.replace(Re,""),n=atob(t),i=new ArrayBuffer(n.length),r=new Uint8Array(i);return ae(r,function(e,t){r[t]=n.charCodeAt(t)}),i}(e)):this.clone();else{var r=new XMLHttpRequest,o=this.clone.bind(this);this.reloading=!0,(this.xhr=r).onabort=o,r.onerror=o,r.ontimeout=o,r.onprogress=function(){r.getResponseHeader("content-type")!==U&&r.abort()},r.onload=function(){t.read(r.response)},r.onloadend=function(){t.reloading=!1,t.xhr=null},i.checkCrossOrigin&&Ee(e)&&n.crossOrigin&&(e=De(e)),r.open("GET",e),r.responseType="arraybuffer",r.withCredentials="use-credentials"===n.crossOrigin,r.send()}else this.clone()}}},{key:"read",value:function(e){var t=this.options,n=this.imageData,i=function(e){var t,n=new DataView(e);try{var i,r,o;if(255===n.getUint8(0)&&216===n.getUint8(1))for(var a=n.byteLength,s=2;s+1<a;){if(255===n.getUint8(s)&&225===n.getUint8(s+1)){r=s;break}s+=1}if(r){var l=r+10;if("Exif"===function(e,t,n){var i="";n+=t;for(var r=t;r<n;r+=1)i+=Ie(e.getUint8(r));return i}(n,r+4,4)){var c=n.getUint16(l);if(((i=18761===c)||19789===c)&&42===n.getUint16(l+2,i)){var d=n.getUint32(l+4,i);8<=d&&(o=l+d)}}}if(o){var u,h,f=n.getUint16(o,i);for(h=0;h<f;h+=1)if(u=o+12*h+2,274===n.getUint16(u,i)){u+=8,t=n.getUint16(u,i),n.setUint16(u,1,i);break}}}catch(e){t=1}return t}(e),r=0,o=1,a=1;if(1<i){this.url=function(e,t){for(var n=[],i=new Uint8Array(e);0<i.length;)n.push(Ie.apply(null,oe(i.subarray(0,8192)))),i=i.subarray(8192);return"data:".concat("image/jpeg",";base64,").concat(btoa(n.join("")))}(e);var s=function(e){var t=0,n=1,i=1;switch(e){case 2:n=-1;break;case 3:t=-180;break;case 4:i=-1;break;case 5:t=90,i=-1;break;case 6:t=90;break;case 7:t=90,n=-1;break;case 8:t=-90}return{rotate:t,scaleX:n,scaleY:i}}(i);r=s.rotate,o=s.scaleX,a=s.scaleY}t.rotatable&&(n.rotate=r),t.scalable&&(n.scaleX=o,n.scaleY=a),this.clone()}},{key:"clone",value:function(){var e=this.element,t=this.url,n=e.crossOrigin,i=t;this.options.checkCrossOrigin&&Ee(t)&&(n=n||"anonymous",i=De(t)),this.crossOrigin=n,this.crossOriginUrl=i;var r=document.createElement("img");n&&(r.crossOrigin=n),r.src=i||t,r.alt=e.alt||"The image to crop",(this.image=r).onload=this.start.bind(this),r.onerror=this.stop.bind(this),he(r,k),e.parentNode.insertBefore(r,e.nextSibling)}},{key:"start",value:function(){var e=this,t=this.image;function n(t,n){se(e.imageData,{naturalWidth:t,naturalHeight:n,aspectRatio:t/n}),e.sizing=!1,e.sized=!0,e.build()}t.onload=null,t.onerror=null,this.sizing=!0;var i=a.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(a.navigator.userAgent);if(!t.naturalWidth||i){var r=document.createElement("img"),o=document.body||document.documentElement;(this.sizingImage=r).onload=function(){n(r.width,r.height),i||o.removeChild(r)},r.src=t.src,i||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",o.appendChild(r))}else n(t.naturalWidth,t.naturalHeight)}},{key:"stop",value:function(){var e=this.image;e.onload=null,e.onerror=null,e.parentNode.removeChild(e),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var e=this.element,t=this.options,n=this.image,i=e.parentNode,r=document.createElement("div");r.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var o=r.querySelector(".".concat(c,"-container")),a=o.querySelector(".".concat(c,"-canvas")),s=o.querySelector(".".concat(c,"-drag-box")),l=o.querySelector(".".concat(c,"-crop-box")),u=l.querySelector(".".concat(c,"-face"));this.container=i,this.cropper=o,this.canvas=a,this.dragBox=s,this.cropBox=l,this.viewBox=o.querySelector(".".concat(c,"-view-box")),this.face=u,a.appendChild(n),he(e,S),i.insertBefore(o,e.nextSibling),this.isImg||fe(n,k),this.initPreview(),this.bind(),t.initialAspectRatio=Math.max(0,t.initialAspectRatio)||NaN,t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,he(l,S),t.guides||he(l.getElementsByClassName("".concat(c,"-dashed")),S),t.center||he(l.getElementsByClassName("".concat(c,"-center")),S),t.background&&he(o,"".concat(c,"-bg")),t.highlight||he(u,T),t.cropBoxMovable&&(he(u,D),ye(u,N,d)),t.cropBoxResizable||(he(l.getElementsByClassName("".concat(c,"-line")),S),he(l.getElementsByClassName("".concat(c,"-point")),S)),this.render(),this.ready=!0,this.setDragMode(t.dragMode),t.autoCrop&&this.crop(),this.setData(t.data),ie(t.ready)&&_e(e,z,t.ready,{once:!0}),Ce(e,z)}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),fe(this.element,S))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=Fe,e}},{key:"setDefaults",value:function(e){se(G,ne(e)&&e)}}]),e}();return se(He.prototype,Pe,Me,je,Le,Be,$e),He}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("jquery"),require("cropperjs")):"function"==typeof define&&define.amd?define(["jquery","cropperjs"],t):t((e=e||self).jQuery,e.Cropper)}(this,function(e,t){"use strict";if(e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t,e&&e.fn&&t){var n=e.fn.cropper,i="cropper";e.fn.cropper=function(n){for(var r=arguments.length,o=new Array(1<r?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];var s;return this.each(function(r,a){var l=e(a),c="destroy"===n,d=l.data(i);if(!d){if(c)return;var u=e.extend({},l.data(),e.isPlainObject(n)&&n);d=new t(a,u),l.data(i,d)}if("string"==typeof n){var h=d[n];e.isFunction(h)&&((s=h.apply(d,o))===d&&(s=void 0),c&&l.removeData(i))}}),void 0!==s?s:this},e.fn.cropper.Constructor=t,e.fn.cropper.setDefaults=t.setDefaults,e.fn.cropper.noConflict=function(){return e.fn.cropper=n,this}}});
